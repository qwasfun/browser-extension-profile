{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"V2EX Next V2Next","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":[],"orig_excludes":[],"orig_includes":[],"orig_matches":["https://v2ex.com/","https://v2ex.com/?tab=*","https://v2ex.com/t/*","https://v2ex.com/recent*","https://v2ex.com/go/*","https://v2ex.com/member/*","https://v2ex.com/changes*","https://*.v2ex.com/","https://*.v2ex.com/?tab=*","https://*.v2ex.com/t/*","https://*.v2ex.com/recent*","https://*.v2ex.com/go/*","https://*.v2ex.com/member/*","https://*.v2ex.com/changes*"],"orig_noframes":null,"orig_run_at":"document-idle","orig_run_in":[],"orig_tags":[],"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"run_in":null,"sandbox":null,"tags":[],"unwrap":null,"user_modified":1749832463660},"storage":{"ts":1749825457295,"data":{}},"enabled":true,"position":1,"file_url":"https://update.greasyfork.org/scripts/458024/V2EX%20Next%20V2Next.user.js","uuid":"8b270626-4afe-43d8-a259-d5af5740aec1","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBWMkVYIE5leHQgVjJOZXh0Ci8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMTAuMzAKLy8gQGF1dGhvciAgICAgICB6eXJvbm9uCi8vIEBkZXNjcmlwdGlvbiAgVjJOZXh0IC0g5LiA5Liq5aW955So55qEVjJFWOiEmuacrO+8geaJi+acuiBBcHAg5bey5Y+R5biDCi8vIEBsaWNlbnNlICAgICAgR1BMIExpY2Vuc2UKLy8gQGljb24gICAgICAgICBodHRwczovL3Z0b25leHQudmVyY2VsLmFwcC9mYXZpY29uLmljbwovLyBAaG9tZXBhZ2UgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS96eXJvbm9uL1YyTmV4dAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS96eXJvbm9uL1YyTmV4dAovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDU4MDI0L1YyTmV4dC51c2VyLmpzCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly92MmV4LmNvbS8KLy8gQG1hdGNoICAgICAgICBodHRwczovL3YyZXguY29tLz90YWI9KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vdjJleC5jb20vdC8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly92MmV4LmNvbS9yZWNlbnQqCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly92MmV4LmNvbS9nby8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly92MmV4LmNvbS9tZW1iZXIvKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vdjJleC5jb20vY2hhbmdlcyoKLy8gQG1hdGNoICAgICAgICBodHRwczovLyoudjJleC5jb20vCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnYyZXguY29tLz90YWI9KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi52MmV4LmNvbS90LyoKLy8gQG1hdGNoICAgICAgICBodHRwczovLyoudjJleC5jb20vcmVjZW50KgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vKi52MmV4LmNvbS9nby8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnYyZXguY29tL21lbWJlci8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnYyZXguY29tL2NoYW5nZXMqCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9qcXVlcnlAMy43LjEvZGlzdC9qcXVlcnkubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS92dWVAMy40LjE0L2Rpc3QvdnVlLmdsb2JhbC5wcm9kLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vZGF5anNAMS4xMS4xMy9kYXlqcy5taW4uanMKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDU4MDI0L1YyRVglMjBOZXh0JTIwVjJOZXh0LnVzZXIuanMKLy8gQHVwZGF0ZVVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQ1ODAyNC9WMkVYJTIwTmV4dCUyMFYyTmV4dC5tZXRhLmpzCi8vID09L1VzZXJTY3JpcHQ9PQoKCihmdW5jdGlvbiAodnVlLCBkYXlqcykgewogICd1c2Ugc3RyaWN0JzsKCiAgdmFyIFBhZ2VUeXBlID0gLyogQF9fUFVSRV9fICovICgoUGFnZVR5cGUyKSA9PiB7CiAgICBQYWdlVHlwZTJbIkhvbWUiXSA9ICJIb21lIjsKICAgIFBhZ2VUeXBlMlsiTm9kZSJdID0gIk5vZGUiOwogICAgUGFnZVR5cGUyWyJQb3N0Il0gPSAiUG9zdCI7CiAgICBQYWdlVHlwZTJbIk1lbWJlciJdID0gIk1lbWJlciI7CiAgICBQYWdlVHlwZTJbIkNoYW5nZXMiXSA9ICJDaGFuZ2VzIjsKICAgIFBhZ2VUeXBlMlsiSG90Il0gPSAiSG90IjsKICAgIHJldHVybiBQYWdlVHlwZTI7CiAgfSkoUGFnZVR5cGUgfHwge30pOwogIHZhciBDb21tZW50RGlzcGxheVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChDb21tZW50RGlzcGxheVR5cGUyKSA9PiB7CiAgICBDb21tZW50RGlzcGxheVR5cGUyW0NvbW1lbnREaXNwbGF5VHlwZTJbIkZsb29ySW5GbG9vciJdID0gMF0gPSAiRmxvb3JJbkZsb29yIjsKICAgIENvbW1lbnREaXNwbGF5VHlwZTJbQ29tbWVudERpc3BsYXlUeXBlMlsiRmxvb3JJbkZsb29yTm9DYWxsVXNlciJdID0gNF0gPSAiRmxvb3JJbkZsb29yTm9DYWxsVXNlciI7CiAgICBDb21tZW50RGlzcGxheVR5cGUyW0NvbW1lbnREaXNwbGF5VHlwZTJbIkZsb29ySW5GbG9vck5lc3RlZCJdID0gNV0gPSAiRmxvb3JJbkZsb29yTmVzdGVkIjsKICAgIENvbW1lbnREaXNwbGF5VHlwZTJbQ29tbWVudERpc3BsYXlUeXBlMlsiTGlrZSJdID0gMV0gPSAiTGlrZSI7CiAgICBDb21tZW50RGlzcGxheVR5cGUyW0NvbW1lbnREaXNwbGF5VHlwZTJbIlYyZXhPcmlnaW4iXSA9IDJdID0gIlYyZXhPcmlnaW4iOwogICAgQ29tbWVudERpc3BsYXlUeXBlMltDb21tZW50RGlzcGxheVR5cGUyWyJPbmx5T3AiXSA9IDNdID0gIk9ubHlPcCI7CiAgICBDb21tZW50RGlzcGxheVR5cGUyW0NvbW1lbnREaXNwbGF5VHlwZTJbIk5ldyJdID0gNl0gPSAiTmV3IjsKICAgIHJldHVybiBDb21tZW50RGlzcGxheVR5cGUyOwogIH0pKENvbW1lbnREaXNwbGF5VHlwZSB8fCB7fSk7CiAgY29uc3QgX3NmY19tYWluJG0gPSB7CiAgICBuYW1lOiAiVG9vbHRpcCIsCiAgICBwcm9wczogewogICAgICB0aXRsZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGlzYWJsZWQ6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzaG93OiBmYWxzZQogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgc2hvd1BvcChlMikgewogICAgICAgIGlmICh0aGlzLmRpc2FibGVkKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICghdGhpcy50aXRsZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlMi5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICBsZXQgcmVjdCA9IGUyLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgICAgIHZ1ZS5uZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB2YXIgX2EsIF9iOwogICAgICAgICAgbGV0IHRpcCA9IChfYiA9IChfYSA9IHRoaXMuJHJlZnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS50aXApID09IG51bGwgPyB2b2lkIDAgOiBfYi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgIGlmICghdGlwKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBpZiAocmVjdC50b3AgPCA1MCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLnRpcC5zdHlsZS50b3AgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0ICsgMTAgKyAicHgiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy50aXAuc3R5bGUudG9wID0gcmVjdC50b3AgLSB0aXAuaGVpZ2h0IC0gMTAgKyAicHgiOwogICAgICAgICAgfQogICAgICAgICAgbGV0IHRpcFdpZHRoID0gdGlwLndpZHRoOwogICAgICAgICAgbGV0IHJlY3RXaWR0aCA9IHJlY3Qud2lkdGg7CiAgICAgICAgICB0aGlzLiRyZWZzLnRpcC5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0IC0gKHRpcFdpZHRoIC0gcmVjdFdpZHRoKSAvIDIgKyAicHgiOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVuZGVyKCkgewogICAgICBsZXQgVm5vZGUgPSB0aGlzLiRzbG90cy5kZWZhdWx0KClbMF07CiAgICAgIHJldHVybiB2dWUuY3JlYXRlVk5vZGUodnVlLkZyYWdtZW50LCBudWxsLCBbdGhpcy5zaG93ICYmIHRoaXMudGl0bGUgJiYgdnVlLmNyZWF0ZVZOb2RlKHZ1ZS5UZWxlcG9ydCwgewogICAgICAgICJ0byI6ICJib2R5IgogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogKCkgPT4gW3Z1ZS5jcmVhdGVWTm9kZSh2dWUuVHJhbnNpdGlvbiwgewogICAgICAgICAgIm5hbWUiOiAiZmFkZSIKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBbdnVlLmNyZWF0ZVZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICJyZWYiOiAidGlwIiwKICAgICAgICAgICAgImNsYXNzTmFtZSI6ICJ0aXAiCiAgICAgICAgICB9LCBbdGhpcy50aXRsZV0pXQogICAgICAgIH0pXQogICAgICB9KSwgdnVlLmNyZWF0ZVZOb2RlKFZub2RlLCB7CiAgICAgICAgIm9uQ2xpY2siOiAoKSA9PiB0aGlzLnNob3cgPSBmYWxzZSwKICAgICAgICAib25tb3VzZWVudGVyIjogKGUyKSA9PiB0aGlzLnNob3dQb3AoZTIpLAogICAgICAgICJvbm1vdXNlbGVhdmUiOiAoKSA9PiB0aGlzLnNob3cgPSBmYWxzZQogICAgICB9LCBudWxsKV0pOwogICAgfQogIH07CiAgY29uc3QgX2V4cG9ydF9zZmMgPSAoc2ZjLCBwcm9wcykgPT4gewogICAgY29uc3QgdGFyZ2V0ID0gc2ZjLl9fdmNjT3B0cyB8fCBzZmM7CiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgcHJvcHMpIHsKICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7CiAgICB9CiAgICByZXR1cm4gdGFyZ2V0OwogIH07CiAgY29uc3QgVG9vbHRpcCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kbSwgW1siX19zY29wZUlkIiwgImRhdGEtdi1lZTY3MjQxMSJdXSk7CiAgY29uc3QgX3NmY19tYWluJGwgPSAvKiBAX19QVVJFX18gKi8gdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgICBfX25hbWU6ICJCYXNlU3dpdGNoIiwKICAgIHByb3BzOiB7CiAgICAgIG1vZGVsVmFsdWU6IHsgdHlwZTogQm9vbGVhbiB9CiAgICB9LAogICAgZW1pdHM6IFsidXBkYXRlOm1vZGVsVmFsdWUiXSwKICAgIHNldHVwKF9fcHJvcHMsIHsgZW1pdDogX19lbWl0IH0pIHsKICAgICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsic3dpdGNoIiwgeyBhY3RpdmU6IF9jdHgubW9kZWxWYWx1ZSB9XSksCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICgkZXZlbnQpID0+IF9jdHguJGVtaXQoInVwZGF0ZTptb2RlbFZhbHVlIiwgIV9jdHgubW9kZWxWYWx1ZSkpCiAgICAgICAgfSwgbnVsbCwgMik7CiAgICAgIH07CiAgICB9CiAgfSk7CiAgY29uc3QgQmFzZVN3aXRjaCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kbCwgW1siX19zY29wZUlkIiwgImRhdGEtdi1lN2MwZmJlZiJdXSk7CiAgdmFyIF9HTV9vcGVuSW5UYWIgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IHR5cGVvZiBHTV9vcGVuSW5UYWIgIT0gInVuZGVmaW5lZCIgPyBHTV9vcGVuSW5UYWIgOiB2b2lkIDApKCk7CiAgdmFyIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB0eXBlb2YgR01fcmVnaXN0ZXJNZW51Q29tbWFuZCAhPSAidW5kZWZpbmVkIiA/IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQgOiB2b2lkIDApKCk7CiAgY29uc3QgZnVuY3Rpb25zID0gewogICAgYXN5bmMgcmVmcmVzaE9uY2Uob25jZSkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBpZiAob25jZSkgewogICAgICAgICAgaWYgKHR5cGVvZiBvbmNlID09PSAic3RyaW5nIikgewogICAgICAgICAgICBsZXQgcmVzID0gb25jZS5tYXRjaCgvdmFyIG9uY2UgPSAiKFtcZF0rKSI7Lyk7CiAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzWzFdKQogICAgICAgICAgICAgIHJlc29sdmUoTnVtYmVyKHJlc1sxXSkpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGVvZiBvbmNlID09PSAibnVtYmVyIikKICAgICAgICAgICAgcmVzb2x2ZShvbmNlKTsKICAgICAgICB9CiAgICAgICAgd2luZG93LmZldGNoT25jZSgpLnRoZW4oKHIyKSA9PiB7CiAgICAgICAgICByZXNvbHZlKHIyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvbmU6ICh2YWwpID0+IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsKSksCiAgICBjcmVhdGVMaXN0KHBvc3QsIHJlcGx5TGlzdCwgd2l0aFJlZHVuZExpc3QgPSB0cnVlKSB7CiAgICAgIHBvc3QucmVwbHlMaXN0ID0gcmVwbHlMaXN0OwogICAgICBwb3N0LnRvcFJlcGx5TGlzdCA9IHRoaXMuY2xvbmUocmVwbHlMaXN0KS5maWx0ZXIoKHYpID0+IHYudGhhbmtDb3VudCA+PSB3aW5kb3cuY29uZmlnLnRvcFJlcGx5TG92ZU1pbkNvdW50KS5zb3J0KChhLCBiKSA9PiBiLnRoYW5rQ291bnQgLSBhLnRoYW5rQ291bnQpLnNsaWNlKDAsIHdpbmRvdy5jb25maWcudG9wUmVwbHlDb3VudCk7CiAgICAgIHBvc3QucmVwbHlDb3VudCA9IHJlcGx5TGlzdC5sZW5ndGg7CiAgICAgIHBvc3QuYWxsUmVwbHlVc2VycyA9IEFycmF5LmZyb20obmV3IFNldChyZXBseUxpc3QubWFwKCh2KSA9PiB2LnVzZXJuYW1lKSkpOwogICAgICBwb3N0Lm5lc3RlZFJlcGxpZXMgPSBmdW5jdGlvbnMuY3JlYXRlTmVzdGVkTGlzdCh0aGlzLmNsb25lKHJlcGx5TGlzdCksIHBvc3QudG9wUmVwbHlMaXN0KTsKICAgICAgaWYgKHdpdGhSZWR1bmRMaXN0KSB7CiAgICAgICAgcG9zdC5uZXN0ZWRSZWR1bmRSZXBsaWVzID0gZnVuY3Rpb25zLmNyZWF0ZU5lc3RlZFJlZHVuZGFudExpc3QodGhpcy5jbG9uZShyZXBseUxpc3QpLCBwb3N0LnRvcFJlcGx5TGlzdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHBvc3Q7CiAgICB9LAogICAgLy/ojrflj5bmiYDmnInlm57lpI0KICAgIGdldEFsbFJlcGx5KHJlcGxpZXNNYXAgPSBbXSkgewogICAgICByZXR1cm4gcmVwbGllc01hcC5zb3J0KChhLCBiKSA9PiBhLmkgLSBiLmkpLnJlZHVjZSgocHJlLCBpKSA9PiB7CiAgICAgICAgcHJlID0gcHJlLmNvbmNhdChpLnJlcGx5TGlzdCk7CiAgICAgICAgcmV0dXJuIHByZTsKICAgICAgfSwgW10pOwogICAgfSwKICAgIC8v5p+l5om+5a2Q5Zue5aSNCiAgICBmaW5kQ2hpbGRyZW4oaXRlbSwgZW5kTGlzdCwgYWxsLCB0b3BSZXBseUxpc3QpIHsKICAgICAgdmFyIF9hOwogICAgICBjb25zdCBmbiA9IChjaGlsZCwgZW5kTGlzdDIsIHBhcmVudCkgPT4gewogICAgICAgIGNoaWxkLmxldmVsID0gcGFyZW50LmxldmVsICsgMTsKICAgICAgICBsZXQgckluZGV4MiA9IGFsbC5maW5kSW5kZXgoKHYpID0+IHYuZmxvb3IgPT09IGNoaWxkLmZsb29yKTsKICAgICAgICBpZiAockluZGV4MiA+IC0xKSB7CiAgICAgICAgICBhbGxbckluZGV4Ml0uaXNVc2UgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLmZpbmRDaGlsZHJlbihjaGlsZCwgZW5kTGlzdDIsIGFsbCwgdG9wUmVwbHlMaXN0KSk7CiAgICAgIH07CiAgICAgIGl0ZW0uY2hpbGRyZW4gPSBbXTsKICAgICAgbGV0IGZsb29yUmVwbHlMaXN0ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5kTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGxldCBjdXJyZW50SXRlbSA9IGVuZExpc3RbaV07CiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLmlzVXNlKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLnJlcGx5Rmxvb3IgPT09IGl0ZW0uZmxvb3IpIHsKICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5yZXBseVVzZXJzLmxlbmd0aCA9PT0gMSAmJiBjdXJyZW50SXRlbS5yZXBseVVzZXJzWzBdID09PSBpdGVtLnVzZXJuYW1lKSB7CiAgICAgICAgICAgIGN1cnJlbnRJdGVtLmlzVXNlID0gdHJ1ZTsKICAgICAgICAgICAgZmxvb3JSZXBseUxpc3QucHVzaCh7IGVuZExpc3Q6IGVuZExpc3Quc2xpY2UoaSArIDEpLCBjdXJyZW50SXRlbSB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGN1cnJlbnRJdGVtLmlzV3JvbmcgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBmbG9vclJlcGx5TGlzdC5yZXZlcnNlKCkubWFwKCh7IGN1cnJlbnRJdGVtLCBlbmRMaXN0OiBlbmRMaXN0MiB9KSA9PiB7CiAgICAgICAgZm4oY3VycmVudEl0ZW0sIGVuZExpc3QyLCBpdGVtKTsKICAgICAgfSk7CiAgICAgIGxldCBuZXh0TWVJbmRleCA9IGVuZExpc3QuZmluZEluZGV4KCh2KSA9PiB7CiAgICAgICAgdmFyIF9hMjsKICAgICAgICByZXR1cm4gdi51c2VybmFtZSA9PT0gaXRlbS51c2VybmFtZSAmJiAoKF9hMiA9IHYucmVwbHlVc2VycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMlswXSkgIT09IGl0ZW0udXNlcm5hbWU7CiAgICAgIH0pOwogICAgICBsZXQgZmluZExpc3QgPSBuZXh0TWVJbmRleCA+IC0xID8gZW5kTGlzdC5zbGljZSgwLCBuZXh0TWVJbmRleCkgOiBlbmRMaXN0OwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmRMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IGN1cnJlbnRJdGVtID0gZmluZExpc3RbaV07CiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLmlzVXNlKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGN1cnJlbnRJdGVtLnJlcGx5VXNlcnMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBpZiAoY3VycmVudEl0ZW0ucmVwbHlGbG9vciAhPT0gLTEpIHsKICAgICAgICAgICAgaWYgKCgoX2EgPSBhbGxbY3VycmVudEl0ZW0ucmVwbHlGbG9vciAtIDFdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlcm5hbWUpID09PSBjdXJyZW50SXRlbS5yZXBseVVzZXJzWzBdKSB7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGxldCBlbmRMaXN0MiA9IGVuZExpc3Quc2xpY2UoaSArIDEpOwogICAgICAgICAgaWYgKGN1cnJlbnRJdGVtLnVzZXJuYW1lID09PSBpdGVtLnVzZXJuYW1lKSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5yZXBseVVzZXJzWzBdID09PSBpdGVtLnVzZXJuYW1lKSB7CiAgICAgICAgICAgICAgZm4oY3VycmVudEl0ZW0sIGVuZExpc3QyLCBpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50SXRlbS5yZXBseVVzZXJzWzBdID09PSBpdGVtLnVzZXJuYW1lKSB7CiAgICAgICAgICAgICAgZm4oY3VycmVudEl0ZW0sIGVuZExpc3QyLCBpdGVtKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoY3VycmVudEl0ZW0udXNlcm5hbWUgPT09IGl0ZW0udXNlcm5hbWUpCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgICBpdGVtLmNoaWxkcmVuID0gaXRlbS5jaGlsZHJlbi5zb3J0KChhLCBiKSA9PiBhLmZsb29yIC0gYi5mbG9vcik7CiAgICAgIGl0ZW0ucmVwbHlDb3VudCA9IGl0ZW0uY2hpbGRyZW4ucmVkdWNlKChhLCBiKSA9PiB7CiAgICAgICAgcmV0dXJuIGEgKyAoYi5jaGlsZHJlbi5sZW5ndGggPyBiLnJlcGx5Q291bnQgKyAxIDogMSk7CiAgICAgIH0sIDApOwogICAgICBsZXQgckluZGV4ID0gdG9wUmVwbHlMaXN0LmZpbmRJbmRleCgodikgPT4gdi5mbG9vciA9PT0gaXRlbS5mbG9vcik7CiAgICAgIGlmIChySW5kZXggPiAtMSkgewogICAgICAgIHRvcFJlcGx5TGlzdFtySW5kZXhdLmNoaWxkcmVuID0gaXRlbS5jaGlsZHJlbjsKICAgICAgICB0b3BSZXBseUxpc3RbckluZGV4XS5yZXBseUNvdW50ID0gaXRlbS5yZXBseUNvdW50OwogICAgICB9CiAgICAgIHJldHVybiBpdGVtOwogICAgfSwKICAgIC8v55Sf5oiQ5bWM5aWX5Zue5aSNCiAgICBjcmVhdGVOZXN0ZWRMaXN0KGFsbExpc3QgPSBbXSwgdG9wUmVwbHlMaXN0ID0gW10pIHsKICAgICAgaWYgKCFhbGxMaXN0Lmxlbmd0aCkKICAgICAgICByZXR1cm4gW107CiAgICAgIGxldCBsaXN0ID0gYWxsTGlzdDsKICAgICAgbGV0IG5lc3RlZExpc3QgPSBbXTsKICAgICAgbGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgbGV0IHN0YXJ0TGlzdCA9IGxpc3Quc2xpY2UoMCwgaW5kZXgpOwogICAgICAgIGxldCBzdGFydFJlcGx5VXNlcnMgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3RhcnRMaXN0Lm1hcCgodikgPT4gdi51c2VybmFtZSkpKTsKICAgICAgICBsZXQgZW5kTGlzdCA9IGxpc3Quc2xpY2UoaW5kZXggKyAxKTsKICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgIG5lc3RlZExpc3QucHVzaCh0aGlzLmZpbmRDaGlsZHJlbihpdGVtLCBlbmRMaXN0LCBsaXN0LCB0b3BSZXBseUxpc3QpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCFpdGVtLmlzVXNlKSB7CiAgICAgICAgICAgIGxldCBpc09uZUxldmVsUmVwbHkgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGl0ZW0ucmVwbHlVc2Vycy5sZW5ndGgpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5yZXBseVVzZXJzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIGlzT25lTGV2ZWxSZXBseSA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzT25lTGV2ZWxSZXBseSA9ICFzdGFydFJlcGx5VXNlcnMuZmluZCgodikgPT4gdiA9PT0gaXRlbS5yZXBseVVzZXJzWzBdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXNPbmVMZXZlbFJlcGx5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNPbmVMZXZlbFJlcGx5KSB7CiAgICAgICAgICAgICAgaXRlbS5sZXZlbCA9IDA7CiAgICAgICAgICAgICAgbmVzdGVkTGlzdC5wdXNoKHRoaXMuZmluZENoaWxkcmVuKGl0ZW0sIGVuZExpc3QsIGxpc3QsIHRvcFJlcGx5TGlzdCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG5lc3RlZExpc3Q7CiAgICB9LAogICAgLy/nlJ/miJDltYzlpZflhpfkvZnlm57lpI0KICAgIGNyZWF0ZU5lc3RlZFJlZHVuZGFudExpc3QoYWxsTGlzdCA9IFtdLCB0b3BSZXBseUxpc3QpIHsKICAgICAgaWYgKCFhbGxMaXN0Lmxlbmd0aCkKICAgICAgICByZXR1cm4gW107CiAgICAgIGxldCBsaXN0ID0gYWxsTGlzdDsKICAgICAgbGV0IG5lc3RlZExpc3QgPSBbXTsKICAgICAgbGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgbGV0IHN0YXJ0TGlzdCA9IGxpc3Quc2xpY2UoMCwgaW5kZXgpOwogICAgICAgIGxldCBzdGFydFJlcGx5VXNlcnMgPSBBcnJheS5mcm9tKG5ldyBTZXQoc3RhcnRMaXN0Lm1hcCgodikgPT4gdi51c2VybmFtZSkpKTsKICAgICAgICBsZXQgZW5kTGlzdCA9IGxpc3Quc2xpY2UoaW5kZXggKyAxKTsKICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgIG5lc3RlZExpc3QucHVzaCh0aGlzLmZpbmRDaGlsZHJlbihpdGVtLCBlbmRMaXN0LCBsaXN0LCB0b3BSZXBseUxpc3QpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCFpdGVtLmlzVXNlKSB7CiAgICAgICAgICAgIGxldCBpc09uZUxldmVsUmVwbHkgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGl0ZW0ucmVwbHlVc2Vycy5sZW5ndGgpIHsKICAgICAgICAgICAgICBpZiAoaXRlbS5yZXBseVVzZXJzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIGlzT25lTGV2ZWxSZXBseSA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlzT25lTGV2ZWxSZXBseSA9ICFzdGFydFJlcGx5VXNlcnMuZmluZCgodikgPT4gdiA9PT0gaXRlbS5yZXBseVVzZXJzWzBdKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXNPbmVMZXZlbFJlcGx5ID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXNPbmVMZXZlbFJlcGx5KSB7CiAgICAgICAgICAgICAgaXRlbS5sZXZlbCA9IDA7CiAgICAgICAgICAgICAgbmVzdGVkTGlzdC5wdXNoKHRoaXMuZmluZENoaWxkcmVuKGl0ZW0sIGVuZExpc3QsIGxpc3QsIHRvcFJlcGx5TGlzdCkpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgbmV3SXRlbSA9IHRoaXMuY2xvbmUoaXRlbSk7CiAgICAgICAgICAgIG5ld0l0ZW0uY2hpbGRyZW4gPSBbXTsKICAgICAgICAgICAgbmV3SXRlbS5sZXZlbCA9IDA7CiAgICAgICAgICAgIG5ld0l0ZW0uaXNEdXAgPSB0cnVlOwogICAgICAgICAgICBuZXN0ZWRMaXN0LnB1c2gobmV3SXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG5lc3RlZExpc3Q7CiAgICB9LAogICAgLy/op6PmnpBB5qCH562+CiAgICBwYXJzZUEoYSkgewogICAgICBsZXQgaHJlZiA9IGEuaHJlZjsKICAgICAgbGV0IGlkOwogICAgICBpZiAoaHJlZi5pbmNsdWRlcygiL3QvIikpIHsKICAgICAgICBpZCA9IGEucGF0aG5hbWUuc3Vic3RyaW5nKCIvdC8iLmxlbmd0aCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHsgaHJlZiwgaWQsIHRpdGxlOiBhLmlubmVyVGV4dCB9OwogICAgfSwKICAgIC8v5Zu+54mH6ZO+5o6l6L2sSW1n5qCH562+CiAgICBjaGVja1Bob3RvTGluazJJbWcoZG9tKSB7CiAgICAgIGxldCByZXBsYWNlSW1ndXIgPSB3aW5kb3cuY29uZmlnLnJlcGxhY2VJbWd1cjsKICAgICAgbGV0IGlzX2FkZCA9IGZhbHNlOwogICAgICBsZXQgcHJlZml4X2ltZyA9IHJlcGxhY2VJbWd1ciA/IERlZmF1bHRWYWwuaW1ndXJQcm94eSA6ICIiOwogICAgICBsZXQgaW1nTGlzdCA9IGRvbS5xdWVyeVNlbGVjdG9yQWxsKCJpbWciKTsKICAgICAgaW1nTGlzdC5mb3JFYWNoKChpbWcpID0+IHsKICAgICAgICBsZXQgaHJlZiA9IGltZy5zcmM7CiAgICAgICAgaWYgKGhyZWYuaW5jbHVkZXMoImltZ3VyLmNvbSIpKSB7CiAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCJvcmlnaW5VcmwiLCBpbWcuc3JjKTsKICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoIm5vdGljZSIsICLmraRpbWfmoIfnrb7nlLFWMk5leHTohJrmnKzop6PmnpAiKTsKICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoInJlZmVycmVycG9saWN5IiwgIm5vLXJlZmVycmVyIik7CiAgICAgICAgICBpZiAoaHJlZi5pbmNsdWRlcygiLnBuZyIpIHx8IGhyZWYuaW5jbHVkZXMoIi5qcGciKSB8fCBocmVmLmluY2x1ZGVzKCIuanBlZyIpIHx8IGhyZWYuaW5jbHVkZXMoIi5naWYiKSB8fCBocmVmLmluY2x1ZGVzKCIuUE5HIikgfHwgaHJlZi5pbmNsdWRlcygiLkpQRyIpIHx8IGhyZWYuaW5jbHVkZXMoIi5KUEVHIikgfHwgaHJlZi5pbmNsdWRlcygiLkdJRiIpKQogICAgICAgICAgICA7CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaHJlZiA9IGhyZWYgKyAiLnBuZyI7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIWlzX2FkZCAmJiByZXBsYWNlSW1ndXIpIHsKICAgICAgICAgICAgbGV0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJtZXRhIik7CiAgICAgICAgICAgIG1ldGEuc2V0QXR0cmlidXRlKCJuYW1lIiwgInJlZmVycmVyIik7CiAgICAgICAgICAgIG1ldGEuc2V0QXR0cmlidXRlKCJjb250ZW50IiwgIm5vLXJlZmVycmVyIik7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQobWV0YSk7CiAgICAgICAgICAgIGlzX2FkZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBpbWcuc3JjID0gcHJlZml4X2ltZyArIGhyZWY7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgbGV0IGFMaXN0ID0gZG9tLnF1ZXJ5U2VsZWN0b3JBbGwoImEiKTsKICAgICAgYUxpc3QuZm9yRWFjaCgoYSkgPT4gewogICAgICAgIGxldCBocmVmID0gYS5ocmVmOwogICAgICAgIGlmIChhLmNoaWxkcmVuLmxlbmd0aCA9PSAwICYmIGEuaW5uZXJUZXh0ID09IGhyZWYpIHsKICAgICAgICAgIGlmIChocmVmLmluY2x1ZGVzKCIucG5nIikgfHwgaHJlZi5pbmNsdWRlcygiLmpwZyIpIHx8IGhyZWYuaW5jbHVkZXMoIi5qcGVnIikgfHwgaHJlZi5pbmNsdWRlcygiLmdpZiIpIHx8IGhyZWYuaW5jbHVkZXMoIi5QTkciKSB8fCBocmVmLmluY2x1ZGVzKCIuSlBHIikgfHwgaHJlZi5pbmNsdWRlcygiLkpQRUciKSB8fCBocmVmLmluY2x1ZGVzKCIuR0lGIikpIHsKICAgICAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCJvcmlnaW5VcmwiLCBhLmhyZWYpOwogICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKCJub3RpY2UiLCAi5q2kaW1n5qCH562+55SxVjJOZXh06ISa5pys6Kej5p6QIik7CiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoInJlZmVycmVycG9saWN5IiwgIm5vLXJlZmVycmVyIik7CiAgICAgICAgICAgIGlmIChocmVmLmluY2x1ZGVzKCJpbWd1ci5jb20iKSkgewogICAgICAgICAgICAgIGlmICghaXNfYWRkICYmIHJlcGxhY2VJbWd1cikgewogICAgICAgICAgICAgICAgbGV0IG1ldGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJtZXRhIik7CiAgICAgICAgICAgICAgICBtZXRhLnNldEF0dHJpYnV0ZSgibmFtZSIsICJyZWZlcnJlciIpOwogICAgICAgICAgICAgICAgbWV0YS5zZXRBdHRyaWJ1dGUoImNvbnRlbnQiLCAibm8tcmVmZXJyZXIiKTsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQobWV0YSk7CiAgICAgICAgICAgICAgICBpc19hZGQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpbWcuc3JjID0gcHJlZml4X2ltZyArIGhyZWY7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaW1nLnNyYyA9IGhyZWY7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYS5pbm5lclRleHQgPSAiIjsKICAgICAgICAgICAgYS5hcHBlbmQoaW1nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5qOA5rWL5biW5a2Q5Zue5aSN6ZW/5bqmCiAgICBhc3luYyBjaGVja1Bvc3RSZXBsaWVzKGlkLCBuZWVkT3BlbiA9IHRydWUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGZ1bmN0aW9ucy5nZXRQb3N0RGV0YWlsQnlBcGkoaWQpOwogICAgICAgICAgICBjb25zb2xlLmxvZygnbWF4UmVwbHlDb3VudExpbWl0Jyx3aW5kb3cuY29uZmlnLm1heFJlcGx5Q291bnRMaW1pdCkKICAgICAgICBpZiAoKHJlcyA9PSBudWxsID8gdm9pZCAwIDogcmVzLnJlcGxpZXMpID4gMTAwMCkgewogICAgICAgICAgICAgICAgLy8gaWYgKChyZXMgPT0gbnVsbCA/IHZvaWQgMCA6IHJlcy5yZXBsaWVzKSA+IHdpbmRvdy5jb25maWcubWF4UmVwbHlDb3VudExpbWl0KSB7CiAgICAgICAgICBpZiAobmVlZE9wZW4pIHsKICAgICAgICAgICAgZnVuY3Rpb25zLm9wZW5OZXdUYWIoYGh0dHBzOi8vJHtsb2NhdGlvbi5vcmlnaW59L3QvJHtpZH0/cD0xJnNjcmlwdD0xYCk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTsKICAgICAgICB9CiAgICAgICAgcmVzb2x2ZShmYWxzZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFzeW5jIHNsZWVwKHRpbWUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCB0aW1lKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/miZPlvIDmlrDmoIfnrb7pobUKICAgIG9wZW5OZXdUYWIoaHJlZiwgYWN0aXZlID0gZmFsc2UpIHsKICAgICAgbGV0IGlzU2FmYXJpQnJvd3NlciA9IC9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIS9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICAgIGlmIChpc1NhZmFyaUJyb3dzZXIpIHsKICAgICAgICBsZXQgdGVtcElkID0gImFfYmxhbmtfIiArIERhdGUubm93KCk7CiAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoImhyZWYiLCBocmVmKTsKICAgICAgICBhLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwgIl9ibGFuayIpOwogICAgICAgIGEuc2V0QXR0cmlidXRlKCJpZCIsIHRlbXBJZCk7CiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoInNjcmlwdCIsICIxIik7CiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0ZW1wSWQpKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAgIH0KICAgICAgICBhLmNsaWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX0dNX29wZW5JblRhYihocmVmLCB7IGFjdGl2ZSB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGNiQ2hlY2tlcih2YWwsIGNvdW50ID0gMCkgewogICAgICBpZiAod2luZG93LmNiKSB7CiAgICAgICAgd2luZG93LmNiKHZhbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2hpbGUgKCF3aW5kb3cuY2IgJiYgY291bnQgPCAzMCkgewogICAgICAgICAgYXdhaXQgZnVuY3Rpb25zLnNsZWVwKDUwMCk7CiAgICAgICAgICBjb3VudCsrOwogICAgICAgIH0KICAgICAgICB3aW5kb3cuY2IgJiYgd2luZG93LmNiKHZhbCk7CiAgICAgIH0KICAgIH0sCiAgICAvL+WIneWni+WMluiEmuacrOiPnOWNlQogICAgaW5pdE1vbmtleU1lbnUoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuiEmuacrOiuvue9riIsICgpID0+IHsKICAgICAgICAgIGZ1bmN0aW9ucy5jYkNoZWNrZXIoeyB0eXBlOiAib3BlblNldHRpbmciIH0pOwogICAgICAgIH0pOwogICAgICAgIF9HTV9yZWdpc3Rlck1lbnVDb21tYW5kKCLku5PlupPlnLDlnYAiLCAoKSA9PiB7CiAgICAgICAgICBmdW5jdGlvbnMub3Blbk5ld1RhYih3aW5kb3cuY29uc3QuZ2l0KTsKICAgICAgICB9KTsKICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi5Y+N6aaIICYg5bu66K6uIiwgZnVuY3Rpb25zLmZlZWRiYWNrKTsKICAgICAgfSBjYXRjaCAoZTIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLml6Dms5Xkvb/nlKhUYW1wZXJtb25rZXkiKTsKICAgICAgfQogICAgfSwKICAgIGZlZWRiYWNrKCkgewogICAgICBmdW5jdGlvbnMub3Blbk5ld1RhYihEZWZhdWx0VmFsLmlzc3VlKTsKICAgIH0sCiAgICAvL+ajgOa1i+mhtemdouexu+WeiwogICAgY2hlY2tQYWdlVHlwZShhKSB7CiAgICAgIGxldCBsID0gYSB8fCB3aW5kb3cubG9jYXRpb247CiAgICAgIGxldCBkYXRhID0geyBwYWdlVHlwZTogbnVsbCwgcGFnZURhdGE6IHsgaWQ6ICIiLCBwYWdlTm86IG51bGwgfSwgdXNlcm5hbWU6ICIiIH07CiAgICAgIGlmIChsLnBhdGhuYW1lID09PSAiLyIpIHsKICAgICAgICBkYXRhLnBhZ2VUeXBlID0gUGFnZVR5cGUuSG9tZTsKICAgICAgfSBlbHNlIGlmIChsLnBhdGhuYW1lID09PSAiL2NoYW5nZXMiKSB7CiAgICAgICAgZGF0YS5wYWdlVHlwZSA9IFBhZ2VUeXBlLkNoYW5nZXM7CiAgICAgIH0gZWxzZSBpZiAobC5wYXRobmFtZSA9PT0gIi92MmhvdCIpIHsKICAgICAgICBkYXRhLnBhZ2VUeXBlID0gUGFnZVR5cGUuSG90OwogICAgICB9IGVsc2UgaWYgKGwucGF0aG5hbWUgPT09ICIvcmVjZW50IikgewogICAgICAgIGRhdGEucGFnZVR5cGUgPSBQYWdlVHlwZS5DaGFuZ2VzOwogICAgICB9IGVsc2UgaWYgKGwuaHJlZi5tYXRjaCgvLmNvbVwvP3RhYj0vKSkgewogICAgICAgIGRhdGEucGFnZVR5cGUgPSBQYWdlVHlwZS5Ib21lOwogICAgICB9IGVsc2UgaWYgKGwuaHJlZi5tYXRjaCgvLmNvbVwvZ29cLy8pKSB7CiAgICAgICAgaWYgKCFsLmhyZWYuaW5jbHVkZXMoIi9saW5rcyIpKSB7CiAgICAgICAgICBkYXRhLnBhZ2VUeXBlID0gUGFnZVR5cGUuTm9kZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAobC5ocmVmLm1hdGNoKC8uY29tXC9tZW1iZXIvKSkgewogICAgICAgIGRhdGEucGFnZVR5cGUgPSBQYWdlVHlwZS5NZW1iZXI7CiAgICAgICAgZGF0YS51c2VybmFtZSA9IGwucGF0aG5hbWUucmVwbGFjZSgiL21lbWJlci8iLCAiIikucmVwbGFjZSgiL3JlcGxpZXMiLCAiIikucmVwbGFjZSgiL3RvcGljcyIsICIiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgcjIgPSBsLmhyZWYubWF0Y2goLy5jb21cL3RcLyhbXGRdKykvKTsKICAgICAgICBpZiAocjIgJiYgIWwucGF0aG5hbWUuaW5jbHVkZXMoInJldmlldyIpICYmICFsLnBhdGhuYW1lLmluY2x1ZGVzKCJpbmZvIikpIHsKICAgICAgICAgIGRhdGEucGFnZVR5cGUgPSBQYWdlVHlwZS5Qb3N0OwogICAgICAgICAgZGF0YS5wYWdlRGF0YS5pZCA9IHIyWzFdOwogICAgICAgICAgaWYgKGwuc2VhcmNoKSB7CiAgICAgICAgICAgIGxldCBwciA9IGwuaHJlZi5tYXRjaCgvXD9wPShbXGRdKykvKTsKICAgICAgICAgICAgaWYgKHByKQogICAgICAgICAgICAgIGRhdGEucGFnZURhdGEucGFnZU5vID0gTnVtYmVyKHByWzFdKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgLy/pgJrov4dhcGnojrflj5bkuLvpopjor6bmg4UKICAgIGdldFBvc3REZXRhaWxCeUFwaShpZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHsKICAgICAgICBmZXRjaChgJHtsb2NhdGlvbi5vcmlnaW59L2FwaS90b3BpY3Mvc2hvdy5qc29uP2lkPSR7aWR9YCkudGhlbihhc3luYyAocjIpID0+IHsKICAgICAgICAgIGlmIChyMi5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgcjIuanNvbigpOwogICAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgICAgbGV0IGQyID0gcmVzWzBdOwogICAgICAgICAgICAgIHJlc29sdmUoZDIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFwcGVuZFBvc3RDb250ZW50KHJlcywgZWwpIHsKICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgIGEuaHJlZiA9IHJlcy5ocmVmOwogICAgICBhLmNsYXNzTGlzdC5hZGQoInBvc3QtY29udGVudCIpOwogICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRpdi5pbm5lckhUTUwgPSByZXMuY29udGVudF9yZW5kZXJlZDsKICAgICAgYS5hcHBlbmQoZGl2KTsKICAgICAgZWwuYXBwZW5kKGEpOwogICAgICBjb25zdCBjaGVja0hlaWdodDIgPSAoKSA9PiB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIGlmIChkaXYuY2xpZW50SGVpZ2h0IDwgMzAwKSB7CiAgICAgICAgICBhLmNsYXNzTGlzdC5hZGQoInNob3ctYWxsIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxldCBzaG93TW9yZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgc2hvd01vcmUuY2xhc3NMaXN0LmFkZCgic2hvdy1tb3JlIik7CiAgICAgICAgICBzaG93TW9yZS5pbm5lckhUTUwgPSAi5pi+56S65pu05aSaL+aUtui1tyI7CiAgICAgICAgICBzaG93TW9yZS5vbmNsaWNrID0gZnVuY3Rpb24oZTIpIHsKICAgICAgICAgICAgZTIuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGEuY2xhc3NMaXN0LnRvZ2dsZSgic2hvdy1hbGwiKTsKICAgICAgICAgIH07CiAgICAgICAgICAoX2EgPSBhLnBhcmVudE5vZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hcHBlbmQoc2hvd01vcmUpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY2hlY2tIZWlnaHQyKCk7CiAgICB9LAogICAgLy/ku47mnKzlnLDor7vlj5bphY3nva4KICAgIGluaXRDb25maWcoKSB7CiAgICAgIGxldCBjb25maWdTdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidjJleC1jb25maWciKTsKICAgICAgbGV0IGNvbmZpZ01hcCA9IHt9OwogICAgICBsZXQgY29uZmlnT2JqID0ge307CiAgICAgIGxldCB1c2VyTmFtZSA9IHdpbmRvdy51c2VyLnVzZXJuYW1lIHx8ICJkZWZhdWx0IjsKICAgICAgaWYgKGNvbmZpZ1N0cikgewogICAgICAgIGNvbmZpZ01hcCA9IEpTT04ucGFyc2UoY29uZmlnU3RyKTsKICAgICAgICBjb25maWdPYmogPSBjb25maWdNYXBbdXNlck5hbWVdOwogICAgICAgIGlmIChjb25maWdPYmopIHsKICAgICAgICAgIHdpbmRvdy5jb25maWcgPSBmdW5jdGlvbnMuZGVlcEFzc2lnbih3aW5kb3cuY29uZmlnLCBjb25maWdPYmopOwogICAgICAgIH0KICAgICAgfQogICAgICBjb25maWdNYXBbdXNlck5hbWVdID0gd2luZG93LmNvbmZpZzsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInYyZXgtY29uZmlnIiwgSlNPTi5zdHJpbmdpZnkoY29uZmlnTWFwKSk7CiAgICB9LAogICAgZGVlcEFzc2lnbiguLi5hcmcpIHsKICAgICAgbGV0IG5hbWUsIG9wdGlvbnMsIHNyYywgY29weTsKICAgICAgbGV0IGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7CiAgICAgIGxldCBpID0gMTsKICAgICAgbGV0IHRhcmdldCA9IGFyZ3VtZW50c1swXSB8fCB7fTsKICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICJvYmplY3QiKSB7CiAgICAgICAgdGFyZ2V0ID0ge307CiAgICAgIH0KICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbaV07CiAgICAgICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkgewogICAgICAgICAgZm9yIChuYW1lIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgc3JjID0gdGFyZ2V0W25hbWVdOwogICAgICAgICAgICBjb3B5ID0gb3B0aW9uc1tuYW1lXTsKICAgICAgICAgICAgaWYgKGNvcHkgJiYgdHlwZW9mIGNvcHkgPT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSB0aGlzLmRlZXBBc3NpZ24oc3JjLCBjb3B5KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjb3B5ICE9PSB2b2lkIDApIHsKICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0gPSBjb3B5OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9LAogICAgLy/nlJ/miJBkb23vvIzku45odG1s5a2X56ym5LiyCiAgICBnZW5Eb21Gcm9tSHRtbFN0cmluZyhodG1sVGV4dCkgewogICAgICBsZXQgYm9keVRleHQgPSBodG1sVGV4dC5tYXRjaCgvPGJvZHlbXj5dKj4oW1xzXFNdKz8pPFwvYm9keT4vZyk7CiAgICAgIGxldCBib2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHRtbCIpOwogICAgICBib2R5LmlubmVySFRNTCA9IGJvZHlUZXh0WzBdOwogICAgICByZXR1cm4gYm9keTsKICAgIH0sCiAgICBzdG9wRXZlbnQoZTIpIHsKICAgICAgZTIucHJldmVudERlZmF1bHQoKTsKICAgICAgZTIuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9CiAgfTsKICBjb25zdCBEZWZhdWx0UG9zdCA9IHsKICAgIGFsbFJlcGx5VXNlcnM6IFtdLAogICAgY29udGVudF9yZW5kZXJlZDogIiIsCiAgICBjcmVhdGVEYXRlOiAiIiwKICAgIGNyZWF0ZURhdGVBZ286ICIiLAogICAgbGFzdFJlcGx5RGF0ZTogIiIsCiAgICBsYXN0UmVwbHlVc2VybmFtZTogIiIsCiAgICBmcjogIiIsCiAgICByZXBseUxpc3Q6IFtdLAogICAgdG9wUmVwbHlMaXN0OiBbXSwKICAgIG5lc3RlZFJlcGxpZXM6IFtdLAogICAgbmVzdGVkUmVkdW5kUmVwbGllczogW10sCiAgICB1c2VybmFtZTogIiIsCiAgICB1cmw6ICIiLAogICAgaHJlZjogIiIsCiAgICBtZW1iZXI6IHsKICAgICAgYXZhdGFyOiAiIiwKICAgICAgdXNlcm5hbWU6ICIiCiAgICB9LAogICAgbm9kZTogewogICAgICB0aXRsZTogIiIsCiAgICAgIHVybDogIiIKICAgIH0sCiAgICBoZWFkZXJUZW1wbGF0ZTogIiIsCiAgICB0aXRsZTogIiIsCiAgICBpZDogIiIsCiAgICB0eXBlOiAicG9zdCIsCiAgICBvbmNlOiAiIiwKICAgIHJlcGx5Q291bnQ6IDAsCiAgICBjbGlja0NvdW50OiAwLAogICAgdGhhbmtDb3VudDogMCwKICAgIGNvbGxlY3RDb3VudDogMCwKICAgIGxhc3RSZWFkRmxvb3I6IDAsCiAgICBpc0Zhdm9yaXRlOiBmYWxzZSwKICAgIGlzSWdub3JlOiBmYWxzZSwKICAgIGlzVGhhbmtlZDogZmFsc2UsCiAgICBpc1JlcG9ydDogZmFsc2UsCiAgICBpbkxpc3Q6IGZhbHNlCiAgfTsKICBjb25zdCBnZXREZWZhdWx0UG9zdCA9ICh2YWwgPSB7fSkgPT4gewogICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZnVuY3Rpb25zLmNsb25lKERlZmF1bHRQb3N0KSwgdmFsKTsKICB9OwogIGNvbnN0IERlZmF1bHRVc2VyID0gewogICAgdGFnUHJlZml4OiAiLS3nlKjmiLfmoIfnrb4tLSIsCiAgICB0YWdzOiB7fSwKICAgIHRhZ3NJZDogIiIsCiAgICB1c2VybmFtZTogIiIsCiAgICBhdmF0YXI6ICIiLAogICAgcmVhZFByZWZpeDogIi0t5bey6K+75qW85bGCLS0iLAogICAgcmVhZE5vdGVJdGVtSWQ6ICIiLAogICAgcmVhZExpc3Q6IHt9LAogICAgaW1ndXJQcmVmaXg6ICItLWltZ3Vy5Zu+54mH5Yig6ZmkaGFzaC0tIiwKICAgIGltZ3VyTGlzdDoge30sCiAgICBpbWd1ck5vdGVJZDogIiIsCiAgICBjb25maWdQcmVmaXg6ICItLWNvbmZpZy0tIiwKICAgIGNvbmZpZ05vdGVJZDogIiIKICB9OwogIGNvbnN0IERlZmF1bHRWYWwgPSB7CiAgICBwYWdlVHlwZTogdm9pZCAwLAogICAgcGFnZURhdGE6IHsgcGFnZU5vOiAxIH0sCiAgICB0YXJnZXRVc2VyTmFtZTogIiIsCiAgICBjdXJyZW50VmVyc2lvbjogNSwKICAgIGNiOiBudWxsLAogICAgZ2l0OiAiaHR0cHM6Ly9naXRodWIuY29tL3p5cm9ub24vVjJOZXh0IiwKICAgIHNob3J0R2l0OiAienlyb25vbi9WMk5leHQiLAogICAgaXNzdWU6ICJodHRwczovL2dpdGh1Yi5jb20venlyb25vbi9WMk5leHQvaXNzdWVzIiwKICAgIHBjTG9nOiAiaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzQ1ODAyNC92ZXJzaW9ucyIsCiAgICBwY1NjcmlwdDogImh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80NTgwMjQiLAogICAgbW9iaWxlU2NyaXB0OiAiaHR0cHM6Ly9naXRodWIuY29tL3p5cm9ub24vVjJOZXh0L3JlbGVhc2VzIiwKICAgIGhvbWVVcmw6ICJodHRwczovL3Z0b25leHQudmVyY2VsLmFwcC8iLAogICAgaG90VXJsOiAiaHR0cHM6Ly92MmhvdGxpc3QudmVyY2VsLmFwcC9ob3QvIiwKICAgIGltZ3VyUHJveHk6ICJodHRwczovL2ltZy5ub29iem9uZS5ydS9nZXRpbWcucGhwP3VybD0iCiAgfTsKICBmdW5jdGlvbiBnZXREZWZhdWx0Q29uZmlnKHZhbCA9IHt9KSB7CiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7CiAgICAgIHNob3dUb29sYmFyOiB0cnVlLAogICAgICBhdXRvT3BlbkRldGFpbDogdHJ1ZSwKICAgICAgb3BlblRhZzogZmFsc2UsCiAgICAgIC8v57uZ55So5oi35omT5qCH562+CiAgICAgIGNsaWNrUG9zdEl0ZW1PcGVuRGV0YWlsOiB0cnVlLAogICAgICBjbG9zZVBvc3REZXRhaWxCeVNwYWNlOiB0cnVlLAogICAgICAvL+eCueWHu+epuueZveWkhOWFs+mXreivpuaDhQogICAgICBjb250ZW50QXV0b0NvbGxhcHNlOiB0cnVlLAogICAgICAvL+ato+aWh+i2hemVv+iHquWKqOaKmOWPoAogICAgICB2aWV3VHlwZTogInRhYmxlIiwKICAgICAgY29tbWVudERpc3BsYXlUeXBlOiBDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yTm9DYWxsVXNlciwKICAgICAgbmV3VGFiT3BlbjogZmFsc2UsCiAgICAgIC8v5paw5qCH562+5omT5byACiAgICAgIG5ld1RhYk9wZW5BY3RpdmU6IGZhbHNlLAogICAgICBiYXNlNjQ6IHRydWUsCiAgICAgIC8vYmFzZeWKn+iDvQogICAgICBzb3YyZXg6IGZhbHNlLAogICAgICBwb3N0V2lkdGg6ICIiLAogICAgICBzaG93VG9wUmVwbHk6IHRydWUsCiAgICAgIHRvcFJlcGx5TG92ZU1pbkNvdW50OiAzLAogICAgICB0b3BSZXBseUNvdW50OiA1LAogICAgICBhdXRvSnVtcExhc3RSZWFkRmxvb3I6IGZhbHNlLAogICAgICByZW1lbWJlckxhc3RSZWFkRmxvb3I6IGZhbHNlLAogICAgICBhdXRvU2lnbmluOiB0cnVlLAogICAgICBjdXN0b21CZ0NvbG9yOiAiIiwKICAgICAgdmVyc2lvbjogRGVmYXVsdFZhbC5jdXJyZW50VmVyc2lvbiwKICAgICAgY29sbGVjdEJyb3dzZXJOb3RpY2U6IGZhbHNlLAogICAgICBmb250U2l6ZVR5cGU6ICJub3JtYWwiLAogICAgICBub3RpY2U6IHsKICAgICAgICB1aWQ6ICIiLAogICAgICAgIHRleHQ6ICIiLAogICAgICAgIGRkV2ViaG9vazogIiIsCiAgICAgICAgdGFrZU92ZXJOb3RpY2VQYWdlOiB0cnVlLAogICAgICAgIHdoZW5OZXdOb3RpY2VHbGltbWVyOiBmYWxzZSwKICAgICAgICBsb29wQ2hlY2tOb3RpY2U6IGZhbHNlLAogICAgICAgIGxvb3BDaGVja05vdGljZUludGVydmFsOiA1CiAgICAgIH0sCiAgICAgIHJlcGxhY2VJbWd1cjogZmFsc2UsCiAgICAgIG1heFJlcGx5Q291bnRMaW1pdDogMTAwMAogICAgfSwgdmFsKTsKICB9CiAgY29uc3QgZW1vamlFbW90aWNvbnMgPSBbCiAgICB7CiAgICAgIHRpdGxlOiAi5bi455SoIiwKICAgICAgbGlzdDogWwogICAgICAgICLwn5iFIiwKICAgICAgICAi8J+YrSIsCiAgICAgICAgIvCfmIIiLAogICAgICAgICLwn6WwIiwKICAgICAgICAi8J+YsCIsCiAgICAgICAgIvCfpKEiLAogICAgICAgICLwn5GAIiwKICAgICAgICAi8J+QtCIsCiAgICAgICAgIvCfkLYiLAogICAgICAgICLinZMiLAogICAgICAgICLinaTvuI8iLAogICAgICAgICLwn5KUIiwKICAgICAgICAi4q2QIiwKICAgICAgICAi8J+UpSIsCiAgICAgICAgIvCfkqkiLAogICAgICAgICLwn5SeIiwKICAgICAgICAi4pqg77iPIiwKICAgICAgICAi8J+OgSIsCiAgICAgICAgIvCfjokiCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgIHRpdGxlOiAi5bCP6buE6IS4IiwKICAgICAgbGlzdDogWwogICAgICAgICLwn5iAIiwKICAgICAgICAi8J+YgSIsCiAgICAgICAgIvCfmIIiLAogICAgICAgICLwn6SjIiwKICAgICAgICAi8J+YhSIsCiAgICAgICAgIvCfmIoiLAogICAgICAgICLwn5iLIiwKICAgICAgICAi8J+YmCIsCiAgICAgICAgIvCfpbAiLAogICAgICAgICLwn5iXIiwKICAgICAgICAi8J+kqSIsCiAgICAgICAgIvCfpJQiLAogICAgICAgICLwn6SoIiwKICAgICAgICAi8J+YkCIsCiAgICAgICAgIvCfmJEiLAogICAgICAgICLwn5mEIiwKICAgICAgICAi8J+YjyIsCiAgICAgICAgIvCfmKoiLAogICAgICAgICLwn5irIiwKICAgICAgICAi8J+lsSIsCiAgICAgICAgIvCfmJwiLAogICAgICAgICLwn5iSIiwKICAgICAgICAi8J+YlCIsCiAgICAgICAgIvCfmKgiLAogICAgICAgICLwn5iwIiwKICAgICAgICAi8J+YsSIsCiAgICAgICAgIvCfpbUiLAogICAgICAgICLwn5ihIiwKICAgICAgICAi8J+lsyIsCiAgICAgICAgIvCfpboiLAogICAgICAgICLwn6StIiwKICAgICAgICAi8J+nkCIsCiAgICAgICAgIvCfmI4iLAogICAgICAgICLwn6STIiwKICAgICAgICAi8J+YrSIsCiAgICAgICAgIvCfpJEiLAogICAgICAgICLwn6SuIgogICAgICBdCiAgICB9LAogICAgewogICAgICB0aXRsZTogIuaJi+WKvyIsCiAgICAgIGxpc3Q6IFsKICAgICAgICAi8J+kjyIsCiAgICAgICAgIvCfkYkiLAogICAgICAgICLinIzvuI8iLAogICAgICAgICLwn5GMIiwKICAgICAgICAi8J+RjSIsCiAgICAgICAgIvCfkY4iLAogICAgICAgICLwn6SdIiwKICAgICAgICAi8J+ZjyIsCiAgICAgICAgIvCfkY8iCiAgICAgIF0KICAgIH0sCiAgICB7CiAgICAgIHRpdGxlOiAi5YW25LuWIiwKICAgICAgbGlzdDogWyLwn5SeIiwgIvCfkbsiLCAi8J+koSIsICLwn5CUIiwgIvCfkYAiLCAi8J+SqSIsICLwn5C0IiwgIvCfpoQiLCAi8J+QpyIsICLwn5C2Il0KICAgIH0KICBdOwogIGNvbnN0IGNsYXNzaWNzRW1vdGljb25zID0gWwogICAgewogICAgICBuYW1lOiAiW+eLl+WktF0iLAogICAgICBsb3c6ICJodHRwczovL2kuaW1ndXIuY29tL2lvMlNNMWgucG5nIiwKICAgICAgaGlnaDogImh0dHBzOi8vaS5pbWd1ci5jb20vMGljbDYwci5wbmciCiAgICB9LAogICAgewogICAgICBuYW1lOiAiW2RvZ2VdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9kdVdScEl1LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL0h5cGhJNmQucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvlj5fomZDmu5HnqL1dIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9JeTB0YU15LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL1BTMXB4ZDkucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvpqaxdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS84RUtadjdJLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL0FORlVYNTIucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvkuozlk4hdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9YS2oxVGt4LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL2RPZVA0WEQucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvoiJTlsY9dIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9Ddmw3ZHlOLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL0xtRVR5OU4ucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvovqPnnLznnZtdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9jUE5QWUQ1LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tLzNmU1VtaTgucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvlkIPnk5xdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9lZThMcTdILnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tLzBMMjZvZzkucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvkuI3pq5jlhbRdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9odVg2Y29YLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL043SkV1dmMucG5nIgogICAgfSwKICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vlkbXlkbVdJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9Sdm9MQWJYLnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tL3hTeklxcksucG5nJwogICAgLy8gfSwKICAgIHsKICAgICAgbmFtZTogIlvnnJ/mo5JdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS94cjFVT3oxLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL3c4WUV3OVEucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvphJnop4ZdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS91NmpscVZxLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tLzhKRk5BTnEucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvnlpHpl65dIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9GMjlwbVE2LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL0ViYlRRQVIucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvlkJDoiIxdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9Jbm1Jemw5LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL092ajU2Q2QucG5nIgogICAgfSwKICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vlmLLnrJFdJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9CYVdjc01SLnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tLzBPR2ZKdzQucG5nJwogICAgLy8gfSwKICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vmu5HnqL1dJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9sbWJOMHlJLnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tL1BjMHdIODUucG5nJwogICAgLy8gfSwKICAgIHsKICAgICAgbmFtZTogIlvnrJHnnLxdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9admVpaUd5LnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL1BJMUNmRXIucG5nIgogICAgfSwKICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vni4LmsZddJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS92ZVdpaGs2LnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tLzNMdEhkUXYucG5nJwogICAgLy8gfSwKICAgIHsKICAgICAgbmFtZTogIlvlpKflk61dIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9odTRvUjZDLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL2I0WDlYTEUucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvllrddIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9ia3czVlJyLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL3duWkwxM0wucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvoi6bnrJFdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9WVVdGa3RVLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL05BZnNwWjEucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvllp3phZJdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS8yWlpTYXBFLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL3JWYlNWYWsucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvmjYLohLhdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9rcmlyNElHLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL3FxQnFnVm0ucG5nIgogICAgfSwKICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vlkZVdJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS82Q1VpVXh2LnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tL2tnZHhSc0cucG5nJwogICAgLy8gfSwKICAgIHsKICAgICAgbmFtZTogIlvpmLTpmaldIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9NQThZcVRQLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL2U5NGpiYVQucG5nIgogICAgfSwKICAgIHsKICAgICAgbmFtZTogIlvmgJJdIiwKICAgICAgbG93OiAiaHR0cHM6Ly9pLmltZ3VyLmNvbS9uNGtXZkdCLnBuZyIsCiAgICAgIGhpZ2g6ICJodHRwczovL2kuaW1ndXIuY29tL2lNWHhOeGgucG5nIgogICAgfQogICAgLy8gewogICAgLy8gICBuYW1lOiAnW+ihsF0nLAogICAgLy8gICBsb3c6ICdodHRwczovL2kuaW1ndXIuY29tL3ZvSEZEeVEucG5nJywKICAgIC8vICAgaGlnaDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vWGZmRTZndS5wbmcnCiAgICAvLyB9LAogICAgLy8gewogICAgLy8gICBuYW1lOiAnW+WQiOWNgV0nLAogICAgLy8gICBsb3c6ICdodHRwczovL2kuaW1ndXIuY29tL0k4eDNhbmcucG5nJywKICAgIC8vICAgaGlnaDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vVDRySlZlZS5wbmcnCiAgICAvLyB9LAogICAgLy8gewogICAgLy8gICBuYW1lOiAnW+i1nl0nLAogICAgLy8gICBsb3c6ICdodHRwczovL2kuaW1ndXIuY29tL2xHNDR5VWwucG5nJywKICAgIC8vICAgaGlnaDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vQW9GNVBMcC5wbmcnCiAgICAvLyB9LAogICAgLy8gewogICAgLy8gICBuYW1lOiAnW+i4qV0nLAogICAgLy8gICBsb3c6ICdodHRwczovL2kuaW1ndXIuY29tL2NKcDB1S1oucG5nJywKICAgIC8vICAgaGlnaDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vMVhZR2ZYai5wbmcnCiAgICAvLyB9LAogICAgLy8gewogICAgLy8gICBuYW1lOiAnW+eIseW/g10nLAogICAgLy8gICBsb3c6ICdodHRwczovL2kuaW1ndXIuY29tL3NMRU5hRjUucG5nJywKICAgIC8vICAgaGlnaDogJ2h0dHBzOi8vaS5pbWd1ci5jb20vZE5ENTZvWC5wbmcnCiAgICAvLyB9LAogICAgLy8KICAgIC8vIHsKICAgIC8vICAgbmFtZTogJ1vlv4Pnoo5dJywKICAgIC8vICAgbG93OiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9BWnhKenZlLnBuZycsCiAgICAvLyAgIGhpZ2g6ICdodHRwczovL2kuaW1ndXIuY29tL1JpVXNQY2kucG5nJwogICAgLy8gfSwKICBdOwogIGNvbnN0IG1hdGNoSWNvbk5hbWUgPSAvXlthLXowLTldKygtW2EtejAtOV0rKSokLzsKICBjb25zdCBzdHJpbmdUb0ljb24gPSAodmFsdWUsIHZhbGlkYXRlLCBhbGxvd1NpbXBsZU5hbWUsIHByb3ZpZGVyID0gIiIpID0+IHsKICAgIGNvbnN0IGNvbG9uU2VwYXJhdGVkID0gdmFsdWUuc3BsaXQoIjoiKTsKICAgIGlmICh2YWx1ZS5zbGljZSgwLCAxKSA9PT0gIkAiKSB7CiAgICAgIGlmIChjb2xvblNlcGFyYXRlZC5sZW5ndGggPCAyIHx8IGNvbG9uU2VwYXJhdGVkLmxlbmd0aCA+IDMpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICBwcm92aWRlciA9IGNvbG9uU2VwYXJhdGVkLnNoaWZ0KCkuc2xpY2UoMSk7CiAgICB9CiAgICBpZiAoY29sb25TZXBhcmF0ZWQubGVuZ3RoID4gMyB8fCAhY29sb25TZXBhcmF0ZWQubGVuZ3RoKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgaWYgKGNvbG9uU2VwYXJhdGVkLmxlbmd0aCA+IDEpIHsKICAgICAgY29uc3QgbmFtZTIgPSBjb2xvblNlcGFyYXRlZC5wb3AoKTsKICAgICAgY29uc3QgcHJlZml4ID0gY29sb25TZXBhcmF0ZWQucG9wKCk7CiAgICAgIGNvbnN0IHJlc3VsdCA9IHsKICAgICAgICAvLyBBbGxvdyBwcm92aWRlciB3aXRob3V0ICdAJzogInByb3ZpZGVyOnByZWZpeDpuYW1lIgogICAgICAgIHByb3ZpZGVyOiBjb2xvblNlcGFyYXRlZC5sZW5ndGggPiAwID8gY29sb25TZXBhcmF0ZWRbMF0gOiBwcm92aWRlciwKICAgICAgICBwcmVmaXgsCiAgICAgICAgbmFtZTogbmFtZTIKICAgICAgfTsKICAgICAgcmV0dXJuIHZhbGlkYXRlICYmICF2YWxpZGF0ZUljb25OYW1lKHJlc3VsdCkgPyBudWxsIDogcmVzdWx0OwogICAgfQogICAgY29uc3QgbmFtZSA9IGNvbG9uU2VwYXJhdGVkWzBdOwogICAgY29uc3QgZGFzaFNlcGFyYXRlZCA9IG5hbWUuc3BsaXQoIi0iKTsKICAgIGlmIChkYXNoU2VwYXJhdGVkLmxlbmd0aCA+IDEpIHsKICAgICAgY29uc3QgcmVzdWx0ID0gewogICAgICAgIHByb3ZpZGVyLAogICAgICAgIHByZWZpeDogZGFzaFNlcGFyYXRlZC5zaGlmdCgpLAogICAgICAgIG5hbWU6IGRhc2hTZXBhcmF0ZWQuam9pbigiLSIpCiAgICAgIH07CiAgICAgIHJldHVybiB2YWxpZGF0ZSAmJiAhdmFsaWRhdGVJY29uTmFtZShyZXN1bHQpID8gbnVsbCA6IHJlc3VsdDsKICAgIH0KICAgIGlmIChhbGxvd1NpbXBsZU5hbWUgJiYgcHJvdmlkZXIgPT09ICIiKSB7CiAgICAgIGNvbnN0IHJlc3VsdCA9IHsKICAgICAgICBwcm92aWRlciwKICAgICAgICBwcmVmaXg6ICIiLAogICAgICAgIG5hbWUKICAgICAgfTsKICAgICAgcmV0dXJuIHZhbGlkYXRlICYmICF2YWxpZGF0ZUljb25OYW1lKHJlc3VsdCwgYWxsb3dTaW1wbGVOYW1lKSA/IG51bGwgOiByZXN1bHQ7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9OwogIGNvbnN0IHZhbGlkYXRlSWNvbk5hbWUgPSAoaWNvbiwgYWxsb3dTaW1wbGVOYW1lKSA9PiB7CiAgICBpZiAoIWljb24pIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuICEhKChpY29uLnByb3ZpZGVyID09PSAiIiB8fCBpY29uLnByb3ZpZGVyLm1hdGNoKG1hdGNoSWNvbk5hbWUpKSAmJiAoYWxsb3dTaW1wbGVOYW1lICYmIGljb24ucHJlZml4ID09PSAiIiB8fCBpY29uLnByZWZpeC5tYXRjaChtYXRjaEljb25OYW1lKSkgJiYgaWNvbi5uYW1lLm1hdGNoKG1hdGNoSWNvbk5hbWUpKTsKICB9OwogIGNvbnN0IGRlZmF1bHRJY29uRGltZW5zaW9ucyA9IE9iamVjdC5mcmVlemUoCiAgICB7CiAgICAgIGxlZnQ6IDAsCiAgICAgIHRvcDogMCwKICAgICAgd2lkdGg6IDE2LAogICAgICBoZWlnaHQ6IDE2CiAgICB9CiAgKTsKICBjb25zdCBkZWZhdWx0SWNvblRyYW5zZm9ybWF0aW9ucyA9IE9iamVjdC5mcmVlemUoewogICAgcm90YXRlOiAwLAogICAgdkZsaXA6IGZhbHNlLAogICAgaEZsaXA6IGZhbHNlCiAgfSk7CiAgY29uc3QgZGVmYXVsdEljb25Qcm9wcyA9IE9iamVjdC5mcmVlemUoewogICAgLi4uZGVmYXVsdEljb25EaW1lbnNpb25zLAogICAgLi4uZGVmYXVsdEljb25UcmFuc2Zvcm1hdGlvbnMKICB9KTsKICBjb25zdCBkZWZhdWx0RXh0ZW5kZWRJY29uUHJvcHMgPSBPYmplY3QuZnJlZXplKHsKICAgIC4uLmRlZmF1bHRJY29uUHJvcHMsCiAgICBib2R5OiAiIiwKICAgIGhpZGRlbjogZmFsc2UKICB9KTsKICBmdW5jdGlvbiBtZXJnZUljb25UcmFuc2Zvcm1hdGlvbnMob2JqMSwgb2JqMikgewogICAgY29uc3QgcmVzdWx0ID0ge307CiAgICBpZiAoIW9iajEuaEZsaXAgIT09ICFvYmoyLmhGbGlwKSB7CiAgICAgIHJlc3VsdC5oRmxpcCA9IHRydWU7CiAgICB9CiAgICBpZiAoIW9iajEudkZsaXAgIT09ICFvYmoyLnZGbGlwKSB7CiAgICAgIHJlc3VsdC52RmxpcCA9IHRydWU7CiAgICB9CiAgICBjb25zdCByb3RhdGUgPSAoKG9iajEucm90YXRlIHx8IDApICsgKG9iajIucm90YXRlIHx8IDApKSAlIDQ7CiAgICBpZiAocm90YXRlKSB7CiAgICAgIHJlc3VsdC5yb3RhdGUgPSByb3RhdGU7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0OwogIH0KICBmdW5jdGlvbiBtZXJnZUljb25EYXRhKHBhcmVudCwgY2hpbGQpIHsKICAgIGNvbnN0IHJlc3VsdCA9IG1lcmdlSWNvblRyYW5zZm9ybWF0aW9ucyhwYXJlbnQsIGNoaWxkKTsKICAgIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRFeHRlbmRlZEljb25Qcm9wcykgewogICAgICBpZiAoa2V5IGluIGRlZmF1bHRJY29uVHJhbnNmb3JtYXRpb25zKSB7CiAgICAgICAgaWYgKGtleSBpbiBwYXJlbnQgJiYgIShrZXkgaW4gcmVzdWx0KSkgewogICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWZhdWx0SWNvblRyYW5zZm9ybWF0aW9uc1trZXldOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChrZXkgaW4gY2hpbGQpIHsKICAgICAgICByZXN1bHRba2V5XSA9IGNoaWxkW2tleV07CiAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHBhcmVudCkgewogICAgICAgIHJlc3VsdFtrZXldID0gcGFyZW50W2tleV07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHQ7CiAgfQogIGZ1bmN0aW9uIGdldEljb25zVHJlZShkYXRhLCBuYW1lcykgewogICAgY29uc3QgaWNvbnMgPSBkYXRhLmljb25zOwogICAgY29uc3QgYWxpYXNlcyA9IGRhdGEuYWxpYXNlcyB8fCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGNvbnN0IHJlc29sdmVkID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmdW5jdGlvbiByZXNvbHZlKG5hbWUpIHsKICAgICAgaWYgKGljb25zW25hbWVdKSB7CiAgICAgICAgcmV0dXJuIHJlc29sdmVkW25hbWVdID0gW107CiAgICAgIH0KICAgICAgaWYgKCEobmFtZSBpbiByZXNvbHZlZCkpIHsKICAgICAgICByZXNvbHZlZFtuYW1lXSA9IG51bGw7CiAgICAgICAgY29uc3QgcGFyZW50ID0gYWxpYXNlc1tuYW1lXSAmJiBhbGlhc2VzW25hbWVdLnBhcmVudDsKICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmVudCAmJiByZXNvbHZlKHBhcmVudCk7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICByZXNvbHZlZFtuYW1lXSA9IFtwYXJlbnRdLmNvbmNhdCh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXNvbHZlZFtuYW1lXTsKICAgIH0KICAgIChuYW1lcyB8fCBPYmplY3Qua2V5cyhpY29ucykuY29uY2F0KE9iamVjdC5rZXlzKGFsaWFzZXMpKSkuZm9yRWFjaChyZXNvbHZlKTsKICAgIHJldHVybiByZXNvbHZlZDsKICB9CiAgZnVuY3Rpb24gaW50ZXJuYWxHZXRJY29uRGF0YShkYXRhLCBuYW1lLCB0cmVlKSB7CiAgICBjb25zdCBpY29ucyA9IGRhdGEuaWNvbnM7CiAgICBjb25zdCBhbGlhc2VzID0gZGF0YS5hbGlhc2VzIHx8IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgbGV0IGN1cnJlbnRQcm9wcyA9IHt9OwogICAgZnVuY3Rpb24gcGFyc2UobmFtZTIpIHsKICAgICAgY3VycmVudFByb3BzID0gbWVyZ2VJY29uRGF0YSgKICAgICAgICBpY29uc1tuYW1lMl0gfHwgYWxpYXNlc1tuYW1lMl0sCiAgICAgICAgY3VycmVudFByb3BzCiAgICAgICk7CiAgICB9CiAgICBwYXJzZShuYW1lKTsKICAgIHRyZWUuZm9yRWFjaChwYXJzZSk7CiAgICByZXR1cm4gbWVyZ2VJY29uRGF0YShkYXRhLCBjdXJyZW50UHJvcHMpOwogIH0KICBmdW5jdGlvbiBwYXJzZUljb25TZXQoZGF0YSwgY2FsbGJhY2spIHsKICAgIGNvbnN0IG5hbWVzID0gW107CiAgICBpZiAodHlwZW9mIGRhdGEgIT09ICJvYmplY3QiIHx8IHR5cGVvZiBkYXRhLmljb25zICE9PSAib2JqZWN0IikgewogICAgICByZXR1cm4gbmFtZXM7CiAgICB9CiAgICBpZiAoZGF0YS5ub3RfZm91bmQgaW5zdGFuY2VvZiBBcnJheSkgewogICAgICBkYXRhLm5vdF9mb3VuZC5mb3JFYWNoKChuYW1lKSA9PiB7CiAgICAgICAgY2FsbGJhY2sobmFtZSwgbnVsbCk7CiAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgfSk7CiAgICB9CiAgICBjb25zdCB0cmVlID0gZ2V0SWNvbnNUcmVlKGRhdGEpOwogICAgZm9yIChjb25zdCBuYW1lIGluIHRyZWUpIHsKICAgICAgY29uc3QgaXRlbSA9IHRyZWVbbmFtZV07CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgY2FsbGJhY2sobmFtZSwgaW50ZXJuYWxHZXRJY29uRGF0YShkYXRhLCBuYW1lLCBpdGVtKSk7CiAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIG5hbWVzOwogIH0KICBjb25zdCBvcHRpb25hbFByb3BlcnR5RGVmYXVsdHMgPSB7CiAgICBwcm92aWRlcjogIiIsCiAgICBhbGlhc2VzOiB7fSwKICAgIG5vdF9mb3VuZDoge30sCiAgICAuLi5kZWZhdWx0SWNvbkRpbWVuc2lvbnMKICB9OwogIGZ1bmN0aW9uIGNoZWNrT3B0aW9uYWxQcm9wcyhpdGVtLCBkZWZhdWx0cykgewogICAgZm9yIChjb25zdCBwcm9wIGluIGRlZmF1bHRzKSB7CiAgICAgIGlmIChwcm9wIGluIGl0ZW0gJiYgdHlwZW9mIGl0ZW1bcHJvcF0gIT09IHR5cGVvZiBkZWZhdWx0c1twcm9wXSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQogIGZ1bmN0aW9uIHF1aWNrbHlWYWxpZGF0ZUljb25TZXQob2JqKSB7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgb2JqID09PSBudWxsKSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogICAgY29uc3QgZGF0YSA9IG9iajsKICAgIGlmICh0eXBlb2YgZGF0YS5wcmVmaXggIT09ICJzdHJpbmciIHx8ICFvYmouaWNvbnMgfHwgdHlwZW9mIG9iai5pY29ucyAhPT0gIm9iamVjdCIpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBpZiAoIWNoZWNrT3B0aW9uYWxQcm9wcyhvYmosIG9wdGlvbmFsUHJvcGVydHlEZWZhdWx0cykpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CiAgICBjb25zdCBpY29ucyA9IGRhdGEuaWNvbnM7CiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gaWNvbnMpIHsKICAgICAgY29uc3QgaWNvbiA9IGljb25zW25hbWVdOwogICAgICBpZiAoIW5hbWUubWF0Y2gobWF0Y2hJY29uTmFtZSkgfHwgdHlwZW9mIGljb24uYm9keSAhPT0gInN0cmluZyIgfHwgIWNoZWNrT3B0aW9uYWxQcm9wcygKICAgICAgICBpY29uLAogICAgICAgIGRlZmF1bHRFeHRlbmRlZEljb25Qcm9wcwogICAgICApKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgIH0KICAgIGNvbnN0IGFsaWFzZXMgPSBkYXRhLmFsaWFzZXMgfHwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gYWxpYXNlcykgewogICAgICBjb25zdCBpY29uID0gYWxpYXNlc1tuYW1lXTsKICAgICAgY29uc3QgcGFyZW50ID0gaWNvbi5wYXJlbnQ7CiAgICAgIGlmICghbmFtZS5tYXRjaChtYXRjaEljb25OYW1lKSB8fCB0eXBlb2YgcGFyZW50ICE9PSAic3RyaW5nIiB8fCAhaWNvbnNbcGFyZW50XSAmJiAhYWxpYXNlc1twYXJlbnRdIHx8ICFjaGVja09wdGlvbmFsUHJvcHMoCiAgICAgICAgaWNvbiwKICAgICAgICBkZWZhdWx0RXh0ZW5kZWRJY29uUHJvcHMKICAgICAgKSkgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZGF0YTsKICB9CiAgY29uc3QgZGF0YVN0b3JhZ2UgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICBmdW5jdGlvbiBuZXdTdG9yYWdlKHByb3ZpZGVyLCBwcmVmaXgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb3ZpZGVyLAogICAgICBwcmVmaXgsCiAgICAgIGljb25zOiAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwKICAgICAgbWlzc2luZzogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKQogICAgfTsKICB9CiAgZnVuY3Rpb24gZ2V0U3RvcmFnZShwcm92aWRlciwgcHJlZml4KSB7CiAgICBjb25zdCBwcm92aWRlclN0b3JhZ2UgPSBkYXRhU3RvcmFnZVtwcm92aWRlcl0gfHwgKGRhdGFTdG9yYWdlW3Byb3ZpZGVyXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKTsKICAgIHJldHVybiBwcm92aWRlclN0b3JhZ2VbcHJlZml4XSB8fCAocHJvdmlkZXJTdG9yYWdlW3ByZWZpeF0gPSBuZXdTdG9yYWdlKHByb3ZpZGVyLCBwcmVmaXgpKTsKICB9CiAgZnVuY3Rpb24gYWRkSWNvblNldChzdG9yYWdlMiwgZGF0YSkgewogICAgaWYgKCFxdWlja2x5VmFsaWRhdGVJY29uU2V0KGRhdGEpKSB7CiAgICAgIHJldHVybiBbXTsKICAgIH0KICAgIHJldHVybiBwYXJzZUljb25TZXQoZGF0YSwgKG5hbWUsIGljb24pID0+IHsKICAgICAgaWYgKGljb24pIHsKICAgICAgICBzdG9yYWdlMi5pY29uc1tuYW1lXSA9IGljb247CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RvcmFnZTIubWlzc2luZy5hZGQobmFtZSk7CiAgICAgIH0KICAgIH0pOwogIH0KICBmdW5jdGlvbiBhZGRJY29uVG9TdG9yYWdlKHN0b3JhZ2UyLCBuYW1lLCBpY29uKSB7CiAgICB0cnkgewogICAgICBpZiAodHlwZW9mIGljb24uYm9keSA9PT0gInN0cmluZyIpIHsKICAgICAgICBzdG9yYWdlMi5pY29uc1tuYW1lXSA9IHsgLi4uaWNvbiB9OwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9CiAgbGV0IHNpbXBsZU5hbWVzID0gZmFsc2U7CiAgZnVuY3Rpb24gYWxsb3dTaW1wbGVOYW1lcyhhbGxvdykgewogICAgaWYgKHR5cGVvZiBhbGxvdyA9PT0gImJvb2xlYW4iKSB7CiAgICAgIHNpbXBsZU5hbWVzID0gYWxsb3c7CiAgICB9CiAgICByZXR1cm4gc2ltcGxlTmFtZXM7CiAgfQogIGZ1bmN0aW9uIGdldEljb25EYXRhKG5hbWUpIHsKICAgIGNvbnN0IGljb24gPSB0eXBlb2YgbmFtZSA9PT0gInN0cmluZyIgPyBzdHJpbmdUb0ljb24obmFtZSwgdHJ1ZSwgc2ltcGxlTmFtZXMpIDogbmFtZTsKICAgIGlmIChpY29uKSB7CiAgICAgIGNvbnN0IHN0b3JhZ2UyID0gZ2V0U3RvcmFnZShpY29uLnByb3ZpZGVyLCBpY29uLnByZWZpeCk7CiAgICAgIGNvbnN0IGljb25OYW1lID0gaWNvbi5uYW1lOwogICAgICByZXR1cm4gc3RvcmFnZTIuaWNvbnNbaWNvbk5hbWVdIHx8IChzdG9yYWdlMi5taXNzaW5nLmhhcyhpY29uTmFtZSkgPyBudWxsIDogdm9pZCAwKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gYWRkSWNvbihuYW1lLCBkYXRhKSB7CiAgICBjb25zdCBpY29uID0gc3RyaW5nVG9JY29uKG5hbWUsIHRydWUsIHNpbXBsZU5hbWVzKTsKICAgIGlmICghaWNvbikgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBjb25zdCBzdG9yYWdlMiA9IGdldFN0b3JhZ2UoaWNvbi5wcm92aWRlciwgaWNvbi5wcmVmaXgpOwogICAgcmV0dXJuIGFkZEljb25Ub1N0b3JhZ2Uoc3RvcmFnZTIsIGljb24ubmFtZSwgZGF0YSk7CiAgfQogIGZ1bmN0aW9uIGFkZENvbGxlY3Rpb24oZGF0YSwgcHJvdmlkZXIpIHsKICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gIm9iamVjdCIpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKHR5cGVvZiBwcm92aWRlciAhPT0gInN0cmluZyIpIHsKICAgICAgcHJvdmlkZXIgPSBkYXRhLnByb3ZpZGVyIHx8ICIiOwogICAgfQogICAgaWYgKHNpbXBsZU5hbWVzICYmICFwcm92aWRlciAmJiAhZGF0YS5wcmVmaXgpIHsKICAgICAgbGV0IGFkZGVkID0gZmFsc2U7CiAgICAgIGlmIChxdWlja2x5VmFsaWRhdGVJY29uU2V0KGRhdGEpKSB7CiAgICAgICAgZGF0YS5wcmVmaXggPSAiIjsKICAgICAgICBwYXJzZUljb25TZXQoZGF0YSwgKG5hbWUsIGljb24pID0+IHsKICAgICAgICAgIGlmIChpY29uICYmIGFkZEljb24obmFtZSwgaWNvbikpIHsKICAgICAgICAgICAgYWRkZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBhZGRlZDsKICAgIH0KICAgIGNvbnN0IHByZWZpeCA9IGRhdGEucHJlZml4OwogICAgaWYgKCF2YWxpZGF0ZUljb25OYW1lKHsKICAgICAgcHJvdmlkZXIsCiAgICAgIHByZWZpeCwKICAgICAgbmFtZTogImEiCiAgICB9KSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBjb25zdCBzdG9yYWdlMiA9IGdldFN0b3JhZ2UocHJvdmlkZXIsIHByZWZpeCk7CiAgICByZXR1cm4gISFhZGRJY29uU2V0KHN0b3JhZ2UyLCBkYXRhKTsKICB9CiAgY29uc3QgZGVmYXVsdEljb25TaXplQ3VzdG9taXNhdGlvbnMgPSBPYmplY3QuZnJlZXplKHsKICAgIHdpZHRoOiBudWxsLAogICAgaGVpZ2h0OiBudWxsCiAgfSk7CiAgY29uc3QgZGVmYXVsdEljb25DdXN0b21pc2F0aW9ucyA9IE9iamVjdC5mcmVlemUoewogICAgLy8gRGltZW5zaW9ucwogICAgLi4uZGVmYXVsdEljb25TaXplQ3VzdG9taXNhdGlvbnMsCiAgICAvLyBUcmFuc2Zvcm1hdGlvbnMKICAgIC4uLmRlZmF1bHRJY29uVHJhbnNmb3JtYXRpb25zCiAgfSk7CiAgY29uc3QgdW5pdHNTcGxpdCA9IC8oLT9bMC05Ll0qWzAtOV0rWzAtOS5dKikvZzsKICBjb25zdCB1bml0c1Rlc3QgPSAvXi0/WzAtOS5dKlswLTldK1swLTkuXSokL2c7CiAgZnVuY3Rpb24gY2FsY3VsYXRlU2l6ZShzaXplLCByYXRpbywgcHJlY2lzaW9uKSB7CiAgICBpZiAocmF0aW8gPT09IDEpIHsKICAgICAgcmV0dXJuIHNpemU7CiAgICB9CiAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gfHwgMTAwOwogICAgaWYgKHR5cGVvZiBzaXplID09PSAibnVtYmVyIikgewogICAgICByZXR1cm4gTWF0aC5jZWlsKHNpemUgKiByYXRpbyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb247CiAgICB9CiAgICBpZiAodHlwZW9mIHNpemUgIT09ICJzdHJpbmciKSB7CiAgICAgIHJldHVybiBzaXplOwogICAgfQogICAgY29uc3Qgb2xkUGFydHMgPSBzaXplLnNwbGl0KHVuaXRzU3BsaXQpOwogICAgaWYgKG9sZFBhcnRzID09PSBudWxsIHx8ICFvbGRQYXJ0cy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIHNpemU7CiAgICB9CiAgICBjb25zdCBuZXdQYXJ0cyA9IFtdOwogICAgbGV0IGNvZGUgPSBvbGRQYXJ0cy5zaGlmdCgpOwogICAgbGV0IGlzTnVtYmVyID0gdW5pdHNUZXN0LnRlc3QoY29kZSk7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICBpZiAoaXNOdW1iZXIpIHsKICAgICAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KGNvZGUpOwogICAgICAgIGlmIChpc05hTihudW0pKSB7CiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKGNvZGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdQYXJ0cy5wdXNoKE1hdGguY2VpbChudW0gKiByYXRpbyAqIHByZWNpc2lvbikgLyBwcmVjaXNpb24pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdQYXJ0cy5wdXNoKGNvZGUpOwogICAgICB9CiAgICAgIGNvZGUgPSBvbGRQYXJ0cy5zaGlmdCgpOwogICAgICBpZiAoY29kZSA9PT0gdm9pZCAwKSB7CiAgICAgICAgcmV0dXJuIG5ld1BhcnRzLmpvaW4oIiIpOwogICAgICB9CiAgICAgIGlzTnVtYmVyID0gIWlzTnVtYmVyOwogICAgfQogIH0KICBjb25zdCBpc1Vuc2V0S2V5d29yZCA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09ICJ1bnNldCIgfHwgdmFsdWUgPT09ICJ1bmRlZmluZWQiIHx8IHZhbHVlID09PSAibm9uZSI7CiAgZnVuY3Rpb24gaWNvblRvU1ZHKGljb24sIGN1c3RvbWlzYXRpb25zKSB7CiAgICBjb25zdCBmdWxsSWNvbiA9IHsKICAgICAgLi4uZGVmYXVsdEljb25Qcm9wcywKICAgICAgLi4uaWNvbgogICAgfTsKICAgIGNvbnN0IGZ1bGxDdXN0b21pc2F0aW9ucyA9IHsKICAgICAgLi4uZGVmYXVsdEljb25DdXN0b21pc2F0aW9ucywKICAgICAgLi4uY3VzdG9taXNhdGlvbnMKICAgIH07CiAgICBjb25zdCBib3ggPSB7CiAgICAgIGxlZnQ6IGZ1bGxJY29uLmxlZnQsCiAgICAgIHRvcDogZnVsbEljb24udG9wLAogICAgICB3aWR0aDogZnVsbEljb24ud2lkdGgsCiAgICAgIGhlaWdodDogZnVsbEljb24uaGVpZ2h0CiAgICB9OwogICAgbGV0IGJvZHkgPSBmdWxsSWNvbi5ib2R5OwogICAgW2Z1bGxJY29uLCBmdWxsQ3VzdG9taXNhdGlvbnNdLmZvckVhY2goKHByb3BzKSA9PiB7CiAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IFtdOwogICAgICBjb25zdCBoRmxpcCA9IHByb3BzLmhGbGlwOwogICAgICBjb25zdCB2RmxpcCA9IHByb3BzLnZGbGlwOwogICAgICBsZXQgcm90YXRpb24gPSBwcm9wcy5yb3RhdGU7CiAgICAgIGlmIChoRmxpcCkgewogICAgICAgIGlmICh2RmxpcCkgewogICAgICAgICAgcm90YXRpb24gKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHJhbnNmb3JtYXRpb25zLnB1c2goCiAgICAgICAgICAgICJ0cmFuc2xhdGUoIiArIChib3gud2lkdGggKyBib3gubGVmdCkudG9TdHJpbmcoKSArICIgIiArICgwIC0gYm94LnRvcCkudG9TdHJpbmcoKSArICIpIgogICAgICAgICAgKTsKICAgICAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKCJzY2FsZSgtMSAxKSIpOwogICAgICAgICAgYm94LnRvcCA9IGJveC5sZWZ0ID0gMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodkZsaXApIHsKICAgICAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaCgKICAgICAgICAgICJ0cmFuc2xhdGUoIiArICgwIC0gYm94LmxlZnQpLnRvU3RyaW5nKCkgKyAiICIgKyAoYm94LmhlaWdodCArIGJveC50b3ApLnRvU3RyaW5nKCkgKyAiKSIKICAgICAgICApOwogICAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKCJzY2FsZSgxIC0xKSIpOwogICAgICAgIGJveC50b3AgPSBib3gubGVmdCA9IDA7CiAgICAgIH0KICAgICAgbGV0IHRlbXBWYWx1ZTsKICAgICAgaWYgKHJvdGF0aW9uIDwgMCkgewogICAgICAgIHJvdGF0aW9uIC09IE1hdGguZmxvb3Iocm90YXRpb24gLyA0KSAqIDQ7CiAgICAgIH0KICAgICAgcm90YXRpb24gPSByb3RhdGlvbiAlIDQ7CiAgICAgIHN3aXRjaCAocm90YXRpb24pIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0ZW1wVmFsdWUgPSBib3guaGVpZ2h0IC8gMiArIGJveC50b3A7CiAgICAgICAgICB0cmFuc2Zvcm1hdGlvbnMudW5zaGlmdCgKICAgICAgICAgICAgInJvdGF0ZSg5MCAiICsgdGVtcFZhbHVlLnRvU3RyaW5nKCkgKyAiICIgKyB0ZW1wVmFsdWUudG9TdHJpbmcoKSArICIpIgogICAgICAgICAgKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRyYW5zZm9ybWF0aW9ucy51bnNoaWZ0KAogICAgICAgICAgICAicm90YXRlKDE4MCAiICsgKGJveC53aWR0aCAvIDIgKyBib3gubGVmdCkudG9TdHJpbmcoKSArICIgIiArIChib3guaGVpZ2h0IC8gMiArIGJveC50b3ApLnRvU3RyaW5nKCkgKyAiKSIKICAgICAgICAgICk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0ZW1wVmFsdWUgPSBib3gud2lkdGggLyAyICsgYm94LmxlZnQ7CiAgICAgICAgICB0cmFuc2Zvcm1hdGlvbnMudW5zaGlmdCgKICAgICAgICAgICAgInJvdGF0ZSgtOTAgIiArIHRlbXBWYWx1ZS50b1N0cmluZygpICsgIiAiICsgdGVtcFZhbHVlLnRvU3RyaW5nKCkgKyAiKSIKICAgICAgICAgICk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZiAocm90YXRpb24gJSAyID09PSAxKSB7CiAgICAgICAgaWYgKGJveC5sZWZ0ICE9PSBib3gudG9wKSB7CiAgICAgICAgICB0ZW1wVmFsdWUgPSBib3gubGVmdDsKICAgICAgICAgIGJveC5sZWZ0ID0gYm94LnRvcDsKICAgICAgICAgIGJveC50b3AgPSB0ZW1wVmFsdWU7CiAgICAgICAgfQogICAgICAgIGlmIChib3gud2lkdGggIT09IGJveC5oZWlnaHQpIHsKICAgICAgICAgIHRlbXBWYWx1ZSA9IGJveC53aWR0aDsKICAgICAgICAgIGJveC53aWR0aCA9IGJveC5oZWlnaHQ7CiAgICAgICAgICBib3guaGVpZ2h0ID0gdGVtcFZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodHJhbnNmb3JtYXRpb25zLmxlbmd0aCkgewogICAgICAgIGJvZHkgPSAnPGcgdHJhbnNmb3JtPSInICsgdHJhbnNmb3JtYXRpb25zLmpvaW4oIiAiKSArICciPicgKyBib2R5ICsgIjwvZz4iOwogICAgICB9CiAgICB9KTsKICAgIGNvbnN0IGN1c3RvbWlzYXRpb25zV2lkdGggPSBmdWxsQ3VzdG9taXNhdGlvbnMud2lkdGg7CiAgICBjb25zdCBjdXN0b21pc2F0aW9uc0hlaWdodCA9IGZ1bGxDdXN0b21pc2F0aW9ucy5oZWlnaHQ7CiAgICBjb25zdCBib3hXaWR0aCA9IGJveC53aWR0aDsKICAgIGNvbnN0IGJveEhlaWdodCA9IGJveC5oZWlnaHQ7CiAgICBsZXQgd2lkdGg7CiAgICBsZXQgaGVpZ2h0OwogICAgaWYgKGN1c3RvbWlzYXRpb25zV2lkdGggPT09IG51bGwpIHsKICAgICAgaGVpZ2h0ID0gY3VzdG9taXNhdGlvbnNIZWlnaHQgPT09IG51bGwgPyAiMWVtIiA6IGN1c3RvbWlzYXRpb25zSGVpZ2h0ID09PSAiYXV0byIgPyBib3hIZWlnaHQgOiBjdXN0b21pc2F0aW9uc0hlaWdodDsKICAgICAgd2lkdGggPSBjYWxjdWxhdGVTaXplKGhlaWdodCwgYm94V2lkdGggLyBib3hIZWlnaHQpOwogICAgfSBlbHNlIHsKICAgICAgd2lkdGggPSBjdXN0b21pc2F0aW9uc1dpZHRoID09PSAiYXV0byIgPyBib3hXaWR0aCA6IGN1c3RvbWlzYXRpb25zV2lkdGg7CiAgICAgIGhlaWdodCA9IGN1c3RvbWlzYXRpb25zSGVpZ2h0ID09PSBudWxsID8gY2FsY3VsYXRlU2l6ZSh3aWR0aCwgYm94SGVpZ2h0IC8gYm94V2lkdGgpIDogY3VzdG9taXNhdGlvbnNIZWlnaHQgPT09ICJhdXRvIiA/IGJveEhlaWdodCA6IGN1c3RvbWlzYXRpb25zSGVpZ2h0OwogICAgfQogICAgY29uc3QgYXR0cmlidXRlcyA9IHt9OwogICAgY29uc3Qgc2V0QXR0ciA9IChwcm9wLCB2YWx1ZSkgPT4gewogICAgICBpZiAoIWlzVW5zZXRLZXl3b3JkKHZhbHVlKSkgewogICAgICAgIGF0dHJpYnV0ZXNbcHJvcF0gPSB2YWx1ZS50b1N0cmluZygpOwogICAgICB9CiAgICB9OwogICAgc2V0QXR0cigid2lkdGgiLCB3aWR0aCk7CiAgICBzZXRBdHRyKCJoZWlnaHQiLCBoZWlnaHQpOwogICAgYXR0cmlidXRlcy52aWV3Qm94ID0gYm94LmxlZnQudG9TdHJpbmcoKSArICIgIiArIGJveC50b3AudG9TdHJpbmcoKSArICIgIiArIGJveFdpZHRoLnRvU3RyaW5nKCkgKyAiICIgKyBib3hIZWlnaHQudG9TdHJpbmcoKTsKICAgIHJldHVybiB7CiAgICAgIGF0dHJpYnV0ZXMsCiAgICAgIGJvZHkKICAgIH07CiAgfQogIGNvbnN0IHJlZ2V4ID0gL1xzaWQ9IihcUyspIi9nOwogIGNvbnN0IHJhbmRvbVByZWZpeCA9ICJJY29uaWZ5SWQiICsgRGF0ZS5ub3coKS50b1N0cmluZygxNikgKyAoTWF0aC5yYW5kb20oKSAqIDE2Nzc3MjE2IHwgMCkudG9TdHJpbmcoMTYpOwogIGxldCBjb3VudGVyID0gMDsKICBmdW5jdGlvbiByZXBsYWNlSURzKGJvZHksIHByZWZpeCA9IHJhbmRvbVByZWZpeCkgewogICAgY29uc3QgaWRzID0gW107CiAgICBsZXQgbWF0Y2g7CiAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKGJvZHkpKSB7CiAgICAgIGlkcy5wdXNoKG1hdGNoWzFdKTsKICAgIH0KICAgIGlmICghaWRzLmxlbmd0aCkgewogICAgICByZXR1cm4gYm9keTsKICAgIH0KICAgIGNvbnN0IHN1ZmZpeCA9ICJzdWZmaXgiICsgKE1hdGgucmFuZG9tKCkgKiAxNjc3NzIxNiB8IERhdGUubm93KCkpLnRvU3RyaW5nKDE2KTsKICAgIGlkcy5mb3JFYWNoKChpZCkgPT4gewogICAgICBjb25zdCBuZXdJRCA9IHR5cGVvZiBwcmVmaXggPT09ICJmdW5jdGlvbiIgPyBwcmVmaXgoaWQpIDogcHJlZml4ICsgKGNvdW50ZXIrKykudG9TdHJpbmcoKTsKICAgICAgY29uc3QgZXNjYXBlZElEID0gaWQucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICJcXCQmIik7CiAgICAgIGJvZHkgPSBib2R5LnJlcGxhY2UoCiAgICAgICAgLy8gQWxsb3dlZCBjaGFyYWN0ZXJzIGJlZm9yZSBpZDogWyM7Il0KICAgICAgICAvLyBBbGxvd2VkIGNoYXJhY3RlcnMgYWZ0ZXIgaWQ6IFspIl0sIC5bYS16XQogICAgICAgIG5ldyBSZWdFeHAoJyhbIzsiXSkoJyArIGVzY2FwZWRJRCArICcpKFsiKV18XFwuW2Etel0pJywgImciKSwKICAgICAgICAiJDEiICsgbmV3SUQgKyBzdWZmaXggKyAiJDMiCiAgICAgICk7CiAgICB9KTsKICAgIGJvZHkgPSBib2R5LnJlcGxhY2UobmV3IFJlZ0V4cChzdWZmaXgsICJnIiksICIiKTsKICAgIHJldHVybiBib2R5OwogIH0KICBjb25zdCBzdG9yYWdlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgZnVuY3Rpb24gc2V0QVBJTW9kdWxlKHByb3ZpZGVyLCBpdGVtKSB7CiAgICBzdG9yYWdlW3Byb3ZpZGVyXSA9IGl0ZW07CiAgfQogIGZ1bmN0aW9uIGdldEFQSU1vZHVsZShwcm92aWRlcikgewogICAgcmV0dXJuIHN0b3JhZ2VbcHJvdmlkZXJdIHx8IHN0b3JhZ2VbIiJdOwogIH0KICBmdW5jdGlvbiBjcmVhdGVBUElDb25maWcoc291cmNlKSB7CiAgICBsZXQgcmVzb3VyY2VzOwogICAgaWYgKHR5cGVvZiBzb3VyY2UucmVzb3VyY2VzID09PSAic3RyaW5nIikgewogICAgICByZXNvdXJjZXMgPSBbc291cmNlLnJlc291cmNlc107CiAgICB9IGVsc2UgewogICAgICByZXNvdXJjZXMgPSBzb3VyY2UucmVzb3VyY2VzOwogICAgICBpZiAoIShyZXNvdXJjZXMgaW5zdGFuY2VvZiBBcnJheSkgfHwgIXJlc291cmNlcy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgfQogICAgY29uc3QgcmVzdWx0ID0gewogICAgICAvLyBBUEkgaG9zdHMKICAgICAgcmVzb3VyY2VzLAogICAgICAvLyBSb290IHBhdGgKICAgICAgcGF0aDogc291cmNlLnBhdGggfHwgIi8iLAogICAgICAvLyBVUkwgbGVuZ3RoIGxpbWl0CiAgICAgIG1heFVSTDogc291cmNlLm1heFVSTCB8fCA1MDAsCiAgICAgIC8vIFRpbWVvdXQgYmVmb3JlIG5leHQgaG9zdCBpcyB1c2VkLgogICAgICByb3RhdGU6IHNvdXJjZS5yb3RhdGUgfHwgNzUwLAogICAgICAvLyBUaW1lb3V0IGJlZm9yZSBmYWlsaW5nIHF1ZXJ5LgogICAgICB0aW1lb3V0OiBzb3VyY2UudGltZW91dCB8fCA1ZTMsCiAgICAgIC8vIFJhbmRvbWlzZSBkZWZhdWx0IEFQSSBlbmQgcG9pbnQuCiAgICAgIHJhbmRvbTogc291cmNlLnJhbmRvbSA9PT0gdHJ1ZSwKICAgICAgLy8gU3RhcnQgaW5kZXgKICAgICAgaW5kZXg6IHNvdXJjZS5pbmRleCB8fCAwLAogICAgICAvLyBSZWNlaXZlIGRhdGEgYWZ0ZXIgdGltZSBvdXQgKHVzZWQgaWYgdGltZSBvdXQga2lja3MgaW4gZmlyc3QsIHRoZW4gQVBJIG1vZHVsZSBzZW5kcyBkYXRhIGFueXdheSkuCiAgICAgIGRhdGFBZnRlclRpbWVvdXQ6IHNvdXJjZS5kYXRhQWZ0ZXJUaW1lb3V0ICE9PSBmYWxzZQogICAgfTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIGNvbnN0IGNvbmZpZ1N0b3JhZ2UgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTsKICBjb25zdCBmYWxsQmFja0FQSVNvdXJjZXMgPSBbCiAgICAiaHR0cHM6Ly9hcGkuc2ltcGxlc3ZnLmNvbSIsCiAgICAiaHR0cHM6Ly9hcGkudW5pc3ZnLmNvbSIKICBdOwogIGNvbnN0IGZhbGxCYWNrQVBJID0gW107CiAgd2hpbGUgKGZhbGxCYWNrQVBJU291cmNlcy5sZW5ndGggPiAwKSB7CiAgICBpZiAoZmFsbEJhY2tBUElTb3VyY2VzLmxlbmd0aCA9PT0gMSkgewogICAgICBmYWxsQmFja0FQSS5wdXNoKGZhbGxCYWNrQVBJU291cmNlcy5zaGlmdCgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gMC41KSB7CiAgICAgICAgZmFsbEJhY2tBUEkucHVzaChmYWxsQmFja0FQSVNvdXJjZXMuc2hpZnQoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZmFsbEJhY2tBUEkucHVzaChmYWxsQmFja0FQSVNvdXJjZXMucG9wKCkpOwogICAgICB9CiAgICB9CiAgfQogIGNvbmZpZ1N0b3JhZ2VbIiJdID0gY3JlYXRlQVBJQ29uZmlnKHsKICAgIHJlc291cmNlczogWyJodHRwczovL2FwaS5pY29uaWZ5LmRlc2lnbiJdLmNvbmNhdChmYWxsQmFja0FQSSkKICB9KTsKICBmdW5jdGlvbiBhZGRBUElQcm92aWRlcihwcm92aWRlciwgY3VzdG9tQ29uZmlnKSB7CiAgICBjb25zdCBjb25maWcyID0gY3JlYXRlQVBJQ29uZmlnKGN1c3RvbUNvbmZpZyk7CiAgICBpZiAoY29uZmlnMiA9PT0gbnVsbCkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBjb25maWdTdG9yYWdlW3Byb3ZpZGVyXSA9IGNvbmZpZzI7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgZnVuY3Rpb24gZ2V0QVBJQ29uZmlnKHByb3ZpZGVyKSB7CiAgICByZXR1cm4gY29uZmlnU3RvcmFnZVtwcm92aWRlcl07CiAgfQogIGNvbnN0IGRldGVjdEZldGNoID0gKCkgPT4gewogICAgbGV0IGNhbGxiYWNrOwogICAgdHJ5IHsKICAgICAgY2FsbGJhY2sgPSBmZXRjaDsKICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgICAgfQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICB9CiAgfTsKICBsZXQgZmV0Y2hNb2R1bGUgPSBkZXRlY3RGZXRjaCgpOwogIGZ1bmN0aW9uIGNhbGN1bGF0ZU1heExlbmd0aChwcm92aWRlciwgcHJlZml4KSB7CiAgICBjb25zdCBjb25maWcyID0gZ2V0QVBJQ29uZmlnKHByb3ZpZGVyKTsKICAgIGlmICghY29uZmlnMikgewogICAgICByZXR1cm4gMDsKICAgIH0KICAgIGxldCByZXN1bHQ7CiAgICBpZiAoIWNvbmZpZzIubWF4VVJMKSB7CiAgICAgIHJlc3VsdCA9IDA7CiAgICB9IGVsc2UgewogICAgICBsZXQgbWF4SG9zdExlbmd0aCA9IDA7CiAgICAgIGNvbmZpZzIucmVzb3VyY2VzLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBjb25zdCBob3N0ID0gaXRlbTsKICAgICAgICBtYXhIb3N0TGVuZ3RoID0gTWF0aC5tYXgobWF4SG9zdExlbmd0aCwgaG9zdC5sZW5ndGgpOwogICAgICB9KTsKICAgICAgY29uc3QgdXJsID0gcHJlZml4ICsgIi5qc29uP2ljb25zPSI7CiAgICAgIHJlc3VsdCA9IGNvbmZpZzIubWF4VVJMIC0gbWF4SG9zdExlbmd0aCAtIGNvbmZpZzIucGF0aC5sZW5ndGggLSB1cmwubGVuZ3RoOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgZnVuY3Rpb24gc2hvdWxkQWJvcnQoc3RhdHVzKSB7CiAgICByZXR1cm4gc3RhdHVzID09PSA0MDQ7CiAgfQogIGNvbnN0IHByZXBhcmUgPSAocHJvdmlkZXIsIHByZWZpeCwgaWNvbnMpID0+IHsKICAgIGNvbnN0IHJlc3VsdHMgPSBbXTsKICAgIGNvbnN0IG1heExlbmd0aCA9IGNhbGN1bGF0ZU1heExlbmd0aChwcm92aWRlciwgcHJlZml4KTsKICAgIGNvbnN0IHR5cGUgPSAiaWNvbnMiOwogICAgbGV0IGl0ZW0gPSB7CiAgICAgIHR5cGUsCiAgICAgIHByb3ZpZGVyLAogICAgICBwcmVmaXgsCiAgICAgIGljb25zOiBbXQogICAgfTsKICAgIGxldCBsZW5ndGggPSAwOwogICAgaWNvbnMuZm9yRWFjaCgobmFtZSwgaW5kZXgpID0+IHsKICAgICAgbGVuZ3RoICs9IG5hbWUubGVuZ3RoICsgMTsKICAgICAgaWYgKGxlbmd0aCA+PSBtYXhMZW5ndGggJiYgaW5kZXggPiAwKSB7CiAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pOwogICAgICAgIGl0ZW0gPSB7CiAgICAgICAgICB0eXBlLAogICAgICAgICAgcHJvdmlkZXIsCiAgICAgICAgICBwcmVmaXgsCiAgICAgICAgICBpY29uczogW10KICAgICAgICB9OwogICAgICAgIGxlbmd0aCA9IG5hbWUubGVuZ3RoOwogICAgICB9CiAgICAgIGl0ZW0uaWNvbnMucHVzaChuYW1lKTsKICAgIH0pOwogICAgcmVzdWx0cy5wdXNoKGl0ZW0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKICBmdW5jdGlvbiBnZXRQYXRoKHByb3ZpZGVyKSB7CiAgICBpZiAodHlwZW9mIHByb3ZpZGVyID09PSAic3RyaW5nIikgewogICAgICBjb25zdCBjb25maWcyID0gZ2V0QVBJQ29uZmlnKHByb3ZpZGVyKTsKICAgICAgaWYgKGNvbmZpZzIpIHsKICAgICAgICByZXR1cm4gY29uZmlnMi5wYXRoOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gIi8iOwogIH0KICBjb25zdCBzZW5kID0gKGhvc3QsIHBhcmFtcywgY2FsbGJhY2spID0+IHsKICAgIGlmICghZmV0Y2hNb2R1bGUpIHsKICAgICAgY2FsbGJhY2soImFib3J0IiwgNDI0KTsKICAgICAgcmV0dXJuOwogICAgfQogICAgbGV0IHBhdGggPSBnZXRQYXRoKHBhcmFtcy5wcm92aWRlcik7CiAgICBzd2l0Y2ggKHBhcmFtcy50eXBlKSB7CiAgICAgIGNhc2UgImljb25zIjogewogICAgICAgIGNvbnN0IHByZWZpeCA9IHBhcmFtcy5wcmVmaXg7CiAgICAgICAgY29uc3QgaWNvbnMgPSBwYXJhbXMuaWNvbnM7CiAgICAgICAgY29uc3QgaWNvbnNMaXN0ID0gaWNvbnMuam9pbigiLCIpOwogICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoewogICAgICAgICAgaWNvbnM6IGljb25zTGlzdAogICAgICAgIH0pOwogICAgICAgIHBhdGggKz0gcHJlZml4ICsgIi5qc29uPyIgKyB1cmxQYXJhbXMudG9TdHJpbmcoKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlICJjdXN0b20iOiB7CiAgICAgICAgY29uc3QgdXJpID0gcGFyYW1zLnVyaTsKICAgICAgICBwYXRoICs9IHVyaS5zbGljZSgwLCAxKSA9PT0gIi8iID8gdXJpLnNsaWNlKDEpIDogdXJpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgY2FsbGJhY2soImFib3J0IiwgNDAwKTsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBsZXQgZGVmYXVsdEVycm9yID0gNTAzOwogICAgZmV0Y2hNb2R1bGUoaG9zdCArIHBhdGgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIGNvbnN0IHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1czsKICAgICAgaWYgKHN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICBjYWxsYmFjayhzaG91bGRBYm9ydChzdGF0dXMpID8gImFib3J0IiA6ICJuZXh0Iiwgc3RhdHVzKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgZGVmYXVsdEVycm9yID0gNTAxOwogICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwogICAgfSkudGhlbigoZGF0YSkgPT4gewogICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICJvYmplY3QiIHx8IGRhdGEgPT09IG51bGwpIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmIChkYXRhID09PSA0MDQpIHsKICAgICAgICAgICAgY2FsbGJhY2soImFib3J0IiwgZGF0YSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjaygibmV4dCIsIGRlZmF1bHRFcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNhbGxiYWNrKCJzdWNjZXNzIiwgZGF0YSk7CiAgICAgIH0pOwogICAgfSkuY2F0Y2goKCkgPT4gewogICAgICBjYWxsYmFjaygibmV4dCIsIGRlZmF1bHRFcnJvcik7CiAgICB9KTsKICB9OwogIGNvbnN0IGZldGNoQVBJTW9kdWxlID0gewogICAgcHJlcGFyZSwKICAgIHNlbmQKICB9OwogIGZ1bmN0aW9uIHNvcnRJY29ucyhpY29ucykgewogICAgY29uc3QgcmVzdWx0ID0gewogICAgICBsb2FkZWQ6IFtdLAogICAgICBtaXNzaW5nOiBbXSwKICAgICAgcGVuZGluZzogW10KICAgIH07CiAgICBjb25zdCBzdG9yYWdlMiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgaWNvbnMuc29ydCgoYSwgYikgPT4gewogICAgICBpZiAoYS5wcm92aWRlciAhPT0gYi5wcm92aWRlcikgewogICAgICAgIHJldHVybiBhLnByb3ZpZGVyLmxvY2FsZUNvbXBhcmUoYi5wcm92aWRlcik7CiAgICAgIH0KICAgICAgaWYgKGEucHJlZml4ICE9PSBiLnByZWZpeCkgewogICAgICAgIHJldHVybiBhLnByZWZpeC5sb2NhbGVDb21wYXJlKGIucHJlZml4KTsKICAgICAgfQogICAgICByZXR1cm4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTsKICAgIH0pOwogICAgbGV0IGxhc3RJY29uID0gewogICAgICBwcm92aWRlcjogIiIsCiAgICAgIHByZWZpeDogIiIsCiAgICAgIG5hbWU6ICIiCiAgICB9OwogICAgaWNvbnMuZm9yRWFjaCgoaWNvbikgPT4gewogICAgICBpZiAobGFzdEljb24ubmFtZSA9PT0gaWNvbi5uYW1lICYmIGxhc3RJY29uLnByZWZpeCA9PT0gaWNvbi5wcmVmaXggJiYgbGFzdEljb24ucHJvdmlkZXIgPT09IGljb24ucHJvdmlkZXIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGFzdEljb24gPSBpY29uOwogICAgICBjb25zdCBwcm92aWRlciA9IGljb24ucHJvdmlkZXI7CiAgICAgIGNvbnN0IHByZWZpeCA9IGljb24ucHJlZml4OwogICAgICBjb25zdCBuYW1lID0gaWNvbi5uYW1lOwogICAgICBjb25zdCBwcm92aWRlclN0b3JhZ2UgPSBzdG9yYWdlMltwcm92aWRlcl0gfHwgKHN0b3JhZ2UyW3Byb3ZpZGVyXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKTsKICAgICAgY29uc3QgbG9jYWxTdG9yYWdlMiA9IHByb3ZpZGVyU3RvcmFnZVtwcmVmaXhdIHx8IChwcm92aWRlclN0b3JhZ2VbcHJlZml4XSA9IGdldFN0b3JhZ2UocHJvdmlkZXIsIHByZWZpeCkpOwogICAgICBsZXQgbGlzdDsKICAgICAgaWYgKG5hbWUgaW4gbG9jYWxTdG9yYWdlMi5pY29ucykgewogICAgICAgIGxpc3QgPSByZXN1bHQubG9hZGVkOwogICAgICB9IGVsc2UgaWYgKHByZWZpeCA9PT0gIiIgfHwgbG9jYWxTdG9yYWdlMi5taXNzaW5nLmhhcyhuYW1lKSkgewogICAgICAgIGxpc3QgPSByZXN1bHQubWlzc2luZzsKICAgICAgfSBlbHNlIHsKICAgICAgICBsaXN0ID0gcmVzdWx0LnBlbmRpbmc7CiAgICAgIH0KICAgICAgY29uc3QgaXRlbSA9IHsKICAgICAgICBwcm92aWRlciwKICAgICAgICBwcmVmaXgsCiAgICAgICAgbmFtZQogICAgICB9OwogICAgICBsaXN0LnB1c2goaXRlbSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIGZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHN0b3JhZ2VzLCBpZCkgewogICAgc3RvcmFnZXMuZm9yRWFjaCgoc3RvcmFnZTIpID0+IHsKICAgICAgY29uc3QgaXRlbXMgPSBzdG9yYWdlMi5sb2FkZXJDYWxsYmFja3M7CiAgICAgIGlmIChpdGVtcykgewogICAgICAgIHN0b3JhZ2UyLmxvYWRlckNhbGxiYWNrcyA9IGl0ZW1zLmZpbHRlcigocm93KSA9PiByb3cuaWQgIT09IGlkKTsKICAgICAgfQogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHVwZGF0ZUNhbGxiYWNrcyhzdG9yYWdlMikgewogICAgaWYgKCFzdG9yYWdlMi5wZW5kaW5nQ2FsbGJhY2tzRmxhZykgewogICAgICBzdG9yYWdlMi5wZW5kaW5nQ2FsbGJhY2tzRmxhZyA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHN0b3JhZ2UyLnBlbmRpbmdDYWxsYmFja3NGbGFnID0gZmFsc2U7CiAgICAgICAgY29uc3QgaXRlbXMgPSBzdG9yYWdlMi5sb2FkZXJDYWxsYmFja3MgPyBzdG9yYWdlMi5sb2FkZXJDYWxsYmFja3Muc2xpY2UoMCkgOiBbXTsKICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgaGFzUGVuZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnN0IHByb3ZpZGVyID0gc3RvcmFnZTIucHJvdmlkZXI7CiAgICAgICAgY29uc3QgcHJlZml4ID0gc3RvcmFnZTIucHJlZml4OwogICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgIGNvbnN0IGljb25zID0gaXRlbS5pY29uczsKICAgICAgICAgIGNvbnN0IG9sZExlbmd0aCA9IGljb25zLnBlbmRpbmcubGVuZ3RoOwogICAgICAgICAgaWNvbnMucGVuZGluZyA9IGljb25zLnBlbmRpbmcuZmlsdGVyKChpY29uKSA9PiB7CiAgICAgICAgICAgIGlmIChpY29uLnByZWZpeCAhPT0gcHJlZml4KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgbmFtZSA9IGljb24ubmFtZTsKICAgICAgICAgICAgaWYgKHN0b3JhZ2UyLmljb25zW25hbWVdKSB7CiAgICAgICAgICAgICAgaWNvbnMubG9hZGVkLnB1c2goewogICAgICAgICAgICAgICAgcHJvdmlkZXIsCiAgICAgICAgICAgICAgICBwcmVmaXgsCiAgICAgICAgICAgICAgICBuYW1lCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RvcmFnZTIubWlzc2luZy5oYXMobmFtZSkpIHsKICAgICAgICAgICAgICBpY29ucy5taXNzaW5nLnB1c2goewogICAgICAgICAgICAgICAgcHJvdmlkZXIsCiAgICAgICAgICAgICAgICBwcmVmaXgsCiAgICAgICAgICAgICAgICBuYW1lCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaGFzUGVuZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoaWNvbnMucGVuZGluZy5sZW5ndGggIT09IG9sZExlbmd0aCkgewogICAgICAgICAgICBpZiAoIWhhc1BlbmRpbmcpIHsKICAgICAgICAgICAgICByZW1vdmVDYWxsYmFjayhbc3RvcmFnZTJdLCBpdGVtLmlkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpdGVtLmNhbGxiYWNrKAogICAgICAgICAgICAgIGljb25zLmxvYWRlZC5zbGljZSgwKSwKICAgICAgICAgICAgICBpY29ucy5taXNzaW5nLnNsaWNlKDApLAogICAgICAgICAgICAgIGljb25zLnBlbmRpbmcuc2xpY2UoMCksCiAgICAgICAgICAgICAgaXRlbS5hYm9ydAogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9CiAgbGV0IGlkQ291bnRlciA9IDA7CiAgZnVuY3Rpb24gc3RvcmVDYWxsYmFjayhjYWxsYmFjaywgaWNvbnMsIHBlbmRpbmdTb3VyY2VzKSB7CiAgICBjb25zdCBpZCA9IGlkQ291bnRlcisrOwogICAgY29uc3QgYWJvcnQgPSByZW1vdmVDYWxsYmFjay5iaW5kKG51bGwsIHBlbmRpbmdTb3VyY2VzLCBpZCk7CiAgICBpZiAoIWljb25zLnBlbmRpbmcubGVuZ3RoKSB7CiAgICAgIHJldHVybiBhYm9ydDsKICAgIH0KICAgIGNvbnN0IGl0ZW0gPSB7CiAgICAgIGlkLAogICAgICBpY29ucywKICAgICAgY2FsbGJhY2ssCiAgICAgIGFib3J0CiAgICB9OwogICAgcGVuZGluZ1NvdXJjZXMuZm9yRWFjaCgoc3RvcmFnZTIpID0+IHsKICAgICAgKHN0b3JhZ2UyLmxvYWRlckNhbGxiYWNrcyB8fCAoc3RvcmFnZTIubG9hZGVyQ2FsbGJhY2tzID0gW10pKS5wdXNoKGl0ZW0pOwogICAgfSk7CiAgICByZXR1cm4gYWJvcnQ7CiAgfQogIGZ1bmN0aW9uIGxpc3RUb0ljb25zKGxpc3QsIHZhbGlkYXRlID0gdHJ1ZSwgc2ltcGxlTmFtZXMyID0gZmFsc2UpIHsKICAgIGNvbnN0IHJlc3VsdCA9IFtdOwogICAgbGlzdC5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgIGNvbnN0IGljb24gPSB0eXBlb2YgaXRlbSA9PT0gInN0cmluZyIgPyBzdHJpbmdUb0ljb24oaXRlbSwgdmFsaWRhdGUsIHNpbXBsZU5hbWVzMikgOiBpdGVtOwogICAgICBpZiAoaWNvbikgewogICAgICAgIHJlc3VsdC5wdXNoKGljb24pOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfQogIHZhciBkZWZhdWx0Q29uZmlnID0gewogICAgcmVzb3VyY2VzOiBbXSwKICAgIGluZGV4OiAwLAogICAgdGltZW91dDogMmUzLAogICAgcm90YXRlOiA3NTAsCiAgICByYW5kb206IGZhbHNlLAogICAgZGF0YUFmdGVyVGltZW91dDogZmFsc2UKICB9OwogIGZ1bmN0aW9uIHNlbmRRdWVyeShjb25maWcyLCBwYXlsb2FkLCBxdWVyeSwgZG9uZSkgewogICAgY29uc3QgcmVzb3VyY2VzQ291bnQgPSBjb25maWcyLnJlc291cmNlcy5sZW5ndGg7CiAgICBjb25zdCBzdGFydEluZGV4ID0gY29uZmlnMi5yYW5kb20gPyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByZXNvdXJjZXNDb3VudCkgOiBjb25maWcyLmluZGV4OwogICAgbGV0IHJlc291cmNlczsKICAgIGlmIChjb25maWcyLnJhbmRvbSkgewogICAgICBsZXQgbGlzdCA9IGNvbmZpZzIucmVzb3VyY2VzLnNsaWNlKDApOwogICAgICByZXNvdXJjZXMgPSBbXTsKICAgICAgd2hpbGUgKGxpc3QubGVuZ3RoID4gMSkgewogICAgICAgIGNvbnN0IG5leHRJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxpc3QubGVuZ3RoKTsKICAgICAgICByZXNvdXJjZXMucHVzaChsaXN0W25leHRJbmRleF0pOwogICAgICAgIGxpc3QgPSBsaXN0LnNsaWNlKDAsIG5leHRJbmRleCkuY29uY2F0KGxpc3Quc2xpY2UobmV4dEluZGV4ICsgMSkpOwogICAgICB9CiAgICAgIHJlc291cmNlcyA9IHJlc291cmNlcy5jb25jYXQobGlzdCk7CiAgICB9IGVsc2UgewogICAgICByZXNvdXJjZXMgPSBjb25maWcyLnJlc291cmNlcy5zbGljZShzdGFydEluZGV4KS5jb25jYXQoY29uZmlnMi5yZXNvdXJjZXMuc2xpY2UoMCwgc3RhcnRJbmRleCkpOwogICAgfQogICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTsKICAgIGxldCBzdGF0dXMgPSAicGVuZGluZyI7CiAgICBsZXQgcXVlcmllc1NlbnQgPSAwOwogICAgbGV0IGxhc3RFcnJvcjsKICAgIGxldCB0aW1lciA9IG51bGw7CiAgICBsZXQgcXVldWUgPSBbXTsKICAgIGxldCBkb25lQ2FsbGJhY2tzID0gW107CiAgICBpZiAodHlwZW9mIGRvbmUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgZG9uZUNhbGxiYWNrcy5wdXNoKGRvbmUpOwogICAgfQogICAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHsKICAgICAgaWYgKHRpbWVyKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGFib3J0KCkgewogICAgICBpZiAoc3RhdHVzID09PSAicGVuZGluZyIpIHsKICAgICAgICBzdGF0dXMgPSAiYWJvcnRlZCI7CiAgICAgIH0KICAgICAgcmVzZXRUaW1lcigpOwogICAgICBxdWV1ZS5mb3JFYWNoKChpdGVtKSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09PSAicGVuZGluZyIpIHsKICAgICAgICAgIGl0ZW0uc3RhdHVzID0gImFib3J0ZWQiOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHF1ZXVlID0gW107CiAgICB9CiAgICBmdW5jdGlvbiBzdWJzY3JpYmUoY2FsbGJhY2ssIG92ZXJ3cml0ZSkgewogICAgICBpZiAob3ZlcndyaXRlKSB7CiAgICAgICAgZG9uZUNhbGxiYWNrcyA9IFtdOwogICAgICB9CiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICBkb25lQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBnZXRRdWVyeVN0YXR1cygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdGFydFRpbWUsCiAgICAgICAgcGF5bG9hZCwKICAgICAgICBzdGF0dXMsCiAgICAgICAgcXVlcmllc1NlbnQsCiAgICAgICAgcXVlcmllc1BlbmRpbmc6IHF1ZXVlLmxlbmd0aCwKICAgICAgICBzdWJzY3JpYmUsCiAgICAgICAgYWJvcnQKICAgICAgfTsKICAgIH0KICAgIGZ1bmN0aW9uIGZhaWxRdWVyeSgpIHsKICAgICAgc3RhdHVzID0gImZhaWxlZCI7CiAgICAgIGRvbmVDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHsKICAgICAgICBjYWxsYmFjayh2b2lkIDAsIGxhc3RFcnJvcik7CiAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gY2xlYXJRdWV1ZSgpIHsKICAgICAgcXVldWUuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gInBlbmRpbmciKSB7CiAgICAgICAgICBpdGVtLnN0YXR1cyA9ICJhYm9ydGVkIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBxdWV1ZSA9IFtdOwogICAgfQogICAgZnVuY3Rpb24gbW9kdWxlUmVzcG9uc2UoaXRlbSwgcmVzcG9uc2UsIGRhdGEpIHsKICAgICAgY29uc3QgaXNFcnJvciA9IHJlc3BvbnNlICE9PSAic3VjY2VzcyI7CiAgICAgIHF1ZXVlID0gcXVldWUuZmlsdGVyKChxdWV1ZWQpID0+IHF1ZXVlZCAhPT0gaXRlbSk7CiAgICAgIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgICAgY2FzZSAicGVuZGluZyI6CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmYWlsZWQiOgogICAgICAgICAgaWYgKGlzRXJyb3IgfHwgIWNvbmZpZzIuZGF0YUFmdGVyVGltZW91dCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChyZXNwb25zZSA9PT0gImFib3J0IikgewogICAgICAgIGxhc3RFcnJvciA9IGRhdGE7CiAgICAgICAgZmFpbFF1ZXJ5KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmIChpc0Vycm9yKSB7CiAgICAgICAgbGFzdEVycm9yID0gZGF0YTsKICAgICAgICBpZiAoIXF1ZXVlLmxlbmd0aCkgewogICAgICAgICAgaWYgKCFyZXNvdXJjZXMubGVuZ3RoKSB7CiAgICAgICAgICAgIGZhaWxRdWVyeSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXhlY05leHQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJlc2V0VGltZXIoKTsKICAgICAgY2xlYXJRdWV1ZSgpOwogICAgICBpZiAoIWNvbmZpZzIucmFuZG9tKSB7CiAgICAgICAgY29uc3QgaW5kZXggPSBjb25maWcyLnJlc291cmNlcy5pbmRleE9mKGl0ZW0ucmVzb3VyY2UpOwogICAgICAgIGlmIChpbmRleCAhPT0gLTEgJiYgaW5kZXggIT09IGNvbmZpZzIuaW5kZXgpIHsKICAgICAgICAgIGNvbmZpZzIuaW5kZXggPSBpbmRleDsKICAgICAgICB9CiAgICAgIH0KICAgICAgc3RhdHVzID0gImNvbXBsZXRlZCI7CiAgICAgIGRvbmVDYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IHsKICAgICAgICBjYWxsYmFjayhkYXRhKTsKICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiBleGVjTmV4dCgpIHsKICAgICAgaWYgKHN0YXR1cyAhPT0gInBlbmRpbmciKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJlc2V0VGltZXIoKTsKICAgICAgY29uc3QgcmVzb3VyY2UgPSByZXNvdXJjZXMuc2hpZnQoKTsKICAgICAgaWYgKHJlc291cmNlID09PSB2b2lkIDApIHsKICAgICAgICBpZiAocXVldWUubGVuZ3RoKSB7CiAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICByZXNldFRpbWVyKCk7CiAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICJwZW5kaW5nIikgewogICAgICAgICAgICAgIGNsZWFyUXVldWUoKTsKICAgICAgICAgICAgICBmYWlsUXVlcnkoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgY29uZmlnMi50aW1lb3V0KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZmFpbFF1ZXJ5KCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IGl0ZW0gPSB7CiAgICAgICAgc3RhdHVzOiAicGVuZGluZyIsCiAgICAgICAgcmVzb3VyY2UsCiAgICAgICAgY2FsbGJhY2s6IChzdGF0dXMyLCBkYXRhKSA9PiB7CiAgICAgICAgICBtb2R1bGVSZXNwb25zZShpdGVtLCBzdGF0dXMyLCBkYXRhKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHF1ZXVlLnB1c2goaXRlbSk7CiAgICAgIHF1ZXJpZXNTZW50Kys7CiAgICAgIHRpbWVyID0gc2V0VGltZW91dChleGVjTmV4dCwgY29uZmlnMi5yb3RhdGUpOwogICAgICBxdWVyeShyZXNvdXJjZSwgcGF5bG9hZCwgaXRlbS5jYWxsYmFjayk7CiAgICB9CiAgICBzZXRUaW1lb3V0KGV4ZWNOZXh0KTsKICAgIHJldHVybiBnZXRRdWVyeVN0YXR1czsKICB9CiAgZnVuY3Rpb24gaW5pdFJlZHVuZGFuY3koY2ZnKSB7CiAgICBjb25zdCBjb25maWcyID0gewogICAgICAuLi5kZWZhdWx0Q29uZmlnLAogICAgICAuLi5jZmcKICAgIH07CiAgICBsZXQgcXVlcmllcyA9IFtdOwogICAgZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgICAgcXVlcmllcyA9IHF1ZXJpZXMuZmlsdGVyKChpdGVtKSA9PiBpdGVtKCkuc3RhdHVzID09PSAicGVuZGluZyIpOwogICAgfQogICAgZnVuY3Rpb24gcXVlcnkocGF5bG9hZCwgcXVlcnlDYWxsYmFjaywgZG9uZUNhbGxiYWNrKSB7CiAgICAgIGNvbnN0IHF1ZXJ5MiA9IHNlbmRRdWVyeSgKICAgICAgICBjb25maWcyLAogICAgICAgIHBheWxvYWQsCiAgICAgICAgcXVlcnlDYWxsYmFjaywKICAgICAgICAoZGF0YSwgZXJyb3IpID0+IHsKICAgICAgICAgIGNsZWFudXAoKTsKICAgICAgICAgIGlmIChkb25lQ2FsbGJhY2spIHsKICAgICAgICAgICAgZG9uZUNhbGxiYWNrKGRhdGEsIGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICk7CiAgICAgIHF1ZXJpZXMucHVzaChxdWVyeTIpOwogICAgICByZXR1cm4gcXVlcnkyOwogICAgfQogICAgZnVuY3Rpb24gZmluZChjYWxsYmFjaykgewogICAgICByZXR1cm4gcXVlcmllcy5maW5kKCh2YWx1ZSkgPT4gewogICAgICAgIHJldHVybiBjYWxsYmFjayh2YWx1ZSk7CiAgICAgIH0pIHx8IG51bGw7CiAgICB9CiAgICBjb25zdCBpbnN0YW5jZSA9IHsKICAgICAgcXVlcnksCiAgICAgIGZpbmQsCiAgICAgIHNldEluZGV4OiAoaW5kZXgpID0+IHsKICAgICAgICBjb25maWcyLmluZGV4ID0gaW5kZXg7CiAgICAgIH0sCiAgICAgIGdldEluZGV4OiAoKSA9PiBjb25maWcyLmluZGV4LAogICAgICBjbGVhbnVwCiAgICB9OwogICAgcmV0dXJuIGluc3RhbmNlOwogIH0KICBmdW5jdGlvbiBlbXB0eUNhbGxiYWNrJDEoKSB7CiAgfQogIGNvbnN0IHJlZHVuZGFuY3lDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpOwogIGZ1bmN0aW9uIGdldFJlZHVuZGFuY3lDYWNoZShwcm92aWRlcikgewogICAgaWYgKCFyZWR1bmRhbmN5Q2FjaGVbcHJvdmlkZXJdKSB7CiAgICAgIGNvbnN0IGNvbmZpZzIgPSBnZXRBUElDb25maWcocHJvdmlkZXIpOwogICAgICBpZiAoIWNvbmZpZzIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgcmVkdW5kYW5jeSA9IGluaXRSZWR1bmRhbmN5KGNvbmZpZzIpOwogICAgICBjb25zdCBjYWNoZWRSZXVuZGFuY3kgPSB7CiAgICAgICAgY29uZmlnOiBjb25maWcyLAogICAgICAgIHJlZHVuZGFuY3kKICAgICAgfTsKICAgICAgcmVkdW5kYW5jeUNhY2hlW3Byb3ZpZGVyXSA9IGNhY2hlZFJldW5kYW5jeTsKICAgIH0KICAgIHJldHVybiByZWR1bmRhbmN5Q2FjaGVbcHJvdmlkZXJdOwogIH0KICBmdW5jdGlvbiBzZW5kQVBJUXVlcnkodGFyZ2V0LCBxdWVyeSwgY2FsbGJhY2spIHsKICAgIGxldCByZWR1bmRhbmN5OwogICAgbGV0IHNlbmQyOwogICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICJzdHJpbmciKSB7CiAgICAgIGNvbnN0IGFwaSA9IGdldEFQSU1vZHVsZSh0YXJnZXQpOwogICAgICBpZiAoIWFwaSkgewogICAgICAgIGNhbGxiYWNrKHZvaWQgMCwgNDI0KTsKICAgICAgICByZXR1cm4gZW1wdHlDYWxsYmFjayQxOwogICAgICB9CiAgICAgIHNlbmQyID0gYXBpLnNlbmQ7CiAgICAgIGNvbnN0IGNhY2hlZCA9IGdldFJlZHVuZGFuY3lDYWNoZSh0YXJnZXQpOwogICAgICBpZiAoY2FjaGVkKSB7CiAgICAgICAgcmVkdW5kYW5jeSA9IGNhY2hlZC5yZWR1bmRhbmN5OwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBjb25zdCBjb25maWcyID0gY3JlYXRlQVBJQ29uZmlnKHRhcmdldCk7CiAgICAgIGlmIChjb25maWcyKSB7CiAgICAgICAgcmVkdW5kYW5jeSA9IGluaXRSZWR1bmRhbmN5KGNvbmZpZzIpOwogICAgICAgIGNvbnN0IG1vZHVsZUtleSA9IHRhcmdldC5yZXNvdXJjZXMgPyB0YXJnZXQucmVzb3VyY2VzWzBdIDogIiI7CiAgICAgICAgY29uc3QgYXBpID0gZ2V0QVBJTW9kdWxlKG1vZHVsZUtleSk7CiAgICAgICAgaWYgKGFwaSkgewogICAgICAgICAgc2VuZDIgPSBhcGkuc2VuZDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICghcmVkdW5kYW5jeSB8fCAhc2VuZDIpIHsKICAgICAgY2FsbGJhY2sodm9pZCAwLCA0MjQpOwogICAgICByZXR1cm4gZW1wdHlDYWxsYmFjayQxOwogICAgfQogICAgcmV0dXJuIHJlZHVuZGFuY3kucXVlcnkocXVlcnksIHNlbmQyLCBjYWxsYmFjaykoKS5hYm9ydDsKICB9CiAgY29uc3QgYnJvd3NlckNhY2hlVmVyc2lvbiA9ICJpY29uaWZ5MiI7CiAgY29uc3QgYnJvd3NlckNhY2hlUHJlZml4ID0gImljb25pZnkiOwogIGNvbnN0IGJyb3dzZXJDYWNoZUNvdW50S2V5ID0gYnJvd3NlckNhY2hlUHJlZml4ICsgIi1jb3VudCI7CiAgY29uc3QgYnJvd3NlckNhY2hlVmVyc2lvbktleSA9IGJyb3dzZXJDYWNoZVByZWZpeCArICItdmVyc2lvbiI7CiAgY29uc3QgYnJvd3NlclN0b3JhZ2VIb3VyID0gMzZlNTsKICBjb25zdCBicm93c2VyU3RvcmFnZUNhY2hlRXhwaXJhdGlvbiA9IDE2ODsKICBmdW5jdGlvbiBnZXRTdG9yZWRJdGVtKGZ1bmMsIGtleSkgewogICAgdHJ5IHsKICAgICAgcmV0dXJuIGZ1bmMuZ2V0SXRlbShrZXkpOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICB9CiAgfQogIGZ1bmN0aW9uIHNldFN0b3JlZEl0ZW0oZnVuYywga2V5LCB2YWx1ZSkgewogICAgdHJ5IHsKICAgICAgZnVuYy5zZXRJdGVtKGtleSwgdmFsdWUpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgfQogIH0KICBmdW5jdGlvbiByZW1vdmVTdG9yZWRJdGVtKGZ1bmMsIGtleSkgewogICAgdHJ5IHsKICAgICAgZnVuYy5yZW1vdmVJdGVtKGtleSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgIH0KICB9CiAgZnVuY3Rpb24gc2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KHN0b3JhZ2UyLCB2YWx1ZSkgewogICAgcmV0dXJuIHNldFN0b3JlZEl0ZW0oc3RvcmFnZTIsIGJyb3dzZXJDYWNoZUNvdW50S2V5LCB2YWx1ZS50b1N0cmluZygpKTsKICB9CiAgZnVuY3Rpb24gZ2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KHN0b3JhZ2UyKSB7CiAgICByZXR1cm4gcGFyc2VJbnQoZ2V0U3RvcmVkSXRlbShzdG9yYWdlMiwgYnJvd3NlckNhY2hlQ291bnRLZXkpKSB8fCAwOwogIH0KICBjb25zdCBicm93c2VyU3RvcmFnZUNvbmZpZyA9IHsKICAgIGxvY2FsOiB0cnVlLAogICAgc2Vzc2lvbjogdHJ1ZQogIH07CiAgY29uc3QgYnJvd3NlclN0b3JhZ2VFbXB0eUl0ZW1zID0gewogICAgbG9jYWw6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksCiAgICBzZXNzaW9uOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpCiAgfTsKICBsZXQgYnJvd3NlclN0b3JhZ2VTdGF0dXMgPSBmYWxzZTsKICBmdW5jdGlvbiBzZXRCcm93c2VyU3RvcmFnZVN0YXR1cyhzdGF0dXMpIHsKICAgIGJyb3dzZXJTdG9yYWdlU3RhdHVzID0gc3RhdHVzOwogIH0KICBsZXQgX3dpbmRvdyA9IHR5cGVvZiB3aW5kb3cgPT09ICJ1bmRlZmluZWQiID8ge30gOiB3aW5kb3c7CiAgZnVuY3Rpb24gZ2V0QnJvd3NlclN0b3JhZ2Uoa2V5KSB7CiAgICBjb25zdCBhdHRyID0ga2V5ICsgIlN0b3JhZ2UiOwogICAgdHJ5IHsKICAgICAgaWYgKF93aW5kb3cgJiYgX3dpbmRvd1thdHRyXSAmJiB0eXBlb2YgX3dpbmRvd1thdHRyXS5sZW5ndGggPT09ICJudW1iZXIiKSB7CiAgICAgICAgcmV0dXJuIF93aW5kb3dbYXR0cl07CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgfQogICAgYnJvd3NlclN0b3JhZ2VDb25maWdba2V5XSA9IGZhbHNlOwogIH0KICBmdW5jdGlvbiBpdGVyYXRlQnJvd3NlclN0b3JhZ2Uoa2V5LCBjYWxsYmFjaykgewogICAgY29uc3QgZnVuYyA9IGdldEJyb3dzZXJTdG9yYWdlKGtleSk7CiAgICBpZiAoIWZ1bmMpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgdmVyc2lvbiA9IGdldFN0b3JlZEl0ZW0oZnVuYywgYnJvd3NlckNhY2hlVmVyc2lvbktleSk7CiAgICBpZiAodmVyc2lvbiAhPT0gYnJvd3NlckNhY2hlVmVyc2lvbikgewogICAgICBpZiAodmVyc2lvbikgewogICAgICAgIGNvbnN0IHRvdGFsMiA9IGdldEJyb3dzZXJTdG9yYWdlSXRlbXNDb3VudChmdW5jKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsMjsgaSsrKSB7CiAgICAgICAgICByZW1vdmVTdG9yZWRJdGVtKGZ1bmMsIGJyb3dzZXJDYWNoZVByZWZpeCArIGkudG9TdHJpbmcoKSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHNldFN0b3JlZEl0ZW0oZnVuYywgYnJvd3NlckNhY2hlVmVyc2lvbktleSwgYnJvd3NlckNhY2hlVmVyc2lvbik7CiAgICAgIHNldEJyb3dzZXJTdG9yYWdlSXRlbXNDb3VudChmdW5jLCAwKTsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWluVGltZSA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIGJyb3dzZXJTdG9yYWdlSG91cikgLSBicm93c2VyU3RvcmFnZUNhY2hlRXhwaXJhdGlvbjsKICAgIGNvbnN0IHBhcnNlSXRlbSA9IChpbmRleCkgPT4gewogICAgICBjb25zdCBuYW1lID0gYnJvd3NlckNhY2hlUHJlZml4ICsgaW5kZXgudG9TdHJpbmcoKTsKICAgICAgY29uc3QgaXRlbSA9IGdldFN0b3JlZEl0ZW0oZnVuYywgbmFtZSk7CiAgICAgIGlmICh0eXBlb2YgaXRlbSAhPT0gInN0cmluZyIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShpdGVtKTsKICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICJvYmplY3QiICYmIHR5cGVvZiBkYXRhLmNhY2hlZCA9PT0gIm51bWJlciIgJiYgZGF0YS5jYWNoZWQgPiBtaW5UaW1lICYmIHR5cGVvZiBkYXRhLnByb3ZpZGVyID09PSAic3RyaW5nIiAmJiB0eXBlb2YgZGF0YS5kYXRhID09PSAib2JqZWN0IiAmJiB0eXBlb2YgZGF0YS5kYXRhLnByZWZpeCA9PT0gInN0cmluZyIgJiYgLy8gVmFsaWQgaXRlbTogcnVuIGNhbGxiYWNrCiAgICAgICAgY2FsbGJhY2soZGF0YSwgaW5kZXgpKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICB9CiAgICAgIHJlbW92ZVN0b3JlZEl0ZW0oZnVuYywgbmFtZSk7CiAgICB9OwogICAgbGV0IHRvdGFsID0gZ2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KGZ1bmMpOwogICAgZm9yIChsZXQgaSA9IHRvdGFsIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgaWYgKCFwYXJzZUl0ZW0oaSkpIHsKICAgICAgICBpZiAoaSA9PT0gdG90YWwgLSAxKSB7CiAgICAgICAgICB0b3RhbC0tOwogICAgICAgICAgc2V0QnJvd3NlclN0b3JhZ2VJdGVtc0NvdW50KGZ1bmMsIHRvdGFsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYnJvd3NlclN0b3JhZ2VFbXB0eUl0ZW1zW2tleV0uYWRkKGkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICBmdW5jdGlvbiBpbml0QnJvd3NlclN0b3JhZ2UoKSB7CiAgICBpZiAoYnJvd3NlclN0b3JhZ2VTdGF0dXMpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgc2V0QnJvd3NlclN0b3JhZ2VTdGF0dXModHJ1ZSk7CiAgICBmb3IgKGNvbnN0IGtleSBpbiBicm93c2VyU3RvcmFnZUNvbmZpZykgewogICAgICBpdGVyYXRlQnJvd3NlclN0b3JhZ2Uoa2V5LCAoaXRlbSkgPT4gewogICAgICAgIGNvbnN0IGljb25TZXQgPSBpdGVtLmRhdGE7CiAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBpdGVtLnByb3ZpZGVyOwogICAgICAgIGNvbnN0IHByZWZpeCA9IGljb25TZXQucHJlZml4OwogICAgICAgIGNvbnN0IHN0b3JhZ2UyID0gZ2V0U3RvcmFnZSgKICAgICAgICAgIHByb3ZpZGVyLAogICAgICAgICAgcHJlZml4CiAgICAgICAgKTsKICAgICAgICBpZiAoIWFkZEljb25TZXQoc3RvcmFnZTIsIGljb25TZXQpLmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBjb25zdCBsYXN0TW9kaWZpZWQgPSBpY29uU2V0Lmxhc3RNb2RpZmllZCB8fCAtMTsKICAgICAgICBzdG9yYWdlMi5sYXN0TW9kaWZpZWRDYWNoZWQgPSBzdG9yYWdlMi5sYXN0TW9kaWZpZWRDYWNoZWQgPyBNYXRoLm1pbihzdG9yYWdlMi5sYXN0TW9kaWZpZWRDYWNoZWQsIGxhc3RNb2RpZmllZCkgOiBsYXN0TW9kaWZpZWQ7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0pOwogICAgfQogIH0KICBmdW5jdGlvbiB1cGRhdGVMYXN0TW9kaWZpZWQoc3RvcmFnZTIsIGxhc3RNb2RpZmllZCkgewogICAgY29uc3QgbGFzdFZhbHVlID0gc3RvcmFnZTIubGFzdE1vZGlmaWVkQ2FjaGVkOwogICAgaWYgKAogICAgICAvLyBNYXRjaGVzIG9yIG5ld2VyCiAgICAgIGxhc3RWYWx1ZSAmJiBsYXN0VmFsdWUgPj0gbGFzdE1vZGlmaWVkCiAgICApIHsKICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9PT0gbGFzdE1vZGlmaWVkOwogICAgfQogICAgc3RvcmFnZTIubGFzdE1vZGlmaWVkQ2FjaGVkID0gbGFzdE1vZGlmaWVkOwogICAgaWYgKGxhc3RWYWx1ZSkgewogICAgICBmb3IgKGNvbnN0IGtleSBpbiBicm93c2VyU3RvcmFnZUNvbmZpZykgewogICAgICAgIGl0ZXJhdGVCcm93c2VyU3RvcmFnZShrZXksIChpdGVtKSA9PiB7CiAgICAgICAgICBjb25zdCBpY29uU2V0ID0gaXRlbS5kYXRhOwogICAgICAgICAgcmV0dXJuIGl0ZW0ucHJvdmlkZXIgIT09IHN0b3JhZ2UyLnByb3ZpZGVyIHx8IGljb25TZXQucHJlZml4ICE9PSBzdG9yYWdlMi5wcmVmaXggfHwgaWNvblNldC5sYXN0TW9kaWZpZWQgPT09IGxhc3RNb2RpZmllZDsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfQogIGZ1bmN0aW9uIHN0b3JlSW5Ccm93c2VyU3RvcmFnZShzdG9yYWdlMiwgZGF0YSkgewogICAgaWYgKCFicm93c2VyU3RvcmFnZVN0YXR1cykgewogICAgICBpbml0QnJvd3NlclN0b3JhZ2UoKTsKICAgIH0KICAgIGZ1bmN0aW9uIHN0b3JlKGtleSkgewogICAgICBsZXQgZnVuYzsKICAgICAgaWYgKCFicm93c2VyU3RvcmFnZUNvbmZpZ1trZXldIHx8ICEoZnVuYyA9IGdldEJyb3dzZXJTdG9yYWdlKGtleSkpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IHNldCA9IGJyb3dzZXJTdG9yYWdlRW1wdHlJdGVtc1trZXldOwogICAgICBsZXQgaW5kZXg7CiAgICAgIGlmIChzZXQuc2l6ZSkgewogICAgICAgIHNldC5kZWxldGUoaW5kZXggPSBBcnJheS5mcm9tKHNldCkuc2hpZnQoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaW5kZXggPSBnZXRCcm93c2VyU3RvcmFnZUl0ZW1zQ291bnQoZnVuYyk7CiAgICAgICAgaWYgKCFzZXRCcm93c2VyU3RvcmFnZUl0ZW1zQ291bnQoZnVuYywgaW5kZXggKyAxKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICBjb25zdCBpdGVtID0gewogICAgICAgIGNhY2hlZDogTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gYnJvd3NlclN0b3JhZ2VIb3VyKSwKICAgICAgICBwcm92aWRlcjogc3RvcmFnZTIucHJvdmlkZXIsCiAgICAgICAgZGF0YQogICAgICB9OwogICAgICByZXR1cm4gc2V0U3RvcmVkSXRlbSgKICAgICAgICBmdW5jLAogICAgICAgIGJyb3dzZXJDYWNoZVByZWZpeCArIGluZGV4LnRvU3RyaW5nKCksCiAgICAgICAgSlNPTi5zdHJpbmdpZnkoaXRlbSkKICAgICAgKTsKICAgIH0KICAgIGlmIChkYXRhLmxhc3RNb2RpZmllZCAmJiAhdXBkYXRlTGFzdE1vZGlmaWVkKHN0b3JhZ2UyLCBkYXRhLmxhc3RNb2RpZmllZCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKCFPYmplY3Qua2V5cyhkYXRhLmljb25zKS5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKGRhdGEubm90X2ZvdW5kKSB7CiAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkYXRhKTsKICAgICAgZGVsZXRlIGRhdGEubm90X2ZvdW5kOwogICAgfQogICAgaWYgKCFzdG9yZSgibG9jYWwiKSkgewogICAgICBzdG9yZSgic2Vzc2lvbiIpOwogICAgfQogIH0KICBmdW5jdGlvbiBlbXB0eUNhbGxiYWNrKCkgewogIH0KICBmdW5jdGlvbiBsb2FkZWROZXdJY29ucyhzdG9yYWdlMikgewogICAgaWYgKCFzdG9yYWdlMi5pY29uc0xvYWRlckZsYWcpIHsKICAgICAgc3RvcmFnZTIuaWNvbnNMb2FkZXJGbGFnID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgc3RvcmFnZTIuaWNvbnNMb2FkZXJGbGFnID0gZmFsc2U7CiAgICAgICAgdXBkYXRlQ2FsbGJhY2tzKHN0b3JhZ2UyKTsKICAgICAgfSk7CiAgICB9CiAgfQogIGZ1bmN0aW9uIGxvYWROZXdJY29ucyhzdG9yYWdlMiwgaWNvbnMpIHsKICAgIGlmICghc3RvcmFnZTIuaWNvbnNUb0xvYWQpIHsKICAgICAgc3RvcmFnZTIuaWNvbnNUb0xvYWQgPSBpY29uczsKICAgIH0gZWxzZSB7CiAgICAgIHN0b3JhZ2UyLmljb25zVG9Mb2FkID0gc3RvcmFnZTIuaWNvbnNUb0xvYWQuY29uY2F0KGljb25zKS5zb3J0KCk7CiAgICB9CiAgICBpZiAoIXN0b3JhZ2UyLmljb25zUXVldWVGbGFnKSB7CiAgICAgIHN0b3JhZ2UyLmljb25zUXVldWVGbGFnID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgc3RvcmFnZTIuaWNvbnNRdWV1ZUZsYWcgPSBmYWxzZTsKICAgICAgICBjb25zdCB7IHByb3ZpZGVyLCBwcmVmaXggfSA9IHN0b3JhZ2UyOwogICAgICAgIGNvbnN0IGljb25zMiA9IHN0b3JhZ2UyLmljb25zVG9Mb2FkOwogICAgICAgIGRlbGV0ZSBzdG9yYWdlMi5pY29uc1RvTG9hZDsKICAgICAgICBsZXQgYXBpOwogICAgICAgIGlmICghaWNvbnMyIHx8ICEoYXBpID0gZ2V0QVBJTW9kdWxlKHByb3ZpZGVyKSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgcGFyYW1zID0gYXBpLnByZXBhcmUocHJvdmlkZXIsIHByZWZpeCwgaWNvbnMyKTsKICAgICAgICBwYXJhbXMuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgc2VuZEFQSVF1ZXJ5KHByb3ZpZGVyLCBpdGVtLCAoZGF0YSkgPT4gewogICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICJvYmplY3QiKSB7CiAgICAgICAgICAgICAgaXRlbS5pY29ucy5mb3JFYWNoKChuYW1lKSA9PiB7CiAgICAgICAgICAgICAgICBzdG9yYWdlMi5taXNzaW5nLmFkZChuYW1lKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gYWRkSWNvblNldCgKICAgICAgICAgICAgICAgICAgc3RvcmFnZTIsCiAgICAgICAgICAgICAgICAgIGRhdGEKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZyA9IHN0b3JhZ2UyLnBlbmRpbmdJY29uczsKICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7CiAgICAgICAgICAgICAgICAgIHBhcnNlZC5mb3JFYWNoKChuYW1lKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcGVuZGluZy5kZWxldGUobmFtZSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3RvcmVJbkJyb3dzZXJTdG9yYWdlKHN0b3JhZ2UyLCBkYXRhKTsKICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbG9hZGVkTmV3SWNvbnMoc3RvcmFnZTIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KICBjb25zdCBsb2FkSWNvbnMgPSAoaWNvbnMsIGNhbGxiYWNrKSA9PiB7CiAgICBjb25zdCBjbGVhbmVkSWNvbnMgPSBsaXN0VG9JY29ucyhpY29ucywgdHJ1ZSwgYWxsb3dTaW1wbGVOYW1lcygpKTsKICAgIGNvbnN0IHNvcnRlZEljb25zID0gc29ydEljb25zKGNsZWFuZWRJY29ucyk7CiAgICBpZiAoIXNvcnRlZEljb25zLnBlbmRpbmcubGVuZ3RoKSB7CiAgICAgIGxldCBjYWxsQ2FsbGJhY2sgPSB0cnVlOwogICAgICBpZiAoY2FsbGJhY2spIHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmIChjYWxsQ2FsbGJhY2spIHsKICAgICAgICAgICAgY2FsbGJhY2soCiAgICAgICAgICAgICAgc29ydGVkSWNvbnMubG9hZGVkLAogICAgICAgICAgICAgIHNvcnRlZEljb25zLm1pc3NpbmcsCiAgICAgICAgICAgICAgc29ydGVkSWNvbnMucGVuZGluZywKICAgICAgICAgICAgICBlbXB0eUNhbGxiYWNrCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBjYWxsQ2FsbGJhY2sgPSBmYWxzZTsKICAgICAgfTsKICAgIH0KICAgIGNvbnN0IG5ld0ljb25zID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBjb25zdCBzb3VyY2VzID0gW107CiAgICBsZXQgbGFzdFByb3ZpZGVyLCBsYXN0UHJlZml4OwogICAgc29ydGVkSWNvbnMucGVuZGluZy5mb3JFYWNoKChpY29uKSA9PiB7CiAgICAgIGNvbnN0IHsgcHJvdmlkZXIsIHByZWZpeCB9ID0gaWNvbjsKICAgICAgaWYgKHByZWZpeCA9PT0gbGFzdFByZWZpeCAmJiBwcm92aWRlciA9PT0gbGFzdFByb3ZpZGVyKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxhc3RQcm92aWRlciA9IHByb3ZpZGVyOwogICAgICBsYXN0UHJlZml4ID0gcHJlZml4OwogICAgICBzb3VyY2VzLnB1c2goZ2V0U3RvcmFnZShwcm92aWRlciwgcHJlZml4KSk7CiAgICAgIGNvbnN0IHByb3ZpZGVyTmV3SWNvbnMgPSBuZXdJY29uc1twcm92aWRlcl0gfHwgKG5ld0ljb25zW3Byb3ZpZGVyXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpKTsKICAgICAgaWYgKCFwcm92aWRlck5ld0ljb25zW3ByZWZpeF0pIHsKICAgICAgICBwcm92aWRlck5ld0ljb25zW3ByZWZpeF0gPSBbXTsKICAgICAgfQogICAgfSk7CiAgICBzb3J0ZWRJY29ucy5wZW5kaW5nLmZvckVhY2goKGljb24pID0+IHsKICAgICAgY29uc3QgeyBwcm92aWRlciwgcHJlZml4LCBuYW1lIH0gPSBpY29uOwogICAgICBjb25zdCBzdG9yYWdlMiA9IGdldFN0b3JhZ2UocHJvdmlkZXIsIHByZWZpeCk7CiAgICAgIGNvbnN0IHBlbmRpbmdRdWV1ZSA9IHN0b3JhZ2UyLnBlbmRpbmdJY29ucyB8fCAoc3RvcmFnZTIucGVuZGluZ0ljb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7CiAgICAgIGlmICghcGVuZGluZ1F1ZXVlLmhhcyhuYW1lKSkgewogICAgICAgIHBlbmRpbmdRdWV1ZS5hZGQobmFtZSk7CiAgICAgICAgbmV3SWNvbnNbcHJvdmlkZXJdW3ByZWZpeF0ucHVzaChuYW1lKTsKICAgICAgfQogICAgfSk7CiAgICBzb3VyY2VzLmZvckVhY2goKHN0b3JhZ2UyKSA9PiB7CiAgICAgIGNvbnN0IHsgcHJvdmlkZXIsIHByZWZpeCB9ID0gc3RvcmFnZTI7CiAgICAgIGlmIChuZXdJY29uc1twcm92aWRlcl1bcHJlZml4XS5sZW5ndGgpIHsKICAgICAgICBsb2FkTmV3SWNvbnMoc3RvcmFnZTIsIG5ld0ljb25zW3Byb3ZpZGVyXVtwcmVmaXhdKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gY2FsbGJhY2sgPyBzdG9yZUNhbGxiYWNrKGNhbGxiYWNrLCBzb3J0ZWRJY29ucywgc291cmNlcykgOiBlbXB0eUNhbGxiYWNrOwogIH07CiAgZnVuY3Rpb24gbWVyZ2VDdXN0b21pc2F0aW9ucyhkZWZhdWx0cywgaXRlbSkgewogICAgY29uc3QgcmVzdWx0ID0gewogICAgICAuLi5kZWZhdWx0cwogICAgfTsKICAgIGZvciAoY29uc3Qga2V5IGluIGl0ZW0pIHsKICAgICAgY29uc3QgdmFsdWUgPSBpdGVtW2tleV07CiAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHR5cGVvZiB2YWx1ZTsKICAgICAgaWYgKGtleSBpbiBkZWZhdWx0SWNvblNpemVDdXN0b21pc2F0aW9ucykgewogICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAmJiAodmFsdWVUeXBlID09PSAic3RyaW5nIiB8fCB2YWx1ZVR5cGUgPT09ICJudW1iZXIiKSkgewogICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSB0eXBlb2YgcmVzdWx0W2tleV0pIHsKICAgICAgICByZXN1bHRba2V5XSA9IGtleSA9PT0gInJvdGF0ZSIgPyB2YWx1ZSAlIDQgOiB2YWx1ZTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKICB9CiAgY29uc3Qgc2VwYXJhdG9yID0gL1tccyxdKy87CiAgZnVuY3Rpb24gZmxpcEZyb21TdHJpbmcoY3VzdG9tLCBmbGlwKSB7CiAgICBmbGlwLnNwbGl0KHNlcGFyYXRvcikuZm9yRWFjaCgoc3RyKSA9PiB7CiAgICAgIGNvbnN0IHZhbHVlID0gc3RyLnRyaW0oKTsKICAgICAgc3dpdGNoICh2YWx1ZSkgewogICAgICAgIGNhc2UgImhvcml6b250YWwiOgogICAgICAgICAgY3VzdG9tLmhGbGlwID0gdHJ1ZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgInZlcnRpY2FsIjoKICAgICAgICAgIGN1c3RvbS52RmxpcCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSk7CiAgfQogIGZ1bmN0aW9uIHJvdGF0ZUZyb21TdHJpbmcodmFsdWUsIGRlZmF1bHRWYWx1ZSA9IDApIHsKICAgIGNvbnN0IHVuaXRzID0gdmFsdWUucmVwbGFjZSgvXi0/WzAtOS5dKi8sICIiKTsKICAgIGZ1bmN0aW9uIGNsZWFudXAodmFsdWUyKSB7CiAgICAgIHdoaWxlICh2YWx1ZTIgPCAwKSB7CiAgICAgICAgdmFsdWUyICs9IDQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHZhbHVlMiAlIDQ7CiAgICB9CiAgICBpZiAodW5pdHMgPT09ICIiKSB7CiAgICAgIGNvbnN0IG51bSA9IHBhcnNlSW50KHZhbHVlKTsKICAgICAgcmV0dXJuIGlzTmFOKG51bSkgPyAwIDogY2xlYW51cChudW0pOwogICAgfSBlbHNlIGlmICh1bml0cyAhPT0gdmFsdWUpIHsKICAgICAgbGV0IHNwbGl0ID0gMDsKICAgICAgc3dpdGNoICh1bml0cykgewogICAgICAgIGNhc2UgIiUiOgogICAgICAgICAgc3BsaXQgPSAyNTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgImRlZyI6CiAgICAgICAgICBzcGxpdCA9IDkwOwogICAgICB9CiAgICAgIGlmIChzcGxpdCkgewogICAgICAgIGxldCBudW0gPSBwYXJzZUZsb2F0KHZhbHVlLnNsaWNlKDAsIHZhbHVlLmxlbmd0aCAtIHVuaXRzLmxlbmd0aCkpOwogICAgICAgIGlmIChpc05hTihudW0pKSB7CiAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB9CiAgICAgICAgbnVtID0gbnVtIC8gc3BsaXQ7CiAgICAgICAgcmV0dXJuIG51bSAlIDEgPT09IDAgPyBjbGVhbnVwKG51bSkgOiAwOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZGVmYXVsdFZhbHVlOwogIH0KICBmdW5jdGlvbiBpY29uVG9IVE1MKGJvZHksIGF0dHJpYnV0ZXMpIHsKICAgIGxldCByZW5kZXJBdHRyaWJzSFRNTCA9IGJvZHkuaW5kZXhPZigieGxpbms6IikgPT09IC0xID8gIiIgOiAnIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIic7CiAgICBmb3IgKGNvbnN0IGF0dHIgaW4gYXR0cmlidXRlcykgewogICAgICByZW5kZXJBdHRyaWJzSFRNTCArPSAiICIgKyBhdHRyICsgJz0iJyArIGF0dHJpYnV0ZXNbYXR0cl0gKyAnIic7CiAgICB9CiAgICByZXR1cm4gJzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIicgKyByZW5kZXJBdHRyaWJzSFRNTCArICI+IiArIGJvZHkgKyAiPC9zdmc+IjsKICB9CiAgZnVuY3Rpb24gZW5jb2RlU1ZHZm9yVVJMKHN2ZykgewogICAgcmV0dXJuIHN2Zy5yZXBsYWNlKC8iL2csICInIikucmVwbGFjZSgvJS9nLCAiJTI1IikucmVwbGFjZSgvIy9nLCAiJTIzIikucmVwbGFjZSgvPC9nLCAiJTNDIikucmVwbGFjZSgvPi9nLCAiJTNFIikucmVwbGFjZSgvXHMrL2csICIgIik7CiAgfQogIGZ1bmN0aW9uIHN2Z1RvRGF0YShzdmcpIHsKICAgIHJldHVybiAiZGF0YTppbWFnZS9zdmcreG1sLCIgKyBlbmNvZGVTVkdmb3JVUkwoc3ZnKTsKICB9CiAgZnVuY3Rpb24gc3ZnVG9VUkwoc3ZnKSB7CiAgICByZXR1cm4gJ3VybCgiJyArIHN2Z1RvRGF0YShzdmcpICsgJyIpJzsKICB9CiAgY29uc3QgZGVmYXVsdEV4dGVuZGVkSWNvbkN1c3RvbWlzYXRpb25zID0gewogICAgLi4uZGVmYXVsdEljb25DdXN0b21pc2F0aW9ucywKICAgIGlubGluZTogZmFsc2UKICB9OwogIGNvbnN0IHN2Z0RlZmF1bHRzID0gewogICAgInhtbG5zIjogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwKICAgICJ4bWxuczp4bGluayI6ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwKICAgICJhcmlhLWhpZGRlbiI6IHRydWUsCiAgICAicm9sZSI6ICJpbWciCiAgfTsKICBjb25zdCBjb21tb25Qcm9wcyA9IHsKICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siCiAgfTsKICBjb25zdCBtb25vdG9uZVByb3BzID0gewogICAgYmFja2dyb3VuZENvbG9yOiAiY3VycmVudENvbG9yIgogIH07CiAgY29uc3QgY29sb3JlZFByb3BzID0gewogICAgYmFja2dyb3VuZENvbG9yOiAidHJhbnNwYXJlbnQiCiAgfTsKICBjb25zdCBwcm9wc1RvQWRkID0gewogICAgSW1hZ2U6ICJ2YXIoLS1zdmcpIiwKICAgIFJlcGVhdDogIm5vLXJlcGVhdCIsCiAgICBTaXplOiAiMTAwJSAxMDAlIgogIH07CiAgY29uc3QgcHJvcHNUb0FkZFRvID0gewogICAgd2Via2l0TWFzazogbW9ub3RvbmVQcm9wcywKICAgIG1hc2s6IG1vbm90b25lUHJvcHMsCiAgICBiYWNrZ3JvdW5kOiBjb2xvcmVkUHJvcHMKICB9OwogIGZvciAoY29uc3QgcHJlZml4IGluIHByb3BzVG9BZGRUbykgewogICAgY29uc3QgbGlzdCA9IHByb3BzVG9BZGRUb1twcmVmaXhdOwogICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BzVG9BZGQpIHsKICAgICAgbGlzdFtwcmVmaXggKyBwcm9wXSA9IHByb3BzVG9BZGRbcHJvcF07CiAgICB9CiAgfQogIGNvbnN0IGN1c3RvbWlzYXRpb25BbGlhc2VzID0ge307CiAgWyJob3Jpem9udGFsIiwgInZlcnRpY2FsIl0uZm9yRWFjaCgocHJlZml4KSA9PiB7CiAgICBjb25zdCBhdHRyID0gcHJlZml4LnNsaWNlKDAsIDEpICsgIkZsaXAiOwogICAgY3VzdG9taXNhdGlvbkFsaWFzZXNbcHJlZml4ICsgIi1mbGlwIl0gPSBhdHRyOwogICAgY3VzdG9taXNhdGlvbkFsaWFzZXNbcHJlZml4LnNsaWNlKDAsIDEpICsgIi1mbGlwIl0gPSBhdHRyOwogICAgY3VzdG9taXNhdGlvbkFsaWFzZXNbcHJlZml4ICsgIkZsaXAiXSA9IGF0dHI7CiAgfSk7CiAgZnVuY3Rpb24gZml4U2l6ZSh2YWx1ZSkgewogICAgcmV0dXJuIHZhbHVlICsgKHZhbHVlLm1hdGNoKC9eWy0wLTkuXSskLykgPyAicHgiIDogIiIpOwogIH0KICBjb25zdCByZW5kZXIgPSAoaWNvbiwgcHJvcHMpID0+IHsKICAgIGNvbnN0IGN1c3RvbWlzYXRpb25zID0gbWVyZ2VDdXN0b21pc2F0aW9ucyhkZWZhdWx0RXh0ZW5kZWRJY29uQ3VzdG9taXNhdGlvbnMsIHByb3BzKTsKICAgIGNvbnN0IGNvbXBvbmVudFByb3BzID0geyAuLi5zdmdEZWZhdWx0cyB9OwogICAgY29uc3QgbW9kZSA9IHByb3BzLm1vZGUgfHwgInN2ZyI7CiAgICBjb25zdCBzdHlsZSA9IHt9OwogICAgY29uc3QgcHJvcHNTdHlsZSA9IHByb3BzLnN0eWxlOwogICAgY29uc3QgY3VzdG9tU3R5bGUgPSB0eXBlb2YgcHJvcHNTdHlsZSA9PT0gIm9iamVjdCIgJiYgIShwcm9wc1N0eWxlIGluc3RhbmNlb2YgQXJyYXkpID8gcHJvcHNTdHlsZSA6IHt9OwogICAgZm9yIChsZXQga2V5IGluIHByb3BzKSB7CiAgICAgIGNvbnN0IHZhbHVlID0gcHJvcHNba2V5XTsKICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsKICAgICAgICBjb250aW51ZTsKICAgICAgfQogICAgICBzd2l0Y2ggKGtleSkgewogICAgICAgIGNhc2UgImljb24iOgogICAgICAgIGNhc2UgInN0eWxlIjoKICAgICAgICBjYXNlICJvbkxvYWQiOgogICAgICAgIGNhc2UgIm1vZGUiOgogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAiaW5saW5lIjoKICAgICAgICBjYXNlICJoRmxpcCI6CiAgICAgICAgY2FzZSAidkZsaXAiOgogICAgICAgICAgY3VzdG9taXNhdGlvbnNba2V5XSA9IHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAidHJ1ZSIgfHwgdmFsdWUgPT09IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJmbGlwIjoKICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIGZsaXBGcm9tU3RyaW5nKGN1c3RvbWlzYXRpb25zLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJjb2xvciI6CiAgICAgICAgICBzdHlsZS5jb2xvciA9IHZhbHVlOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicm90YXRlIjoKICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIGN1c3RvbWlzYXRpb25zW2tleV0gPSByb3RhdGVGcm9tU3RyaW5nKHZhbHVlKTsKICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAibnVtYmVyIikgewogICAgICAgICAgICBjdXN0b21pc2F0aW9uc1trZXldID0gdmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJhcmlhSGlkZGVuIjoKICAgICAgICBjYXNlICJhcmlhLWhpZGRlbiI6CiAgICAgICAgICBpZiAodmFsdWUgIT09IHRydWUgJiYgdmFsdWUgIT09ICJ0cnVlIikgewogICAgICAgICAgICBkZWxldGUgY29tcG9uZW50UHJvcHNbImFyaWEtaGlkZGVuIl07CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OiB7CiAgICAgICAgICBjb25zdCBhbGlhcyA9IGN1c3RvbWlzYXRpb25BbGlhc2VzW2tleV07CiAgICAgICAgICBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAidHJ1ZSIgfHwgdmFsdWUgPT09IDEpIHsKICAgICAgICAgICAgICBjdXN0b21pc2F0aW9uc1thbGlhc10gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGRlZmF1bHRFeHRlbmRlZEljb25DdXN0b21pc2F0aW9uc1trZXldID09PSB2b2lkIDApIHsKICAgICAgICAgICAgY29tcG9uZW50UHJvcHNba2V5XSA9IHZhbHVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgY29uc3QgaXRlbSA9IGljb25Ub1NWRyhpY29uLCBjdXN0b21pc2F0aW9ucyk7CiAgICBjb25zdCByZW5kZXJBdHRyaWJzID0gaXRlbS5hdHRyaWJ1dGVzOwogICAgaWYgKGN1c3RvbWlzYXRpb25zLmlubGluZSkgewogICAgICBzdHlsZS52ZXJ0aWNhbEFsaWduID0gIi0wLjEyNWVtIjsKICAgIH0KICAgIGlmIChtb2RlID09PSAic3ZnIikgewogICAgICBjb21wb25lbnRQcm9wcy5zdHlsZSA9IHsKICAgICAgICAuLi5zdHlsZSwKICAgICAgICAuLi5jdXN0b21TdHlsZQogICAgICB9OwogICAgICBPYmplY3QuYXNzaWduKGNvbXBvbmVudFByb3BzLCByZW5kZXJBdHRyaWJzKTsKICAgICAgbGV0IGxvY2FsQ291bnRlciA9IDA7CiAgICAgIGxldCBpZCA9IHByb3BzLmlkOwogICAgICBpZiAodHlwZW9mIGlkID09PSAic3RyaW5nIikgewogICAgICAgIGlkID0gaWQucmVwbGFjZSgvLS9nLCAiXyIpOwogICAgICB9CiAgICAgIGNvbXBvbmVudFByb3BzWyJpbm5lckhUTUwiXSA9IHJlcGxhY2VJRHMoaXRlbS5ib2R5LCBpZCA/ICgpID0+IGlkICsgIklEIiArIGxvY2FsQ291bnRlcisrIDogImljb25pZnlWdWUiKTsKICAgICAgcmV0dXJuIHZ1ZS5oKCJzdmciLCBjb21wb25lbnRQcm9wcyk7CiAgICB9CiAgICBjb25zdCB7IGJvZHksIHdpZHRoLCBoZWlnaHQgfSA9IGljb247CiAgICBjb25zdCB1c2VNYXNrID0gbW9kZSA9PT0gIm1hc2siIHx8IChtb2RlID09PSAiYmciID8gZmFsc2UgOiBib2R5LmluZGV4T2YoImN1cnJlbnRDb2xvciIpICE9PSAtMSk7CiAgICBjb25zdCBodG1sID0gaWNvblRvSFRNTChib2R5LCB7CiAgICAgIC4uLnJlbmRlckF0dHJpYnMsCiAgICAgIHdpZHRoOiB3aWR0aCArICIiLAogICAgICBoZWlnaHQ6IGhlaWdodCArICIiCiAgICB9KTsKICAgIGNvbXBvbmVudFByb3BzLnN0eWxlID0gewogICAgICAuLi5zdHlsZSwKICAgICAgIi0tc3ZnIjogc3ZnVG9VUkwoaHRtbCksCiAgICAgICJ3aWR0aCI6IGZpeFNpemUocmVuZGVyQXR0cmlicy53aWR0aCksCiAgICAgICJoZWlnaHQiOiBmaXhTaXplKHJlbmRlckF0dHJpYnMuaGVpZ2h0KSwKICAgICAgLi4uY29tbW9uUHJvcHMsCiAgICAgIC4uLnVzZU1hc2sgPyBtb25vdG9uZVByb3BzIDogY29sb3JlZFByb3BzLAogICAgICAuLi5jdXN0b21TdHlsZQogICAgfTsKICAgIHJldHVybiB2dWUuaCgic3BhbiIsIGNvbXBvbmVudFByb3BzKTsKICB9OwogIGFsbG93U2ltcGxlTmFtZXModHJ1ZSk7CiAgc2V0QVBJTW9kdWxlKCIiLCBmZXRjaEFQSU1vZHVsZSk7CiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gInVuZGVmaW5lZCIgJiYgdHlwZW9mIHdpbmRvdyAhPT0gInVuZGVmaW5lZCIpIHsKICAgIGluaXRCcm93c2VyU3RvcmFnZSgpOwogICAgY29uc3QgX3dpbmRvdzIgPSB3aW5kb3c7CiAgICBpZiAoX3dpbmRvdzIuSWNvbmlmeVByZWxvYWQgIT09IHZvaWQgMCkgewogICAgICBjb25zdCBwcmVsb2FkID0gX3dpbmRvdzIuSWNvbmlmeVByZWxvYWQ7CiAgICAgIGNvbnN0IGVyciA9ICJJbnZhbGlkIEljb25pZnlQcmVsb2FkIHN5bnRheC4iOwogICAgICBpZiAodHlwZW9mIHByZWxvYWQgPT09ICJvYmplY3QiICYmIHByZWxvYWQgIT09IG51bGwpIHsKICAgICAgICAocHJlbG9hZCBpbnN0YW5jZW9mIEFycmF5ID8gcHJlbG9hZCA6IFtwcmVsb2FkXSkuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0ZW0gaXMgYW4gb2JqZWN0IGFuZCBub3QgbnVsbC9hcnJheQogICAgICAgICAgICAgIHR5cGVvZiBpdGVtICE9PSAib2JqZWN0IiB8fCBpdGVtID09PSBudWxsIHx8IGl0ZW0gaW5zdGFuY2VvZiBBcnJheSB8fCAvLyBDaGVjayBmb3IgJ2ljb25zJyBhbmQgJ3ByZWZpeCcKICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5pY29ucyAhPT0gIm9iamVjdCIgfHwgdHlwZW9mIGl0ZW0ucHJlZml4ICE9PSAic3RyaW5nIiB8fCAvLyBBZGQgaWNvbiBzZXQKICAgICAgICAgICAgICAhYWRkQ29sbGVjdGlvbihpdGVtKQogICAgICAgICAgICApIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUyKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogICAgaWYgKF93aW5kb3cyLkljb25pZnlQcm92aWRlcnMgIT09IHZvaWQgMCkgewogICAgICBjb25zdCBwcm92aWRlcnMgPSBfd2luZG93Mi5JY29uaWZ5UHJvdmlkZXJzOwogICAgICBpZiAodHlwZW9mIHByb3ZpZGVycyA9PT0gIm9iamVjdCIgJiYgcHJvdmlkZXJzICE9PSBudWxsKSB7CiAgICAgICAgZm9yIChsZXQga2V5IGluIHByb3ZpZGVycykgewogICAgICAgICAgY29uc3QgZXJyID0gIkljb25pZnlQcm92aWRlcnNbIiArIGtleSArICJdIGlzIGludmFsaWQuIjsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcHJvdmlkZXJzW2tleV07CiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICJvYmplY3QiIHx8ICF2YWx1ZSB8fCB2YWx1ZS5yZXNvdXJjZXMgPT09IHZvaWQgMCkgewogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghYWRkQVBJUHJvdmlkZXIoa2V5LCB2YWx1ZSkpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUyKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgY29uc3QgZW1wdHlJY29uID0gewogICAgLi4uZGVmYXVsdEljb25Qcm9wcywKICAgIGJvZHk6ICIiCiAgfTsKICBjb25zdCBJY29uID0gdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgICAvLyBEbyBub3QgaW5oZXJpdCBvdGhlciBhdHRyaWJ1dGVzOiBpdCBpcyBoYW5kbGVkIGJ5IHJlbmRlcigpCiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgLy8gU2V0IGluaXRpYWwgZGF0YQogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICAvLyBNb3VudGVkIHN0YXR1cwogICAgICAgIGljb25Nb3VudGVkOiBmYWxzZSwKICAgICAgICAvLyBDYWxsYmFjayBjb3VudGVyIHRvIHRyaWdnZXIgcmUtcmVuZGVyCiAgICAgICAgY291bnRlcjogMAogICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuX25hbWUgPSAiIjsKICAgICAgdGhpcy5fbG9hZGluZ0ljb24gPSBudWxsOwogICAgICB0aGlzLmljb25Nb3VudGVkID0gdHJ1ZTsKICAgIH0sCiAgICB1bm1vdW50ZWQoKSB7CiAgICAgIHRoaXMuYWJvcnRMb2FkaW5nKCk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBhYm9ydExvYWRpbmcoKSB7CiAgICAgICAgaWYgKHRoaXMuX2xvYWRpbmdJY29uKSB7CiAgICAgICAgICB0aGlzLl9sb2FkaW5nSWNvbi5hYm9ydCgpOwogICAgICAgICAgdGhpcy5fbG9hZGluZ0ljb24gPSBudWxsOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8gR2V0IGRhdGEgZm9yIGljb24gdG8gcmVuZGVyIG9yIG51bGwKICAgICAgZ2V0SWNvbihpY29uLCBvbmxvYWQpIHsKICAgICAgICBpZiAodHlwZW9mIGljb24gPT09ICJvYmplY3QiICYmIGljb24gIT09IG51bGwgJiYgdHlwZW9mIGljb24uYm9keSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgIHRoaXMuX25hbWUgPSAiIjsKICAgICAgICAgIHRoaXMuYWJvcnRMb2FkaW5nKCk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXRhOiBpY29uCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBsZXQgaWNvbk5hbWU7CiAgICAgICAgaWYgKHR5cGVvZiBpY29uICE9PSAic3RyaW5nIiB8fCAoaWNvbk5hbWUgPSBzdHJpbmdUb0ljb24oaWNvbiwgZmFsc2UsIHRydWUpKSA9PT0gbnVsbCkgewogICAgICAgICAgdGhpcy5hYm9ydExvYWRpbmcoKTsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICBjb25zdCBkYXRhID0gZ2V0SWNvbkRhdGEoaWNvbk5hbWUpOwogICAgICAgIGlmICghZGF0YSkgewogICAgICAgICAgaWYgKCF0aGlzLl9sb2FkaW5nSWNvbiB8fCB0aGlzLl9sb2FkaW5nSWNvbi5uYW1lICE9PSBpY29uKSB7CiAgICAgICAgICAgIHRoaXMuYWJvcnRMb2FkaW5nKCk7CiAgICAgICAgICAgIHRoaXMuX25hbWUgPSAiIjsKICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHsKICAgICAgICAgICAgICB0aGlzLl9sb2FkaW5nSWNvbiA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IGljb24sCiAgICAgICAgICAgICAgICBhYm9ydDogbG9hZEljb25zKFtpY29uTmFtZV0sICgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5jb3VudGVyKys7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgICB0aGlzLmFib3J0TG9hZGluZygpOwogICAgICAgIGlmICh0aGlzLl9uYW1lICE9PSBpY29uKSB7CiAgICAgICAgICB0aGlzLl9uYW1lID0gaWNvbjsKICAgICAgICAgIGlmIChvbmxvYWQpIHsKICAgICAgICAgICAgb25sb2FkKGljb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjb25zdCBjbGFzc2VzID0gWyJpY29uaWZ5Il07CiAgICAgICAgaWYgKGljb25OYW1lLnByZWZpeCAhPT0gIiIpIHsKICAgICAgICAgIGNsYXNzZXMucHVzaCgiaWNvbmlmeS0tIiArIGljb25OYW1lLnByZWZpeCk7CiAgICAgICAgfQogICAgICAgIGlmIChpY29uTmFtZS5wcm92aWRlciAhPT0gIiIpIHsKICAgICAgICAgIGNsYXNzZXMucHVzaCgiaWNvbmlmeS0tIiArIGljb25OYW1lLnByb3ZpZGVyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsgZGF0YSwgY2xhc3NlcyB9OwogICAgICB9CiAgICB9LAogICAgLy8gUmVuZGVyIGljb24KICAgIHJlbmRlcigpIHsKICAgICAgdGhpcy5jb3VudGVyOwogICAgICBjb25zdCBwcm9wcyA9IHRoaXMuJGF0dHJzOwogICAgICBjb25zdCBpY29uID0gdGhpcy5pY29uTW91bnRlZCA/IHRoaXMuZ2V0SWNvbihwcm9wcy5pY29uLCBwcm9wcy5vbkxvYWQpIDogbnVsbDsKICAgICAgaWYgKCFpY29uKSB7CiAgICAgICAgcmV0dXJuIHJlbmRlcihlbXB0eUljb24sIHByb3BzKTsKICAgICAgfQogICAgICBsZXQgbmV3UHJvcHMgPSBwcm9wczsKICAgICAgaWYgKGljb24uY2xhc3NlcykgewogICAgICAgIG5ld1Byb3BzID0gewogICAgICAgICAgLi4ucHJvcHMsCiAgICAgICAgICBjbGFzczogKHR5cGVvZiBwcm9wc1siY2xhc3MiXSA9PT0gInN0cmluZyIgPyBwcm9wc1siY2xhc3MiXSArICIgIiA6ICIiKSArIGljb24uY2xhc3Nlcy5qb2luKCIgIikKICAgICAgICB9OwogICAgICB9CiAgICAgIHJldHVybiByZW5kZXIoewogICAgICAgIC4uLmRlZmF1bHRJY29uUHJvcHMsCiAgICAgICAgLi4uaWNvbi5kYXRhCiAgICAgIH0sIG5ld1Byb3BzKTsKICAgIH0KICB9KTsKICBjb25zdCBfaG9pc3RlZF8xJGkgPSB7IGNsYXNzOiAiZGlzcGxheS10eXBlIiB9OwogIGNvbnN0IF9ob2lzdGVkXzIkZiA9IHsgc3R5bGU6IHsgInBvc2l0aW9uIjogInJlbGF0aXZlIiB9IH07CiAgY29uc3QgX2hvaXN0ZWRfMyRjID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJ0eXBlLWxpc3QiCiAgfTsKICBjb25zdCBfc2ZjX21haW4kayA9IC8qIEBfX1BVUkVfXyAqLyB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIF9fbmFtZTogIkJhc2VTZWxlY3QiLAogICAgcHJvcHM6IHsKICAgICAgZGlzcGxheVR5cGU6IHt9CiAgICB9LAogICAgZW1pdHM6IFsidXBkYXRlOmRpc3BsYXlUeXBlIl0sCiAgICBzZXR1cChfX3Byb3BzLCB7IGVtaXQ6IF9fZW1pdCB9KSB7CiAgICAgIGNvbnN0IHByb3BzID0gX19wcm9wczsKICAgICAgY29uc3QgZW1pdCA9IF9fZW1pdDsKICAgICAgbGV0IHN0YXRlID0gdnVlLnJlYWN0aXZlKHsKICAgICAgICBzaG93Q2hhbmdlRGlzcGxheVR5cGU6IGZhbHNlLAogICAgICAgIGxhc3REaXNwbGF5VHlwZTogbnVsbAogICAgICB9KTsKICAgICAgZnVuY3Rpb24gY2hhbmdlT3B0aW9uKGl0ZW0pIHsKICAgICAgICBpZiAoIVtDb21tZW50RGlzcGxheVR5cGUuTmV3LCBDb21tZW50RGlzcGxheVR5cGUuTGlrZV0uaW5jbHVkZXMocHJvcHMuZGlzcGxheVR5cGUpKSB7CiAgICAgICAgICBzdGF0ZS5sYXN0RGlzcGxheVR5cGUgPSBwcm9wcy5kaXNwbGF5VHlwZTsKICAgICAgICB9CiAgICAgICAgZW1pdCgidXBkYXRlOmRpc3BsYXlUeXBlIiwgaXRlbSk7CiAgICAgICAgc3RhdGUuc2hvd0NoYW5nZURpc3BsYXlUeXBlID0gZmFsc2U7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gY2xpY2tEaXNwbGF5VHlwZSgpIHsKICAgICAgICBpZiAoW0NvbW1lbnREaXNwbGF5VHlwZS5OZXcsIENvbW1lbnREaXNwbGF5VHlwZS5MaWtlXS5pbmNsdWRlcyhwcm9wcy5kaXNwbGF5VHlwZSkpIHsKICAgICAgICAgIHJldHVybiBjaGFuZ2VPcHRpb24oc3RhdGUubGFzdERpc3BsYXlUeXBlID8/IENvbW1lbnREaXNwbGF5VHlwZS5GbG9vckluRmxvb3JOb0NhbGxVc2VyKTsKICAgICAgICB9CiAgICAgICAgc3RhdGUuc2hvd0NoYW5nZURpc3BsYXlUeXBlID0gIXN0YXRlLnNob3dDaGFuZ2VEaXNwbGF5VHlwZTsKICAgICAgfQogICAgICBjb25zdCBjdXJyZW50RGlzcGxheVR5cGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICAgIGxldCBqdWRnZSA9IHByb3BzLmRpc3BsYXlUeXBlOwogICAgICAgIGlmIChbQ29tbWVudERpc3BsYXlUeXBlLk5ldywgQ29tbWVudERpc3BsYXlUeXBlLkxpa2VdLmluY2x1ZGVzKHByb3BzLmRpc3BsYXlUeXBlKSkgewogICAgICAgICAganVkZ2UgPSBzdGF0ZS5sYXN0RGlzcGxheVR5cGU7CiAgICAgICAgfQogICAgICAgIHN3aXRjaCAoanVkZ2UpIHsKICAgICAgICAgIGNhc2UgQ29tbWVudERpc3BsYXlUeXBlLkZsb29ySW5GbG9vck5vQ2FsbFVzZXI6CiAgICAgICAgICAgIHJldHVybiAi5qW85Lit5qW8IjsKICAgICAgICAgIGNhc2UgQ29tbWVudERpc3BsYXlUeXBlLkZsb29ySW5GbG9vcjoKICAgICAgICAgICAgcmV0dXJuICLmpbzkuK3mpbwoQCkiOwogICAgICAgICAgY2FzZSBDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yTmVzdGVkOgogICAgICAgICAgICByZXR1cm4gIuWGl+S9mealvOS4realvCI7CiAgICAgICAgICBjYXNlIENvbW1lbnREaXNwbGF5VHlwZS5WMmV4T3JpZ2luOgogICAgICAgICAgICByZXR1cm4gIlYy5Y6f54mIIjsKICAgICAgICAgIGNhc2UgQ29tbWVudERpc3BsYXlUeXBlLk9ubHlPcDoKICAgICAgICAgICAgcmV0dXJuICLlj6rnnIvmpbzkuLsiOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuICLmpbzkuK3mpbwiOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7CiAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSRpLCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0eXBlIiwgX2N0eC5kaXNwbGF5VHlwZSA9PT0gdnVlLnVucmVmKENvbW1lbnREaXNwbGF5VHlwZSkuTmV3ICYmICJhY3RpdmUiXSksCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudCkgPT4gY2hhbmdlT3B0aW9uKHZ1ZS51bnJlZihDb21tZW50RGlzcGxheVR5cGUpLk5ldykpCiAgICAgICAgICB9LCAi5pyA5pawICIsIDIpLAogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsidHlwZSIsIF9jdHguZGlzcGxheVR5cGUgPT09IHZ1ZS51bnJlZihDb21tZW50RGlzcGxheVR5cGUpLkxpa2UgJiYgImFjdGl2ZSJdKSwKICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoJGV2ZW50KSA9PiBjaGFuZ2VPcHRpb24odnVlLnVucmVmKENvbW1lbnREaXNwbGF5VHlwZSkuTGlrZSkpCiAgICAgICAgICB9LCAi5pyA54OtICIsIDIpLAogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiRmLCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsidHlwZSIsICFbdnVlLnVucmVmKENvbW1lbnREaXNwbGF5VHlwZSkuTmV3LCB2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5MaWtlXS5pbmNsdWRlcyhfY3R4LmRpc3BsYXlUeXBlKSAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgIG9uQ2xpY2s6IGNsaWNrRGlzcGxheVR5cGUKICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKGN1cnJlbnREaXNwbGF5VHlwZS52YWx1ZSksIDEpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZSh2dWUudW5yZWYoSWNvbiksIHsgaWNvbjogIm1pbmdjdXRlOmRvd24tbGluZSIgfSkKICAgICAgICAgICAgXSwgMiksCiAgICAgICAgICAgIHZ1ZS51bnJlZihzdGF0ZSkuc2hvd0NoYW5nZURpc3BsYXlUeXBlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMyRjLCBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbIml0ZW0iLCBfY3R4LmRpc3BsYXlUeXBlID09PSB2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5GbG9vckluRmxvb3JOb0NhbGxVc2VyICYmICJhY3RpdmUiXSksCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IGNoYW5nZU9wdGlvbih2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5GbG9vckluRmxvb3JOb0NhbGxVc2VyKSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgIH0sICLmpbzkuK3mpbwgIiwgMiksCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbIml0ZW0iLCBfY3R4LmRpc3BsYXlUeXBlID09PSB2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5GbG9vckluRmxvb3IgJiYgImFjdGl2ZSJdKSwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gY2hhbmdlT3B0aW9uKHZ1ZS51bnJlZihDb21tZW50RGlzcGxheVR5cGUpLkZsb29ySW5GbG9vciksIFsic3RvcCJdKSkKICAgICAgICAgICAgICB9LCAi5qW85Lit5qW8KEApICIsIDIpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJpdGVtIiwgX2N0eC5kaXNwbGF5VHlwZSA9PT0gdnVlLnVucmVmKENvbW1lbnREaXNwbGF5VHlwZSkuRmxvb3JJbkZsb29yTmVzdGVkICYmICJhY3RpdmUiXSksCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IGNoYW5nZU9wdGlvbih2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5GbG9vckluRmxvb3JOZXN0ZWQpLCBbInN0b3AiXSkpCiAgICAgICAgICAgICAgfSwgIuWGl+S9mealvOS4realvCAiLCAyKSwKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsiaXRlbSIsIF9jdHguZGlzcGxheVR5cGUgPT09IHZ1ZS51bnJlZihDb21tZW50RGlzcGxheVR5cGUpLk9ubHlPcCAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiBjaGFuZ2VPcHRpb24odnVlLnVucmVmKENvbW1lbnREaXNwbGF5VHlwZSkuT25seU9wKSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgIH0sICLlj6rnnIvmpbzkuLsgIiwgMiksCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbIml0ZW0iLCBfY3R4LmRpc3BsYXlUeXBlID09PSB2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5WMmV4T3JpZ2luICYmICJhY3RpdmUiXSksCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbNl0gfHwgKF9jYWNoZVs2XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IGNoYW5nZU9wdGlvbih2dWUudW5yZWYoQ29tbWVudERpc3BsYXlUeXBlKS5WMmV4T3JpZ2luKSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgIH0sICJWMuWOn+eJiCAiLCAyKQogICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgXSkKICAgICAgICBdKTsKICAgICAgfTsKICAgIH0KICB9KTsKICBjb25zdCBCYXNlU2VsZWN0ID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRrLCBbWyJfX3Njb3BlSWQiLCAiZGF0YS12LWU0ZjY4NGJlIl1dKTsKICBjb25zdCBldmVudEJ1cyA9IHsKICAgIGV2ZW50TWFwOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLAogICAgb24oZXZlbnRUeXBlLCBjYikgewogICAgICBsZXQgY2JzID0gdGhpcy5ldmVudE1hcC5nZXQoZXZlbnRUeXBlKTsKICAgICAgaWYgKGNicykgewogICAgICAgIGNicy5wdXNoKGNiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjYnMgPSBbY2JdOwogICAgICB9CiAgICAgIHRoaXMuZXZlbnRNYXAuc2V0KGV2ZW50VHlwZSwgY2JzKTsKICAgIH0sCiAgICBvZmZPbmUoZXZlbnRUeXBlLCBjYikgewogICAgICBsZXQgY2JzID0gdGhpcy5ldmVudE1hcC5nZXQoZXZlbnRUeXBlKTsKICAgICAgaWYgKGNicykgewogICAgICAgIGxldCBySW5kZXggPSBjYnMuZmluZEluZGV4KChjKSA9PiBjID09PSBjYik7CiAgICAgICAgaWYgKHJJbmRleCA+IC0xKSB7CiAgICAgICAgICBjYnMuc3BsaWNlKHJJbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZXZlbnRNYXAuc2V0KGV2ZW50VHlwZSwgY2JzKTsKICAgIH0sCiAgICBlbWl0KGV2ZW50VHlwZSwgdmFsKSB7CiAgICAgIGxldCBjYnMgPSB0aGlzLmV2ZW50TWFwLmdldChldmVudFR5cGUpOwogICAgICBpZiAoY2JzKSB7CiAgICAgICAgY2JzLm1hcCgoY2IpID0+IGNiKHZhbCkpOwogICAgICB9CiAgICB9LAogICAgb2ZmKGV2ZW50VHlwZSkgewogICAgICBsZXQgY2JzID0gdGhpcy5ldmVudE1hcC5oYXMoZXZlbnRUeXBlKTsKICAgICAgaWYgKGNicykgewogICAgICAgIHRoaXMuZXZlbnRNYXAuZGVsZXRlKGV2ZW50VHlwZSk7CiAgICAgIH0KICAgIH0sCiAgICBjbGVhcigpIHsKICAgICAgdGhpcy5ldmVudE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgICB9CiAgfTsKICBjb25zdCBDTUQgPSB7CiAgICBTSE9XX1RPT0xUSVA6ICJTSE9XX1RPT0xUSVAiLAogICAgU0hPV19NU0c6ICJTSE9XX01TRyIsCiAgICBTRVRfQ0FMTDogIlNFVF9DQUxMIiwKICAgIFNIT1dfQ0FMTDogIlNIT1dfQ0FMTCIsCiAgICBSRUZSRVNIX09OQ0U6ICJSRUZSRVNIX09OQ0UiLAogICAgQUREX1JFUExZOiAiQUREX1JFUExZIiwKICAgIElHTk9SRTogIklHTk9SRSIsCiAgICBNRVJHRTogIk1FUkdFIiwKICAgIFJFTU9WRTogIlJFTU9WRSIsCiAgICBDSEFOR0VfQ09NTUVOVF9USEFOSzogIkNIQU5HRV9DT01NRU5UX1RIQU5LIiwKICAgIENIQU5HRV9QT1NUX1RIQU5LOiAiQ0hBTkdFX1BPU1RfVEhBTksiLAogICAgQUREX1RBRzogIkFERF9UQUciLAogICAgUkVNT1ZFX1RBRzogIlJFTU9WRV9UQUciLAogICAgUkVMQVRJT05fUkVQTFk6ICJSRUxBVElPTl9SRVBMWSIsCiAgICBKVU1QOiAiSlVNUCIsCiAgICBSRUZSRVNIX1BPU1Q6ICJSRUZSRVNIX1BPU1QiLAogICAgU0hPV19DT05GSVJNX01PREFMOiAiU0hPV19DT05GSVJNX01PREFMIiwKICAgIFNIT1dfQ09ORklSTV9NT0RBTF9DT05GSVJNOiAiU0hPV19DT05GSVJNX01PREFMX0NPTkZJUk0iCiAgfTsKICBjb25zdCBfc2ZjX21haW4kaiA9IHsKICAgIG5hbWU6ICJQb3BDb25maXJtIiwKICAgIHByb3BzOiB7CiAgICAgIHRpdGxlOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICB9LAogICAgICBkaXNhYmxlZDogewogICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiAiIgogICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBjYihpZCkgewogICAgICAgIGlmIChpZCA9PT0gdGhpcy5pZCkgewogICAgICAgICAgdGhpcy4kZW1pdCgiY29uZmlybSIpOwogICAgICAgICAgdGhpcy5pZCA9ICIiOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2hvd1BvcChlMikgewogICAgICAgIGlmICh0aGlzLmRpc2FibGVkKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGxldCByZWN0ID0gZTIudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRoaXMuaWQgPSBEYXRlLm5vdygpOwogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfQ09ORklSTV9NT0RBTCwgeyB0aXRsZTogdGhpcy50aXRsZSwgcmVjdCwgaWQ6IHRoaXMuaWQgfSk7CiAgICAgICAgZXZlbnRCdXMub2ZmT25lKENNRC5TSE9XX0NPTkZJUk1fTU9EQUxfQ09ORklSTSwgdGhpcy5jYik7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELlNIT1dfQ09ORklSTV9NT0RBTF9DT05GSVJNLCB0aGlzLmNiKTsKICAgICAgfQogICAgfSwKICAgIHVubW91bnRlZCgpIHsKICAgICAgZXZlbnRCdXMub2ZmT25lKENNRC5TSE9XX0NPTkZJUk1fTU9EQUxfQ09ORklSTSwgdGhpcy5jYik7CiAgICB9CiAgfTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciRhKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIHsKICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMuc2hvd1BvcCAmJiAkb3B0aW9ucy5zaG93UG9wKC4uLmFyZ3MpLCBbInN0b3AiXSkpCiAgICB9LCBbCiAgICAgIHZ1ZS5yZW5kZXJTbG90KF9jdHguJHNsb3RzLCAiZGVmYXVsdCIpCiAgICBdKTsKICB9CiAgY29uc3QgUG9wQ29uZmlybSA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kaiwgW1sicmVuZGVyIiwgX3NmY19yZW5kZXIkYV1dKTsKICBjb25zdCBfc2ZjX21haW4kaSA9IC8qIEBfX1BVUkVfXyAqLyB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIF9fbmFtZTogIkJhc2VMb2FkaW5nIiwKICAgIHByb3BzOiB7CiAgICAgIHNpemU6IHsgZGVmYXVsdDogIm5vcm1hbCIgfQogICAgfSwKICAgIHNldHVwKF9fcHJvcHMpIHsKICAgICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsibG9hZGluZyIsIFtfY3R4LnNpemVdXSkKICAgICAgICB9LCBudWxsLCAyKTsKICAgICAgfTsKICAgIH0KICB9KTsKICBjb25zdCBCYXNlTG9hZGluZyA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kaSwgW1siX19zY29wZUlkIiwgImRhdGEtdi0yNjk3YmFhMiJdXSk7CiAgY29uc3QgX2hvaXN0ZWRfMSRoID0gewogICAga2V5OiAxLAogICAgY2xhc3M6ICJrZXktbm90aWNlIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMiRlID0geyBjbGFzczogImtleSIgfTsKICBjb25zdCBfc2ZjX21haW4kaCA9IC8qIEBfX1BVUkVfXyAqLyB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIF9fbmFtZTogIkJhc2VCdXR0b24iLAogICAgcHJvcHM6IHsKICAgICAga2V5Ym9hcmQ6IHt9LAogICAgICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiB9LAogICAgICBkaXNhYmxlZDogeyB0eXBlOiBCb29sZWFuIH0sCiAgICAgIGxvYWRpbmc6IHsgdHlwZTogQm9vbGVhbiB9LAogICAgICBzaXplOiB7IGRlZmF1bHQ6ICJub3JtYWwiIH0sCiAgICAgIHR5cGU6IHsgZGVmYXVsdDogInByaW1hcnkiIH0KICAgIH0sCiAgICBlbWl0czogWyJjbGljayJdLAogICAgc2V0dXAoX19wcm9wcykgewogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhUb29sdGlwLCB7CiAgICAgICAgICBkaXNhYmxlZDogIV9jdHgua2V5Ym9hcmQsCiAgICAgICAgICB0aXRsZTogYOW/q+aNt+mUrjogJHtfY3R4LmtleWJvYXJkfWAKICAgICAgICB9LCB7CiAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHZ1ZS5tZXJnZVByb3BzKHsgY2xhc3M6ICJiYXNlLWJ1dHRvbiIgfSwgX2N0eC4kYXR0cnMsIHsKICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IChlMikgPT4gIV9jdHguZGlzYWJsZWQgJiYgIV9jdHgubG9hZGluZyAmJiBfY3R4LiRlbWl0KCJjbGljayIsIGUyKSksCiAgICAgICAgICAgICAgY2xhc3M6IFsKICAgICAgICAgICAgICAgIF9jdHguYWN0aXZlICYmICJhY3RpdmUiLAogICAgICAgICAgICAgICAgX2N0eC5zaXplLAogICAgICAgICAgICAgICAgX2N0eC50eXBlLAogICAgICAgICAgICAgICAgKF9jdHguZGlzYWJsZWQgfHwgX2N0eC5sb2FkaW5nKSAmJiAiZGlzYWJsZWQiLAogICAgICAgICAgICAgICAgIV9jdHguZGlzYWJsZWQgJiYgImh2ci1ncm93IgogICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSksIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgICAgICAgc3R5bGU6IHZ1ZS5ub3JtYWxpemVTdHlsZSh7IG9wYWNpdHk6IF9jdHgubG9hZGluZyA/IDAgOiAxIH0pCiAgICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgICAgdnVlLnJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJkZWZhdWx0Iiwge30sIHZvaWQgMCwgdHJ1ZSkKICAgICAgICAgICAgICBdLCA0KSwKICAgICAgICAgICAgICBfY3R4LmxvYWRpbmcgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soQmFzZUxvYWRpbmcsIHsKICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIKICAgICAgICAgICAgICB9KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICBfY3R4LmtleWJvYXJkID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSRoLCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMiRlLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9jdHgua2V5Ym9hcmQpLCAxKQogICAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICAgIF0sIDE2KQogICAgICAgICAgXSksCiAgICAgICAgICBfOiAzCiAgICAgICAgfSwgOCwgWyJkaXNhYmxlZCIsICJ0aXRsZSJdKTsKICAgICAgfTsKICAgIH0KICB9KTsKICBjb25zdCBCYXNlQnV0dG9uID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRoLCBbWyJfX3Njb3BlSWQiLCAiZGF0YS12LTVhN2Q3OWJhIl1dKTsKICBjb25zdCBfc2ZjX21haW4kZyA9IHsKICAgIG5hbWU6ICJTZXR0aW5nIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgQmFzZUJ1dHRvbiwKICAgICAgUG9wQ29uZmlybSwKICAgICAgSWNvbiwKICAgICAgQmFzZVNlbGVjdCwKICAgICAgQmFzZVN3aXRjaCwKICAgICAgVG9vbHRpcAogICAgfSwKICAgIGluamVjdDogWyJpc05pZ2h0Il0sCiAgICBwcm9wczogewogICAgICBzaG93OiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGFiSW5kZXg6IDAKICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGNvbmZpcm0oKSB7CiAgICAgICAgdGhpcy5jbG9zZSgpOwogICAgICAgIHRoaXMuJGVtaXQoImNvbmZpcm0iKTsKICAgICAgfSwKICAgICAgY2xvc2UoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOnNob3ciLCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICB9OwogIGNvbnN0IF93aXRoU2NvcGVJZCRiID0gKG4yKSA9PiAodnVlLnB1c2hTY29wZUlkKCJkYXRhLXYtMzg2YjQzZDAiKSwgbjIgPSBuMigpLCB2dWUucG9wU2NvcGVJZCgpLCBuMik7CiAgY29uc3QgX2hvaXN0ZWRfMSRnID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJzZXR0aW5nLW1vZGFsIG1vZGFsIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMiRkID0geyBjbGFzczogIm1vZGFsLXJvb3QiIH07CiAgY29uc3QgX2hvaXN0ZWRfMyRiID0geyBjbGFzczogIm1vZGFsLWhlYWRlciIgfTsKICBjb25zdCBfaG9pc3RlZF80JGIgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGIoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJ0aXRsZSIgfSwgIiDkvb/nlKjpnIDnn6UgIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF81JDkgPSB7IGNsYXNzOiAiYm9keSIgfTsKICBjb25zdCBfaG9pc3RlZF82JDkgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGIoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJtb2RhbC1jb250ZW50IiB9LCBbCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIuW8gOWQr+atpOWKn+iDveS8muW4puadpeS7peS4i+W9seWTjSIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICLnvLrngrkiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IHN0eWxlOiB7ICJjb2xvciI6ICJyZWQiIH0gfSwgWwogICAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIjHjgIHkvaDnmoRJUOWPr+iDveS8muiiq+WwgeemgSIpLAogICAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIjLjgIHmtojogJfmm7TlpJrmtYHph4/vvIznu5nmnI3liqHlmajluKbmnaXmm7TlpKfnmoTotJ/mi4UiKSwKICAgICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICIz44CB5L2g55qEVuermea1j+iniOi/m+W6puadoeS8muWPmOW/qyIpCiAgICBdKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCAi5LyY54K5IiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIjHjgIHljaHniYfmqKHlvI/vvIzml6DpnIDmiZPlvIDkuLvpopjljbPlj6/mn6XnnIvlhoXlrrkiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCAiMuOAgeaJk+W8gOS4u+mimOaXtuaPkOWJjemihOiniOato+aWh+WGheWuue+8jOaXoOmcgOetieW+heWKoOi9vSIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICLljp/nkIYiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCAiMeOAgeino+aekOWIl+ihqOaJgOacieS4u+mimElE77yM5om56YeP6LCD55Soc2hvdy5qc29u5o6l5Y+j77yM6I635Y+W5a+55bqU5Li76aKY55qE5q2j5paHIiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIjLjgIHor7fmsYLnmoTkuLvpopjmlbDmja7kvJrnvJPlrZjliLDmnKzlnLDvvIzkuI3kvJrph43lpI3or7fmsYLvvIzotoXov4cz5aSp55qE5pWw5o2u5Lya5Yig6ZmkIiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIjPjgIHliY3pnaI05p2h5Lya5bm25Y+R6K+35rGC77yMNOadoeS7peWQjueahOS4gOenkuivt+axguS4gOadoSIpCiAgXSwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF83JDggPSB7IGNsYXNzOiAiYnRucyIgfTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciQ5KF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9JY29uID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkljb24iKTsKICAgIGNvbnN0IF9jb21wb25lbnRfQmFzZUJ1dHRvbiA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJCYXNlQnV0dG9uIik7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2sodnVlLlRyYW5zaXRpb24sIG51bGwsIHsKICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICRwcm9wcy5zaG93ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSRnLCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiAibWFzayIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKC4uLmFyZ3MpID0+ICRvcHRpb25zLmNsb3NlICYmICRvcHRpb25zLmNsb3NlKC4uLmFyZ3MpKQogICAgICAgICAgfSksCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yJGQsIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMyRiLCBbCiAgICAgICAgICAgICAgX2hvaXN0ZWRfNCRiLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAgICAgIGljb246ICJpYzpyb3VuZC1jbG9zZSIsCiAgICAgICAgICAgICAgICBvbkNsaWNrOiAkb3B0aW9ucy5jbG9zZQogICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsib25DbGljayJdKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSQ5LCBbCiAgICAgICAgICAgICAgX2hvaXN0ZWRfNiQ5LAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzckOCwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZUJ1dHRvbiwgewogICAgICAgICAgICAgICAgICB0eXBlOiAibGluayIsCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICRvcHRpb25zLmNsb3NlCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLkuI3lkIzmhI8iKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgfSwgOCwgWyJvbkNsaWNrIl0pLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZUJ1dHRvbiwgeyBvbkNsaWNrOiAkb3B0aW9ucy5jb25maXJtIH0sIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIuWQjOaEjyIpCiAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgICB9LCA4LCBbIm9uQ2xpY2siXSkKICAgICAgICAgICAgICBdKQogICAgICAgICAgICBdKQogICAgICAgICAgXSkKICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICBdKSwKICAgICAgXzogMQogICAgfSk7CiAgfQogIGNvbnN0IE5vdGljZU1vZGFsID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRnLCBbWyJyZW5kZXIiLCBfc2ZjX3JlbmRlciQ5XSwgWyJfX3Njb3BlSWQiLCAiZGF0YS12LTM4NmI0M2QwIl1dKTsKICBjb25zdCBfc2ZjX21haW4kZiA9IHsKICAgIG5hbWU6ICJTZXR0aW5nIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgQmFzZUJ1dHRvbiwKICAgICAgTm90aWNlTW9kYWwsCiAgICAgIFBvcENvbmZpcm0sCiAgICAgIEljb24sCiAgICAgIEJhc2VTZWxlY3QsCiAgICAgIEJhc2VTd2l0Y2gsCiAgICAgIFRvb2x0aXAKICAgIH0sCiAgICBpbmplY3Q6IFsiaXNOaWdodCIsICJpc0xvZ2luIl0sCiAgICBwcm9wczogewogICAgICBtb2RlbFZhbHVlOiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93OiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgY29uZmlnOiBmdW5jdGlvbnMuY2xvbmUodGhpcy5tb2RlbFZhbHVlKSwKICAgICAgICBzaG93Tm90aWNlOiBmYWxzZSwKICAgICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgICBpbXBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgICBpbXBvcnRPazogZmFsc2UsCiAgICAgICAgc2hvd0lucHV0OiB0cnVlLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGluZGV4OiAwLAogICAgICAgIGVuZFRpbWU6ICIwIgogICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgIERlZmF1bHRWYWwoKSB7CiAgICAgICAgcmV0dXJuIERlZmF1bHRWYWw7CiAgICAgIH0sCiAgICAgIENvbW1lbnREaXNwbGF5VHlwZSgpIHsKICAgICAgICByZXR1cm4gQ29tbWVudERpc3BsYXlUeXBlOwogICAgICB9LAogICAgICBpc05ldygpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb25maWcudmVyc2lvbiA8IERlZmF1bHRWYWwuY3VycmVudFZlcnNpb24gJiYgd2luZG93LmlzRGVhZGxpbmU7CiAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICBjb25maWc6IHsKICAgICAgICBoYW5kbGVyKG4yKSB7CiAgICAgICAgICBuMi50b3BSZXBseUxvdmVNaW5Db3VudCA9IE1hdGgudHJ1bmMobjIudG9wUmVwbHlMb3ZlTWluQ291bnQpOwogICAgICAgICAgaWYgKG4yLnRvcFJlcGx5TG92ZU1pbkNvdW50IDwgMCkgewogICAgICAgICAgICBuMi50b3BSZXBseUxvdmVNaW5Db3VudCA9IDE7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6bW9kZWxWYWx1ZSIsIG4yKTsKICAgICAgICB9LAogICAgICAgIGRlZXA6IHRydWUKICAgICAgfSwKICAgICAgImNvbmZpZy5sb29wQ2hlY2tOb3RpY2UiKG4yKSB7CiAgICAgICAgaWYgKG4yKSB7CiAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wQ2hlY2tOb3RpY2VJbnRlcnZhbCA9IDU7CiAgICAgICAgICB0aGlzLmNvbmZpZy53aGVuTmV3Tm90aWNlR2xpbW1lciA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbmZpZy5sb29wQ2hlY2tOb3RpY2VJbnRlcnZhbCA9IDA7CiAgICAgICAgICB0aGlzLmNvbmZpZy53aGVuTmV3Tm90aWNlR2xpbW1lciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jb25maWcuZGRXZWJob29rID0gIiI7CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93KG4yKSB7CiAgICAgICAgaWYgKG4yKSB7CiAgICAgICAgICBpZiAodGhpcy5jb25maWcudmVyc2lvbiA8IERlZmF1bHRWYWwuY3VycmVudFZlcnNpb24pIHsKICAgICAgICAgICAgJCgiLnYybmV4dC1uZXciKS5yZW1vdmUoKTsKICAgICAgICAgIH0KICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJ1bnNldCI7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBnb1Bvc3QoKSB7CiAgICAgICAgZmV0Y2goRGVmYXVsdFZhbC5ob3RVcmwgKyAibmV3LnR4dCIpLnRoZW4oYXN5bmMgKHIyKSA9PiB7CiAgICAgICAgICBsZXQgcjIyID0gYXdhaXQgcjIudGV4dCgpOwogICAgICAgICAgaWYgKHIyMikgewogICAgICAgICAgICBmdW5jdGlvbnMub3Blbk5ld1RhYihyMjIsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZnVuY3Rpb25zLm9wZW5OZXdUYWIoRGVmYXVsdFZhbC5naXQsIHRydWUpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKCgpID0+IGZ1bmN0aW9ucy5vcGVuTmV3VGFiKERlZmF1bHRWYWwuZ2l0LCB0cnVlKSk7CiAgICAgIH0sCiAgICAgIGNsb3NlKCkgewogICAgICAgIGlmICh3aW5kb3cuaXNEZWFkbGluZSkgewogICAgICAgICAgdGhpcy5jb25maWcudmVyc2lvbiA9IERlZmF1bHRWYWwuY3VycmVudFZlcnNpb247CiAgICAgICAgfQogICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpzaG93IiwgZmFsc2UpOwogICAgICB9LAogICAgICBleHBvcnRDb2xsZWN0TGlzdCgpIHsKICAgICAgICBpZiAoIXRoaXMuaXNMb2dpbikgewogICAgICAgICAgcmV0dXJuIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIuivt+WFiOeZu+W9le+8gSIgfSk7CiAgICAgICAgfQogICAgICAgIHRyeSB7CiAgICAgICAgICBsZXQgcnVuMiA9IGZ1bmN0aW9uKGkpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAgICAgJC5nZXQoYC9teS90b3BpY3M/cD0ke2l9YCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgYm9keSA9ICQoZnVuY3Rpb25zLmdlbkRvbUZyb21IdG1sU3RyaW5nKHJlcykpOwogICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gYm9keS5maW5kKCIucGFnZV9ub3JtYWwiKS5sYXN0KCkudGV4dCgpOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3RhbCA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICAgICAgdG90YWwgPSBOdW1iZXIodG90YWwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIGJvZHkuZmluZCgiLnRvcGljLWxpbmsiKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICBsZXQgYSA9IGZ1bmN0aW9ucy5wYXJzZUEodGhpcyk7CiAgICAgICAgICAgICAgICAgIGxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGEudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgdXJsOiBsb2NhdGlvbi5vcmlnaW4gKyAiL3QvIiArIGEuaWQKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlc29sdmUoeyBsaXN0LCB0b3RhbCB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgICAgbGV0IGFsbExpc3QgPSBbXTsKICAgICAgICAgIHRoaXMuZXhwb3J0TG9hZGluZyA9IHRydWU7CiAgICAgICAgICBydW4yKDEpLnRoZW4oYXN5bmMgKHIyKSA9PiB7CiAgICAgICAgICAgIGFsbExpc3QgPSBhbGxMaXN0LmNvbmNhdChyMi5saXN0KTsKICAgICAgICAgICAgaWYgKHIyLnRvdGFsID4gMSkgewogICAgICAgICAgICAgIGxldCBnZXRMaXN0ID0gW107CiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDI7IGkgPD0gcjIudG90YWw7IGkrKykgewogICAgICAgICAgICAgICAgZ2V0TGlzdC5wdXNoKHJ1bjIoaSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsZXQgYiA9IGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChnZXRMaXN0KTsKICAgICAgICAgICAgICBhbGxMaXN0ID0gYWxsTGlzdC5jb25jYXQoYi5tYXAoKHYpID0+IHYudmFsdWUubGlzdCkuZmxhdCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zb2xlLmxvZygiYWxsIiwgYWxsTGlzdCk7CiAgICAgICAgICAgIGxldCBwb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAgICAgICAgIHBvbS5zZXRBdHRyaWJ1dGUoImhyZWYiLCAiZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsIiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShhbGxMaXN0LCBudWxsLCAyKSkpOwogICAgICAgICAgICBwb20uc2V0QXR0cmlidXRlKCJkb3dubG9hZCIsICJWMkVYLeaUtuiXjy5qc29uIik7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkgewogICAgICAgICAgICAgIGxldCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpOwogICAgICAgICAgICAgIGV2ZW50LmluaXRFdmVudCgiY2xpY2siLCB0cnVlLCB0cnVlKTsKICAgICAgICAgICAgICBwb20uZGlzcGF0Y2hFdmVudChldmVudCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcG9tLmNsaWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5leHBvcnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJzdWNjZXNzIiwgdGV4dDogIuaUtuiXj+WIl+ihqOWvvOWHuuaIkOWKn++8gSIgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlMikgewogICAgICAgICAgdGhpcy5leHBvcnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi5pS26JeP5YiX6KGo5a+85Ye65aSx6LSl77yBIiB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltcG9ydENvbGxlY3RMaXN0KGUyKSB7CiAgICAgICAgaWYgKCF0aGlzLmlzTG9naW4pIHsKICAgICAgICAgIHJldHVybiBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAid2FybmluZyIsIHRleHQ6ICLor7flhYjnmbvlvZXvvIEiIH0pOwogICAgICAgIH0KICAgICAgICBsZXQgZmlsZSA9IGUyLnRhcmdldC5maWxlc1swXTsKICAgICAgICBsZXQgZmlsZU5hbWUgPSBmaWxlLm5hbWUuc3BsaXQoIi4iKS5wb3AoKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGNvbnNvbGUubG9nKCJlIiwgZmlsZSwgZmlsZU5hbWUpOwogICAgICAgIGlmIChmaWxlTmFtZSAhPT0gImpzb24iKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi6K+35a+85YWlIGpzb24g5qC85byP5paH5Lu277yBIiB9KTsKICAgICAgICB9CiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gYXN5bmMgKCkgPT4gewogICAgICAgICAgaWYgKHJlYWRlci5yZXN1bHQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBsZXQgbGlzdCA9IEpTT04ucGFyc2UocmVhZGVyLnJlc3VsdCk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cobGlzdCk7CiAgICAgICAgICAgICAgdGhpcy5pbXBvcnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gbGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLmVuZFRpbWUgPSBNYXRoLmZsb29yKChsaXN0Lmxlbmd0aCAtIGkpICogMTAgLyA2MCk7CiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gaTsKICAgICAgICAgICAgICAgIGxldCB2ID0gbGlzdFtpXTsKICAgICAgICAgICAgICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOwogICAgICAgICAgICAgICAgYS5ocmVmID0gdi51cmw7CiAgICAgICAgICAgICAgICBsZXQgeyBpZCB9ID0gZnVuY3Rpb25zLnBhcnNlQShhKTsKICAgICAgICAgICAgICAgIGEucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICBsZXQgYXBpUmVzID0gYXdhaXQgZmV0Y2godi51cmwpOwogICAgICAgICAgICAgICAgbGV0IGh0bWxUZXh0ID0gYXdhaXQgYXBpUmVzLnRleHQoKTsKICAgICAgICAgICAgICAgIGxldCBoYXNQZXJtaXNzaW9uID0gaHRtbFRleHQuc2VhcmNoKCLkvaDopoHmn6XnnIvnmoTpobXpnaLpnIDopoHlhYjnmbvlvZUiKTsKICAgICAgICAgICAgICAgIGlmIChoYXNQZXJtaXNzaW9uID4gLTEgfHwgYXBpUmVzLnN0YXR1cyA9PT0gNDA0IHx8IGFwaVJlcy5zdGF0dXMgPT09IDQwNCB8fCBhcGlSZXMucmVkaXJlY3RlZCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5peg5p2D6ZmQIiwgdi51cmwsIHYudGl0bGUpOwogICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChodG1sVGV4dC5zZWFyY2goIuWKoOWFpeaUtuiXjyIpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuacquaUtuiXjz09PT09PT09Pj4iLCB2LnVybCwgdi50aXRsZSk7CiAgICAgICAgICAgICAgICAgIGxldCBvbmNlID0gYXdhaXQgd2luZG93LmZldGNoT25jZSgpOwogICAgICAgICAgICAgICAgICBsZXQgdXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS9mYXZvcml0ZS90b3BpYy8ke2lkfT9vbmNlPSR7b25jZX1gOwogICAgICAgICAgICAgICAgICBhd2FpdCBmZXRjaCh1cmwpOwogICAgICAgICAgICAgICAgICBhd2FpdCBmdW5jdGlvbnMuc2xlZXAoMWU0KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlt7LmlLbol48iLCB2LnVybCwgdi50aXRsZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhd2FpdCBmdW5jdGlvbnMuc2xlZXAoMWUzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgdGhpcy5pbXBvcnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5pbXBvcnRPayA9IHRydWU7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUzKSB7CiAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogImVycm9yIiwgdGV4dDogIuaVsOaNruino+aekOWksei0pe+8gSIgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLmlbDmja7kuLrnqbrvvIEiIH0pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgdGhpcy5zaG93SW5wdXQgPSBmYWxzZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuc2hvd0lucHV0ID0gdHJ1ZTsKICAgICAgICB9LCAyMDApOwogICAgICB9CiAgICB9CiAgfTsKICBjb25zdCBfd2l0aFNjb3BlSWQkYSA9IChuMikgPT4gKHZ1ZS5wdXNoU2NvcGVJZCgiZGF0YS12LTI5ZDg4MTk5IiksIG4yID0gbjIoKSwgdnVlLnBvcFNjb3BlSWQoKSwgbjIpOwogIGNvbnN0IF9ob2lzdGVkXzEkZiA9IHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAic2V0dGluZy1tb2RhbCBtb2RhbCIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzIkYyA9IHsgY2xhc3M6ICJtb2RhbC1yb290IiB9OwogIGNvbnN0IF9ob2lzdGVkXzMkYSA9IHsgY2xhc3M6ICJtb2RhbC1oZWFkZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfNCRhID0geyBjbGFzczogInRpdGxlIiB9OwogIGNvbnN0IF9ob2lzdGVkXzUkOCA9IHsgc3R5bGU6IHsgImZvbnQtc2l6ZSI6ICIyMHB4IiwgInRleHQtZGVjb3JhdGlvbiI6ICJ1bmRlcmxpbmUiIH0gfTsKICBjb25zdCBfaG9pc3RlZF82JDggPSBbImhyZWYiXTsKICBjb25zdCBfaG9pc3RlZF83JDcgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImxvZyIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzgkNyA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogIm5ldyIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF85JDcgPSB7IGNsYXNzOiAiYm9keSIgfTsKICBjb25zdCBfaG9pc3RlZF8xMCQ3ID0geyBjbGFzczogImxlZnQiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTEkNyA9IHsgY2xhc3M6ICJ0YWJzIiB9OwogIGNvbnN0IF9ob2lzdGVkXzEyJDcgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5YiX6KGoIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMyQ3ID0gWwogICAgX2hvaXN0ZWRfMTIkNwogIF07CiAgY29uc3QgX2hvaXN0ZWRfMTQkNiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLkuLvpopgiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE1JDUgPSBbCiAgICBfaG9pc3RlZF8xNCQ2CiAgXTsKICBjb25zdCBfaG9pc3RlZF8xNiQ1ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuWFtuS7liIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTckNSA9IFsKICAgIF9ob2lzdGVkXzE2JDUKICBdOwogIGNvbnN0IF9ob2lzdGVkXzE4JDUgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5YWz5LqOIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xOSQ0ID0gWwogICAgX2hvaXN0ZWRfMTgkNQogIF07CiAgY29uc3QgX2hvaXN0ZWRfMjAkMyA9IHsgY2xhc3M6ICJpY29ucyIgfTsKICBjb25zdCBfaG9pc3RlZF8yMSQzID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfMjIkMyA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzIzJDMgPSB7IGNsYXNzOiAibW9kYWwtY29udGVudCIgfTsKICBjb25zdCBfaG9pc3RlZF8yNCQyID0geyBjbGFzczogInNjcm9sbCIgfTsKICBjb25zdCBfaG9pc3RlZF8yNSQxID0geyBrZXk6IDAgfTsKICBjb25zdCBfaG9pc3RlZF8yNiQxID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF8yNyQxID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi5YiX6KGo5bGV56S65pa55byPIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8yOCQxID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMjkkMSA9IHsgY2xhc3M6ICJyYWRpby1ncm91cDIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMzAkMSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImRlc2MgZGFuZ2VyIiB9LCAiIOaPkOekuu+8muatpOmhuemcgOimgeWIt+aWsOmhtemdouaJjeiDveeUn+aViCAiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzMxJDEgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzMyJDEgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLkuLvpopjlvLnmoYbmmL7npLoiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzMzJDEgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF8zNCQxID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAiZGVzYyIgfSwgWwogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDlvIDlkK/mraTpgInpobnlkI7vvIzkuLvpopjkvJoiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgeyBjbGFzczogImRhbmdlciIgfSwgIuWni+e7iCIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIuS7peW8ueahhueahOaWueW8j+aYvuekuuOAguS8mOWFiOe6p+Wkp+S6juKAnOaWsOagh+etvumhteaJk+W8gOmTvuaOpeKAnSAiKQogIF0sIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMzUkMSA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfMzYkMSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuaWsOagh+etvumhteaJk+W8gOmTvuaOpSIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMzckMSA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzM4JDEgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIiB9LCAiIOe9kemhteS4iuaJgOaciemTvuaOpemAmui/h+aWsOagh+etvumhteaJk+W8gCAiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzM5JDEgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzQwJDEgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLmiZPlvIDmlrDmoIfnrb7pobXml7bnq4vljbPliIfmjaLov4fljrsiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzQxJDEgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF80MiQxID0geyBrZXk6IDEgfTsKICBjb25zdCBfaG9pc3RlZF80MyQxID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF80NCQxID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi5Zue5aSN57G75Z6LIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF80NSQxID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfNDYkMSA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfNDckMSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuivpuaDhemhteS4reaYvuekuuKAnOWbnuWkjeexu+Wei+KAnSIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNDggPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF80OSA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfNTAgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLmm7/mjaJJbWd1cua6kCIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNTEgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF81MiA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfNTMgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLljZXni6zmiZPlvIDkuLvpopjml7bpu5jorqTmmL7npLrmpbzkuK3mpbwiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzU0ID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfNTUgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIiB9LCAiIOWNleeLrOaJk+W8gOi/meenjeWcsOWdgCBodHRwczovL3YyZXguY29tL3QveHh4eCDml7bvvIzmmK/lkKbpu5jorqTmmL7npLrmpbzkuK3mpbwgIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF81NiA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfNTcgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLngrnlh7vlt6blj7PkuKTkvqfpgI/mmI7lpITlhbPpl63kuLvpopjor6bmg4XlvLnmoYYiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzU4ID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfNTkgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzYwID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi5q2j5paH6LaF6ZW/6Ieq5Yqo5oqY5Y+gIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF82MSA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzYyID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF82MyA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuS4u+mimOWuveW6piIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNjQgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF82NSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImRlc2MiIH0sIFsKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlVGV4dFZOb2RlKCIg5pyq6K6+5a6a5q2k5YC85pe277yM5YiZ6buY6K6k5a695bqm5Li6NzdyZW3jgILmjqXlj5flkIjms5XnmoR3aWR0aOWAvO+8miAiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICBocmVmOiAiaHR0cHM6Ly92dWUzanMuY24vaW50ZXJ2aWV3L2Nzcy9lbV9weF9yZW1fdmhfdncuaHRtbCMlRTQlQkElOEMlRTMlODAlODElRTUlOEQlOTUlRTQlQkQlOEQiLAogICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICB9LCAicmVt44CBcHjjgIF2d+OAgXZoKOeCueatpOafpeeciykiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlVGV4dFZOb2RlKCLjgIIgdnfku6PooajlsY/luZXnmb7liIbmr5TvvIzlpoLmg7PopoHlsY/luZXnmoQ2NiXvvIzor7floavlhpk2NnZ3ICIpCiAgXSwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF82NiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImRlc2MiIH0sICIg5o+Q56S677ya5q2k6aG56K6+572u5Lul5ZCO77yM5Y2V54us5omT5byA6K+m5oOF6aG15pe25Lya5Ye6546w5Li76aKY56qB54S25Y+Y5a6977yI56qE77yJ55qE6Zeu6aKY77yM5pqC5pe25peg6KejICIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNjcgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIGRhbmdlciIgfSwgIiDmj5DnpLrvvJrmraTpobnpnIDopoHliLfmlrDpobXpnaLmiY3og73nlJ/mlYggIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF82OCA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogInJvdyIgfSwgWwogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIm1haW4tdGl0bGUiIH0sICLpq5jotZ7lm57lpI0iKQogIF0sIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNjkgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzcwID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi5pi+56S66auY6LWe5Zue5aSNIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF83MSA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzcyID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF83MyA9IHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9OwogIGNvbnN0IF9ob2lzdGVkXzc0ID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfNzUgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzc2ID0geyBjbGFzczogIml0ZW0tdGl0bGUiIH07CiAgY29uc3QgX2hvaXN0ZWRfNzcgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF83OCA9IHsga2V5OiAyIH07CiAgY29uc3QgX2hvaXN0ZWRfNzkgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJyb3ciIH0sIFsKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJtYWluLXRpdGxlIiB9LCAi5pS26JeP5YiX6KGoIikKICBdLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzgwID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF84MSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLCoMKgwqAiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzgyID0geyBzdHlsZTogeyAiZGlzcGxheSI6ICJpbmxpbmUtZmxleCIsICJvdmVyZmxvdyI6ICJoaWRkZW4iLCAicG9zaXRpb24iOiAicmVsYXRpdmUiIH0gfTsKICBjb25zdCBfaG9pc3RlZF84MyA9IHsKICAgIGtleTogMCwKICAgIHN0eWxlOiB7ICJkaXNwbGF5IjogImlubGluZSIsICJtYXJnaW4tbGVmdCI6ICIxMHB4IiwgImZvbnQtc2l6ZSI6ICIxOHB4IiB9CiAgfTsKICBjb25zdCBfaG9pc3RlZF84NCA9IHsKICAgIGtleTogMSwKICAgIHN0eWxlOiB7ICJkaXNwbGF5IjogImlubGluZSIsICJtYXJnaW4tbGVmdCI6ICIxMHB4IiB9CiAgfTsKICBjb25zdCBfaG9pc3RlZF84NSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImRlc2MiIH0sICIg6buY6K6k5a+85Ye65Li6IGpzb24g5paH5Lu277yM5aaC6ZyA5YW25LuW5qC85byP77yM6K+35L2/55SoIENoYXRHcHQvRGVlcHNlZWsg6L2s5o2iICIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfODYgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJsaW5lIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzg3ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAicm93IiB9LCBbCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAibWFpbi10aXRsZSIgfSwgIuWFtuS7liIpCiAgXSwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF84OCA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfODkgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLnlKjmiLfmiZPmoIfnrb4o6Leo5bmz5Y+w77yM5pWw5o2u5L+d5a2Y5Zyo6Ieq5bex55qE6K6w5LqL5pysKe+8miIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfOTAgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF85MSA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfOTIgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLliJLor43mmL7npLpCYXNlNjTop6PnoIHmoYYiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzkzID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfOTQgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzk1ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi6Ieq5Yqo562+5YiwIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF85NiA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzk3ID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF85OCA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuiHquWumuS5ieiDjOaZryIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfOTkgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF8xMDAgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIiB9LCBbCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOacquiuvuWumuatpOWAvOaXtu+8jOWImeiEmuacrOWwseS7gOS5iOmDveS4jeWBmu+8jFbnq5nlpKfpg6jliIbpobXpnaLog4zmma/popzoibLpu5jorqTkuLogI2UyZTJlMu+8jOWwkemDqOWIhumhtemdouacieeJueWumuiDjOaZr+OAguaOpeWPl+S4gOS4quWQiOazleeahGNzcyBjb2xvcuWAvO+8muS+i+WmgiIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgIGhyZWY6ICJodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy96aC1DTi9kb2NzL1dlYi9DU1MvY29sb3JfdmFsdWUiLAogICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICB9LCAicmVk44CBI2ZmZmZmZuOAgXJnYigyMjIsMjIyLDIyKSjngrnmraTmn6XnnIspIiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZVRleHRWTm9kZSgi562J562J44CCICIpCiAgXSwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMDEgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIGRhbmdlciIgfSwgIiDmj5DnpLrvvJrmraTpobnpnIDopoHliLfmlrDpobXpnaLmiY3og73nlJ/mlYggIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMDIgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzEwMyA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuaUtuiXj+aXtuaPkOmGkua3u+WKoOWIsOS5puetviIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTA0ID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTA1ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAiZGVzYyIgfSwgIiBW56uZ5biQ5Y+35LiA5pem6KKr5bCB56aB77yM5YiZ5peg5rOV55m75b2V77yM5peg5rOV5p+l55yL6LSm5Y+35pS26JeP5LqGICIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTA2ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAibGluZSIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMDcgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJyb3ciIH0sIFsKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJtYWluLXRpdGxlIiB9LCAi5raI5oGv6YCa55+lIikKICBdLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzEwOCA9IHsgY2xhc3M6ICJyb3ciIH07CiAgY29uc3QgX2hvaXN0ZWRfMTA5ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIHsgY2xhc3M6ICJpdGVtLXRpdGxlIiB9LCAi5o6l566h5pyq6K+75o+Q6YaS6aG16Z2iIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMTAgPSB7IGNsYXNzOiAid3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF8xMTEgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzExMiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuWumuaXtuafpeivouacquivu+aPkOmGkiIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTEzID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTE0ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAiZGVzYyIgfSwgIiDlvIDlkK/mraTlip/og73kvJrluKbmnaXku6XkuIvlvbHlk43vvJogMeOAgeS9oOeahElQ5Y+v6IO95Lya6KKr5bCB56aBIDLjgIHmtojogJfmm7TlpJrmtYHph4/vvIznu5nmnI3liqHlmajluKbmnaXmm7TlpKfnmoTotJ/mi4UgM+OAgeS9oOeahFbnq5nmtY/op4jov5vluqbmnaHkvJrlj5jlv6sgIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMTUgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogInN1Yi1jb250ZW50IgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTE2ID0geyBjbGFzczogInJvdyIgfTsKICBjb25zdCBfaG9pc3RlZF8xMTcgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgeyBjbGFzczogIml0ZW0tdGl0bGUiIH0sICLmn6Xor6Lpl7TpmpQiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzExOCA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzExOSA9IFsidmFsdWUiXTsKICBjb25zdCBfaG9pc3RlZF8xMjAgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJGEoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJkZXNjIiB9LCAiIOiuvue9ruWAvOWkquWwj++8jOS8muWvvOiHtOmikee5geivt+axgu+8jOS9oOeahElQ5Y+v6IO95Lya6KKr5bCB56aB77yM5bu66K6u6K6+572u5Li6Ne+8jOWNs+avj+asoTXliIbpkp/mn6Xor6LkuIDmrKEgIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMjEgPSB7IGNsYXNzOiAicm93IiB9OwogIGNvbnN0IF9ob2lzdGVkXzEyMiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIuW9k+acieaWsOacquivu+aPkOmGkuaXtu+8jOe9kemhteagh+mimOmXqueDgSIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTIzID0geyBjbGFzczogIndyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTI0ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAicm93IiB9LCBbCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGFiZWwiLCB7IGNsYXNzOiAiaXRlbS10aXRsZSIgfSwgIumSiemSiVdlYmhvb2vlnLDlnYAiKQogIF0sIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTI1ID0geyBjbGFzczogImRlc2MiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTI2ID0gWyJ2YWx1ZSJdOwogIGNvbnN0IF9ob2lzdGVkXzEyNyA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkYSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImRlc2MgZGFuZ2VyIiB9LCAiIOaPkOekuu+8muatpOmhuemcgOimgeWIt+aWsOmhtemdouaJjeiDveeUn+aViCAiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzEyOCA9IHsga2V5OiAzIH07CiAgY29uc3QgX2hvaXN0ZWRfMTI5ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCRhKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsICJWMkVYIE5leHQiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzEzMCA9IHsgY2xhc3M6ICJwcm9qZWN0LWRlc2MiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTMxID0geyBzdHlsZTogeyAibGluZS1oZWlnaHQiOiAiMiIgfSB9OwogIGNvbnN0IF9ob2lzdGVkXzEzMiA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzEzMyA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzEzNCA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzEzNSA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzEzNiA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzEzNyA9IFsiaHJlZiJdOwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyJDgoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgICBjb25zdCBfY29tcG9uZW50X0ljb24gPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiSWNvbiIpOwogICAgY29uc3QgX2NvbXBvbmVudF9CYXNlU3dpdGNoID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkJhc2VTd2l0Y2giKTsKICAgIGNvbnN0IF9jb21wb25lbnRfQmFzZVNlbGVjdCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJCYXNlU2VsZWN0Iik7CiAgICBjb25zdCBfY29tcG9uZW50X0Jhc2VCdXR0b24gPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiQmFzZUJ1dHRvbiIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Ob3RpY2VNb2RhbCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJOb3RpY2VNb2RhbCIpOwogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS5UcmFuc2l0aW9uLCBudWxsLCB7CiAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAkcHJvcHMuc2hvdyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEkZiwgWwogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICBjbGFzczogIm1hc2siLAogICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAkb3B0aW9ucy5jbG9zZSAmJiAkb3B0aW9ucy5jbG9zZSguLi5hcmdzKSkKICAgICAgICAgIH0pLAogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiRjLCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMkYSwgWwogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQkYSwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOiEmuacrOiuvue9riAiKSwKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUkOCwgWwogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICAgIGhyZWY6ICRvcHRpb25zLkRlZmF1bHRWYWwubW9iaWxlU2NyaXB0LAogICAgICAgICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICAgICAgICAgICAgfSwgIijmiYvmnLpBcHDlt7Llj5HluIPvvIzmlK/mjIHmpbzkuK3mpbzvvIEpIiwgOCwgX2hvaXN0ZWRfNiQ4KQogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgICAgICBpY29uOiAiaWM6cm91bmQtY2xvc2UiLAogICAgICAgICAgICAgICAgb25DbGljazogJG9wdGlvbnMuY2xvc2UKICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm9uQ2xpY2siXSkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgICRvcHRpb25zLmlzTmV3ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNyQ3LCBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiYSIsIHsKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKC4uLmFyZ3MpID0+ICRvcHRpb25zLmdvUG9zdCAmJiAkb3B0aW9ucy5nb1Bvc3QoLi4uYXJncykpCiAgICAgICAgICAgICAgfSwgIk5ld++8muaJi+acukFwcOeOsOW3suWPkeW4g++8jOaUr+aMgealvOS4realvO+8gVBD6ISa5pys5paw5aKe5Y6G5Y+y5pyA54Ot5pWw5o2u44CBaW1ndXLmjaLmupDlip/og73vvIHngrnlh7vmn6XnnIvor6bnu4bku4vnu40iKSwKICAgICAgICAgICAgICBfaG9pc3RlZF84JDcKICAgICAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzkkNywgWwogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwJDcsIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExJDcsIFsKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0YWIiLCAkZGF0YS50YWJJbmRleCA9PT0gMCAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gJGRhdGEudGFiSW5kZXggPSAwKQogICAgICAgICAgICAgICAgICB9LCBfaG9pc3RlZF8xMyQ3LCAyKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0YWIiLCAkZGF0YS50YWJJbmRleCA9PT0gMSAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gKCRldmVudCkgPT4gJGRhdGEudGFiSW5kZXggPSAxKQogICAgICAgICAgICAgICAgICB9LCBfaG9pc3RlZF8xNSQ1LCAyKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0YWIiLCAkZGF0YS50YWJJbmRleCA9PT0gMiAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gKCRldmVudCkgPT4gJGRhdGEudGFiSW5kZXggPSAyKQogICAgICAgICAgICAgICAgICB9LCBfaG9pc3RlZF8xNyQ1LCAyKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0YWIiLCAkZGF0YS50YWJJbmRleCA9PT0gMyAmJiAiYWN0aXZlIl0pLAogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gKCRldmVudCkgPT4gJGRhdGEudGFiSW5kZXggPSAzKQogICAgICAgICAgICAgICAgICB9LCBfaG9pc3RlZF8xOSQ0LCAyKQogICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMCQzLCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgaHJlZjogJG9wdGlvbnMuRGVmYXVsdFZhbC5naXQsCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIgogICAgICAgICAgICAgICAgICB9LCBbCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAibWRpOmdpdGh1YiIgfSkKICAgICAgICAgICAgICAgICAgXSwgOCwgX2hvaXN0ZWRfMjEkMyksCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgaHJlZjogJG9wdGlvbnMuRGVmYXVsdFZhbC5ob21lVXJsLAogICAgICAgICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0ljb24sIHsgaWNvbjogImljb25hbW9vbjpob21lLWxpZ2h0IiB9KQogICAgICAgICAgICAgICAgICBdLCA4LCBfaG9pc3RlZF8yMiQzKQogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMyQzLCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yNCQyLCBbCiAgICAgICAgICAgICAgICAgICRkYXRhLnRhYkluZGV4ID09PSAwID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMjUkMSwgWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI2JDEsIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzI3JDEsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yOCQxLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzI5JDEsIFsKICAgICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsicmFkaW8iLCAkZGF0YS5jb25maWcudmlld1R5cGUgPT09ICJzaW1wbGUiID8gImFjdGl2ZSIgOiAiIl0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcudmlld1R5cGUgPSAic2ltcGxlIikKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAi566A5rSBICIsIDIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJyYWRpbyIsICRkYXRhLmNvbmZpZy52aWV3VHlwZSA9PT0gInRhYmxlIiA/ICJhY3RpdmUiIDogIiJdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLnZpZXdUeXBlID0gInRhYmxlIikKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAi6KGo5qC8ICIsIDIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJyYWRpbyIsICRkYXRhLmNvbmZpZy52aWV3VHlwZSA9PT0gImNhcmQiID8gImFjdGl2ZSIgOiAiIl0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSAoJGV2ZW50KSA9PiAkZGF0YS5zaG93Tm90aWNlID0gdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAi5Y2h54mHICIsIDIpCiAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzMwJDEsCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzEkMSwgWwogICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMzIkMSwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMzJDEsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5jbGlja1Bvc3RJdGVtT3BlbkRldGFpbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs5XSB8fCAoX2NhY2hlWzldID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLmNsaWNrUG9zdEl0ZW1PcGVuRGV0YWlsID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMzQkMSwKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zNSQxLCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8zNiQxLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzckMSwgWwogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlU3dpdGNoLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuY29uZmlnLm5ld1RhYk9wZW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTBdIHx8IChfY2FjaGVbMTBdID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLm5ld1RhYk9wZW4gPSAkZXZlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8zOCQxLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzM5JDEsIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzQwJDEsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80MSQxLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcubmV3VGFiT3BlbkFjdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxMV0gfHwgKF9jYWNoZVsxMV0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcubmV3VGFiT3BlbkFjdGl2ZSA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgICAgICAkZGF0YS50YWJJbmRleCA9PT0gMSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzQyJDEsIFsKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80MyQxLCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF80NCQxLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDUkMSwgWwogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlU2VsZWN0LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImRpc3BsYXktdHlwZSI6ICRkYXRhLmNvbmZpZy5jb21tZW50RGlzcGxheVR5cGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOmRpc3BsYXlUeXBlIjogX2NhY2hlWzEyXSB8fCAoX2NhY2hlWzEyXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5jb21tZW50RGlzcGxheVR5cGUgPSAkZXZlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsiZGlzcGxheS10eXBlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ2JDEsIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzQ3JDEsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80OCwgWwogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlU3dpdGNoLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuY29uZmlnLnNob3dUb29sYmFyLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzEzXSB8fCAoX2NhY2hlWzEzXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5zaG93VG9vbGJhciA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ5LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF81MCwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUxLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcucmVwbGFjZUltZ3VyLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE0XSB8fCAoX2NhY2hlWzE0XSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5yZXBsYWNlSW1ndXIgPSAkZXZlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81MiwgWwogICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNTMsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81NCwgWwogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlU3dpdGNoLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuY29uZmlnLmF1dG9PcGVuRGV0YWlsLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzE1XSB8fCAoX2NhY2hlWzE1XSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5hdXRvT3BlbkRldGFpbCA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzU1LAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU2LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF81NywKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU4LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcuY2xvc2VQb3N0RGV0YWlsQnlTcGFjZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxNl0gfHwgKF9jYWNoZVsxNl0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcuY2xvc2VQb3N0RGV0YWlsQnlTcGFjZSA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzU5LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF82MCwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYxLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcuY29udGVudEF1dG9Db2xsYXBzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxN10gfHwgKF9jYWNoZVsxN10gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcuY29udGVudEF1dG9Db2xsYXBzZSA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYyLCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF82MywKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzY0LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMThdIHx8IChfY2FjaGVbMThdID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLnBvc3RXaWR0aCA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgNTEyKSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIFt2dWUudk1vZGVsVGV4dCwgJGRhdGEuY29uZmlnLnBvc3RXaWR0aF0KICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNjUsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNjYsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNjcsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfNjgsCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNjksIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzcwLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzEsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5zaG93VG9wUmVwbHksCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTldIHx8IChfY2FjaGVbMTldID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLnNob3dUb3BSZXBseSA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcyLCBbCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJsYWJlbCIsIF9ob2lzdGVkXzczLCAi5pyA5aSa5pi+56S6IiArIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJGRhdGEuY29uZmlnLnRvcFJlcGx5Q291bnQpICsgIuS4qumrmOi1nuWbnuWkjSIsIDEpLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzQsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzIwXSB8fCAoX2NhY2hlWzIwXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy50b3BSZXBseUNvdW50ID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA1MTIpLCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgW3Z1ZS52TW9kZWxUZXh0LCAkZGF0YS5jb25maWcudG9wUmVwbHlDb3VudF0KICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzUsIFsKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxhYmVsIiwgX2hvaXN0ZWRfNzYsICLmnIDlsJHpnIDopoEiICsgdnVlLnRvRGlzcGxheVN0cmluZygkZGF0YS5jb25maWcudG9wUmVwbHlMb3ZlTWluQ291bnQpICsgIuS4qui1nuaJjeiDveiiq+WIpOWumuS4uumrmOi1niIsIDEpLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNzcsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImlucHV0IiwgewogICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzIxXSB8fCAoX2NhY2hlWzIxXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy50b3BSZXBseUxvdmVNaW5Db3VudCA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgNTEyKSwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIFt2dWUudk1vZGVsVGV4dCwgJGRhdGEuY29uZmlnLnRvcFJlcGx5TG92ZU1pbkNvdW50XQogICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgJGRhdGEudGFiSW5kZXggPT09IDIgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF83OCwgWwogICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzc5LAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgwLCBbCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VCdXR0b24sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAkb3B0aW9ucy5leHBvcnRDb2xsZWN0TGlzdCwKICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiAkZGF0YS5leHBvcnRMb2FkaW5nCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLlr7zlh7oiKQogICAgICAgICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgICAgICAgICAgfSwgOCwgWyJvbkNsaWNrIiwgImxvYWRpbmciXSksCiAgICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzgxLAogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF84MiwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VCdXR0b24sIHsgbG9hZGluZzogJGRhdGEuaW1wb3J0TG9hZGluZyB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIuWvvOWFpe+8jOW5tuaUtuiXjyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA4LCBbImxvYWRpbmciXSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGEuc2hvd0lucHV0ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZmlsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyAicG9zaXRpb24iOiAiYWJzb2x1dGUiLCAid2lkdGgiOiAiMTAwJSIsICJoZWlnaHQiOiAiMTAwcHgiLCAib3BhY2l0eSI6ICIwIiB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U6IF9jYWNoZVsyMl0gfHwgKF9jYWNoZVsyMl0gPSAoLi4uYXJncykgPT4gJG9wdGlvbnMuaW1wb3J0Q29sbGVjdExpc3QgJiYgJG9wdGlvbnMuaW1wb3J0Q29sbGVjdExpc3QoLi4uYXJncykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgMzIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgICAgICAkZGF0YS5pbXBvcnRMb2FkaW5nID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfODMsICIg5a+85YWl5Lit77yaIiArIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJGRhdGEuaW5kZXgpICsgIi8iICsgdnVlLnRvRGlzcGxheVN0cmluZygkZGF0YS50b3RhbCkgKyAiIO+8jOWkp+e6pumcgOimgSIgKyB2dWUudG9EaXNwbGF5U3RyaW5nKCRkYXRhLmVuZFRpbWUpICsgIuWIhumSn++8jOWvvOWFpeWujOaIkOWJjeivt+WLv+WFs+mXreWSjOWIt+aWsOacrOmhtemdoiAiLCAxKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgJGRhdGEuaW1wb3J0T2sgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84NCwgIiDlr7zlhaXlrozmiJAgIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfODUsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfODYsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfODcsCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfODgsIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzg5LAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTAsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5vcGVuVGFnLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzIzXSB8fCAoX2NhY2hlWzIzXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5vcGVuVGFnID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTEsIFsKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzkyLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOTMsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5iYXNlNjQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjRdIHx8IChfY2FjaGVbMjRdID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLmJhc2U2NCA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk0LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF85NSwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk2LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcuYXV0b1NpZ25pbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyNV0gfHwgKF9jYWNoZVsyNV0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcuYXV0b1NpZ25pbiA9ICRldmVudCkKICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIl0pCiAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk3LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF85OCwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzk5LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAidGV4dCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjZdIHx8IChfY2FjaGVbMjZdID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLmN1c3RvbUJnQ29sb3IgPSAkZXZlbnQpCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDUxMiksIFsKICAgICAgICAgICAgICAgICAgICAgICAgICBbdnVlLnZNb2RlbFRleHQsICRkYXRhLmNvbmZpZy5jdXN0b21CZ0NvbG9yXQogICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMDAsCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTAxLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwMiwgWwogICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTAzLAogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTA0LCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcuY29sbGVjdEJyb3dzZXJOb3RpY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMjddIHx8IChfY2FjaGVbMjddID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnLmNvbGxlY3RCcm93c2VyTm90aWNlID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTA1LAogICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzEwNiwKICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMDcsCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTA4LCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMDksCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMTAsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5ub3RpY2UudGFrZU92ZXJOb3RpY2VQYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzI4XSB8fCAoX2NhY2hlWzI4XSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5ub3RpY2UudGFrZU92ZXJOb3RpY2VQYWdlID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTExLCBbCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMTIsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMTMsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZVN3aXRjaCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzI5XSB8fCAoX2NhY2hlWzI5XSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTE0LAogICAgICAgICAgICAgICAgICAgICRkYXRhLmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTE1LCBbCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMTYsIFsKICAgICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTE3LAogICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMTgsIFsKICAgICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJudW1iZXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICRkYXRhLmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlSW50ZXJ2YWwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IF9jYWNoZVszMF0gfHwgKF9jYWNoZVszMF0gPSAoZTIpID0+ICRkYXRhLmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlSW50ZXJ2YWwgPSBlMi50YXJnZXQudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgIm1hcmdpbi1yaWdodCI6ICIxcmVtIiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgNDAsIF9ob2lzdGVkXzExOSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi5YiG6ZKfICIpCiAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzEyMCwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEyMSwgWwogICAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMjIsCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEyMywgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VTd2l0Y2gsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmNvbmZpZy5ub3RpY2Uud2hlbk5ld05vdGljZUdsaW1tZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszMV0gfHwgKF9jYWNoZVszMV0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcubm90aWNlLndoZW5OZXdOb3RpY2VHbGltbWVyID0gJGV2ZW50KQogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKQogICAgICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMjQsCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMjUsIFsKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAkZGF0YS5jb25maWcubm90aWNlLmRkV2ViaG9vaywKICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJsdXI6IF9jYWNoZVszMl0gfHwgKF9jYWNoZVszMl0gPSAoZTIpID0+ICRkYXRhLmNvbmZpZy5ub3RpY2UuZGRXZWJob29rID0gZTIudGFyZ2V0LnZhbHVlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyAid2lkdGgiOiAiMTAwJSIgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA0MCwgX2hvaXN0ZWRfMTI2KQogICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMjcKICAgICAgICAgICAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgICAgICAgICRkYXRhLnRhYkluZGV4ID09PSAzID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTI4LCBbCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTI5LAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzMCwgWwogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTMxLCBbCiAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFsKICAgICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLlrpjnvZHvvJoiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZjogJG9wdGlvbnMuRGVmYXVsdFZhbC5ob21lVXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMuRGVmYXVsdFZhbC5ob21lVXJsKSwgOSwgX2hvaXN0ZWRfMTMyKQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIkdpdEh1YuWcsOWdgO+8miIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAkb3B0aW9ucy5EZWZhdWx0VmFsLmdpdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLkRlZmF1bHRWYWwuZ2l0KSwgOSwgX2hvaXN0ZWRfMTMzKQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIlBD6ISa5pys5Zyw5Z2A77yaIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiYSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICRvcHRpb25zLkRlZmF1bHRWYWwucGNTY3JpcHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5EZWZhdWx0VmFsLnBjU2NyaXB0KSwgOSwgX2hvaXN0ZWRfMTM0KQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIkFwcOWcsOWdgO+8miIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAkb3B0aW9ucy5EZWZhdWx0VmFsLm1vYmlsZVNjcmlwdCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogIl9ibGFuayIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLkRlZmF1bHRWYWwubW9iaWxlU2NyaXB0KSwgOSwgX2hvaXN0ZWRfMTM1KQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIuWPjemmiDogIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiYSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICRvcHRpb25zLkRlZmF1bHRWYWwuaXNzdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICJfYmxhbmsiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5EZWZhdWx0VmFsLmlzc3VlKSwgOSwgX2hvaXN0ZWRfMTM2KQogICAgICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIuabtOaWsOaXpeW/l++8miIpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmOiAkb3B0aW9ucy5EZWZhdWx0VmFsLnBjTG9nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAiX2JsYW5rIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMuRGVmYXVsdFZhbC5wY0xvZyksIDksIF9ob2lzdGVkXzEzNykKICAgICAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgXSkKICAgICAgICAgIF0pLAogICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfTm90aWNlTW9kYWwsIHsKICAgICAgICAgICAgc2hvdzogJGRhdGEuc2hvd05vdGljZSwKICAgICAgICAgICAgIm9uVXBkYXRlOnNob3ciOiBfY2FjaGVbMzNdIHx8IChfY2FjaGVbMzNdID0gKCRldmVudCkgPT4gJGRhdGEuc2hvd05vdGljZSA9ICRldmVudCksCiAgICAgICAgICAgIG9uQ29uZmlybTogX2NhY2hlWzM0XSB8fCAoX2NhY2hlWzM0XSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZy52aWV3VHlwZSA9ICJjYXJkIikKICAgICAgICAgIH0sIG51bGwsIDgsIFsic2hvdyJdKQogICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgIF0pLAogICAgICBfOiAxCiAgICB9KTsKICB9CiAgY29uc3QgU2V0dGluZyA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kZiwgW1sicmVuZGVyIiwgX3NmY19yZW5kZXIkOF0sIFsiX19zY29wZUlkIiwgImRhdGEtdi0yOWQ4ODE5OSJdXSk7CiAgY29uc3QgX3NmY19tYWluJGUgPSB7CiAgICBuYW1lOiAiUG9pbnQiLAogICAgY29tcG9uZW50czogeyBQb3BDb25maXJtLCBJY29uIH0sCiAgICBpbmplY3Q6IFsicG9zdCIsICJpc0xvZ2luIl0sCiAgICBwcm9wczogewogICAgICBpdGVtOiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgfQogICAgICB9LAogICAgICBhcGlVcmw6ICIiCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgZGlzYWJsZWQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbS51c2VybmFtZSA9PT0gd2luZG93LnVzZXIudXNlcm5hbWUgfHwgdGhpcy5pdGVtLmlzVGhhbmtlZCB8fCAhdGhpcy5pc0xvZ2luOwogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICB0aGFua0Vycm9yKCkgewogICAgICAgIGlmICghdGhpcy5pc0xvZ2luKSB7CiAgICAgICAgICByZXR1cm4gZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi6K+35YWI55m75b2V77yBIiB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuaXRlbS51c2VybmFtZSA9PT0gd2luZG93LnVzZXIudXNlcm5hbWUpIHsKICAgICAgICAgIHJldHVybiBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAid2FybmluZyIsIHRleHQ6ICLkuI3og73mhJ/osKLoh6rlt7EiIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5pdGVtLmlzVGhhbmtlZCkgewogICAgICAgICAgcmV0dXJuIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIuW3sue7j+aEn+iwoui/h+S6hiIgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhc3luYyB0aGFuaygpIHsKICAgICAgICB0aGlzLiRlbWl0KCJhZGRUaGFuayIpOwogICAgICAgIGxldCB1cmwgPSBgJHtsb2NhdGlvbi5vcmlnaW59L3RoYW5rLyR7dGhpcy5hcGlVcmx9P29uY2U9JHt0aGlzLnBvc3Qub25jZX1gOwogICAgICAgICQucG9zdCh1cmwpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKCFyZXMuc3VjY2VzcykgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJyZWNhbGxUaGFuayIpOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiByZXMubWVzc2FnZSB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFRlJFU0hfT05DRSwgcmVzLm9uY2UpOwogICAgICAgIH0sIChlcnIpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoInJlY2FsbFRoYW5rIik7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi5oSf6LCi5aSx6LSlIiB9KTsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFRlJFU0hfT05DRSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9OwogIGNvbnN0IF9ob2lzdGVkXzEkZSA9IHsKICAgIGtleTogMiwKICAgIGNsYXNzOiAibGluay1udW0iCiAgfTsKICBjb25zdCBfaG9pc3RlZF8yJGIgPSB7IGtleTogMyB9OwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyJDcoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgICBjb25zdCBfY29tcG9uZW50X0ljb24gPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiSWNvbiIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Qb3BDb25maXJtID0gdnVlLnJlc29sdmVDb21wb25lbnQoIlBvcENvbmZpcm0iKTsKICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X1BvcENvbmZpcm0sIHsKICAgICAgZGlzYWJsZWQ6ICRvcHRpb25zLmRpc2FibGVkLAogICAgICB0aXRsZTogYOehruiupOiKsei0uSAxMCDkuKrpk5zluIHlkJEgQCR7JHByb3BzLml0ZW0udXNlcm5hbWV9IOeahOi/meadoeWbnuWkjeWPkemAgeaEn+iwou+8n2AsCiAgICAgIG9uQ29uZmlybTogJG9wdGlvbnMudGhhbmsKICAgIH0sIHsKICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0b29sIiwgWyRvcHRpb25zLmRpc2FibGVkICYmICJkaXNhYmxlZCJdXSksCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICguLi5hcmdzKSA9PiAkb3B0aW9ucy50aGFua0Vycm9yICYmICRvcHRpb25zLnRoYW5rRXJyb3IoLi4uYXJncykpCiAgICAgICAgfSwgWwogICAgICAgICAgJHByb3BzLml0ZW0uaXNUaGFua2VkID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9jb21wb25lbnRfSWNvbiwgewogICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgIGNvbG9yOiAicmdiKDIyNCw0Miw0MikiLAogICAgICAgICAgICBpY29uOiAiaWNvbi1wYXJrLXNvbGlkOmxpa2UiCiAgICAgICAgICB9KSkgOiAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIGtleTogMSwKICAgICAgICAgICAgY29sb3I6ICEkcHJvcHMuaXRlbS50aGFua0NvdW50ID8gbnVsbCA6ICJyZ2IoMjI0LDQyLDQyKSIsCiAgICAgICAgICAgIGljb246ICJpY29uLXBhcmstb3V0bGluZTpsaWtlIgogICAgICAgICAgfSwgbnVsbCwgOCwgWyJjb2xvciJdKSksCiAgICAgICAgICAkcHJvcHMuaXRlbS50aGFua0NvdW50ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzEkZSwgdnVlLnRvRGlzcGxheVN0cmluZygkcHJvcHMuaXRlbS50aGFua0NvdW50KSwgMSkpIDogKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzIkYiwgIuaEn+iwoiIpKQogICAgICAgIF0sIDIpCiAgICAgIF0pLAogICAgICBfOiAxCiAgICB9LCA4LCBbImRpc2FibGVkIiwgInRpdGxlIiwgIm9uQ29uZmlybSJdKTsKICB9CiAgY29uc3QgUG9pbnQgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJGUsIFtbInJlbmRlciIsIF9zZmNfcmVuZGVyJDddXSk7CiAgY29uc3QgX3NmY19tYWluJGQgPSB7CiAgICBuYW1lOiAiQXV0aG9yIiwKICAgIGNvbXBvbmVudHM6IHsgUG9wQ29uZmlybSwgUG9pbnQsIEljb24gfSwKICAgIGluamVjdDogWyJpc0xvZ2luIiwgInRhZ3MiLCAiY29uZmlnIiwgImlzTmlnaHQiXSwKICAgIHByb3BzOiB7CiAgICAgIG1vZGVsVmFsdWU6IGZhbHNlLAogICAgICBjb21tZW50OiB7CiAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgfQogICAgICB9LAogICAgICB0eXBlOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gImxpc3QiOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgIGlzRGV2KCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSwKICAgICAgcG9pbnRJbmZvKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpc1RoYW5rZWQ6IHRoaXMuY29tbWVudC5pc1RoYW5rZWQsCiAgICAgICAgICB0aGFua0NvdW50OiB0aGlzLmNvbW1lbnQudGhhbmtDb3VudCwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmNvbW1lbnQudXNlcm5hbWUKICAgICAgICB9OwogICAgICB9LAogICAgICBteVRhZ3MoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGFnc1t0aGlzLmNvbW1lbnQudXNlcm5hbWVdID8/IFtdOwogICAgICB9LAogICAgICBjb250ZXh0KCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQucmVwbHlVc2Vycy5sZW5ndGg7CiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGp1bXAoKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuSlVNUCwgdGhpcy5jb21tZW50LmZsb29yKTsKICAgICAgfSwKICAgICAgc2hvd1JlbGF0aW9uUmVwbHkoKSB7CiAgICAgICAgaWYgKCF0aGlzLmNvbW1lbnQucmVwbHlVc2Vycy5sZW5ndGgpIHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIuivpeWbnuWkjeaXoOS4iuS4i+aWhyIgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFTEFUSU9OX1JFUExZLCB7CiAgICAgICAgICBsZWZ0OiB0aGlzLmNvbW1lbnQucmVwbHlVc2VycywKICAgICAgICAgIHJpZ2h0OiB0aGlzLmNvbW1lbnQudXNlcm5hbWUsCiAgICAgICAgICByaWdodEZsb29yOiB0aGlzLmNvbW1lbnQuZmxvb3IKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYWRkVGFnKCkgewogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELkFERF9UQUcsIHRoaXMuY29tbWVudC51c2VybmFtZSk7CiAgICAgIH0sCiAgICAgIHJlbW92ZVRhZyh0YWcpIHsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5SRU1PVkVfVEFHLCB7IHVzZXJuYW1lOiB0aGlzLmNvbW1lbnQudXNlcm5hbWUsIHRhZyB9KTsKICAgICAgfSwKICAgICAgY2hlY2tJc0xvZ2luKGVtaXROYW1lID0gIiIpIHsKICAgICAgICBpZiAoIXRoaXMuaXNMb2dpbikgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi6K+35YWI55m75b2V77yBIiB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdChlbWl0TmFtZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0sCiAgICAgIGFkZFRoYW5rKCkgewogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELkNIQU5HRV9DT01NRU5UX1RIQU5LLCB7IGlkOiB0aGlzLmNvbW1lbnQuaWQsIHR5cGU6ICJhZGQiIH0pOwogICAgICB9LAogICAgICByZWNhbGxUaGFuaygpIHsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5DSEFOR0VfQ09NTUVOVF9USEFOSywgeyBpZDogdGhpcy5jb21tZW50LmlkLCB0eXBlOiAicmVjYWxsIiB9KTsKICAgICAgfQogICAgfQogIH07CiAgY29uc3QgX3dpdGhTY29wZUlkJDkgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi02NGFhMTkzMCIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJGQgPSB7IGNsYXNzOiAiQXV0aG9yLWxlZnQiIH07CiAgY29uc3QgX2hvaXN0ZWRfMiRhID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfMyQ5ID0gWyJzcmMiXTsKICBjb25zdCBfaG9pc3RlZF80JDkgPSB7IGNsYXNzOiAidGV4dHMiIH07CiAgY29uc3QgX2hvaXN0ZWRfNSQ3ID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfNiQ3ID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJvd25lciIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzckNiA9IHsKICAgIGtleTogMSwKICAgIGNsYXNzOiAiZHVwIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfOCQ2ID0gewogICAga2V5OiAyLAogICAgY2xhc3M6ICJtb2QiCiAgfTsKICBjb25zdCBfaG9pc3RlZF85JDYgPSB7IGNsYXNzOiAiYWdvIiB9OwogIGNvbnN0IF9ob2lzdGVkXzEwJDYgPSB7IGNsYXNzOiAibXktdGFnIiB9OwogIGNvbnN0IF9ob2lzdGVkXzExJDYgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDkoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7IGNsYXNzOiAiZmEgZmEtdGFnIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzEyJDYgPSBbIm9uQ2xpY2siXTsKICBjb25zdCBfaG9pc3RlZF8xMyQ2ID0geyBjbGFzczogIkF1dGhvci1yaWdodCIgfTsKICBjb25zdCBfaG9pc3RlZF8xNCQ1ID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJ0b29sYmFyIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTUkNCA9IHsgY2xhc3M6ICJ0b29sIiB9OwogIGNvbnN0IF9ob2lzdGVkXzE2JDQgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDkoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi6ZqQ6JePIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xNyQ0ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ5KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuS4iuS4i+aWhyIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTgkNCA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkOSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLot7PovawiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE5JDMgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDkoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5Zue5aSNIiwgLTEpKTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciQ2KF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9JY29uID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkljb24iKTsKICAgIGNvbnN0IF9jb21wb25lbnRfUG9wQ29uZmlybSA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJQb3BDb25maXJtIik7CiAgICBjb25zdCBfY29tcG9uZW50X1BvaW50ID0gdnVlLnJlc29sdmVDb21wb25lbnQoIlBvaW50Iik7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJBdXRob3IiLCB7IGV4cGFuZDogISRwcm9wcy5tb2RlbFZhbHVlIH1dKQogICAgfSwgWwogICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xJGQsIFsKICAgICAgICAhJHByb3BzLm1vZGVsVmFsdWUgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IF9jdHguJGVtaXQoInVwZGF0ZTptb2RlbFZhbHVlIiwgdHJ1ZSksIFsic3RvcCJdKSksCiAgICAgICAgICBjb2xvcjogIiMxNzdFQzkiLAogICAgICAgICAgY2xhc3M6ICJleHBhbmQtaWNvbiIsCiAgICAgICAgICBpY29uOiAiZ3Jhdml0eS11aTpjaGV2cm9ucy1leHBhbmQtdXAtcmlnaHQiCiAgICAgICAgfSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgJG9wdGlvbnMuY29uZmlnLnZpZXdUeXBlICE9PSAic2ltcGxlIiA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImEiLCB7CiAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICBjbGFzczogImF2YXRhciIsCiAgICAgICAgICBocmVmOiBgL21lbWJlci8keyRwcm9wcy5jb21tZW50LnVzZXJuYW1lfWAKICAgICAgICB9LCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICAgIHNyYzogJHByb3BzLmNvbW1lbnQuYXZhdGFyLAogICAgICAgICAgICBhbHQ6ICIiCiAgICAgICAgICB9LCBudWxsLCA4LCBfaG9pc3RlZF8zJDkpCiAgICAgICAgXSwgOCwgX2hvaXN0ZWRfMiRhKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNCQ5LCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzdHJvbmciLCBudWxsLCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgaHJlZjogYC9tZW1iZXIvJHskcHJvcHMuY29tbWVudC51c2VybmFtZX1gLAogICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ1c2VybmFtZSIsIHsgImRhcmsiOiAkb3B0aW9ucy5pc05pZ2h0IH1dKQogICAgICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5jb21tZW50LnVzZXJuYW1lKSwgMTEsIF9ob2lzdGVkXzUkNykKICAgICAgICAgIF0pLAogICAgICAgICAgJHByb3BzLmNvbW1lbnQuaXNPcCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzYkNywgIk9QIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAkcHJvcHMuY29tbWVudC5pc0R1cCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzckNiwgIkRVUCIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgJHByb3BzLmNvbW1lbnQuaXNNb2QgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF84JDYsICJNT0QiKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF85JDYsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJHByb3BzLmNvbW1lbnQuZGF0ZSksIDEpLAogICAgICAgICAgJG9wdGlvbnMuaXNMb2dpbiAmJiAkb3B0aW9ucy5jb25maWcub3BlblRhZyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCB7IGtleTogMyB9LCBbCiAgICAgICAgICAgICh2dWUub3BlbkJsb2NrKHRydWUpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoJG9wdGlvbnMubXlUYWdzLCAoaSkgPT4gewogICAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soInNwYW4iLCBfaG9pc3RlZF8xMCQ2LCBbCiAgICAgICAgICAgICAgICBfaG9pc3RlZF8xMSQ2LAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoaSksIDEpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJmYSBmYS10cmFzaC1vIHJlbW92ZSIsCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+ICRvcHRpb25zLnJlbW92ZVRhZyhpKSwgWyJzdG9wIl0pCiAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBfaG9pc3RlZF8xMiQ2KQogICAgICAgICAgICAgIF0pOwogICAgICAgICAgICB9KSwgMjU2KSksCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJhZGQtdGFnIGFnbyIsCiAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMuYWRkVGFnICYmICRvcHRpb25zLmFkZFRhZyguLi5hcmdzKSwgWyJzdG9wIl0pKSwKICAgICAgICAgICAgICB0aXRsZTogIua3u+WKoOagh+etviIKICAgICAgICAgICAgfSwgIisiKQogICAgICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgXSkKICAgICAgXSksCiAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzJDYsIFsKICAgICAgICAkb3B0aW9ucy5pc0xvZ2luID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTQkNSwgWwogICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfUG9wQ29uZmlybSwgewogICAgICAgICAgICB0aXRsZTogIuehruiupOmakOiXj+i/meadoeWbnuWkjT8iLAogICAgICAgICAgICBvbkNvbmZpcm06IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gX2N0eC4kZW1pdCgiaGlkZSIpKQogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTUkNCwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAiZmx1ZW50OmV5ZS1oaWRlLTI0LXJlZ3VsYXIiIH0pLAogICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTYkNAogICAgICAgICAgICAgIF0pCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9KSwKICAgICAgICAgICRvcHRpb25zLmNvbnRleHQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgY2xhc3M6ICJ0b29sIiwKICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMuc2hvd1JlbGF0aW9uUmVwbHkgJiYgJG9wdGlvbnMuc2hvd1JlbGF0aW9uUmVwbHkoLi4uYXJncyksIFsic3RvcCJdKSkKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAiaWNvbm9pcjpwYWdlLXNlYXJjaCIgfSksCiAgICAgICAgICAgIF9ob2lzdGVkXzE3JDQKICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgJHByb3BzLnR5cGUgPT09ICJ0b3AiID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgIGNsYXNzOiAidG9vbCIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gdnVlLndpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+ICRvcHRpb25zLmp1bXAgJiYgJG9wdGlvbnMuanVtcCguLi5hcmdzKSwgWyJzdG9wIl0pKQogICAgICAgICAgfSwgWwogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7IGljb246ICJpY29uLXBhcmstb3V0bGluZTp0by1ib3R0b20iIH0pLAogICAgICAgICAgICBfaG9pc3RlZF8xOCQ0CiAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3M6ICJ0b29sIiwKICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiAkb3B0aW9ucy5jaGVja0lzTG9naW4oInJlcGx5IiksIFsic3RvcCJdKSkKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAibXluYXVpOm1lc3NhZ2UiIH0pLAogICAgICAgICAgICBfaG9pc3RlZF8xOSQzCiAgICAgICAgICBdKSwKICAgICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb2ludCwgewogICAgICAgICAgICBpdGVtOiAkb3B0aW9ucy5wb2ludEluZm8sCiAgICAgICAgICAgIG9uQWRkVGhhbms6ICRvcHRpb25zLmFkZFRoYW5rLAogICAgICAgICAgICBvblJlY2FsbFRoYW5rOiAkb3B0aW9ucy5yZWNhbGxUaGFuaywKICAgICAgICAgICAgImFwaS11cmwiOiAicmVwbHkvIiArICRwcm9wcy5jb21tZW50LmlkCiAgICAgICAgICB9LCBudWxsLCA4LCBbIml0ZW0iLCAib25BZGRUaGFuayIsICJvblJlY2FsbFRoYW5rIiwgImFwaS11cmwiXSksIFsKICAgICAgICAgICAgW3Z1ZS52U2hvdywgISRwcm9wcy5jb21tZW50LnRoYW5rQ291bnRdCiAgICAgICAgICBdKQogICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb2ludCwgewogICAgICAgICAgaXRlbTogJG9wdGlvbnMucG9pbnRJbmZvLAogICAgICAgICAgb25BZGRUaGFuazogJG9wdGlvbnMuYWRkVGhhbmssCiAgICAgICAgICBvblJlY2FsbFRoYW5rOiAkb3B0aW9ucy5yZWNhbGxUaGFuaywKICAgICAgICAgICJhcGktdXJsIjogInJlcGx5LyIgKyAkcHJvcHMuY29tbWVudC5pZAogICAgICAgIH0sIG51bGwsIDgsIFsiaXRlbSIsICJvbkFkZFRoYW5rIiwgIm9uUmVjYWxsVGhhbmsiLCAiYXBpLXVybCJdKSwgWwogICAgICAgICAgW3Z1ZS52U2hvdywgJHByb3BzLmNvbW1lbnQudGhhbmtDb3VudF0KICAgICAgICBdKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsiZmxvb3IiLCB7IGlzRGV2OiAkb3B0aW9ucy5pc0RldiB9XSkKICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5jb21tZW50LmZsb29yKSwgMykKICAgICAgXSkKICAgIF0sIDIpOwogIH0KICBjb25zdCBBdXRob3IgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJGQsIFtbInJlbmRlciIsIF9zZmNfcmVuZGVyJDZdLCBbIl9fc2NvcGVJZCIsICJkYXRhLXYtNjRhYTE5MzAiXV0pOwogIGNvbnN0IF93aXRoU2NvcGVJZCQ4ID0gKG4yKSA9PiAodnVlLnB1c2hTY29wZUlkKCJkYXRhLXYtODVlMDliNGUiKSwgbjIgPSBuMigpLCB2dWUucG9wU2NvcGVJZCgpLCBuMik7CiAgY29uc3QgX2hvaXN0ZWRfMSRjID0geyBjbGFzczogImdldC1jdXJzb3IiIH07CiAgY29uc3QgX2hvaXN0ZWRfMiQ5ID0gWyJpbm5lckhUTUwiXTsKICBjb25zdCBfaG9pc3RlZF8zJDggPSB7IGNsYXNzOiAidG9vbGJhciIgfTsKICBjb25zdCBfaG9pc3RlZF80JDggPSB7IGNsYXNzOiAibGVmdCIgfTsKICBjb25zdCBfaG9pc3RlZF81JDYgPSB7IGNsYXNzOiAidXBsb2FkIiB9OwogIGNvbnN0IF9ob2lzdGVkXzYkNiA9IHsKICAgIGtleTogMCwKICAgIHN0eWxlOiB7ICJjb2xvciI6ICJibGFjayIsICJmb250LXNpemUiOiAiMS40cmVtIiB9CiAgfTsKICBjb25zdCBfaG9pc3RlZF83JDUgPSB7IGNsYXNzOiAicmlnaHQiIH07CiAgY29uc3QgX2hvaXN0ZWRfOCQ1ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ4KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAidGl0bGUiIH0sICLnu4/lhbgiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzkkNSA9IHsgY2xhc3M6ICJsaXN0IiB9OwogIGNvbnN0IF9ob2lzdGVkXzEwJDUgPSBbInNyYyIsICJvbkNsaWNrIl07CiAgY29uc3QgX2hvaXN0ZWRfMTEkNSA9IHsgY2xhc3M6ICJlbW9qaSIgfTsKICBjb25zdCBfaG9pc3RlZF8xMiQ1ID0geyBjbGFzczogInRpdGxlIiB9OwogIGNvbnN0IF9ob2lzdGVkXzEzJDUgPSB7IGNsYXNzOiAibGlzdCIgfTsKICBjb25zdCBfaG9pc3RlZF8xNCQ0ID0gWyJvbkNsaWNrIl07CiAgY29uc3QgX3NmY19tYWluJGMgPSB7CiAgICBfX25hbWU6ICJQb3N0RWRpdG9yIiwKICAgIHByb3BzOiB7CiAgICAgIHJlcGx5VXNlcjogbnVsbCwKICAgICAgcmVwbHlGbG9vcjogbnVsbCwKICAgICAgdXNlVHlwZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuICJyZXBseS1jb21tZW50IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBlbWl0czogWyJjbG9zZSJdLAogICAgc2V0dXAoX19wcm9wcywgeyBleHBvc2U6IF9fZXhwb3NlLCBlbWl0OiBfX2VtaXQgfSkgewogICAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7CiAgICAgIGNvbnN0IHsgcmVwbHlVc2VyLCByZXBseUZsb29yLCB1c2VUeXBlIH0gPSBwcm9wczsKICAgICAgY29uc3QgcmVwbHlJbmZvID0gcmVwbHlVc2VyID8gYEAke3JlcGx5VXNlcn0gIyR7cmVwbHlGbG9vcn0gYCA6ICIiOwogICAgICBjb25zdCBlbWl0cyA9IF9fZW1pdDsKICAgICAgY29uc3QgcG9zdCA9IHZ1ZS5pbmplY3QoInBvc3QiKTsKICAgICAgY29uc3Qgc2hvdyA9IHZ1ZS5pbmplY3QoInNob3ciKTsKICAgICAgY29uc3QgaXNOaWdodCA9IHZ1ZS5pbmplY3QoImlzTmlnaHQiKTsKICAgICAgdnVlLmluamVjdCgicGFnZVR5cGUiKTsKICAgICAgY29uc3QgYWxsUmVwbHlVc2VycyA9IHZ1ZS5pbmplY3QoImFsbFJlcGx5VXNlcnMiKTsKICAgICAgbGV0IGlzRm9jdXMgPSB2dWUucmVmKGZhbHNlKTsKICAgICAgY29uc3QgbG9hZGluZyA9IHZ1ZS5yZWYoZmFsc2UpOwogICAgICBjb25zdCB1cGxvYWRMb2FkaW5nID0gdnVlLnJlZihmYWxzZSk7CiAgICAgIGNvbnN0IGlzU2hvd0Vtb3RpY29ucyA9IHZ1ZS5yZWYoZmFsc2UpOwogICAgICBjb25zdCBlZGl0b3JJZCA9IHZ1ZS5yZWYoImVkaXRvcklkXyIgKyBEYXRlLm5vdygpKTsKICAgICAgY29uc3QgY29udGVudCA9IHZ1ZS5yZWYocmVwbHlJbmZvKTsKICAgICAgY29uc3QgdHh0UmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgY29uc3QgY3Vyc29yUmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgY29uc3QgZW1vdGljb25zUmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgY29uc3Qgbm9uZSA9IHZ1ZS5yZWYoJzxzcGFuIHN0eWxlPSJ3aGl0ZS1zcGFjZTpwcmUtd3JhcDsiPiA8L3NwYW4+Jyk7CiAgICAgIGNvbnN0IGltZ3VyQ2xpZW50SWRQb29sID0gWwogICAgICAgICIzMTA3YjllZjhiMzE2ZjMiLAogICAgICAgICI0NDJiMDRmMjZlZWZjOGEiLAogICAgICAgICI1OWNmZWJlNzE3YzA5ZTQiLAogICAgICAgICI2MDYwNWFhZDRhNjI4ODIiLAogICAgICAgICI2YzY1YWIxZDNmNTQ1MmEiLAogICAgICAgICI4M2UxMjM3Mzc4NDlhYTkiLAogICAgICAgICI5MzExZjZiZTFjMTAxNjAiLAogICAgICAgICJjNGE0YTU2M2Y2OTg1OTUiLAogICAgICAgICI4MWJlMDRiOWU0YTA4Y2UiCiAgICAgIF07CiAgICAgIF9fZXhwb3NlKHsgY29udGVudCwgaXNGb2N1czogKCkgPT4gaXNGb2N1cy52YWx1ZSB9KTsKICAgICAgY29uc3QgZWRpdG9yQ2xhc3MgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICAgIHJldHVybiBbdXNlVHlwZSwgaXNGb2N1cy52YWx1ZSA/ICJpc0ZvY3VzIiA6ICIiLCBpc05pZ2h0LnZhbHVlID8gImlzTmlnaHQiIDogIiJdOwogICAgICB9KTsKICAgICAgY29uc3QgY3Vyc29ySHRtbCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgICAgdmFyIF9hOwogICAgICAgIGlmICghdHh0UmVmLnZhbHVlIHx8ICFjb250ZW50LnZhbHVlKQogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIGxldCBpbmRleCA9ICgoX2EgPSB0eHRSZWYudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZWxlY3Rpb25TdGFydCkgfHwgMDsKICAgICAgICByZXR1cm4gY29udGVudC52YWx1ZS5zdWJzdHJpbmcoMCwgaW5kZXgpLnJlcGxhY2UoLzwvZywgIjwiKS5yZXBsYWNlKC8+L2csICI+IikucmVwbGFjZSgvXG4vZywgIjxici8+IikucmVwbGFjZSgvXHMvZywgbm9uZS52YWx1ZSk7CiAgICAgIH0pOwogICAgICBjb25zdCBkaXNhYmxlZCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgICAgaWYgKGNvbnRlbnQudmFsdWUpIHsKICAgICAgICAgIHJldHVybiBjb250ZW50LnZhbHVlID09PSByZXBseUluZm87CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIGRyb3AoZTIpIHsKICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHVwbG9hZChlMi5kYXRhVHJhbnNmZXIuZmlsZXNbMF0pOwogICAgICB9CiAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZChmaWxlKSB7CiAgICAgICAgaWYgKCFmaWxlKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICh1cGxvYWRMb2FkaW5nLnZhbHVlKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIHVwbG9hZExvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbWFnZSIsIGZpbGUpOwogICAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogaW1ndXJDbGllbnRJZFBvb2wubGVuZ3RoKTsKICAgICAgICBjb25zdCBjbGlkZW5JZCA9IGltZ3VyQ2xpZW50SWRQb29sW3JhbmRvbUluZGV4XTsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgiaHR0cHM6Ly9hcGkuaW1ndXIuY29tLzMvdXBsb2FkIiwgewogICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICBoZWFkZXJzOiB7IEF1dGhvcml6YXRpb246IGBDbGllbnQtSUQgJHtjbGlkZW5JZH1gIH0sCiAgICAgICAgICBib2R5OiBmb3JtRGF0YQogICAgICAgIH0pOwogICAgICAgIHVwbG9hZExvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICBpZiAocmVzLm9rKSB7CiAgICAgICAgICBjb25zdCByZXNEYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgIGlmIChyZXNEYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgcmV0dXJuIGluc2VydCgiICIgKyByZXNEYXRhLmRhdGEubGluayArICIgIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLkuIrkvKDlpLHotKUiIH0pOwogICAgICB9CiAgICAgIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgICBpZiAoZGlzYWJsZWQudmFsdWUgfHwgbG9hZGluZy52YWx1ZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgICBsZXQgc3VibWl0X2NvbnRlbnQgPSBjb250ZW50LnZhbHVlLnJlcGxhY2UoL1xbKCg/IVxbKS4pK1xdL2csIGZ1bmN0aW9uKG1hdGNoKSB7CiAgICAgICAgICBsZXQgaXRlbTIgPSBjbGFzc2ljc0Vtb3RpY29ucy5maW5kKCh2KSA9PiB2Lm5hbWUgPT09IG1hdGNoKTsKICAgICAgICAgIGlmIChpdGVtMikgewogICAgICAgICAgICByZXR1cm4gaXRlbTIubG93ICsgIiAiOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG1hdGNoOwogICAgICAgIH0pOwogICAgICAgIGxldCBzaG93X2NvbnRlbnQgPSBjb250ZW50LnZhbHVlLnJlcGxhY2UoL2h0dHBzPzpcL1wvKGlcLik/aW1ndXJcLmNvbVwvKCg/IWh0dHApLikrXC4oZ2lmfHBuZ3xqcGd8anBlZ3xHSUZ8UE5HfEpQR3xKUEVHKS9nLCBmdW5jdGlvbihtYXRjaCkgewogICAgICAgICAgcmV0dXJuIGA8aW1nIHNyYz0iJHttYXRjaH0iIGRhdGEtb3JpZ2luVXJsPSIke21hdGNofSIgZGF0YS1ub3RpY2U9Iui/meS4qmltZ+agh+etvueUsXYyZXgt6LaF57qn5aKe5by66ISa5pys6Kej5p6QIiBzdHlsZT0ibWF4LXdpZHRoOiAxMDAlIj5gOwogICAgICAgIH0pOwogICAgICAgIHNob3dfY29udGVudCA9IHNob3dfY29udGVudC5yZXBsYWNlKC9cWygoPyFcWykuKStcXS9nLCBmdW5jdGlvbihtYXRjaCkgewogICAgICAgICAgbGV0IGl0ZW0yID0gY2xhc3NpY3NFbW90aWNvbnMuZmluZCgodikgPT4gdi5uYW1lID09PSBtYXRjaCk7CiAgICAgICAgICBpZiAoaXRlbTIpIHsKICAgICAgICAgICAgcmV0dXJuIGA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJHtpdGVtMi5sb3d9IiByZWw9Im5vZm9sbG93IG5vb3BlbmVyIj48aW1nIHNyYz0iJHtpdGVtMi5sb3d9IiBjbGFzcz0iZW1iZWRkZWRfaW1hZ2UiIHJlbD0ibm9yZWZlcnJlciI+PC9hPiBgOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIG1hdGNoOwogICAgICAgIH0pOwogICAgICAgIGxldCBtYXRjaFVzZXJzID0gc2hvd19jb250ZW50Lm1hdGNoKC9AKFtcd10rP1tcc10pL2cpOwogICAgICAgIGlmIChtYXRjaFVzZXJzKSB7CiAgICAgICAgICBtYXRjaFVzZXJzLm1hcCgoaSkgPT4gewogICAgICAgICAgICBsZXQgdXNlcm5hbWUgPSBpLnJlcGxhY2UoIkAiLCAiIikucmVwbGFjZSgiICIsICIiKTsKICAgICAgICAgICAgc2hvd19jb250ZW50ID0gc2hvd19jb250ZW50LnJlcGxhY2UodXNlcm5hbWUsIGA8YSBocmVmPSIvbWVtYmVyLyR7dXNlcm5hbWV9Ij4ke3VzZXJuYW1lfTwvYT5gKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBzaG93X2NvbnRlbnQgPSBzaG93X2NvbnRlbnQucmVwbGFjZUFsbCgiXG4iLCAiPGJyLz4iKTsKICAgICAgICBsZXQgaXRlbSA9IHsKICAgICAgICAgIHRoYW5rQ291bnQ6IDAsCiAgICAgICAgICBpc1RoYW5rZWQ6IGZhbHNlLAogICAgICAgICAgaXNPcDogcG9zdC52YWx1ZS51c2VybmFtZSA9PT0gd2luZG93LnVzZXIudXNlcm5hbWUsCiAgICAgICAgICBpc0R1cDogZmFsc2UsCiAgICAgICAgICBpZDogRGF0ZS5ub3coKSwKICAgICAgICAgIHVzZXJuYW1lOiB3aW5kb3cudXNlci51c2VybmFtZSwKICAgICAgICAgIGF2YXRhcjogd2luZG93LnVzZXIuYXZhdGFyLAogICAgICAgICAgZGF0ZTogIuWHoOenkuWJjSIsCiAgICAgICAgICBmbG9vcjogcG9zdC52YWx1ZS5yZXBseUNvdW50ICsgMSwKICAgICAgICAgIHJlcGx5X2NvbnRlbnQ6IHNob3dfY29udGVudCA/PyAiIiwKICAgICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICAgIHJlcGx5VXNlcnM6IHJlcGx5VXNlciA/IFtyZXBseVVzZXJdIDogW10sCiAgICAgICAgICByZXBseUZsb29yOiByZXBseUZsb29yIHx8IC0xLAogICAgICAgICAgbGV2ZWw6IHVzZVR5cGUgPT09ICJyZXBseS1jb21tZW50IiA/IDEgOiAwCiAgICAgICAgfTsKICAgICAgICBpdGVtLmhpZGVDYWxsVXNlclJlcGx5Q29udGVudCA9IGl0ZW0ucmVwbHlfY29udGVudDsKICAgICAgICBpZiAoaXRlbS5yZXBseVVzZXJzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgaXRlbS5oaWRlQ2FsbFVzZXJSZXBseUNvbnRlbnQgPSBpdGVtLnJlcGx5X2NvbnRlbnQucmVwbGFjZSgvQDxhIGhyZWY9IlwvbWVtYmVyXC9bXHNcU10rPzxcL2E+KD86PHVsIFtcc1xTXSs8XC91bD4pPyhccyNbXGRdKyk/XHMoPGJyPik/LywgKCkgPT4gIiIpOwogICAgICAgIH0KICAgICAgICBsZXQgdXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS90LyR7cG9zdC52YWx1ZS5pZH1gOwogICAgICAgICQucG9zdCh1cmwsIHsgY29udGVudDogc3VibWl0X2NvbnRlbnQsIG9uY2U6IHBvc3QudmFsdWUub25jZSB9KS50aGVuKAogICAgICAgICAgLy8gJC5wb3N0KHVybCwge2NvbnRlbnQ6IHN1Ym1pdF9jb250ZW50LCBvbmNlOiAxMjN9KS50aGVuKAogICAgICAgICAgKHJlcykgPT4gewogICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgIGxldCByMiA9IHJlcy5zZWFyY2goIuS9oOS4iuS4gOadoeWbnuWkjeeahOWGheWuueWSjOi/meadoeebuOWQjCIpOwogICAgICAgICAgICBpZiAocjIgPiAtMSkKICAgICAgICAgICAgICByZXR1cm4gZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogImVycm9yIiwgdGV4dDogIuS9oOS4iuS4gOadoeWbnuWkjeeahOWGheWuueWSjOi/meadoeebuOWQjCIgfSk7CiAgICAgICAgICAgIHIyID0gcmVzLnNlYXJjaCgi6K+35LiN6KaB5Zyo5q+P5LiA5Liq5Zue5aSN5Lit6YO95YyF5ous5aSW6ZO+77yM6L+Z55yL6LW35p2l5YOP5piv5ZyoIHNwYW1taW5nIik7CiAgICAgICAgICAgIGlmIChyMiA+IC0xKQogICAgICAgICAgICAgIHJldHVybiBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIHRleHQ6ICLor7fkuI3opoHlnKjmr4/kuIDkuKrlm57lpI3kuK3pg73ljIXmi6zlpJbpk77vvIzov5nnnIvotbfmnaXlg4/mmK/lnKggc3BhbW1pbmciCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGxldCByMjIgPSByZXMuc2VhcmNoKCLliJvlu7rmlrDlm57lpI0iKTsKICAgICAgICAgICAgaWYgKHIyMiA+IC0xKSB7CiAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuUkVGUkVTSF9PTkNFLCByZXMpOwogICAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLlm57lpI3lh7rnjrDkuobpl67popjvvIzor7fkvb/nlKjljp/niYjov5vooYzlm57lpI0iIH0pOwogICAgICAgICAgICAgIGxldCBjbGllbnRXaWR0aCA9IHdpbmRvdy5kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICAgICAgICAgIGxldCB3aW5kb3dXaWR0aCA9IDEyMDA7CiAgICAgICAgICAgICAgbGV0IGxlZnQgPSBjbGllbnRXaWR0aCAvIDIgLSB3aW5kb3dXaWR0aCAvIDI7CiAgICAgICAgICAgICAgbGV0IG5ld1dpbiA9IHdpbmRvdy5vcGVuKCLliJvlu7rmlrDlm57lpI0iLCAiIiwgYHdpZHRoPSR7d2luZG93V2lkdGh9LGhlaWdodD02MDAsbGVmdD0ke2xlZnR9LHRvcD0xMDBgKTsKICAgICAgICAgICAgICBuZXdXaW4uZG9jdW1lbnQud3JpdGUocmVzKTsKICAgICAgICAgICAgICBsZXQgbG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKG5ld1dpbi5jbG9zZWQpIHsKICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuUkVGUkVTSF9QT1NUKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAxZTMpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb250ZW50LnZhbHVlID0gcmVwbHlJbmZvOwogICAgICAgICAgICBlbWl0cygiY2xvc2UiKTsKICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuUkVGUkVTSF9PTkNFLCByZXMpOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAic3VjY2VzcyIsIHRleHQ6ICLlm57lpI3miJDlip8iIH0pOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5BRERfUkVQTFksIGl0ZW0pOwogICAgICAgICAgfSwKICAgICAgICAgIChlcnIpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coImVyciIsIGVycik7CiAgICAgICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogImVycm9yIiwgdGV4dDogIuWbnuWkjeWksei0pSIgfSk7CiAgICAgICAgICB9CiAgICAgICAgKS5jYXRjaCgocjIpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJjYXRjaCIsIHIyKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBmdW5jdGlvbiBnZXRFbW9qaVNyYyh1cmwpIHsKICAgICAgICByZXR1cm4gd2luZG93LmNvbmZpZy5yZXBsYWNlSW1ndXIgPyBEZWZhdWx0VmFsLmltZ3VyUHJveHkgKyB1cmwgOiB1cmw7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc2hvd0Vtb3RpY29ucyhlMikgewogICAgICAgIGlmIChpc1Nob3dFbW90aWNvbnMudmFsdWUpIHsKICAgICAgICAgIHJldHVybiBpc1Nob3dFbW90aWNvbnMudmFsdWUgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgbGV0IHJlY3QgPSBlMi5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIGVtb3RpY29uc1JlZi52YWx1ZS5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0ICsgMzAgKyAicHgiOwogICAgICAgIGVtb3RpY29uc1JlZi52YWx1ZS5zdHlsZS5ib3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSByZWN0LnRvcCAtIDIwICsgInB4IjsKICAgICAgICBpc1Nob3dFbW90aWNvbnMudmFsdWUgPSB0cnVlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG9mZigpIHsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX0NBTEwsIHsgc2hvdzogZmFsc2UgfSk7CiAgICAgICAgZXZlbnRCdXMub2ZmKENNRC5TRVRfQ0FMTCk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gY2hlY2tIZWlnaHQyKCkgewogICAgICAgIHR4dFJlZi52YWx1ZS5zdHlsZS5oZWlnaHQgPSAwOwogICAgICAgIHR4dFJlZi52YWx1ZS5zdHlsZS5oZWlnaHQgPSB0eHRSZWYudmFsdWUuc2Nyb2xsSGVpZ2h0ICsgInB4IjsKICAgICAgfQogICAgICBmdW5jdGlvbiBpbnNlcnQoc3RyKSB7CiAgICAgICAgbGV0IGN1cnNvclBvcyA9IHR4dFJlZi52YWx1ZS5zZWxlY3Rpb25TdGFydDsKICAgICAgICBsZXQgc3RhcnQgPSBjb250ZW50LnZhbHVlLnNsaWNlKDAsIGN1cnNvclBvcyk7CiAgICAgICAgbGV0IGVuZCA9IGNvbnRlbnQudmFsdWUuc2xpY2UoY3Vyc29yUG9zLCBjb250ZW50LnZhbHVlLmxlbmd0aCk7CiAgICAgICAgY29udGVudC52YWx1ZSA9IHN0YXJ0ICsgc3RyICsgZW5kOwogICAgICAgIGxldCBtb3ZlQ3Vyc29yUG9zID0gc3RhcnQubGVuZ3RoICsgc3RyLmxlbmd0aDsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHR4dFJlZi52YWx1ZS5mb2N1cygpOwogICAgICAgICAgdHh0UmVmLnZhbHVlLnNldFNlbGVjdGlvblJhbmdlKG1vdmVDdXJzb3JQb3MsIG1vdmVDdXJzb3JQb3MpOwogICAgICAgICAgY2hlY2tIZWlnaHQyKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gc2hvd0NhbGxQb3BvdmVyKHRleHQpIHsKICAgICAgICBsZXQgcjIgPSBjdXJzb3JSZWYudmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19DQUxMLCB7IHNob3c6IHRydWUsIHRvcDogcjIudG9wLCBsZWZ0OiByMi5sZWZ0LCB0ZXh0IH0pOwogICAgICAgIGV2ZW50QnVzLm9mZihDTUQuU0VUX0NBTEwpOwogICAgICAgIGV2ZW50QnVzLm9uKENNRC5TRVRfQ0FMTCwgKGUyKSA9PiB7CiAgICAgICAgICBsZXQgY3Vyc29yUG9zID0gdHh0UmVmLnZhbHVlLnNlbGVjdGlvblN0YXJ0OwogICAgICAgICAgbGV0IHN0YXJ0ID0gY29udGVudC52YWx1ZS5zbGljZSgwLCBjdXJzb3JQb3MpOwogICAgICAgICAgbGV0IGVuZCA9IGNvbnRlbnQudmFsdWUuc2xpY2UoY3Vyc29yUG9zLCBjb250ZW50LnZhbHVlLmxlbmd0aCk7CiAgICAgICAgICBsZXQgbGFzdENhbGxQb3MgPSBzdGFydC5sYXN0SW5kZXhPZigiQCIpOwogICAgICAgICAgc3RhcnQgPSBjb250ZW50LnZhbHVlLnNsaWNlKDAsIGxhc3RDYWxsUG9zICsgMSk7CiAgICAgICAgICBpZiAoZTIgPT09ICLnrqHnkIblkZgiKSB7CiAgICAgICAgICAgIGUyID0gIkxpdmlkIEBLYWkgQE9saXZpYSBAR29yZGlhblogQHNwYXJhbm9pZCBAZHJ5bW9uZmlkZWxpYSI7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoZTIgPT09ICLmiYDmnInkuroiKSB7CiAgICAgICAgICAgIGUyID0gYWxsUmVwbHlVc2Vycy52YWx1ZS5tYXAoKHYsIGkpID0+IHsKICAgICAgICAgICAgICBpZiAoaSkKICAgICAgICAgICAgICAgIHJldHVybiAiQCIgKyB2OwogICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHJldHVybiB2OwogICAgICAgICAgICB9KS5qb2luKCIgIik7CiAgICAgICAgICB9CiAgICAgICAgICBjb250ZW50LnZhbHVlID0gc3RhcnQgKyBlMiArICIgIiArIGVuZDsKICAgICAgICAgIGxldCBtb3ZlQ3Vyc29yUG9zID0gc3RhcnQubGVuZ3RoICsgZTIubGVuZ3RoICsgMTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0eHRSZWYudmFsdWUuc2V0U2VsZWN0aW9uUmFuZ2UobW92ZUN1cnNvclBvcywgbW92ZUN1cnNvclBvcyk7CiAgICAgICAgICAgIGNoZWNrSGVpZ2h0MigpOwogICAgICAgICAgfSk7CiAgICAgICAgICBldmVudEJ1cy5vZmYoQ01ELlNFVF9DQUxMKTsKICAgICAgICB9KTsKICAgICAgfQogICAgICBmdW5jdGlvbiBvbktleWRvd24oZTIpIHsKICAgICAgICBsZXQgY29kZSA9IGUyLmtleUNvZGU7CiAgICAgICAgc3dpdGNoIChjb2RlKSB7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGlmIChjb250ZW50LnZhbHVlID09PSAiQCIpIHsKICAgICAgICAgICAgICBvZmYoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgY2FzZSAzOToKICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gb25JbnB1dCh7IGRhdGE6ICIiIH0pLCAxMDApOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgMjc6CiAgICAgICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgIGUyLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICBlMi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaWYgKGUyLmN0cmxLZXkpCiAgICAgICAgICAgICAgc3VibWl0KCk7CiAgICAgICAgICAgIGlmIChlMi5tZXRhS2V5KQogICAgICAgICAgICAgIHN1Ym1pdCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gb25JbnB1dChlMikgewogICAgICAgIGxldCBjdXJzb3JQb3MgPSB0eHRSZWYudmFsdWUuc2VsZWN0aW9uU3RhcnQ7CiAgICAgICAgaWYgKCFjb250ZW50LnZhbHVlKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChlMi5kYXRhID09PSAiICIpIHsKICAgICAgICAgIHJldHVybiBvZmYoKTsKICAgICAgICB9CiAgICAgICAgaWYgKGUyLmRhdGEgPT09ICJAIikgewogICAgICAgICAgaWYgKGNvbnRlbnQudmFsdWUubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgICAgIGlmIChjb250ZW50LnZhbHVlW2N1cnNvclBvcyAtIDJdID09PSAiICIgfHwgY29udGVudC52YWx1ZVtjdXJzb3JQb3MgLSAyXSA9PT0gIlxuIikgewogICAgICAgICAgICAgIHJldHVybiBzaG93Q2FsbFBvcG92ZXIoIiIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gc2hvd0NhbGxQb3BvdmVyKCIiKTsKICAgICAgICAgIH0KICAgICAgICAgIG9mZigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjaGVja0hlaWdodDIoKTsKICAgICAgICAgIGxldCBqdWRnZVN0ciA9IGNvbnRlbnQudmFsdWUuc2xpY2UoMCwgY3Vyc29yUG9zKTsKICAgICAgICAgIGxldCBsYXN0Q2FsbFBvcyA9IGp1ZGdlU3RyLmxhc3RJbmRleE9mKCJAIik7CiAgICAgICAgICBpZiAobGFzdENhbGxQb3MgPT09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiBvZmYoKTsKICAgICAgICAgIH0KICAgICAgICAgIGxldCBjYWxsU3RyID0ganVkZ2VTdHIuc2xpY2UobGFzdENhbGxQb3MsIGN1cnNvclBvcyk7CiAgICAgICAgICBsZXQgaGFzU3BhY2UgPSBjYWxsU3RyLmluY2x1ZGVzKCIgIik7CiAgICAgICAgICBpZiAoaGFzU3BhY2UpIHsKICAgICAgICAgICAgb2ZmKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobGFzdENhbGxQb3MgPT09IDApIHsKICAgICAgICAgICAgICByZXR1cm4gc2hvd0NhbGxQb3BvdmVyKGNhbGxTdHIucmVwbGFjZSgiQCIsICIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNvbnRlbnQudmFsdWUubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudmFsdWVbbGFzdENhbGxQb3MgLSAxXSA9PT0gIiAiIHx8IGNvbnRlbnQudmFsdWVbbGFzdENhbGxQb3MgLSAxXSA9PT0gIlxuIikgewogICAgICAgICAgICAgICAgcmV0dXJuIHNob3dDYWxsUG9wb3ZlcihjYWxsU3RyLnJlcGxhY2UoIkAiLCAiIikpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gc2hvd0NhbGxQb3BvdmVyKGNhbGxTdHIucmVwbGFjZSgiQCIsICIiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgb2ZmKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIG9uUGFzdGUoZTIpIHsKICAgICAgICBjb25zdCBkYXRhVHJhbnNmZXJJdGVtTGlzdCA9IGUyLmNsaXBib2FyZERhdGEuaXRlbXM7CiAgICAgICAgY29uc3QgaXRlbXMgPSBbXS5zbGljZS5jYWxsKGRhdGFUcmFuc2Zlckl0ZW1MaXN0KS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udHlwZS5pbmRleE9mKCJpbWFnZSIpICE9PSAtMTsKICAgICAgICB9KTsKICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0IGRhdGFUcmFuc2Zlckl0ZW0gPSBpdGVtc1swXTsKICAgICAgICBjb25zdCBibG9iID0gZGF0YVRyYW5zZmVySXRlbS5nZXRBc0ZpbGUoKTsKICAgICAgICB1cGxvYWQoYmxvYik7CiAgICAgIH0KICAgICAgZnVuY3Rpb24gb25CbHVyKCkgewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBhc3RlIiwgb25QYXN0ZSk7CiAgICAgICAgaXNGb2N1cy52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIG9uRm9jdXNpbigpIHsKICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwYXN0ZSIsIG9uUGFzdGUpOwogICAgICB9CiAgICAgIHZ1ZS53YXRjaCgoKSA9PiBzaG93LCAobjIpID0+IHsKICAgICAgICBpZiAobjIudmFsdWUpCiAgICAgICAgICBpc1Nob3dFbW90aWNvbnMudmFsdWUgPSBmYWxzZTsKICAgICAgfSwgeyBkZWVwOiB0cnVlIH0pOwogICAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgICAkKGAuJHtlZGl0b3JJZC52YWx1ZX1gKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgImhlaWdodDoiICsgdGhpcy5zY3JvbGxIZWlnaHQgKyAicHg7b3ZlcmZsb3cteTpoaWRkZW47Iik7CiAgICAgICAgfSkub24oImlucHV0IiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IDA7CiAgICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9IHRoaXMuc2Nyb2xsSGVpZ2h0ICsgInB4IjsKICAgICAgICB9KTsKICAgICAgICBpZiAodXNlVHlwZSA9PT0gInJlcGx5LWNvbW1lbnQiKSB7CiAgICAgICAgICB0eHRSZWYudmFsdWUgJiYgdHh0UmVmLnZhbHVlLmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdnVlLm9uQmVmb3JlVW5tb3VudCgoKSA9PiB7CiAgICAgICAgJChgLiR7ZWRpdG9ySWQudmFsdWV9YCkub2ZmKCk7CiAgICAgIH0pOwogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJwb3N0LWVkaXRvci13cmFwcGVyIiwgZWRpdG9yQ2xhc3MudmFsdWVdKQogICAgICAgIH0sIFsKICAgICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZXh0YXJlYSIsIHsKICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbInBvc3QtZWRpdG9yIiwgZWRpdG9ySWQudmFsdWVdKSwKICAgICAgICAgICAgcmVmX2tleTogInR4dFJlZiIsCiAgICAgICAgICAgIHJlZjogdHh0UmVmLAogICAgICAgICAgICBvbkZvY3VzOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICgkZXZlbnQpID0+IHZ1ZS5pc1JlZihpc0ZvY3VzKSA/IGlzRm9jdXMudmFsdWUgPSB0cnVlIDogaXNGb2N1cyA9IHRydWUpLAogICAgICAgICAgICBvbkJsdXIsCiAgICAgICAgICAgIG9uRm9jdXNpbiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICLor7flsL3ph4/orqnoh6rlt7HnmoTlm57lpI3og73lpJ/lr7nliKvkurrmnInluK7liqkiLAogICAgICAgICAgICBvbklucHV0LAogICAgICAgICAgICBvbktleWRvd24sCiAgICAgICAgICAgIG9uRHJvcDogZHJvcCwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICgkZXZlbnQpID0+IGNvbnRlbnQudmFsdWUgPSAkZXZlbnQpCiAgICAgICAgICB9LCBudWxsLCAzNCksIFsKICAgICAgICAgICAgW3Z1ZS52TW9kZWxUZXh0LCBjb250ZW50LnZhbHVlXQogICAgICAgICAgXSksCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xJGMsIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsgaW5uZXJIVE1MOiBjdXJzb3JIdG1sLnZhbHVlIH0sIG51bGwsIDgsIF9ob2lzdGVkXzIkOSksCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJjdXJzb3IiLAogICAgICAgICAgICAgIHJlZl9rZXk6ICJjdXJzb3JSZWYiLAogICAgICAgICAgICAgIHJlZjogY3Vyc29yUmVmCiAgICAgICAgICAgIH0sICJ8IiwgNTEyKQogICAgICAgICAgXSksCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zJDgsIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCQ4LCBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKHZ1ZS51bnJlZihJY29uKSwgewogICAgICAgICAgICAgICAgb25DbGljazogdnVlLndpdGhNb2RpZmllcnMoc2hvd0Vtb3RpY29ucywgWyJzdG9wIl0pLAogICAgICAgICAgICAgICAgaWNvbjogInN0cmVhbWxpbmU6c21pbGV5LWhhcHB5IgogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUkNiwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJmaWxlIiwKICAgICAgICAgICAgICAgICAgYWNjZXB0OiAiaW1hZ2UvKiIsCiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9IChlMikgPT4gdXBsb2FkKGUyLmN1cnJlbnRUYXJnZXQuZmlsZXNbMF0pKQogICAgICAgICAgICAgICAgfSwgbnVsbCwgMzIpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKHZ1ZS51bnJlZihJY29uKSwgeyBpY29uOiAibGV0cy1pY29uczppbWctbG9hZC1ib3gtZmlsbCIgfSkKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICB1cGxvYWRMb2FkaW5nLnZhbHVlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzYkNiwgIuS4iuS8oOS4rS4uLi4uIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzckNSwgWwogICAgICAgICAgICAgIHZ1ZS51bnJlZih1c2VUeXBlKSA9PT0gInJlcGx5LWNvbW1lbnQiID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKEJhc2VCdXR0b24sIHsKICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgIHR5cGU6ICJsaW5rIiwKICAgICAgICAgICAgICAgIHNpemU6ICJzbWFsbCIsCiAgICAgICAgICAgICAgICBzdHlsZTogeyAibWFyZ2luLXJpZ2h0IjogIjFyZW0iLCAiY3Vyc29yIjogInBvaW50ZXIiIH0sCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IGVtaXRzKCJjbG9zZSIpLCBbInN0b3AiXSkpCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCIg5YWz6ZetICIpCiAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoQmFzZUJ1dHRvbiwgewogICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZC52YWx1ZSwKICAgICAgICAgICAgICAgIGxvYWRpbmc6IGxvYWRpbmcudmFsdWUsCiAgICAgICAgICAgICAgICBvbkNsaWNrOiB2dWUud2l0aE1vZGlmaWVycyhzdWJtaXQsIFsic3RvcCJdKQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi5Zue5aSNICIpCiAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9LCA4LCBbImRpc2FibGVkIiwgImxvYWRpbmciXSkKICAgICAgICAgICAgXSkKICAgICAgICAgIF0pLAogICAgICAgICAgdnVlLndpdGhEaXJlY3RpdmVzKHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3M6ICJlbW90aWNvbi1wYWNrIiwKICAgICAgICAgICAgcmVmX2tleTogImVtb3RpY29uc1JlZiIsCiAgICAgICAgICAgIHJlZjogZW1vdGljb25zUmVmCiAgICAgICAgICB9LCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZSh2dWUudW5yZWYoSWNvbiksIHsKICAgICAgICAgICAgICBpY29uOiAiaWM6cm91bmQtY2xvc2UiLAogICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gaXNTaG93RW1vdGljb25zLnZhbHVlID0gZmFsc2UsIFsic3RvcCJdKSkKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF9ob2lzdGVkXzgkNSwKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSQ1LCBbCiAgICAgICAgICAgICAgKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCB2dWUucmVuZGVyTGlzdCh2dWUudW5yZWYoY2xhc3NpY3NFbW90aWNvbnMpLCAoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgewogICAgICAgICAgICAgICAgICBzcmM6IGdldEVtb2ppU3JjKGl0ZW0uaGlnaCksCiAgICAgICAgICAgICAgICAgIHJlZmVycmVycG9saWN5OiAibm8tcmVmZXJyZXIiLAogICAgICAgICAgICAgICAgICBvbkNsaWNrOiB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0KGl0ZW0ubmFtZSk7CiAgICAgICAgICAgICAgICAgICAgaXNTaG93RW1vdGljb25zLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0sIFsic3RvcCJdKQogICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMTAkNSk7CiAgICAgICAgICAgICAgfSksIDI1NikpCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSQ1LCBbCiAgICAgICAgICAgICAgKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCB2dWUucmVuZGVyTGlzdCh2dWUudW5yZWYoZW1vamlFbW90aWNvbnMpLCAoaXRlbSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIFsKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIkNSwgdnVlLnRvRGlzcGxheVN0cmluZyhpdGVtLnRpdGxlKSwgMSksCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEzJDUsIFsKICAgICAgICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KGl0ZW0ubGlzdCwgKGVtb2ppKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgewogICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0KGVtb2ppKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBpc1Nob3dFbW90aWNvbnMudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgWyJzdG9wIl0pCiAgICAgICAgICAgICAgICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKGVtb2ppKSwgOSwgX2hvaXN0ZWRfMTQkNCk7CiAgICAgICAgICAgICAgICAgICAgfSksIDI1NikpCiAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICBdLCA2NCk7CiAgICAgICAgICAgICAgfSksIDI1NikpCiAgICAgICAgICAgIF0pCiAgICAgICAgICBdLCA1MTIpLCBbCiAgICAgICAgICAgIFt2dWUudlNob3csIGlzU2hvd0Vtb3RpY29ucy52YWx1ZV0KICAgICAgICAgIF0pCiAgICAgICAgXSwgMik7CiAgICAgIH07CiAgICB9CiAgfTsKICBjb25zdCBQb3N0RWRpdG9yID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRjLCBbWyJfX3Njb3BlSWQiLCAiZGF0YS12LTg1ZTA5YjRlIl1dKTsKICBjb25zdCBfaG9pc3RlZF8xJGIgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImh0bWwtd3JhcHBlciIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzIkOCA9IFsiaW5uZXJIVE1MIl07CiAgY29uc3QgY2hlY2tIZWlnaHQgPSA5MDA7CiAgY29uc3QgX3NmY19tYWluJGIgPSB7CiAgICBfX25hbWU6ICJCYXNlSHRtbFJlbmRlciIsCiAgICBwcm9wczogWyJodG1sIl0sCiAgICBzZXR1cChfX3Byb3BzKSB7CiAgICAgIGNvbnN0IGNvbmZpZzIgPSB2dWUuaW5qZWN0KCJjb25maWciKTsKICAgICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzOwogICAgICBjb25zdCBjb250ZW50UmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgY29uc3QgbWFzayA9IHZ1ZS5yZWYoZmFsc2UpOwogICAgICBjb25zdCBoYW5kT3BlbiA9IHZ1ZS5yZWYoZmFsc2UpOwogICAgICBmdW5jdGlvbiBtb3VzZXVwKGUyKSB7CiAgICAgICAgaWYgKCFjb25maWcyLnZhbHVlLmJhc2U2NCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsZXQgc2VsZWN0aW9uVGV4dCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwogICAgICAgIGlmIChzZWxlY3Rpb25UZXh0KSB7CiAgICAgICAgICBsZXQgcjIgPSBzZWxlY3Rpb25UZXh0Lm1hdGNoKC8oW0EtWmEtejAtOSsvPV0rKS9nKTsKICAgICAgICAgIGlmIChyMikgewogICAgICAgICAgICBpZiAocjJbMF0ubGVuZ3RoIDwgNCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfVE9PTFRJUCwgeyB0ZXh0OiByMlswXSwgZTogZTIgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHZ1ZS53YXRjaChjb25maWcyLnZhbHVlLCAobmV3VmFsZSkgPT4gewogICAgICAgIGlmICghbmV3VmFsZS5jb250ZW50QXV0b0NvbGxhcHNlKSB7CiAgICAgICAgICBtYXNrLnZhbHVlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdnVlLndhdGNoKFsoKSA9PiBjb250ZW50UmVmLnZhbHVlLCAoKSA9PiBwcm9wcy5odG1sXSwgKCkgPT4gewogICAgICAgIGlmICghY29udGVudFJlZi52YWx1ZSB8fCAhcHJvcHMuaHRtbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoIWNvbmZpZzIudmFsdWUuY29udGVudEF1dG9Db2xsYXBzZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBjb250ZW50UmVmLnZhbHVlLnF1ZXJ5U2VsZWN0b3JBbGwoImltZyIpLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgIGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIGNoZWNrQ29udGVudEhlaWdodCk7CiAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBjaGVja0NvbnRlbnRIZWlnaHQpOwogICAgICAgIH0pOwogICAgICAgIGNoZWNrQ29udGVudEhlaWdodCgpOwogICAgICB9LCB7IGltbWVkaWF0ZTogdHJ1ZSwgZmx1c2g6ICJwb3N0IiB9KTsKICAgICAgZnVuY3Rpb24gY2hlY2tDb250ZW50SGVpZ2h0KCkgewogICAgICAgIGlmIChoYW5kT3Blbi52YWx1ZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoIWNvbnRlbnRSZWYudmFsdWUpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgbGV0IHJlY3QgPSBjb250ZW50UmVmLnZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIG1hc2sudmFsdWUgPSByZWN0LmhlaWdodCA+PSBjaGVja0hlaWdodDsKICAgICAgfQogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiBwcm9wcy5odG1sID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSRiLCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoeyBtYXNrOiBtYXNrLnZhbHVlIH0pCiAgICAgICAgICB9LCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICByZWZfa2V5OiAiY29udGVudFJlZiIsCiAgICAgICAgICAgICAgcmVmOiBjb250ZW50UmVmLAogICAgICAgICAgICAgIGlubmVySFRNTDogcHJvcHMuaHRtbCwKICAgICAgICAgICAgICBvbk1vdXNldXA6IG1vdXNldXAKICAgICAgICAgICAgfSwgbnVsbCwgNDAsIF9ob2lzdGVkXzIkOCkKICAgICAgICAgIF0sIDIpLAogICAgICAgICAgbWFzay52YWx1ZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICBjbGFzczogImV4cGFuZCIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudCkgPT4gewogICAgICAgICAgICAgIG1hc2sudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICBoYW5kT3Blbi52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgIH0pCiAgICAgICAgICB9LCAi5bGV5byAIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKTsKICAgICAgfTsKICAgIH0KICB9OwogIGNvbnN0IEJhc2VIdG1sUmVuZGVyID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRiLCBbWyJfX3Njb3BlSWQiLCAiZGF0YS12LTZmNjFhODYwIl1dKTsKICBjb25zdCBfc2ZjX21haW4kYSA9IHsKICAgIG5hbWU6ICJUb3BTdWJDb21tZW50IiwKICAgIGNvbXBvbmVudHM6IHsgQmFzZUh0bWxSZW5kZXIsIEF1dGhvciwgUG9zdEVkaXRvciwgUG9pbnQsIEljb24gfSwKICAgIGluamVjdDogWyJwb3N0IiwgInBvc3REZXRhaWxXaWR0aCIsICJzaG93IiwgImlzTmlnaHQiLCAiaXNMb2dpbiIsICJ0YWdzIiwgImNvbmZpZyJdLAogICAgcHJvcHM6IHsKICAgICAgbW9kZWxWYWx1ZTogewogICAgICAgIHJlcGx5X2NvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIGxldmVsOiAtMQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZXhwYW5kOiB0cnVlLAogICAgICAgIGVkaXQ6IGZhbHNlLAogICAgICAgIHJlcGx5SW5mbzogYEAke3RoaXMubW9kZWxWYWx1ZS51c2VybmFtZX0gIyR7dGhpcy5tb2RlbFZhbHVlLmZsb29yfSBgLAogICAgICAgIGZsb29yOiB0aGlzLm1vZGVsVmFsdWUuZmxvb3IKICAgICAgfTsKICAgIH0sCiAgICB3YXRjaDogewogICAgICBzaG93KGUyKSB7CiAgICAgICAgaWYgKGUyKSB7CiAgICAgICAgICB0aGlzLmVkaXQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICBteVRhZ3MoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGFnc1t0aGlzLm1vZGVsVmFsdWUudXNlcm5hbWVdID8/IFtdOwogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBqdW1wKCkgewogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELkpVTVAsIHRoaXMubW9kZWxWYWx1ZS5mbG9vcik7CiAgICAgIH0KICAgIH0KICB9OwogIGNvbnN0IF93aXRoU2NvcGVJZCQ3ID0gKG4yKSA9PiAodnVlLnB1c2hTY29wZUlkKCJkYXRhLXYtZDNmOGM5NGIiKSwgbjIgPSBuMigpLCB2dWUucG9wU2NvcGVJZCgpLCBuMik7CiAgY29uc3QgX2hvaXN0ZWRfMSRhID0gWyJkYXRhLWZsb29yIl07CiAgY29uc3QgX2hvaXN0ZWRfMiQ3ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ3KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAibGVmdCBleHBhbmQtbGluZSIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8zJDcgPSB7IGNsYXNzOiAicmlnaHQiIH07CiAgY29uc3QgX2hvaXN0ZWRfNCQ3ID0geyBjbGFzczogInNpbXBsZS13cmFwcGVyIiB9OwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyJDUoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgICBjb25zdCBfY29tcG9uZW50X0F1dGhvciA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJBdXRob3IiKTsKICAgIGNvbnN0IF9jb21wb25lbnRfQmFzZUh0bWxSZW5kZXIgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiQmFzZUh0bWxSZW5kZXIiKTsKICAgIGNvbnN0IF9jb21wb25lbnRfUG9zdEVkaXRvciA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJQb3N0RWRpdG9yIik7CiAgICBjb25zdCBfY29tcG9uZW50X1RvcFN1YkNvbW1lbnQgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiVG9wU3ViQ29tbWVudCIsIHRydWUpOwogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsidG9wLXN1Yi1jb21tZW50IiwgJHByb3BzLmxldmVsID09PSAxICYmICJ0b3Atc3ViLXJlcGx5Il0pLAogICAgICByZWY6ICJjb21tZW50IiwKICAgICAgImRhdGEtZmxvb3IiOiAkZGF0YS5mbG9vcgogICAgfSwgWwogICAgICBfaG9pc3RlZF8yJDcsCiAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMkNywgWwogICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0F1dGhvciwgewogICAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuZXhwYW5kLAogICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICgkZXZlbnQpID0+ICRkYXRhLmV4cGFuZCA9ICRldmVudCksCiAgICAgICAgICBjb21tZW50OiAkcHJvcHMubW9kZWxWYWx1ZSwKICAgICAgICAgIG9uUmVwbHk6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudCkgPT4gJGRhdGEuZWRpdCA9ICEkZGF0YS5lZGl0KSwKICAgICAgICAgIHR5cGU6ICJ0b3AiCiAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgImNvbW1lbnQiXSksCiAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQmFzZUh0bWxSZW5kZXIsIHsKICAgICAgICAgIGNsYXNzOiAidG9wLXJlcGx5X2NvbnRlbnQgcmVwbHlfY29udGVudCIsCiAgICAgICAgICBodG1sOiAkcHJvcHMubW9kZWxWYWx1ZS5oaWRlQ2FsbFVzZXJSZXBseUNvbnRlbnQKICAgICAgICB9LCBudWxsLCA4LCBbImh0bWwiXSksCiAgICAgICAgJGRhdGEuZWRpdCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X1Bvc3RFZGl0b3IsIHsKICAgICAgICAgIGtleTogMCwKICAgICAgICAgIG9uQ2xvc2U6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gJGRhdGEuZWRpdCA9IGZhbHNlKSwKICAgICAgICAgIHJlcGx5SW5mbzogJGRhdGEucmVwbHlJbmZvLAogICAgICAgICAgcmVwbHlVc2VyOiAkcHJvcHMubW9kZWxWYWx1ZS51c2VybmFtZSwKICAgICAgICAgIHJlcGx5Rmxvb3I6ICRwcm9wcy5tb2RlbFZhbHVlLmZsb29yCiAgICAgICAgfSwgbnVsbCwgOCwgWyJyZXBseUluZm8iLCAicmVwbHlVc2VyIiwgInJlcGx5Rmxvb3IiXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCQ3LCBbCiAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KCRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuLCAoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9jb21wb25lbnRfVG9wU3ViQ29tbWVudCwgewogICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuW2luZGV4XSwKICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6ICgkZXZlbnQpID0+ICRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuW2luZGV4XSA9ICRldmVudCwKICAgICAgICAgICAgICBrZXk6IGluZGV4CiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSIsICJvblVwZGF0ZTptb2RlbFZhbHVlIl0pOwogICAgICAgICAgfSksIDEyOCkpCiAgICAgICAgXSkKICAgICAgXSkKICAgIF0sIDEwLCBfaG9pc3RlZF8xJGEpOwogIH0KICBjb25zdCBUb3BTdWJDb21tZW50ID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiRhLCBbWyJyZW5kZXIiLCBfc2ZjX3JlbmRlciQ1XSwgWyJfX3Njb3BlSWQiLCAiZGF0YS12LWQzZjhjOTRiIl1dKTsKICBjb25zdCBfc2ZjX21haW4kOSA9IHsKICAgIG5hbWU6ICJDb21tZW50IiwKICAgIGNvbXBvbmVudHM6IHsgQmFzZUh0bWxSZW5kZXIsIEF1dGhvciwgUG9zdEVkaXRvciwgUG9pbnQsIEljb24sIFRvcFN1YkNvbW1lbnQgfSwKICAgIGluamVjdDogWyJwb3N0IiwgInBvc3REZXRhaWxXaWR0aCIsICJzaG93IiwgImlzTmlnaHQiLCAiY29uZmlnIl0sCiAgICBwcm9wczogewogICAgICBtb2RlbFZhbHVlOiB7CiAgICAgICAgcmVwbHlfY29udGVudDogIiIKICAgICAgfSwKICAgICAgdHlwZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgcmV0dXJuICJsaXN0IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIGVkaXQ6IGZhbHNlLAogICAgICAgIGRpbmc6IGZhbHNlLAogICAgICAgIGV4cGFuZDogdHJ1ZSwKICAgICAgICBleHBhbmRUb3BSZXBseTogdHJ1ZSwKICAgICAgICBleHBhbmRXcm9uZzogZmFsc2UsCiAgICAgICAgcmVwbHlJbmZvOiBgQCR7dGhpcy5tb2RlbFZhbHVlLnVzZXJuYW1lfSAjJHt0aGlzLm1vZGVsVmFsdWUuZmxvb3J9IGAsCiAgICAgICAgY3NzU3R5bGU6IG51bGwsCiAgICAgICAgZmxvb3I6IHRoaXMubW9kZWxWYWx1ZS5mbG9vcgogICAgICB9OwogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgIHNob3coZTIpIHsKICAgICAgICBpZiAoZTIpIHsKICAgICAgICAgIHRoaXMuZWRpdCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcG9zdERldGFpbFdpZHRoKG4yLCBvKSB7CiAgICAgICAgdGhpcy5jaGVja0lzVG9vTG9uZyhuMik7CiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICBDb21tZW50RGlzcGxheVR5cGUoKSB7CiAgICAgICAgcmV0dXJuIENvbW1lbnREaXNwbGF5VHlwZTsKICAgICAgfSwKICAgICAgbXlDbGFzcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNPcDogdGhpcy5tb2RlbFZhbHVlLmlzT3AsCiAgICAgICAgICBpc1NpbXBsZTogdGhpcy5jb25maWcudmlld1R5cGUgPT09ICJzaW1wbGUiLAogICAgICAgICAgZGluZzogdGhpcy5kaW5nLAogICAgICAgICAgaXNMZXZlbE9uZTogdGhpcy50eXBlID09PSAidG9wIiA/IHRydWUgOiB0aGlzLm1vZGVsVmFsdWUubGV2ZWwgPT09IDAsCiAgICAgICAgICBbImNfIiArIHRoaXMuZmxvb3JdOiB0aGlzLnR5cGUgIT09ICJ0b3AiCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgIHRoaXMuY2hlY2tJc1Rvb0xvbmcodGhpcy5wb3N0RGV0YWlsV2lkdGgpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgY2hlY2tJc1Rvb0xvbmcocG9zdERldGFpbFdpZHRoKSB7CiAgICAgICAgaWYgKHBvc3REZXRhaWxXaWR0aCAhPT0gMCkgewogICAgICAgICAgbGV0IHJlY3QgPSB0aGlzLiRyZWZzLmNvbW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICBsZXQgYmFuID0gcG9zdERldGFpbFdpZHRoICogMC42OwogICAgICAgICAgaWYgKGJhbiA8IHJlY3Qud2lkdGggJiYgcmVjdC53aWR0aCA8IGJhbiArIDI1ICYmIHRoaXMubW9kZWxWYWx1ZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgdGhpcy5leHBhbmQgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IHBhZGRpbmcgPSAyOwogICAgICAgICAgICB0aGlzLmNzc1N0eWxlID0gewogICAgICAgICAgICAgIHBhZGRpbmc6ICIxcmVtIDAiLAogICAgICAgICAgICAgIHdpZHRoOiBgY2FsYygke3Bvc3REZXRhaWxXaWR0aH1weCAtICR7cGFkZGluZ31yZW0pYCwKICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKGNhbGMoJHtyZWN0LndpZHRoIC0gcG9zdERldGFpbFdpZHRofXB4ICsgJHtwYWRkaW5nfXJlbSkpYCwKICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB0aGlzLmlzTmlnaHQgPyAiIzE4MjIyZCIgOiAid2hpdGUiCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvL+mrmOS6ruS4gOS4iwogICAgICBzaG93RGluZygpIHsKICAgICAgICB0aGlzLmRpbmcgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5kaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMmUzKTsKICAgICAgfSwKICAgICAgaGlkZSgpIHsKICAgICAgICBsZXQgdXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS9pZ25vcmUvcmVwbHkvJHt0aGlzLm1vZGVsVmFsdWUuaWR9P29uY2U9JHt0aGlzLnBvc3Qub25jZX1gOwogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFTU9WRSwgdGhpcy5tb2RlbFZhbHVlLmZsb29yKTsKICAgICAgICAkLnBvc3QodXJsKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFRlJFU0hfT05DRSk7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAic3VjY2VzcyIsIHRleHQ6ICLpmpDol4/miJDlip8iIH0pOwogICAgICAgIH0sIChlcnIpID0+IHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIumakOiXj+aIkOWKnyzku4XmnKzmrKHmnInmlYjvvIjmjqXlj6PosIPnlKjlpLHotKXvvIHvvIkiIH0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0b2dnbGUoKSB7CiAgICAgICAgdGhpcy5leHBhbmQgPSAhdGhpcy5leHBhbmQ7CiAgICAgIH0sCiAgICAgIGp1bXAoKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuSlVNUCwgdGhpcy5tb2RlbFZhbHVlLmZsb29yKTsKICAgICAgfQogICAgfQogIH07CiAgY29uc3QgX3dpdGhTY29wZUlkJDYgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi05ODRiYTQ4MyIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJDkgPSBbImRhdGEtZmxvb3IiXTsKICBjb25zdCBfaG9pc3RlZF8yJDYgPSB7IGNsYXNzOiAiY29tbWVudC1jb250ZW50IiB9OwogIGNvbnN0IF9ob2lzdGVkXzMkNiA9IHsgY2xhc3M6ICJyaWdodCIgfTsKICBjb25zdCBfaG9pc3RlZF80JDYgPSB7IGNsYXNzOiAidyIgfTsKICBjb25zdCBfaG9pc3RlZF81JDUgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogIndyb25nLXdyYXBwZXIiCiAgfTsKICBjb25zdCBfaG9pc3RlZF82JDUgPSBbImhyZWYiXTsKICBjb25zdCBfaG9pc3RlZF83JDQgPSB7IGNsYXNzOiAiZGVsLWxpbmUiIH07CiAgY29uc3QgX2hvaXN0ZWRfOCQ0ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ2KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgY2xhc3M6ICJmYSBmYS1xdWVzdGlvbi1jaXJjbGUtbyB3cm9uZy1pY29uIiwKICAgICJhcmlhLWhpZGRlbiI6ICJ0cnVlIgogIH0sIG51bGwsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfOSQ0ID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJ3YXJuaW5nIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTAkNCA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkNigoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzExJDQgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDYoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMiQ0ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ2KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTMkNCA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkNigoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiYnIiLCBudWxsLCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE0JDMgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDYoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImJyIiwgbnVsbCwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xNSQzID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ2KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgaHJlZjogImh0dHBzOi8vZ2l0aHViLmNvbS96eXJvbm9uL1YyTmV4dC9pc3N1ZXMiLAogICAgdGFyZ2V0OiAiX2JsYW5rIgogIH0sICLov5nph4wiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE2JDMgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDYoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsgY2xhc3M6ICJnYW5nIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE3JDMgPSB7IGNsYXNzOiAic2ltcGxlLXdyYXBwZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTgkMyA9IHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAidG9wLXJlcGx5LXdyYXAiCiAgfTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciQ0KF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9BdXRob3IgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiQXV0aG9yIik7CiAgICBjb25zdCBfY29tcG9uZW50X0Jhc2VIdG1sUmVuZGVyID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkJhc2VIdG1sUmVuZGVyIik7CiAgICBjb25zdCBfY29tcG9uZW50X1Bvc3RFZGl0b3IgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiUG9zdEVkaXRvciIpOwogICAgY29uc3QgX2NvbXBvbmVudF9JY29uID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkljb24iKTsKICAgIGNvbnN0IF9jb21wb25lbnRfVG9wU3ViQ29tbWVudCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJUb3BTdWJDb21tZW50Iik7CiAgICBjb25zdCBfY29tcG9uZW50X0NvbW1lbnQgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiQ29tbWVudCIsIHRydWUpOwogICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsiY29tbWVudCIsICRvcHRpb25zLm15Q2xhc3NdKSwKICAgICAgcmVmOiAiY29tbWVudCIsCiAgICAgICJkYXRhLWZsb29yIjogJGRhdGEuZmxvb3IKICAgIH0sIFsKICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfQXV0aG9yLCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuZXhwYW5kLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoJGV2ZW50KSA9PiAkZGF0YS5leHBhbmQgPSAkZXZlbnQpLAogICAgICAgIGNvbW1lbnQ6ICRwcm9wcy5tb2RlbFZhbHVlLAogICAgICAgIG9uUmVwbHk6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudCkgPT4gJGRhdGEuZWRpdCA9ICEkZGF0YS5lZGl0KSwKICAgICAgICB0eXBlOiAkcHJvcHMudHlwZSwKICAgICAgICBvbkhpZGU6ICRvcHRpb25zLmhpZGUKICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgImNvbW1lbnQiLCAidHlwZSIsICJvbkhpZGUiXSksCiAgICAgICRkYXRhLmNzc1N0eWxlICYmICEkZGF0YS5leHBhbmQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAga2V5OiAwLAogICAgICAgIGNsYXNzOiAibW9yZSBhZ28iLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gJGRhdGEuZXhwYW5kID0gISRkYXRhLmV4cGFuZCkKICAgICAgfSwgIiDnlLHkuo7ltYzlpZflm57lpI3lsYLnuqflpKrmt7HvvIzoh6rliqjlsIblkI7nu63lm57lpI3pmpDol48gIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICRkYXRhLmV4cGFuZCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICBrZXk6IDEsCiAgICAgICAgY2xhc3M6ICJjb21tZW50LWNvbnRlbnQtdyIsCiAgICAgICAgc3R5bGU6IHZ1ZS5ub3JtYWxpemVTdHlsZSgkZGF0YS5jc3NTdHlsZSkKICAgICAgfSwgWwogICAgICAgICRkYXRhLmNzc1N0eWxlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAga2V5OiAwLAogICAgICAgICAgY2xhc3M6ICJtb3JlIGFnbyIsCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICgkZXZlbnQpID0+ICRkYXRhLmV4cGFuZCA9ICEkZGF0YS5leHBhbmQpCiAgICAgICAgfSwgIiDnlLHkuo7ltYzlpZflm57lpI3lsYLnuqflpKrmt7HvvIzoh6rliqjlsIbku6XkuIvlm57lpI3np7voh7Plj6/op4HojIPlm7QgIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiQ2LCBbCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiAibGVmdCBleHBhbmQtbGluZSIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gKC4uLmFyZ3MpID0+ICRvcHRpb25zLnRvZ2dsZSAmJiAkb3B0aW9ucy50b2dnbGUoLi4uYXJncykpCiAgICAgICAgICB9KSwKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMkNiwgWwogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80JDYsIFsKICAgICAgICAgICAgICAkcHJvcHMubW9kZWxWYWx1ZS5pc1dyb25nID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSQ1LCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9ICgkZXZlbnQpID0+ICRkYXRhLmV4cGFuZFdyb25nID0gISRkYXRhLmV4cGFuZFdyb25nKSwKICAgICAgICAgICAgICAgICAgdGl0bGU6ICLngrnlh7vmpbzlsYLlj7fmn6XnnIvmj5DnpLoiCiAgICAgICAgICAgICAgICB9LCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgaHJlZjogIi9tZW1iZXIvIiArICRwcm9wcy5tb2RlbFZhbHVlLnJlcGx5VXNlcnNbMF0KICAgICAgICAgICAgICAgICAgfSwgIkAiICsgdnVlLnRvRGlzcGxheVN0cmluZygkcHJvcHMubW9kZWxWYWx1ZS5yZXBseVVzZXJzWzBdKSArICLCoMKgIiwgOSwgX2hvaXN0ZWRfNiQ1KSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIF9ob2lzdGVkXzckNCwgIiMiICsgdnVlLnRvRGlzcGxheVN0cmluZygkcHJvcHMubW9kZWxWYWx1ZS5yZXBseUZsb29yKSwgMSksCiAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzgkNAogICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAkZGF0YS5leHBhbmRXcm9uZyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzkkNCwgWwogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCIg6L+Z5p2h5Zue5aSN5Ly85LmO5pyJ54K56Zeu6aKY77yM5oyH5a6a55qE5qW85bGC5Y+35LiOQOeahOS6uuWvueW6lOS4jeS4iiAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTAkNCwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOWOn+WboOWPr+iDveacieS4i+mdouWHoOenje+8miAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTEkNCwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOS4gOOAgeWxj+iUveeUqOaIt+WvvOiHtOalvOWxguWhjOmZt++8muS9oOWxj+iUveS6hkHvvIzoh6pB5Lul5ZCO55qE5Zue5aSN55qE5qW85bGC5Y+36YO95Lya5YePMSAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTIkNCwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOS6jOOAgeW/veeVpeWbnuWkjeWvvOiHtOalvOWxguWhjOmZt++8muWOn+eQhuWQjOS4iiAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTMkNCwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOS4ieOAgeWxguS4u+WbnuWkjeaXtuaMh+WumumUmeS6hualvOWxguWPt++8iOWQjOS4gO+8jOWxguS4u+Wxj+iUveS6huWIq+S6uu+8jOWvvOiHtOalvOWxguWhjOmZt++8iSAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTQkMywKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIOWbm+OAgeiEmuacrOino+aekOmUmeivr++8jOivt+WcqCAiKSwKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTUkMywKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi5Y+N6aaIICIpCiAgICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgIFskb3B0aW9ucy5Db21tZW50RGlzcGxheVR5cGUuTGlrZSwgJG9wdGlvbnMuQ29tbWVudERpc3BsYXlUeXBlLkZsb29ySW5GbG9vck5vQ2FsbFVzZXJdLmluY2x1ZGVzKCRvcHRpb25zLmNvbmZpZy5jb21tZW50RGlzcGxheVR5cGUpICYmICRwcm9wcy50eXBlICE9PSAidG9wIiA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VIdG1sUmVuZGVyLCB7CiAgICAgICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgICAgICBjbGFzczogInJlcGx5X2NvbnRlbnQiLAogICAgICAgICAgICAgICAgaHRtbDogJHByb3BzLm1vZGVsVmFsdWUuaGlkZUNhbGxVc2VyUmVwbHlDb250ZW50CiAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJodG1sIl0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VIdG1sUmVuZGVyLCB7CiAgICAgICAgICAgICAgICBrZXk6IDIsCiAgICAgICAgICAgICAgICBjbGFzczogInJlcGx5X2NvbnRlbnQiLAogICAgICAgICAgICAgICAgaHRtbDogJHByb3BzLm1vZGVsVmFsdWUucmVwbHlfY29udGVudAogICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsiaHRtbCJdKSksCiAgICAgICAgICAgICAgJGRhdGEuZWRpdCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X1Bvc3RFZGl0b3IsIHsKICAgICAgICAgICAgICAgIGtleTogMywKICAgICAgICAgICAgICAgIG9uQ2xvc2U6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gKCRldmVudCkgPT4gJGRhdGEuZWRpdCA9IGZhbHNlKSwKICAgICAgICAgICAgICAgIHJlcGx5SW5mbzogJGRhdGEucmVwbHlJbmZvLAogICAgICAgICAgICAgICAgcmVwbHlVc2VyOiAkcHJvcHMubW9kZWxWYWx1ZS51c2VybmFtZSwKICAgICAgICAgICAgICAgIHJlcGx5Rmxvb3I6ICRwcm9wcy5tb2RlbFZhbHVlLmZsb29yCiAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJyZXBseUluZm8iLCAicmVwbHlVc2VyIiwgInJlcGx5Rmxvb3IiXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgICAgJHByb3BzLnR5cGUgPT09ICJ0b3AiICYmICRwcm9wcy5tb2RlbFZhbHVlLnJlcGx5Q291bnQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgICAgICBrZXk6IDQsCiAgICAgICAgICAgICAgICBjbGFzczogInJlcGx5LWNvdW50IiwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gKCRldmVudCkgPT4gJGRhdGEuZXhwYW5kVG9wUmVwbHkgPSAhJGRhdGEuZXhwYW5kVG9wUmVwbHkpCiAgICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTYkMywKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAiIOWFseaciSIgKyB2dWUudG9EaXNwbGF5U3RyaW5nKCRwcm9wcy5tb2RlbFZhbHVlLnJlcGx5Q291bnQpICsgIiDmnaHlm57lpI0gIiwgMSksCiAgICAgICAgICAgICAgICAkZGF0YS5leHBhbmRUb3BSZXBseSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgICAgICBpY29uOiAiZXA6YXJyb3ctdXAtYm9sZCIKICAgICAgICAgICAgICAgIH0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICAgICAgICBpY29uOiAiZXA6YXJyb3ctZG93bi1ib2xkIgogICAgICAgICAgICAgICAgfSkpCiAgICAgICAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE3JDMsIFsKICAgICAgICAgICAgICAkcHJvcHMudHlwZSA9PT0gInRvcCIgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgeyBrZXk6IDAgfSwgWwogICAgICAgICAgICAgICAgJGRhdGEuZXhwYW5kVG9wUmVwbHkgJiYgJHByb3BzLm1vZGVsVmFsdWUucmVwbHlDb3VudCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzE4JDMsIFsKICAgICAgICAgICAgICAgICAgKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCB2dWUucmVuZGVyTGlzdCgkcHJvcHMubW9kZWxWYWx1ZS5jaGlsZHJlbiwgKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9jb21wb25lbnRfVG9wU3ViQ29tbWVudCwgewogICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IDEsCiAgICAgICAgICAgICAgICAgICAgICBtb2RlbFZhbHVlOiAkcHJvcHMubW9kZWxWYWx1ZS5jaGlsZHJlbltpbmRleF0sCiAgICAgICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6ICgkZXZlbnQpID0+ICRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuW2luZGV4XSA9ICRldmVudCwKICAgICAgICAgICAgICAgICAgICAgIGtleTogaW5kZXgKICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiLCAib25VcGRhdGU6bW9kZWxWYWx1ZSJdKTsKICAgICAgICAgICAgICAgICAgfSksIDEyOCkpCiAgICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICAgIF0sIDY0KSkgOiAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAxIH0sIHZ1ZS5yZW5kZXJMaXN0KCRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuLCAoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0NvbW1lbnQsIHsKICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJHByb3BzLm1vZGVsVmFsdWUuY2hpbGRyZW5baW5kZXhdLAogICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6ICgkZXZlbnQpID0+ICRwcm9wcy5tb2RlbFZhbHVlLmNoaWxkcmVuW2luZGV4XSA9ICRldmVudCwKICAgICAgICAgICAgICAgICAga2V5OiBpbmRleAogICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgIm9uVXBkYXRlOm1vZGVsVmFsdWUiXSk7CiAgICAgICAgICAgICAgfSksIDEyOCkpCiAgICAgICAgICAgIF0pCiAgICAgICAgICBdKQogICAgICAgIF0pLAogICAgICAgICRkYXRhLmNzc1N0eWxlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAga2V5OiAxLAogICAgICAgICAgY2xhc3M6ICJtb3JlIGFnbyIsCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9ICgkZXZlbnQpID0+ICRkYXRhLmV4cGFuZCA9ICEkZGF0YS5leHBhbmQpCiAgICAgICAgfSwgIiDnlLHkuo7ltYzlpZflm57lpI3lsYLnuqflpKrmt7HvvIzoh6rliqjlsIbku6XkuIrlm57lpI3np7voh7Plj6/op4HojIPlm7QgIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgXSwgNCkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgIF0sIDEwLCBfaG9pc3RlZF8xJDkpOwogIH0KICBjb25zdCBDb21tZW50ID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiQ5LCBbWyJyZW5kZXIiLCBfc2ZjX3JlbmRlciQ0XSwgWyJfX3Njb3BlSWQiLCAiZGF0YS12LTk4NGJhNDgzIl1dKTsKICBjb25zdCBfc2ZjX21haW4kOCA9IHsKICAgIG5hbWU6ICJUb29sYmFyIiwKICAgIGNvbXBvbmVudHM6IHsgSWNvbiwgQmFzZUxvYWRpbmcgfSwKICAgIGluamVjdDogWwogICAgICAiaXNMb2dpbiIsCiAgICAgICJwb3N0IiwKICAgICAgInBhZ2VUeXBlIgogICAgXSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGltZXI6IG51bGwsCiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgbG9hZGluZzI6IGZhbHNlLAogICAgICAgIGxvYWRpbmczOiBmYWxzZQogICAgICB9OwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgY2hlY2tJc0xvZ2luKGVtaXROYW1lID0gIiIpIHsKICAgICAgICBpZiAoIXRoaXMuaXNMb2dpbikgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi6K+35YWI55m75b2V77yBIiB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy4kZW1pdChlbWl0TmFtZSk7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0sCiAgICAgIHR3ZWV0KCkgewogICAgICAgIHZhciBfYTsKICAgICAgICBsZXQgdXNlcm5hbWUgPSAoKF9hID0gd2luZG93LnVzZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VybmFtZSkgPz8gIiI7CiAgICAgICAgbGV0IHVybCA9IGBodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD91cmw9JHtsb2NhdGlvbi5vcmlnaW59L3QvJHt0aGlzLnBvc3QuaWR9P3I9JHt1c2VybmFtZX0mcmVsYXRlZD12MmV4JnRleHQ9JHt0aGlzLnBvc3QudGl0bGV9YDsKICAgICAgICB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiLCAid2lkdGg9NTUwLGhlaWdodD0zNzAiKTsKICAgICAgfSwKICAgICAgYXN5bmMgcmVwb3J0KCkgewogICAgICAgIGlmICghdGhpcy5jaGVja0lzTG9naW4oKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAodGhpcy5sb2FkaW5nMykKICAgICAgICAgIHJldHVybjsKICAgICAgICBsZXQgaXNSZXBvcnQgPSB0aGlzLnBvc3QuaXNSZXBvcnQ7CiAgICAgICAgaWYgKGlzUmVwb3J0KSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAic3VjY2VzcyIsIHRleHQ6ICLkvaDlt7Llr7nmnKzkuLvpopjov5vooYzkuobmiqXlkYoiIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgdXJsID0gYCR7bG9jYXRpb24ub3JpZ2lufS9yZXBvcnQvdG9waWMvJHt0aGlzLnBvc3QuaWR9P29uY2U9JHt0aGlzLnBvc3Qub25jZX1gOwogICAgICAgIHRoaXMubG9hZGluZzMgPSB0cnVlOwogICAgICAgIGxldCBhcGlSZXMgPSBhd2FpdCBmZXRjaCh1cmwpOwogICAgICAgIHRoaXMubG9hZGluZzMgPSBmYWxzZTsKICAgICAgICBpZiAoYXBpUmVzLnJlZGlyZWN0ZWQpIHsKICAgICAgICAgIGxldCBodG1sVGV4dCA9IGF3YWl0IGFwaVJlcy50ZXh0KCk7CiAgICAgICAgICBpZiAoaHRtbFRleHQuc2VhcmNoKCLkvaDlt7Llr7nmnKzkuLvpopjov5vooYzkuobmiqXlkYoiKSkgewogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAic3VjY2VzcyIsIHRleHQ6ICLkvaDlt7Llr7nmnKzkuLvpopjov5vooYzkuobmiqXlkYoiIH0pOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5SRUZSRVNIX09OQ0UsIGh0bWxUZXh0KTsKICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuTUVSR0UsIHsgaXNSZXBvcnQ6ICFpc1JlcG9ydCB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5SRUZSRVNIX09OQ0UpOwogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLmk43kvZzlpLHotKXvvIzor7fph43or5UiIH0pOwogICAgICB9LAogICAgICBhc3luYyB0b2dnbGVJZ25vcmUoKSB7CiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNMb2dpbigpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGxldCB1cmwgPSBgJHtsb2NhdGlvbi5vcmlnaW59LyR7dGhpcy5wb3N0LmlzSWdub3JlID8gInVuaWdub3JlIiA6ICJpZ25vcmUifS90b3BpYy8ke3RoaXMucG9zdC5pZH0/b25jZT0ke3RoaXMucG9zdC5vbmNlfWA7CiAgICAgICAgaWYgKHRoaXMucGFnZVR5cGUgPT09IFBhZ2VUeXBlLlBvc3QpIHsKICAgICAgICAgIHRoaXMubG9hZGluZzIgPSB0cnVlOwogICAgICAgICAgbGV0IGFwaVJlcyA9IGF3YWl0IGZldGNoKHVybCk7CiAgICAgICAgICBpZiAoYXBpUmVzLnJlZGlyZWN0ZWQpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLnBvc3QuaXNJZ25vcmUpIHsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBsb2NhdGlvbi5vcmlnaW47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogInN1Y2Nlc3MiLCB0ZXh0OiB0aGlzLnBvc3QuaXNJZ25vcmUgPyAi5Y+W5raI5oiQ5YqfIiA6ICLlv73nlaXmiJDlip8iIH0pOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5NRVJHRSwgeyBpc0lnbm9yZTogIXRoaXMucG9zdC5pc0lnbm9yZSB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIuW/veeVpeWksei0pSIgfSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxvYWRpbmcyID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnBvc3QuaXNJZ25vcmUpIHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nMiA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5JR05PUkUpOwogICAgICAgICAgfQogICAgICAgICAgbGV0IGFwaVJlcyA9IGF3YWl0IGZldGNoKHVybCk7CiAgICAgICAgICBpZiAoYXBpUmVzLnJlZGlyZWN0ZWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMucG9zdC5pc0lnbm9yZSkgewogICAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFRlJFU0hfT05DRSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogInN1Y2Nlc3MiLCB0ZXh0OiB0aGlzLnBvc3QuaXNJZ25vcmUgPyAi5Y+W5raI5oiQ5YqfIiA6ICLlv73nlaXmiJDlip8iIH0pOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5NRVJHRSwgeyBpc0lnbm9yZTogIXRoaXMucG9zdC5pc0lnbm9yZSB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJ3YXJuaW5nIiwgdGV4dDogIuW/veeVpeaIkOWKnyzku4XmnKzmrKHmnInmlYjvvIjmjqXlj6PosIPnlKjlpLHotKXvvIHvvIkiIH0pOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYXN5bmMgdG9nZ2xlRmF2b3JpdGUoKSB7CiAgICAgICAgaWYgKCF0aGlzLmNoZWNrSXNMb2dpbigpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICh0aGlzLmxvYWRpbmcpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgbGV0IGlzRmF2b3JpdGUgPSB0aGlzLnBvc3QuaXNGYXZvcml0ZTsKICAgICAgICBpZiAoIWlzRmF2b3JpdGUgJiYgY29uZmlnLmNvbGxlY3RCcm93c2VyTm90aWNlKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAic3VjY2VzcyIsIHRleHQ6ICLliKvlv5jorrDmjIlDb21tYW5kL0NtZC9DVFJMICsgROa3u+WKoOWIsOS5puetvuWTpiIgfSk7CiAgICAgICAgfQogICAgICAgIGxldCB1cmwgPSBgJHtsb2NhdGlvbi5vcmlnaW59LyR7aXNGYXZvcml0ZSA/ICJ1bmZhdm9yaXRlIiA6ICJmYXZvcml0ZSJ9L3RvcGljLyR7dGhpcy5wb3N0LmlkfT9vbmNlPSR7dGhpcy5wb3N0Lm9uY2V9YDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGxldCBhcGlSZXMgPSBhd2FpdCBmZXRjaCh1cmwpOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmIChhcGlSZXMucmVkaXJlY3RlZCkgewogICAgICAgICAgbGV0IGh0bWxUZXh0ID0gYXdhaXQgYXBpUmVzLnRleHQoKTsKICAgICAgICAgIGlmIChodG1sVGV4dC5zZWFyY2goaXNGYXZvcml0ZSA/ICLliqDlhaXmlLbol48iIDogIuWPlua2iOaUtuiXjyIpKSB7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJzdWNjZXNzIiwgdGV4dDogaXNGYXZvcml0ZSA/ICLlj5bmtojmiJDlip8iIDogIuaUtuiXj+aIkOWKnyIgfSk7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELk1FUkdFLCB7IGNvbGxlY3RDb3VudDogaXNGYXZvcml0ZSA/IHRoaXMucG9zdC5jb2xsZWN0Q291bnQgLSAxIDogdGhpcy5wb3N0LmNvbGxlY3RDb3VudCArIDEgfSk7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFRlJFU0hfT05DRSwgaHRtbFRleHQpOwogICAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5NRVJHRSwgeyBpc0Zhdm9yaXRlOiAhaXNGYXZvcml0ZSB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5SRUZSRVNIX09OQ0UpOwogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLmk43kvZzlpLHotKUiIH0pOwogICAgICB9CiAgICB9CiAgfTsKICBjb25zdCBfd2l0aFNjb3BlSWQkNSA9IChuMikgPT4gKHZ1ZS5wdXNoU2NvcGVJZCgiZGF0YS12LTMwZGFjNTY0IiksIG4yID0gbjIoKSwgdnVlLnBvcFNjb3BlSWQoKSwgbjIpOwogIGNvbnN0IF9ob2lzdGVkXzEkOCA9IHsgY2xhc3M6ICJ0b29sYmFyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzIkNSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkNSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLlm57lpI0iLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzMkNSA9IHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAidG9vbCBuby1ob3ZlciIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzQkNSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkNSgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICJUd2VldCIsIC0xKSk7CiAgZnVuY3Rpb24gX3NmY19yZW5kZXIkMyhfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICAgIGNvbnN0IF9jb21wb25lbnRfSWNvbiA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJJY29uIik7CiAgICBjb25zdCBfY29tcG9uZW50X0Jhc2VMb2FkaW5nID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkJhc2VMb2FkaW5nIik7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xJDgsIFsKICAgICAgdnVlLnJlbmRlclNsb3QoX2N0eC4kc2xvdHMsICJkZWZhdWx0Iiwge30sIHZvaWQgMCwgdHJ1ZSksCiAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogInRvb2wiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gJG9wdGlvbnMuY2hlY2tJc0xvZ2luKCJyZXBseSIpLCBbInN0b3AiXSkpCiAgICAgIH0sIFsKICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7IGljb246ICJteW5hdWk6bWVzc2FnZSIgfSksCiAgICAgICAgX2hvaXN0ZWRfMiQ1CiAgICAgIF0pLAogICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbInRvb2wiLCB7IGRpc2FibGVkOiAkZGF0YS5sb2FkaW5nIH1dKSwKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkb3B0aW9ucy50b2dnbGVGYXZvcml0ZSAmJiAkb3B0aW9ucy50b2dnbGVGYXZvcml0ZSguLi5hcmdzKSwgWyJzdG9wIl0pKQogICAgICB9LCBbCiAgICAgICAgJGRhdGEubG9hZGluZyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VMb2FkaW5nLCB7CiAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICBzaXplOiAic21hbGwiCiAgICAgICAgfSkpIDogKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAxIH0sIFsKICAgICAgICAgICRvcHRpb25zLnBvc3QuaXNGYXZvcml0ZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICBjb2xvcjogInJnYigyMjQsNDIsNDIpIiwKICAgICAgICAgICAgaWNvbjogImljb25vaXI6c3Rhci1zb2xpZCIKICAgICAgICAgIH0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICBpY29uOiAiaWNvbm9pcjpzdGFyIgogICAgICAgICAgfSkpCiAgICAgICAgXSwgNjQpKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0LmlzRmF2b3JpdGUgPyAi5Y+W5raIIiA6ICIiKSArICLmlLbol48iLCAxKQogICAgICBdLCAyKSwKICAgICAgJG9wdGlvbnMucG9zdC5jb2xsZWN0Q291bnQgIT09IDAgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zJDUsIFsKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0LmNvbGxlY3RDb3VudCArICLkurrmlLbol48iKSwgMSkKICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICBjbGFzczogInRvb2wiLAogICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gdnVlLndpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+ICRvcHRpb25zLnR3ZWV0ICYmICRvcHRpb25zLnR3ZWV0KC4uLmFyZ3MpLCBbInN0b3AiXSkpCiAgICAgIH0sIFsKICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7IGljb246ICJ1aWw6c2hhcmUiIH0pLAogICAgICAgIF9ob2lzdGVkXzQkNQogICAgICBdKSwKICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0b29sIiwgeyAiZGlzYWJsZWQiOiAkZGF0YS5sb2FkaW5nMiB9XSksCiAgICAgICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMudG9nZ2xlSWdub3JlICYmICRvcHRpb25zLnRvZ2dsZUlnbm9yZSguLi5hcmdzKSwgWyJzdG9wIl0pKQogICAgICB9LCBbCiAgICAgICAgJGRhdGEubG9hZGluZzIgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9CYXNlTG9hZGluZywgewogICAgICAgICAga2V5OiAwLAogICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgIH0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgIGtleTogMSwKICAgICAgICAgIGljb246ICJmbHVlbnQ6ZXllLWhpZGUtMjQtcmVndWxhciIKICAgICAgICB9KSksCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMucG9zdC5pc0lnbm9yZSA/ICLlj5bmtojlv73nlaUiIDogIuW/veeVpSIpLCAxKQogICAgICBdLCAyKSwKICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJ0b29sIiwgeyAiZGlzYWJsZWQiOiAkZGF0YS5sb2FkaW5nMyB9XSksCiAgICAgICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMucmVwb3J0ICYmICRvcHRpb25zLnJlcG9ydCguLi5hcmdzKSwgWyJzdG9wIl0pKQogICAgICB9LCBbCiAgICAgICAgJGRhdGEubG9hZGluZzMgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9CYXNlTG9hZGluZywgewogICAgICAgICAga2V5OiAwLAogICAgICAgICAgc2l6ZTogInNtYWxsIgogICAgICAgIH0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgIGtleTogMSwKICAgICAgICAgIGNsYXNzOiAiYmxhY2siLAogICAgICAgICAgaWNvbjogInNvbGFyOmRhbmdlci10cmlhbmdsZS1vdXRsaW5lIgogICAgICAgIH0pKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0LmlzUmVwb3J0ID8gIuS9oOW3suWvueacrOS4u+mimOi/m+ihjOS6huaKpeWRiiIgOiAi5oql5ZGKIiksIDEpCiAgICAgIF0sIDIpCiAgICBdKTsKICB9CiAgY29uc3QgVG9vbGJhciA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kOCwgW1sicmVuZGVyIiwgX3NmY19yZW5kZXIkM10sIFsiX19zY29wZUlkIiwgImRhdGEtdi0zMGRhYzU2NCJdXSk7CiAgY29uc3QgX3dpdGhTY29wZUlkJDQgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi00YTA2MzExMSIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJDcgPSBbImhyZWYiXTsKICBjb25zdCBfaG9pc3RlZF8yJDQgPSBbInNyYyJdOwogIGNvbnN0IF9ob2lzdGVkXzMkNCA9IHsgY2xhc3M6ICJ0ZXh0cyIgfTsKICBjb25zdCBfaG9pc3RlZF80JDQgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogInBvaW50IgogIH07CiAgY29uc3QgX2hvaXN0ZWRfNSQ0ID0geyBjbGFzczogImxpbmstbnVtIiB9OwogIGNvbnN0IF9ob2lzdGVkXzYkNCA9IHsgY2xhc3M6ICJteS10YWciIH07CiAgY29uc3QgX2hvaXN0ZWRfNyQzID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ0KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgeyBjbGFzczogImZhIGZhLXRhZyIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF84JDMgPSB7CiAgICBrZXk6IDIsCiAgICBjbGFzczogImFnbyIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzkkMyA9IHsKICAgIGtleTogMywKICAgIGNsYXNzOiAibW9kIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTAkMyA9IHsKICAgIGtleTogNCwKICAgIGNsYXNzOiAib3duZXIiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8xMSQzID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfMTIkMyA9IHsKICAgIGtleTogNSwKICAgIGNsYXNzOiAib3duZXIiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8xMyQzID0gewogICAga2V5OiA2LAogICAgY2xhc3M6ICJtb2QiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8xNCQyID0gewogICAga2V5OiA3LAogICAgY2xhc3M6ICJhZ28iCiAgfTsKICBjb25zdCBfaG9pc3RlZF8xNSQyID0geyBjbGFzczogIm15LXRhZyIgfTsKICBjb25zdCBfaG9pc3RlZF8xNiQyID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQ0KCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgeyBjbGFzczogImZhIGZhLXRhZyIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xNyQyID0gewogICAga2V5OiA5LAogICAgY2xhc3M6ICJwb2ludCIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzE4JDIgPSB7IGNsYXNzOiAibGluay1udW0iIH07CiAgY29uc3QgX2hvaXN0ZWRfMTkkMiA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzIwJDIgPSBbInNyYyJdOwogIGNvbnN0IF9ob2lzdGVkXzIxJDIgPSB7IGNsYXNzOiAiQXV0aG9yLXJpZ2h0IiB9OwogIGNvbnN0IF9ob2lzdGVkXzIyJDIgPSB7IGNsYXNzOiAiZmxvb3IiIH07CiAgY29uc3QgX2hvaXN0ZWRfMjMkMiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkNCgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLot7PovawiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzI0JDEgPSBbCiAgICBfaG9pc3RlZF8yMyQyCiAgXTsKICBjb25zdCBfc2ZjX21haW4kNyA9IHsKICAgIF9fbmFtZTogIlNpbmdsZUNvbW1lbnQiLAogICAgcHJvcHM6IHsKICAgICAgY29tbWVudDogewogICAgICAgIHJlcGx5X2NvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIGlzUmlnaHQ6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2V0dXAoX19wcm9wcykgewogICAgICBjb25zdCBjb25maWcyID0gdnVlLmluamVjdCgiY29uZmlnIik7CiAgICAgIGNvbnN0IGlzTG9naW4gPSB2dWUuaW5qZWN0KCJpc0xvZ2luIik7CiAgICAgIGNvbnN0IHRhZ3MgPSB2dWUuaW5qZWN0KCJ0YWdzIik7CiAgICAgIGNvbnN0IHByb3BzID0gX19wcm9wczsKICAgICAgY29uc3QgbXlUYWdzID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgICByZXR1cm4gdGFnc1twcm9wcy5jb21tZW50LnVzZXJuYW1lXSA/PyBbXTsKICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIGp1bXAoKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuSlVNUCwgcHJvcHMuY29tbWVudC5mbG9vcik7CiAgICAgIH0KICAgICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsiY29tbWVudCIsIHsgaXNTaW1wbGU6IHZ1ZS51bnJlZihjb25maWcyKS52aWV3VHlwZSA9PT0gInNpbXBsZSIgfV0pLAogICAgICAgICAgcmVmOiAiY29tbWVudCIKICAgICAgICB9LCBbCiAgICAgICAgICAhX19wcm9wcy5pc1JpZ2h0ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiYSIsIHsKICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICBjbGFzczogImF2YXRhciIsCiAgICAgICAgICAgIGhyZWY6IGAvbWVtYmVyLyR7X19wcm9wcy5jb21tZW50LnVzZXJuYW1lfWAKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgICAgICAgICAgIHNyYzogX19wcm9wcy5jb21tZW50LmF2YXRhciwKICAgICAgICAgICAgICBhbHQ6ICIiCiAgICAgICAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzIkNCkKICAgICAgICAgIF0sIDgsIF9ob2lzdGVkXzEkNykpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJjb21tZW50LWJvZHkiLCB7IGlzUmlnaHQ6IF9fcHJvcHMuaXNSaWdodCB9XSkKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMyQ0LCBbCiAgICAgICAgICAgICAgX19wcm9wcy5jb21tZW50LnRoYW5rQ291bnQgJiYgX19wcm9wcy5pc1JpZ2h0ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNCQ0LCBbCiAgICAgICAgICAgICAgICBfX3Byb3BzLmNvbW1lbnQuaXNUaGFua2VkID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS51bnJlZihJY29uKSwgewogICAgICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAicmdiKDIyNCw0Miw0MikiLAogICAgICAgICAgICAgICAgICBpY29uOiAiaWNvbi1wYXJrLXNvbGlkOmxpa2UiCiAgICAgICAgICAgICAgICB9KSkgOiAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2sodnVlLnVucmVmKEljb24pLCB7CiAgICAgICAgICAgICAgICAgIGtleTogMSwKICAgICAgICAgICAgICAgICAgY29sb3I6ICFfX3Byb3BzLmNvbW1lbnQudGhhbmtDb3VudCA/IG51bGwgOiAicmdiKDIyNCw0Miw0MikiLAogICAgICAgICAgICAgICAgICBpY29uOiAiaWNvbi1wYXJrLW91dGxpbmU6bGlrZSIKICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsiY29sb3IiXSkpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNSQ0LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMuY29tbWVudC50aGFua0NvdW50KSwgMSkKICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICB2dWUudW5yZWYoaXNMb2dpbikgJiYgdnVlLnVucmVmKGNvbmZpZzIpLm9wZW5UYWcgJiYgX19wcm9wcy5pc1JpZ2h0ID8gKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCB7IGtleTogMSB9LCB2dWUucmVuZGVyTGlzdChteVRhZ3MudmFsdWUsIChpKSA9PiB7CiAgICAgICAgICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfNiQ0LCBbCiAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzckMywKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoaSksIDEpCiAgICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgICB9KSwgMjU2KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICBfX3Byb3BzLmlzUmlnaHQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJzcGFuIiwgX2hvaXN0ZWRfOCQzLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMuY29tbWVudC5kYXRlKSwgMSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgICAgX19wcm9wcy5jb21tZW50LmlzTW9kICYmIF9fcHJvcHMuaXNSaWdodCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzkkMywgIk1PRCIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgIF9fcHJvcHMuY29tbWVudC5pc09wICYmIF9fcHJvcHMuaXNSaWdodCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEwJDMsICJPUCIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICBocmVmOiBgL21lbWJlci8ke19fcHJvcHMuY29tbWVudC51c2VybmFtZX1gLAogICAgICAgICAgICAgICAgY2xhc3M6ICJ1c2VybmFtZSIKICAgICAgICAgICAgICB9LCB2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMuY29tbWVudC51c2VybmFtZSksIDksIF9ob2lzdGVkXzExJDMpLAogICAgICAgICAgICAgIF9fcHJvcHMuY29tbWVudC5pc09wICYmICFfX3Byb3BzLmlzUmlnaHQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xMiQzLCAiT1AiKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICBfX3Byb3BzLmNvbW1lbnQuaXNNb2QgJiYgIV9fcHJvcHMuaXNSaWdodCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEzJDMsICJNT0QiKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICAhX19wcm9wcy5pc1JpZ2h0ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzE0JDIsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX19wcm9wcy5jb21tZW50LmRhdGUpLCAxKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICB2dWUudW5yZWYoaXNMb2dpbikgJiYgdnVlLnVucmVmKGNvbmZpZzIpLm9wZW5UYWcgJiYgIV9fcHJvcHMuaXNSaWdodCA/ICh2dWUub3BlbkJsb2NrKHRydWUpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgeyBrZXk6IDggfSwgdnVlLnJlbmRlckxpc3QobXlUYWdzLnZhbHVlLCAoaSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzE1JDIsIFsKICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTYkMiwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoaSksIDEpCiAgICAgICAgICAgICAgICBdKTsKICAgICAgICAgICAgICB9KSwgMjU2KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKSwKICAgICAgICAgICAgICBfX3Byb3BzLmNvbW1lbnQudGhhbmtDb3VudCAmJiAhX19wcm9wcy5pc1JpZ2h0ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTckMiwgWwogICAgICAgICAgICAgICAgX19wcm9wcy5jb21tZW50LmlzVGhhbmtlZCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayh2dWUudW5yZWYoSWNvbiksIHsKICAgICAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgICAgICBjb2xvcjogInJnYigyMjQsNDIsNDIpIiwKICAgICAgICAgICAgICAgICAgaWNvbjogImljb24tcGFyay1zb2xpZDpsaWtlIgogICAgICAgICAgICAgICAgfSkpIDogKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS51bnJlZihJY29uKSwgewogICAgICAgICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAhX19wcm9wcy5jb21tZW50LnRoYW5rQ291bnQgPyBudWxsIDogInJnYigyMjQsNDIsNDIpIiwKICAgICAgICAgICAgICAgICAgaWNvbjogImljb24tcGFyay1vdXRsaW5lOmxpa2UiCiAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbImNvbG9yIl0pKSwKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzE4JDIsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoX19wcm9wcy5jb21tZW50LnRoYW5rQ291bnQpLCAxKQogICAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICAgIF0pLAogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoQmFzZUh0bWxSZW5kZXIsIHsKICAgICAgICAgICAgICBjbGFzczogInJlcGx5X2NvbnRlbnQiLAogICAgICAgICAgICAgIGh0bWw6IF9fcHJvcHMuY29tbWVudC5yZXBseV9jb250ZW50CiAgICAgICAgICAgIH0sIG51bGwsIDgsIFsiaHRtbCJdKQogICAgICAgICAgXSwgMiksCiAgICAgICAgICBfX3Byb3BzLmlzUmlnaHQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJhIiwgewogICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgIGNsYXNzOiAiYXZhdGFyIiwKICAgICAgICAgICAgaHJlZjogYC9tZW1iZXIvJHtfX3Byb3BzLmNvbW1lbnQudXNlcm5hbWV9YAogICAgICAgICAgfSwgWwogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgICAgICAgICAgICAgc3JjOiBfX3Byb3BzLmNvbW1lbnQuYXZhdGFyLAogICAgICAgICAgICAgIGFsdDogIiIKICAgICAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMjAkMikKICAgICAgICAgIF0sIDgsIF9ob2lzdGVkXzE5JDIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjEkMiwgWwogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yMiQyLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMuY29tbWVudC5mbG9vciksIDEpLAogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3M6ICJ0b29sIGp1bXAiLAogICAgICAgICAgICAgIG9uQ2xpY2s6IHZ1ZS53aXRoTW9kaWZpZXJzKGp1bXAsIFsic3RvcCJdKQogICAgICAgICAgICB9LCBfaG9pc3RlZF8yNCQxKQogICAgICAgICAgXSkKICAgICAgICBdLCAyKTsKICAgICAgfTsKICAgIH0KICB9OwogIGNvbnN0IFNpbmdsZUNvbW1lbnQgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJDcsIFtbIl9fc2NvcGVJZCIsICJkYXRhLXYtNGEwNjMxMTEiXV0pOwogIGZ1bmN0aW9uIF9jc3MoZWwsIGtleSwgdmFsdWUpIHsKICAgIGNvbnN0IHJlZyA9IC9eLT9cZCsuP1xkKihweHxwdHxlbXxyZW18dnd8dmh8JXxycHh8bXMpJC9pOwogICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsKICAgICAgbGV0IHZhbCA9IG51bGw7CiAgICAgIGlmICgiZ2V0Q29tcHV0ZWRTdHlsZSIgaW4gd2luZG93KSB7CiAgICAgICAgdmFsID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpW2tleV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsID0gZWwuY3VycmVudFN0eWxlW2tleV07CiAgICAgIH0KICAgICAgcmV0dXJuIHJlZy50ZXN0KHZhbCkgPyBwYXJzZUZsb2F0KHZhbCkgOiB2YWw7CiAgICB9IGVsc2UgewogICAgICBpZiAoWwogICAgICAgICJ0b3AiLAogICAgICAgICJsZWZ0IiwKICAgICAgICAiYm90dG9tIiwKICAgICAgICAicmlnaHQiLAogICAgICAgICJ3aWR0aCIsCiAgICAgICAgImhlaWdodCIsCiAgICAgICAgImZvbnQtc2l6ZSIsCiAgICAgICAgIm1hcmdpbiIsCiAgICAgICAgInBhZGRpbmciCiAgICAgIF0uaW5jbHVkZXMoa2V5KSkgewogICAgICAgIGlmICghcmVnLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICBpZiAoIVN0cmluZyh2YWx1ZSkuaW5jbHVkZXMoImNhbGMiKSkgewogICAgICAgICAgICB2YWx1ZSArPSAicHgiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoa2V5ID09PSAidHJhbnNmb3JtIikgewogICAgICAgIGVsLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IGVsLnN0eWxlLk1zVHJhbnNmb3JtID0gZWwuc3R5bGUubXNUcmFuc2Zvcm0gPSBlbC5zdHlsZS5Nb3pUcmFuc2Zvcm0gPSBlbC5zdHlsZS5PVHJhbnNmb3JtID0gZWwuc3R5bGUudHJhbnNmb3JtID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWwuc3R5bGVba2V5XSA9IHZhbHVlOwogICAgICB9CiAgICB9CiAgfQogIGZ1bmN0aW9uIGdldEltZ1NpemUobmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCBtYXhXaWR0aCwgbWF4SGVpZ2h0KSB7CiAgICBjb25zdCBpbWdSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7CiAgICBjb25zdCBtYXhSYXRpbyA9IG1heFdpZHRoIC8gbWF4SGVpZ2h0OwogICAgbGV0IHdpZHRoLCBoZWlnaHQ7CiAgICBpZiAoaW1nUmF0aW8gPj0gbWF4UmF0aW8pIHsKICAgICAgaWYgKG5hdHVyYWxXaWR0aCA+IG1heFdpZHRoKSB7CiAgICAgICAgd2lkdGggPSBtYXhXaWR0aDsKICAgICAgICBoZWlnaHQgPSBtYXhXaWR0aCAvIG5hdHVyYWxXaWR0aCAqIG5hdHVyYWxIZWlnaHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2lkdGggPSBuYXR1cmFsV2lkdGg7CiAgICAgICAgaGVpZ2h0ID0gbmF0dXJhbEhlaWdodDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKG5hdHVyYWxIZWlnaHQgPiBtYXhIZWlnaHQpIHsKICAgICAgICB3aWR0aCA9IG1heEhlaWdodCAvIG5hdHVyYWxIZWlnaHQgKiBuYXR1cmFsV2lkdGg7CiAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0OwogICAgICB9IGVsc2UgewogICAgICAgIHdpZHRoID0gbmF0dXJhbFdpZHRoOwogICAgICAgIGhlaWdodCA9IG5hdHVyYWxIZWlnaHQ7CiAgICAgIH0KICAgIH0KICAgIGlmIChoZWlnaHQgPT09IDApIHsKICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0OwogICAgICB3aWR0aCA9IGhlaWdodCAqIDEuMzsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChoZWlnaHQgPCAyNCkgewogICAgICAgIGhlaWdodCA9IDUwOwogICAgICAgIHdpZHRoID0gaGVpZ2h0ICogaW1nUmF0aW87CiAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMTAwKSB7CiAgICAgICAgaGVpZ2h0ID0gMzAwOwogICAgICAgIHdpZHRoID0gaGVpZ2h0ICogaW1nUmF0aW87CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0OwogICAgICAgIHdpZHRoID0gaGVpZ2h0ICogaW1nUmF0aW87CiAgICAgIH0KICAgICAgaWYgKHdpZHRoID4gbWF4V2lkdGgpIHsKICAgICAgICB3aWR0aCA9IG1heFdpZHRoOwogICAgICAgIGhlaWdodCA9IHdpZHRoIC8gaW1nUmF0aW87CiAgICAgIH0KICAgIH0KICAgIGNvbnNvbGUubG9nKHdpZHRoLCBoZWlnaHQpOwogICAgcmV0dXJuIHsgd2lkdGgsIGhlaWdodCB9OwogIH0KICBjb25zdCBfc2ZjX21haW4kNiA9IHsKICAgIG5hbWU6ICJkZXRhaWwiLAogICAgY29tcG9uZW50czogewogICAgICBCYXNlU2VsZWN0LAogICAgICBCYXNlQnV0dG9uLAogICAgICBTaW5nbGVDb21tZW50LAogICAgICBQb3BDb25maXJtLAogICAgICBDb21tZW50LAogICAgICBQb3N0RWRpdG9yLAogICAgICBQb2ludCwKICAgICAgVG9vbGJhciwKICAgICAgQmFzZUh0bWxSZW5kZXIsCiAgICAgIFRvb2x0aXAsCiAgICAgIEJhc2VMb2FkaW5nLAogICAgICBJY29uCiAgICB9LAogICAgaW5qZWN0OiBbImFsbFJlcGx5VXNlcnMiLCAicG9zdCIsICJ0YWdzIiwgImlzTG9naW4iLCAiY29uZmlnIiwgInBhZ2VUeXBlIiwgImlzTmlnaHQiXSwKICAgIHByb3ZpZGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zdERldGFpbFdpZHRoOiB2dWUuY29tcHV0ZWQoKCkgPT4gdGhpcy5wb3N0RGV0YWlsV2lkdGgpCiAgICAgIH07CiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgbW9kZWxWYWx1ZTogewogICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICByZWZyZXNoTG9hZGluZzogewogICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgZGVmYXVsdCgpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRpc3BsYXlUeXBlOiBDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yTm9DYWxsVXNlcgogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaXNTdGlja3k6IGZhbHNlLAogICAgICAgIHNlbGVjdENhbGxJbmRleDogMCwKICAgICAgICBwb3N0RGV0YWlsV2lkdGg6IDAsCiAgICAgICAgc2hvd0NhbGxMaXN0OiBmYWxzZSwKICAgICAgICBzaG93UmVsYXRpb25SZXBseTogZmFsc2UsCiAgICAgICAgcmVwbHlUZXh0OiAiIiwKICAgICAgICBjYWxsU3R5bGU6IHsKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIGxlZnQ6IDAKICAgICAgICB9LAogICAgICAgIHRhcmdldFVzZXI6IHsKICAgICAgICAgIGxlZnQ6IFtdLAogICAgICAgICAgcmlnaHQ6ICIiLAogICAgICAgICAgcmlnaHRGbG9vcjogLTEKICAgICAgICB9LAogICAgICAgIGN1cnJlbnRGbG9vcjogIiIsCiAgICAgICAgc2hvd09wVGFnOiBmYWxzZSwKICAgICAgICByZWN0OiB7fSwKICAgICAgICByZXN1bHQ6IHt9LAogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICBzY2FsZTogMSwKICAgICAgICBtaW5TY2FsZTogMC4yLAogICAgICAgIG1heFNjYWxlOiAxNiwKICAgICAgICBwcmV2aWV3OiB7CiAgICAgICAgICByZWN0OiB7fSwKICAgICAgICAgIHJlc3VsdDoge30sCiAgICAgICAgICB4OiAwLAogICAgICAgICAgeTogMCwKICAgICAgICAgIHNjYWxlOiAxLAogICAgICAgICAgbWluU2NhbGU6IDAuMiwKICAgICAgICAgIG1heFNjYWxlOiAxNgogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICBmdW5jdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uczsKICAgICAgfSwKICAgICAgLy93b3fljLrlkozkuJzkuqzljLrnmoRjc3PopoHnibnlrpoKICAgICAgaXNTcGVjaWZpY0FyZWEoKSB7CiAgICAgICAgaWYgKFtQYWdlVHlwZS5Ob2RlLCBQYWdlVHlwZS5Qb3N0XS5pbmNsdWRlcyh0aGlzLnBhZ2VUeXBlKSkgewogICAgICAgICAgaWYgKFsi5Lic5LqsIiwgIldvcmxkIG9mIFdhcmNyYWZ0Il0uaW5jbHVkZXModGhpcy5wb3N0Lm5vZGUudGl0bGUpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0sCiAgICAgIGNhbkFwcGVuZCgpIHsKICAgICAgICBpZiAodGhpcy5pc015KSB7CiAgICAgICAgICBsZXQgY3JlYXRlID0gbmV3IERhdGUodGhpcy5wb3N0LmNyZWF0ZURhdGUpOwogICAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBjcmVhdGUudmFsdWVPZigpID4gMWUzICogNjAgKiAzMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgICBjYW5FZGl0TW92ZSgpIHsKICAgICAgICBpZiAodGhpcy5pc015KSB7CiAgICAgICAgICBsZXQgY3JlYXRlID0gbmV3IERhdGUodGhpcy5wb3N0LmNyZWF0ZURhdGUpOwogICAgICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBjcmVhdGUudmFsdWVPZigpIDwgMWUzICogNjAgKiAxMDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9LAogICAgICBpc015KCkgewogICAgICAgIHJldHVybiB0aGlzLnBvc3QubWVtYmVyLnVzZXJuYW1lID09PSB3aW5kb3cudXNlci51c2VybmFtZTsKICAgICAgfSwKICAgICAgbXlUYWdzKCkgewogICAgICAgIHJldHVybiB0aGlzLnRhZ3NbdGhpcy5wb3N0Lm1lbWJlci51c2VybmFtZV0gPz8gW107CiAgICAgIH0sCiAgICAgIENvbW1lbnREaXNwbGF5VHlwZSgpIHsKICAgICAgICByZXR1cm4gQ29tbWVudERpc3BsYXlUeXBlOwogICAgICB9LAogICAgICBpc1Bvc3QoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGFnZVR5cGUgPT09IFBhZ2VUeXBlLlBvc3Q7CiAgICAgIH0sCiAgICAgIGZpbHRlckNhbGxMaXN0KCkgewogICAgICAgIGlmICh0aGlzLnNob3dDYWxsTGlzdCkgewogICAgICAgICAgbGV0IGxpc3QgPSBbIueuoeeQhuWRmCIsICLmiYDmnInkuroiXS5jb25jYXQodGhpcy5hbGxSZXBseVVzZXJzKTsKICAgICAgICAgIGlmICh0aGlzLnJlcGx5VGV4dCkKICAgICAgICAgICAgcmV0dXJuIGxpc3QuZmlsdGVyKChpKSA9PiBpLnNlYXJjaCh0aGlzLnJlcGx5VGV4dCkgPiAtMSk7CiAgICAgICAgICByZXR1cm4gbGlzdDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgICByZXBseUxpc3QoKSB7CiAgICAgICAgaWYgKFtDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yLCBDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yTm9DYWxsVXNlcl0uaW5jbHVkZXModGhpcy5kaXNwbGF5VHlwZSkpCiAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0Lm5lc3RlZFJlcGxpZXM7CiAgICAgICAgaWYgKHRoaXMuZGlzcGxheVR5cGUgPT09IENvbW1lbnREaXNwbGF5VHlwZS5MaWtlKSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb25zLmNsb25lKHRoaXMucG9zdC5uZXN0ZWRSZXBsaWVzKS5zb3J0KChhLCBiKSA9PiBiLnRoYW5rQ291bnQgLSBhLnRoYW5rQ291bnQpOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5kaXNwbGF5VHlwZSA9PT0gQ29tbWVudERpc3BsYXlUeXBlLk5ldykgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9ucy5jbG9uZSh0aGlzLnBvc3QucmVwbHlMaXN0KS5yZXZlcnNlKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmRpc3BsYXlUeXBlID09PSBDb21tZW50RGlzcGxheVR5cGUuVjJleE9yaWdpbikKICAgICAgICAgIHJldHVybiB0aGlzLnBvc3QucmVwbHlMaXN0OwogICAgICAgIGlmICh0aGlzLmRpc3BsYXlUeXBlID09PSBDb21tZW50RGlzcGxheVR5cGUuRmxvb3JJbkZsb29yTmVzdGVkKQogICAgICAgICAgcmV0dXJuIHRoaXMucG9zdC5uZXN0ZWRSZWR1bmRSZXBsaWVzOwogICAgICAgIGlmICh0aGlzLmRpc3BsYXlUeXBlID09PSBDb21tZW50RGlzcGxheVR5cGUuT25seU9wKQogICAgICAgICAgcmV0dXJuIHRoaXMucG9zdC5yZXBseUxpc3QuZmlsdGVyKCh2KSA9PiB7CiAgICAgICAgICAgIHZhciBfYTsKICAgICAgICAgICAgcmV0dXJuIHYudXNlcm5hbWUgPT09ICgoX2EgPSB0aGlzLnBvc3QubWVtYmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlcm5hbWUpOwogICAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgICAvL+WFs+iBlOWbnuWkjQogICAgICByZWxhdGlvblJlcGx5KCkgewogICAgICAgIGlmICh0aGlzLnRhcmdldFVzZXIubGVmdC5sZW5ndGggJiYgdGhpcy50YXJnZXRVc2VyLnJpZ2h0KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0LnJlcGx5TGlzdC5maWx0ZXIoKHYpID0+IHsKICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0VXNlci5sZWZ0LmNvbmNhdCh0aGlzLnRhcmdldFVzZXIucmlnaHQpLmluY2x1ZGVzKHYudXNlcm5hbWUpKSB7CiAgICAgICAgICAgICAgaWYgKHYuZmxvb3IgPiB0aGlzLnRhcmdldFVzZXIucmlnaHRGbG9vcikgewogICAgICAgICAgICAgICAgaWYgKHYucmVwbHlVc2Vycy5pbmNsdWRlcyh0aGlzLnRhcmdldFVzZXIucmlnaHQpKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHYudXNlcm5hbWUgPT09IHRoaXMudGFyZ2V0VXNlci5yaWdodCkgewogICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFyZ2V0VXNlci5sZWZ0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHYucmVwbHlVc2Vycy5pbmNsdWRlcyh0aGlzLnRhcmdldFVzZXIubGVmdFtpXSkpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICJwb3N0LmlkIihuMiwgbykgewogICAgICAgIGlmICh0aGlzLiRyZWZzWyJwb3N0LWVkaXRvciJdKSB7CiAgICAgICAgICB0aGlzLiRyZWZzWyJwb3N0LWVkaXRvciJdLmNvbnRlbnQgPSAiIjsKICAgICAgICAgIHZ1ZS5uZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMuJHJlZnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZXRhaWwpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zY3JvbGxUbyh7IHRvcDogMCB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgInBvc3QuaGVhZGVyVGVtcGxhdGUiKG4yLCBvKSB7CiAgICAgICAgbGV0IG1vdW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubWFpbi13cmFwcGVyIC5wb3N0LXdyYXBwZXIgLmh0bWwtd3JhcHBlciAuaGVhZGVyIik7CiAgICAgICAgaWYgKG1vdW50RWwpIHsKICAgICAgICAgIHRoaXMuc2hvd09wVGFnID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1vZGVsVmFsdWU6IHsKICAgICAgICBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgICAgaWYgKHRoaXMuaXNQb3N0KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBpZiAobmV3VmFsKSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudEZsb29yID0gIiI7CiAgICAgICAgICAgIHZ1ZS5uZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgdmFyIF9hLCBfYjsKICAgICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLiRyZWZzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFpbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmZvY3VzKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5pc1N0aWNreSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnNob3dSZWxhdGlvblJlcGx5ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgdnVlLm5leHRUaWNrKCgpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHZhciBfYTsKICAgICAgICAgIHRoaXMucG9zdERldGFpbFdpZHRoID0gKChfYSA9IHRoaXMuJHJlZnMubWFpbldyYXBwZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCkgfHwgMDsKICAgICAgICB9LCA1MDApOwogICAgICB9KTsKICAgICAgaWYgKHRoaXMuaXNMb2dpbikgewogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKAogICAgICAgICAgKFtlMl0pID0+IGUyLnRhcmdldC50b2dnbGVBdHRyaWJ1dGUoInN0dWNrIiwgZTIuaW50ZXJzZWN0aW9uUmF0aW8gPCAxKSwKICAgICAgICAgIHsgdGhyZXNob2xkOiBbMV0gfQogICAgICAgICk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLiRyZWZzLnJlcGx5Qm94KTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHRoaXMub25LZXlEb3duKTsKICAgICAgfQogICAgICBldmVudEJ1cy5vbihDTUQuU0hPV19DQUxMLCAodmFsKSA9PiB7CiAgICAgICAgaWYgKHZhbC5zaG93KSB7CiAgICAgICAgICB0aGlzLnNob3dDYWxsTGlzdCA9IHRydWU7CiAgICAgICAgICB0aGlzLnJlcGx5VGV4dCA9IHZhbC50ZXh0OwogICAgICAgICAgaWYgKHRoaXMuaXNQb3N0KSB7CiAgICAgICAgICAgIHRoaXMuY2FsbFN0eWxlLnRvcCA9IHZhbC50b3AgKyAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAtNDAgKyAicHgiOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYWxsU3R5bGUudG9wID0gdmFsLnRvcCArICQoIi5wb3N0LWRldGFpbCIpLnNjcm9sbFRvcCgpICsgMTUgKyAicHgiOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYWxsU3R5bGUubGVmdCA9IHZhbC5sZWZ0IC0gJCgiLm1haW4iKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgMTAgKyAicHgiOwogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0Q2FsbEluZGV4ID49IHRoaXMuZmlsdGVyQ2FsbExpc3QubGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2FsbEluZGV4ID0gMDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yZXBseVRleHQgPSAiIjsKICAgICAgICAgIHRoaXMuc2hvd0NhbGxMaXN0ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnNlbGVjdENhbGxJbmRleCA9IDA7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZXZlbnRCdXMub24oQ01ELlJFTEFUSU9OX1JFUExZLCAodmFsKSA9PiB7CiAgICAgICAgdGhpcy50YXJnZXRVc2VyID0gdmFsOwogICAgICAgIHRoaXMuc2hvd1JlbGF0aW9uUmVwbHkgPSB0cnVlOwogICAgICB9KTsKICAgICAgZXZlbnRCdXMub24oQ01ELkpVTVAsIHRoaXMuanVtcCk7CiAgICB9LAogICAgYmVmb3JlVW5tb3VudCgpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzLm9uS2V5RG93bik7CiAgICAgIGV2ZW50QnVzLm9mZihDTUQuU0hPV19DQUxMKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgIGFkZFRhZygpIHsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5BRERfVEFHLCB0aGlzLnBvc3QubWVtYmVyLnVzZXJuYW1lKTsKICAgICAgfSwKICAgICAgcmVtb3ZlVGFnKHRhZykgewogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlJFTU9WRV9UQUcsIHsgdXNlcm5hbWU6IHRoaXMucG9zdC5tZW1iZXIudXNlcm5hbWUsIHRhZyB9KTsKICAgICAgfSwKICAgICAgY2xvc2VQcmV2aWV3TW9kYWwoKSB7CiAgICAgICAgbGV0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wcmV2aWV3LW1vZGFsIik7CiAgICAgICAgbGV0IHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2hhZG93Iik7CiAgICAgICAgbGV0IGRvbVJlY3QgPSB0aGlzLnByZXZpZXcucmVjdDsKICAgICAgICBfY3NzKHMsICJ0cmFuc2l0aW9uIiwgImFsbCAwLjNzIik7CiAgICAgICAgX2NzcyhzLCAid2lkdGgiLCBkb21SZWN0LndpZHRoKTsKICAgICAgICBfY3NzKHMsICJoZWlnaHQiLCBkb21SZWN0LmhlaWdodCk7CiAgICAgICAgX2NzcyhzLCAidHJhbnNmb3JtIiwgYHRyYW5zbGF0ZTNkKCR7ZG9tUmVjdC54fXB4LCAke2RvbVJlY3QueX1weCwgMCkgc2NhbGUoMSlgKTsKICAgICAgICBsZXQgbWFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wcmV2aWV3LW1vZGFsIC5tYXNrIik7CiAgICAgICAgX2NzcyhtYXNrLCAib3BhY2l0eSIsIDApOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgX2NzcyhzLCAidHJhbnNpdGlvbiIsICJhbGwgMHMiKTsKICAgICAgICAgIHMucmVtb3ZlKCk7CiAgICAgICAgICBfY3NzKHByZXZpZXdNb2RhbCwgInRvcCIsICItMTAwMHZoIik7CiAgICAgICAgICBfY3NzKGRvY3VtZW50LmJvZHksICJvdmVyZmxvdyIsICJhdXRvIik7CiAgICAgICAgfSwgMzAwKTsKICAgICAgfSwKICAgICAgc3RvcChlMikgewogICAgICAgIGUyLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGUyLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogICAgICAgIGlmIChlMi50YXJnZXQudGFnTmFtZSA9PT0gIklNRyIpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJlIiwgZTIudGFyZ2V0LnNyYyk7CiAgICAgICAgICBpZiAoL2NkblwudjJleFwuY29tLiphdmF0YXIvaS50ZXN0KGUyLnRhcmdldC5zcmMpKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ0Iik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnByZXZpZXcgPSB7CiAgICAgICAgICAgIHJlY3Q6IHt9LAogICAgICAgICAgICByZXN1bHQ6IHt9LAogICAgICAgICAgICB4OiAwLAogICAgICAgICAgICB5OiAwLAogICAgICAgICAgICBzY2FsZTogMSwKICAgICAgICAgICAgbWluU2NhbGU6IDAuMiwKICAgICAgICAgICAgbWF4U2NhbGU6IDE2CiAgICAgICAgICB9OwogICAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIGxldCBkb21SZWN0ID0gZTIudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgbGV0IHByZXZpZXdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wcmV2aWV3LW1vZGFsIik7CiAgICAgICAgICBfY3NzKHByZXZpZXdNb2RhbCwgInRvcCIsICIwIik7CiAgICAgICAgICBsZXQgcyA9IGUyLnRhcmdldC5jbG9uZU5vZGUoKTsKICAgICAgICAgIHMuY2xhc3NMaXN0LmFkZCgic2hhZG93Iik7CiAgICAgICAgICBwcmV2aWV3TW9kYWwuYXBwZW5kKHMpOwogICAgICAgICAgX2NzcyhzLCAidHJhbnNpdGlvbiIsICJhbGwgMHMiKTsKICAgICAgICAgIF9jc3MocywgIndpZHRoIiwgZG9tUmVjdC53aWR0aCk7CiAgICAgICAgICBfY3NzKHMsICJoZWlnaHQiLCBkb21SZWN0LmhlaWdodCk7CiAgICAgICAgICBfY3NzKHMsICJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlM2QoJHtkb21SZWN0Lnh9cHgsICR7ZG9tUmVjdC55fXB4LCAwKSBzY2FsZSgxKWApOwogICAgICAgICAgbGV0IHQgPSAiLjMiOwogICAgICAgICAgbGV0IHN3ID0gZG9tUmVjdC53aWR0aCAvIHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgICAgbGV0IHNoID0gZG9tUmVjdC5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgICAgICBkb21SZWN0LnN3ID0gc3c7CiAgICAgICAgICBkb21SZWN0LnNoID0gc2g7CiAgICAgICAgICB0aGlzLnByZXZpZXcucmVjdCA9IGRvbVJlY3Q7CiAgICAgICAgICB0aGlzLnByZXZpZXcucmVzdWx0ID0gZ2V0SW1nU2l6ZSgKICAgICAgICAgICAgcy5uYXR1cmFsV2lkdGgsCiAgICAgICAgICAgIHMubmF0dXJhbEhlaWdodCwKICAgICAgICAgICAgd2luZG93LmlubmVyV2lkdGggKiAwLjk1LAogICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjkKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLnByZXZpZXcueCA9ICh3aW5kb3cuaW5uZXJXaWR0aCAtIHRoaXMucHJldmlldy5yZXN1bHQud2lkdGgpICogMC41OwogICAgICAgICAgdGhpcy5wcmV2aWV3LnkgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGhpcy5wcmV2aWV3LnJlc3VsdC5oZWlnaHQpICogMC41OwogICAgICAgICAgbGV0IGlzUG9pbnRlcmRvd24gPSBmYWxzZTsKICAgICAgICAgIGxldCBpc01vdmUgPSBmYWxzZTsKICAgICAgICAgIGxldCBsYXN0UG9pbnRlcm1vdmUgPSB7IHg6IDAsIHk6IDAgfTsKICAgICAgICAgIGxldCBkaWZmID0geyB4OiAwLCB5OiAwIH07CiAgICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJkb3duIiwgZnVuY3Rpb24oZTMpIHsKICAgICAgICAgICAgaXNQb2ludGVyZG93biA9IHRydWU7CiAgICAgICAgICAgIGlzTW92ZSA9IGZhbHNlOwogICAgICAgICAgICBzLnNldFBvaW50ZXJDYXB0dXJlKGUzLnBvaW50ZXJJZCk7CiAgICAgICAgICAgIGxhc3RQb2ludGVybW92ZSA9IHsgeDogZTMuY2xpZW50WCwgeTogZTMuY2xpZW50WSB9OwogICAgICAgICAgfSk7CiAgICAgICAgICBzLmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJtb3ZlIiwgKGUzKSA9PiB7CiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJkb3duKSB7CiAgICAgICAgICAgICAgaXNNb3ZlID0gdHJ1ZTsKICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0geyB4OiBlMy5jbGllbnRYLCB5OiBlMy5jbGllbnRZIH07CiAgICAgICAgICAgICAgZGlmZi54ID0gY3VycmVudC54IC0gbGFzdFBvaW50ZXJtb3ZlLng7CiAgICAgICAgICAgICAgZGlmZi55ID0gY3VycmVudC55IC0gbGFzdFBvaW50ZXJtb3ZlLnk7CiAgICAgICAgICAgICAgbGFzdFBvaW50ZXJtb3ZlID0geyB4OiBjdXJyZW50LngsIHk6IGN1cnJlbnQueSB9OwogICAgICAgICAgICAgIHRoaXMucHJldmlldy54ICs9IGRpZmYueDsKICAgICAgICAgICAgICB0aGlzLnByZXZpZXcueSArPSBkaWZmLnk7CiAgICAgICAgICAgICAgX2NzcyhzLCAidHJhbnNpdGlvbiIsICJhbGwgMC4xcyIpOwogICAgICAgICAgICAgIF9jc3MocywgInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUzZCgke3RoaXMucHJldmlldy54fXB4LCAke3RoaXMucHJldmlldy55fXB4LCAwKSBzY2FsZSgke3RoaXMucHJldmlldy5zY2FsZX0pYCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZTMucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcy5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVydXAiLCAoKSA9PiB7CiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJkb3duKSB7CiAgICAgICAgICAgICAgaXNQb2ludGVyZG93biA9IGZhbHNlOwogICAgICAgICAgICAgIGlmICghaXNNb3ZlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlUHJldmlld01vZGFsKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcmNhbmNlbCIsIGZ1bmN0aW9uKGUzKSB7CiAgICAgICAgICAgIGlmIChpc1BvaW50ZXJkb3duKSB7CiAgICAgICAgICAgICAgaXNQb2ludGVyZG93biA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGxldCBtYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnByZXZpZXctbW9kYWwgLm1hc2siKTsKICAgICAgICAgIF9jc3MobWFzaywgInRyYW5zaXRpb24iLCAiYWxsIDBzIik7CiAgICAgICAgICBfY3NzKG1hc2ssICJvcGFjaXR5IiwgMCk7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgX2NzcyhzLCAidHJhbnNpdGlvbiIsIGBhbGwgJHt0fXNgKTsKICAgICAgICAgICAgX2NzcyhtYXNrLCAidHJhbnNpdGlvbiIsIGBhbGwgJHt0fXNgKTsKICAgICAgICAgICAgX2NzcyhtYXNrLCAib3BhY2l0eSIsIDEpOwogICAgICAgICAgICBfY3NzKHMsICJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlM2QoJHt0aGlzLnByZXZpZXcueH1weCwgJHt0aGlzLnByZXZpZXcueX1weCwgMCkgc2NhbGUoJHt0aGlzLnByZXZpZXcuc2NhbGV9KWApOwogICAgICAgICAgICBfY3NzKHMsICJ3aWR0aCIsIHRoaXMucHJldmlldy5yZXN1bHQud2lkdGgpOwogICAgICAgICAgICBfY3NzKHMsICJoZWlnaHQiLCB0aGlzLnByZXZpZXcucmVzdWx0LmhlaWdodCk7CiAgICAgICAgICB9LCAwKTsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICBfY3NzKGRvY3VtZW50LmJvZHksICJvdmVyZmxvdyIsICJoaWRkZW4iKTsKICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9LAogICAgICB3aGVlbChlMikgewogICAgICAgIGxldCBkMiA9IGUyLmRlbHRhWSA8IDAgPyAwLjEgOiAtMC4xOwogICAgICAgIGxldCByYXRpbyA9IDEgKyBkMjsKICAgICAgICBsZXQgX3NjYWxlID0gdGhpcy5wcmV2aWV3LnNjYWxlICogcmF0aW87CiAgICAgICAgaWYgKF9zY2FsZSA+IHRoaXMucHJldmlldy5tYXhTY2FsZSkgewogICAgICAgICAgcmF0aW8gPSB0aGlzLnByZXZpZXcubWF4U2NhbGUgLyB0aGlzLnByZXZpZXcuc2NhbGU7CiAgICAgICAgICB0aGlzLnByZXZpZXcuc2NhbGUgPSB0aGlzLnByZXZpZXcubWF4U2NhbGU7CiAgICAgICAgfSBlbHNlIGlmIChfc2NhbGUgPCB0aGlzLnByZXZpZXcubWluU2NhbGUpIHsKICAgICAgICAgIHJhdGlvID0gdGhpcy5wcmV2aWV3Lm1pblNjYWxlIC8gdGhpcy5wcmV2aWV3LnNjYWxlOwogICAgICAgICAgdGhpcy5wcmV2aWV3LnNjYWxlID0gdGhpcy5wcmV2aWV3Lm1pblNjYWxlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnByZXZpZXcuc2NhbGUgPSBfc2NhbGU7CiAgICAgICAgfQogICAgICAgIGlmIChlMi50YXJnZXQudGFnTmFtZSA9PT0gIklNRyIpIHsKICAgICAgICAgIGNvbnN0IG9yaWdpbiA9IHsKICAgICAgICAgICAgeDogZDIgKiB0aGlzLnByZXZpZXcucmVzdWx0LndpZHRoIC8gMiwKICAgICAgICAgICAgeTogZDIgKiB0aGlzLnByZXZpZXcucmVzdWx0LmhlaWdodCAvIDIKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLnByZXZpZXcueCAtPSBkMiAqIChlMi5jbGllbnRYIC0gdGhpcy5wcmV2aWV3LngpIC0gb3JpZ2luLng7CiAgICAgICAgICB0aGlzLnByZXZpZXcueSAtPSBkMiAqIChlMi5jbGllbnRZIC0gdGhpcy5wcmV2aWV3LnkpIC0gb3JpZ2luLnk7CiAgICAgICAgfQogICAgICAgIGxldCBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNoYWRvdyIpOwogICAgICAgIF9jc3MocywgInRyYW5zaXRpb24iLCAiYWxsIDAuMnMiKTsKICAgICAgICBfY3NzKHMsICJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlM2QoJHt0aGlzLnByZXZpZXcueH1weCwgJHt0aGlzLnByZXZpZXcueX1weCwgMCkgc2NhbGUoJHt0aGlzLnByZXZpZXcuc2NhbGV9KWApOwogICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0sCiAgICAgIGp1bXAoZmxvb3IpIHsKICAgICAgICBsZXQgbGFzdEl0ZW0gPSB0aGlzLnJlcGx5TGlzdFt0aGlzLnJlcGx5TGlzdC5sZW5ndGggLSAxXTsKICAgICAgICBpZiAoZmxvb3IgPT09ICIiKSB7CiAgICAgICAgICBmbG9vciA9IGxhc3RJdGVtLmZsb29yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBmbG9vciA9IE51bWJlcihmbG9vcik7CiAgICAgICAgICB9IGNhdGNoIChlMikgewogICAgICAgICAgICBmbG9vciA9IGxhc3RJdGVtLmZsb29yOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGZsb29yID09PSAwKSB7CiAgICAgICAgICAgIGZsb29yID0gMTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChmbG9vciA+IGxhc3RJdGVtLmZsb29yKQogICAgICAgICAgICBmbG9vciA9IGxhc3RJdGVtLmZsb29yOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMucG9zdC5yZXBseUxpc3QubGVuZ3RoKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAid2FybmluZyIsIHRleHQ6ICLmsqHmnInlm57lpI3lj6/ot7PovazvvIEiIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoZmxvb3IgPiB0aGlzLnBvc3QucmVwbHlMaXN0Lmxlbmd0aCkgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogImVycm9yIiwgdGV4dDogIuayoeacieaJvuWIsOWvueW6lOWbnuWkje+8gSIgfSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBjb21tZW50ID0gJChgLmNfJHtmbG9vcn1gKTsKICAgICAgICBpZiAoIWNvbW1lbnQubGVuZ3RoKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi5rKh5pyJ5om+5Yiw5a+55bqU5Zue5aSN77yBIiB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29tbWVudFswXS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAic21vb3RoIiwgYmxvY2s6ICJjZW50ZXIiLCBpbmxpbmU6ICJjZW50ZXIiIH0pOwogICAgICAgIGNvbW1lbnQuYWRkQ2xhc3MoImRpbmciKTsKICAgICAgICB0aGlzLmN1cnJlbnRGbG9vciA9IGZsb29yICsgMTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGNvbW1lbnQucmVtb3ZlQ2xhc3MoImRpbmciKTsKICAgICAgICB9LCAyZTMpOwogICAgICB9LAogICAgICBjb2xsYXBzZVRvcFJlcGx5TGlzdCgpIHsKICAgICAgICAkKHRoaXMuJHJlZnMudG9wUmVwbHkpLnNsaWRlVG9nZ2xlKCJmYXN0Iik7CiAgICAgIH0sCiAgICAgIGdvQm90dG9tKCkgewogICAgICAgIHRoaXMuaXNTdGlja3kgPSBmYWxzZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIGlmICh0aGlzLmlzUG9zdCkgewogICAgICAgICAgICBsZXQgYm9keSA9ICQoImJvZHkgLCBodG1sIik7CiAgICAgICAgICAgIGxldCBzY3JvbGxIZWlnaHQgPSBib2R5LnByb3AoInNjcm9sbEhlaWdodCIpOwogICAgICAgICAgICBib2R5LmFuaW1hdGUoeyBzY3JvbGxUb3A6IHNjcm9sbEhlaWdodCAtIDg1MCB9LCAzMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5kZXRhaWwuc2Nyb2xsVG8oeyB0b3A6IHRoaXMuJHJlZnMuZGV0YWlsLnNjcm9sbEhlaWdodCwgYmVoYXZpb3I6ICJzbW9vdGgiIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBjbG9zZShmcm9tKSB7CiAgICAgICAgaWYgKHRoaXMuaXNQb3N0KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChmcm9tID09PSAic3BhY2UiKSB7CiAgICAgICAgICBpZiAodGhpcy5jb25maWcuY2xvc2VQb3N0RGV0YWlsQnlTcGFjZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6bW9kZWxWYWx1ZSIsIGZhbHNlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOm1vZGVsVmFsdWUiLCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzZXRDYWxsKGUyKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0VUX0NBTEwsIGUyKTsKICAgICAgICB0aGlzLnNob3dDYWxsTGlzdCA9IGZhbHNlOwogICAgICB9LAogICAgICBvbktleURvd24oZTIpIHsKICAgICAgICBpZiAoIXRoaXMubW9kZWxWYWx1ZSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoIXRoaXMuc2hvd0NhbGxMaXN0KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGxldCBsZW5ndGggPSB0aGlzLmZpbHRlckNhbGxMaXN0LnNsaWNlKDAsIDEwKS5sZW5ndGg7CiAgICAgICAgaWYgKGUyLmtleUNvZGUgPT09IDEzKSB7CiAgICAgICAgICB0aGlzLnNldENhbGwodGhpcy5maWx0ZXJDYWxsTGlzdFt0aGlzLnNlbGVjdENhbGxJbmRleF0pOwogICAgICAgICAgZTIucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgICAgaWYgKGUyLmtleUNvZGUgPT09IDM4KSB7CiAgICAgICAgICB0aGlzLnNlbGVjdENhbGxJbmRleC0tOwogICAgICAgICAgaWYgKHRoaXMuc2VsZWN0Q2FsbEluZGV4IDwgMCkgewogICAgICAgICAgICB0aGlzLnNlbGVjdENhbGxJbmRleCA9IGxlbmd0aCAtIDE7CiAgICAgICAgICB9CiAgICAgICAgICBlMi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgICBpZiAoZTIua2V5Q29kZSA9PT0gNDApIHsKICAgICAgICAgIHRoaXMuc2VsZWN0Q2FsbEluZGV4Kys7CiAgICAgICAgICBpZiAodGhpcy5zZWxlY3RDYWxsSW5kZXggPiBsZW5ndGggLSAxKSB7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0Q2FsbEluZGV4ID0gMDsKICAgICAgICAgIH0KICAgICAgICAgIGUyLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjaGFuZ2VPcHRpb24oaXRlbSkgewogICAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTpkaXNwbGF5VHlwZSIsIGl0ZW0pOwogICAgICB9LAogICAgICBhZGRUaGFuaygpIHsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5DSEFOR0VfUE9TVF9USEFOSywgeyBpZDogdGhpcy5wb3N0LmlkLCB0eXBlOiAiYWRkIiB9KTsKICAgICAgfSwKICAgICAgcmVjYWxsVGhhbmsoKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuQ0hBTkdFX1BPU1RfVEhBTkssIHsgaWQ6IHRoaXMucG9zdC5pZCwgdHlwZTogInJlY2FsbCIgfSk7CiAgICAgIH0sCiAgICAgIHNjcm9sbFRvcCgpIHsKICAgICAgICBpZiAodGhpcy5pc1Bvc3QpIHsKICAgICAgICAgICQoImJvZHkgLCBodG1sIikuYW5pbWF0ZSh7IHNjcm9sbFRvcDogMCB9LCAzMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmRldGFpbC5zY3JvbGxUbyh7IHRvcDogMCwgYmVoYXZpb3I6ICJzbW9vdGgiIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgY29uc3QgX3dpdGhTY29wZUlkJDMgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi1kMzkyMTdkOCIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJDYgPSB7IGNsYXNzOiAibXktYm94IHBvc3Qtd3JhcHBlciIgfTsKICBjb25zdCBfaG9pc3RlZF8yJDMgPSB7IGNsYXNzOiAiaGVhZGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzMkMyA9IHsgY2xhc3M6ICJmciIgfTsKICBjb25zdCBfaG9pc3RlZF80JDMgPSBbImhyZWYiXTsKICBjb25zdCBfaG9pc3RlZF81JDMgPSBbInNyYyIsICJhbHQiXTsKICBjb25zdCBfaG9pc3RlZF82JDMgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7IGhyZWY6ICIvIiB9LCAiVjJFWCIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNyQyID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQzKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgeyBjbGFzczogImNoZXZyb24iIH0sICLCoMKg4oC6wqDCoCIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfOCQyID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfOSQyID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQzKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAic2VwMTAiIH0sIG51bGwsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMTAkMiA9IFsiaWQiXTsKICBjb25zdCBfaG9pc3RlZF8xMSQyID0gWyJvbmNsaWNrIl07CiAgY29uc3QgX2hvaXN0ZWRfMTIkMiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkMygoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCB7IGNsYXNzOiAiZmEgZmEtY2hldnJvbi11cCIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMyQyID0gWyJvbmNsaWNrIl07CiAgY29uc3QgX2hvaXN0ZWRfMTQkMSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkMygoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgibGkiLCB7IGNsYXNzOiAiZmEgZmEtY2hldnJvbi1kb3duIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE1JDEgPSBbCiAgICBfaG9pc3RlZF8xNCQxCiAgXTsKICBjb25zdCBfaG9pc3RlZF8xNiQxID0geyBjbGFzczogImdyYXkiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTckMSA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzE4JDEgPSBbInRpdGxlIl07CiAgY29uc3QgX2hvaXN0ZWRfMTkkMSA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzIwJDEgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImxpIiwgeyBjbGFzczogImZhIGZhLWluZm8tY2lyY2xlIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzIxJDEgPSBbCiAgICBfaG9pc3RlZF8yMCQxCiAgXTsKICBjb25zdCBfaG9pc3RlZF8yMiQxID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfMjMkMSA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzI0ID0gWyJocmVmIl07CiAgY29uc3QgX2hvaXN0ZWRfMjUgPSB7IGNsYXNzOiAibXktdGFnIiB9OwogIGNvbnN0IF9ob2lzdGVkXzI2ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQzKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgeyBjbGFzczogImZhIGZhLXRhZyIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8yNyA9IFsib25DbGljayJdOwogIGNvbnN0IF9ob2lzdGVkXzI4ID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJteS1ib3giCiAgfTsKICBjb25zdCBfaG9pc3RlZF8yOSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkMygoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLpq5jotZ7lm57lpI0iLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzMwID0geyBjbGFzczogInRvcC1yZXBseSIgfTsKICBjb25zdCBfaG9pc3RlZF8zMSA9IHsgY2xhc3M6ICJ0b29sIiB9OwogIGNvbnN0IF9ob2lzdGVkXzMyID0geyByZWY6ICJ0b3BSZXBseSIgfTsKICBjb25zdCBfaG9pc3RlZF8zMyA9IHsgY2xhc3M6ICJteS1ib3ggY29tbWVudC13cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzM0ID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICJteS1jZWxsIGZsZXgiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8zNSA9IHsga2V5OiAwIH07CiAgY29uc3QgX2hvaXN0ZWRfMzYgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInN0cm9uZyIsIHsgY2xhc3M6ICJzbm93IiB9LCAi4oCiIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8zNyA9IFsiaW5uZXJIVE1MIl07CiAgY29uc3QgX2hvaXN0ZWRfMzggPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImxvYWRpbmctd3JhcHBlciIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzM5ID0gewogICAga2V5OiAxLAogICAgY2xhc3M6ICJjb21tZW50cyIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzQwID0gewogICAga2V5OiAxLAogICAgaWQ6ICJuby1jb21tZW50cy15ZXQiCiAgfTsKICBjb25zdCBfaG9pc3RlZF80MSA9IHsgY2xhc3M6ICJteS1jZWxsIGZsZXgiIH07CiAgY29uc3QgX2hvaXN0ZWRfNDIgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkJDMoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCAi5re75Yqg5LiA5p2h5paw5Zue5aSNIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF80MyA9IHsgY2xhc3M6ICJub3RpY2UtcmlnaHQgZ3JheSIgfTsKICBjb25zdCBfaG9pc3RlZF80NCA9IHsgY2xhc3M6ICJwMSIgfTsKICBjb25zdCBfaG9pc3RlZF80NSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkMygoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsgY2xhc3M6ICJncmF5IiB9LCAi5LiK5LiL5paHIiwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF80NiA9IHsgY2xhc3M6ICJ0b3AtcmVwbHkiIH07CiAgY29uc3QgX2hvaXN0ZWRfNDcgPSBbIm9uQ2xpY2siXTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciQyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9CYXNlSHRtbFJlbmRlciA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJCYXNlSHRtbFJlbmRlciIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Qb2ludCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJQb2ludCIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Ub29sYmFyID0gdnVlLnJlc29sdmVDb21wb25lbnQoIlRvb2xiYXIiKTsKICAgIGNvbnN0IF9jb21wb25lbnRfSWNvbiA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJJY29uIik7CiAgICBjb25zdCBfY29tcG9uZW50X1Rvb2x0aXAgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiVG9vbHRpcCIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Db21tZW50ID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkNvbW1lbnQiKTsKICAgIGNvbnN0IF9jb21wb25lbnRfQmFzZVNlbGVjdCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJCYXNlU2VsZWN0Iik7CiAgICBjb25zdCBfY29tcG9uZW50X0Jhc2VMb2FkaW5nID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkJhc2VMb2FkaW5nIik7CiAgICBjb25zdCBfY29tcG9uZW50X1Bvc3RFZGl0b3IgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiUG9zdEVkaXRvciIpOwogICAgY29uc3QgX2NvbXBvbmVudF9TaW5nbGVDb21tZW50ID0gdnVlLnJlc29sdmVDb21wb25lbnQoIlNpbmdsZUNvbW1lbnQiKTsKICAgIHJldHVybiB2dWUud2l0aERpcmVjdGl2ZXMoKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsicG9zdC1kZXRhaWwiLCBbJG9wdGlvbnMuaXNOaWdodCA/ICJpc05pZ2h0IiA6ICIiLCAkb3B0aW9ucy5wYWdlVHlwZV1dKSwKICAgICAgcmVmOiAiZGV0YWlsIiwKICAgICAgb25LZXlkb3duOiBfY2FjaGVbMjJdIHx8IChfY2FjaGVbMjJdID0gdnVlLndpdGhLZXlzKCgkZXZlbnQpID0+ICRvcHRpb25zLmNsb3NlKCksIFsiZXNjIl0pKSwKICAgICAgb25DbGljazogX2NhY2hlWzIzXSB8fCAoX2NhY2hlWzIzXSA9ICgkZXZlbnQpID0+ICRvcHRpb25zLmNsb3NlKCJzcGFjZSIpKQogICAgfSwgWwogICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgcmVmOiAibWFpbiIsCiAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbIm1haW4iLCAkb3B0aW9ucy5pc1NwZWNpZmljQXJlYSA/ICJzcGVjaWZpYy1hcmVhIiA6ICIiXSksCiAgICAgICAgdGFiaW5kZXg6ICIxIiwKICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMTldIHx8IChfY2FjaGVbMTldID0gKC4uLmFyZ3MpID0+ICRvcHRpb25zLnN0b3AgJiYgJG9wdGlvbnMuc3RvcCguLi5hcmdzKSkKICAgICAgfSwgWwogICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiAibWFpbi13cmFwcGVyIiwKICAgICAgICAgIHJlZjogIm1haW5XcmFwcGVyIiwKICAgICAgICAgIHN0eWxlOiB2dWUubm9ybWFsaXplU3R5bGUoeyB3aWR0aDogJG9wdGlvbnMuY29uZmlnLnBvc3RXaWR0aCArICIhaW1wb3J0YW50IiB9KQogICAgICAgIH0sIFsKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEkNiwgWwogICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yJDMsIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zJDMsIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgIGhyZWY6IGAvbWVtYmVyLyR7JG9wdGlvbnMucG9zdC5tZW1iZXIudXNlcm5hbWV9YCwKICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgIndpZHRoIjogIjczcHgiLCAiaGVpZ2h0IjogIjczcHgiLCAiZGlzcGxheSI6ICJpbmxpbmUtYmxvY2siIH0KICAgICAgICAgICAgICAgIH0sIFsKICAgICAgICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5tZW1iZXIuYXZhdGFyX2xhcmdlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgewogICAgICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgICAgICBzcmM6ICRvcHRpb25zLnBvc3QubWVtYmVyLmF2YXRhcl9sYXJnZSwKICAgICAgICAgICAgICAgICAgICBjbGFzczogImF2YXRhciIsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgIndpZHRoIjogIjczcHgiLCAiaGVpZ2h0IjogIjczcHgiIH0sCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAiMCIsCiAgICAgICAgICAgICAgICAgICAgYWxpZ246ICJkZWZhdWx0IiwKICAgICAgICAgICAgICAgICAgICBhbHQ6ICRvcHRpb25zLnBvc3QubWVtYmVyLnVzZXJuYW1lCiAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzUkMykpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgICAgIF0sIDgsIF9ob2lzdGVkXzQkMykKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBfaG9pc3RlZF82JDMsCiAgICAgICAgICAgICAgX2hvaXN0ZWRfNyQyLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICBocmVmOiAkb3B0aW9ucy5wb3N0Lm5vZGUudXJsCiAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0Lm5vZGUudGl0bGUpLCA5LCBfaG9pc3RlZF84JDIpLAogICAgICAgICAgICAgIF9ob2lzdGVkXzkkMiwKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJoMSIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMucG9zdC50aXRsZSksIDEpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgIGlkOiBgdG9waWNfJHskb3B0aW9ucy5wb3N0LmlkfV92b3Rlc2AsCiAgICAgICAgICAgICAgICBjbGFzczogInZvdGVzIgogICAgICAgICAgICAgIH0sIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgIGhyZWY6ICJqYXZhc2NyaXB0OiIsCiAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IGB1cFZvdGVUb3BpYygkeyRvcHRpb25zLnBvc3QuaWR9KTtgLAogICAgICAgICAgICAgICAgICBjbGFzczogInZvdGUiCiAgICAgICAgICAgICAgICB9LCBbCiAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzEyJDIsCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDCoCAiKQogICAgICAgICAgICAgICAgXSwgOCwgX2hvaXN0ZWRfMTEkMiksCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCIgwqAgIiksCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICBocmVmOiAiamF2YXNjcmlwdDoiLAogICAgICAgICAgICAgICAgICBvbmNsaWNrOiBgZG93blZvdGVUb3BpYygkeyRvcHRpb25zLnBvc3QuaWR9KTtgLAogICAgICAgICAgICAgICAgICBjbGFzczogInZvdGUiCiAgICAgICAgICAgICAgICB9LCBfaG9pc3RlZF8xNSQxLCA4LCBfaG9pc3RlZF8xMyQyKQogICAgICAgICAgICAgIF0sIDgsIF9ob2lzdGVkXzEwJDIpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDCoCAiKSwKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzbWFsbCIsIF9ob2lzdGVkXzE2JDEsIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgIGhyZWY6IGAvbWVtYmVyLyR7JG9wdGlvbnMucG9zdC5tZW1iZXIudXNlcm5hbWV9YAogICAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0Lm1lbWJlci51c2VybmFtZSksIDksIF9ob2lzdGVkXzE3JDEpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIMK3ICIpLAogICAgICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5tZW1iZXIuY3JlYXRlRGF0ZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCB7IGtleTogMCB9LCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcygkb3B0aW9ucy5wb3N0Lm1lbWJlci5pc05ldyAmJiAiZGFuZ2VyIikKICAgICAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZygkb3B0aW9ucy5wb3N0Lm1lbWJlci5jcmVhdGVEYXRlKSwgMyksCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDCtyAiKQogICAgICAgICAgICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5jcmVhdGVEYXRlQWdvID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAxIH0sIFsKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJG9wdGlvbnMucG9zdC5jcmVhdGVEYXRlCiAgICAgICAgICAgICAgICAgIH0sIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMucG9zdC5jcmVhdGVEYXRlQWdvKSwgOSwgX2hvaXN0ZWRfMTgkMSksCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDCtyAiKQogICAgICAgICAgICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiICIgKyB2dWUudG9EaXNwbGF5U3RyaW5nKCRvcHRpb25zLnBvc3QuY2xpY2tDb3VudCkgKyAiIOasoeeCueWHuyAiLCAxKSwKICAgICAgICAgICAgICAgICRvcHRpb25zLmlzTXkgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgeyBrZXk6IDIgfSwgWwogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLCoMKgICIpLAogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICAgIGhyZWY6IGAvdC8keyRvcHRpb25zLnBvc3QuaWR9L2luZm9gCiAgICAgICAgICAgICAgICAgIH0sIF9ob2lzdGVkXzIxJDEsIDgsIF9ob2lzdGVkXzE5JDEpLAogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLCoMKgICIpLAogICAgICAgICAgICAgICAgICAkb3B0aW9ucy5jYW5BcHBlbmQgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJhIiwgewogICAgICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgICAgICBocmVmOiBgL2FwcGVuZC90b3BpYy8keyRvcHRpb25zLnBvc3QuaWR9YCwKICAgICAgICAgICAgICAgICAgICBjbGFzczogIm9wIgogICAgICAgICAgICAgICAgICB9LCAiQVBQRU5EIiwgOCwgX2hvaXN0ZWRfMjIkMSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgICAgICAgICRvcHRpb25zLmNhbkVkaXRNb3ZlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAxIH0sIFsKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICAgICAgaHJlZjogYC9tb3ZlL3RvcGljLyR7JG9wdGlvbnMucG9zdC5pZH1gLAogICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJvcCIKICAgICAgICAgICAgICAgICAgICB9LCAiTU9WRSIsIDgsIF9ob2lzdGVkXzIzJDEpLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIsKgICIpLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCB7CiAgICAgICAgICAgICAgICAgICAgICBocmVmOiBgL2VkaXQvdG9waWMvJHskb3B0aW9ucy5wb3N0LmlkfWAsCiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogIm9wIgogICAgICAgICAgICAgICAgICAgIH0sICJFRElUIiwgOCwgX2hvaXN0ZWRfMjQpCiAgICAgICAgICAgICAgICAgIF0sIDY0KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgJG9wdGlvbnMuaXNMb2dpbiAmJiAkb3B0aW9ucy5jb25maWcub3BlblRhZyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCB7IGtleTogMCB9LCBbCiAgICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KCRvcHRpb25zLm15VGFncywgKGkpID0+IHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzI1LCBbCiAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMjYsCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoaSksIDEpLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgICAgICAgICAgICAgICAgICAgICBjbGFzczogImZhIGZhLXRyYXNoLW8gcmVtb3ZlIiwKICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+ICRvcHRpb25zLnJlbW92ZVRhZyhpKSwgWyJzdG9wIl0pCiAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMjcpCiAgICAgICAgICAgICAgICAgIF0pOwogICAgICAgICAgICAgICAgfSksIDI1NikpLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhZGQtdGFnIGFnbyIsCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gdnVlLndpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+ICRvcHRpb25zLmFkZFRhZyAmJiAkb3B0aW9ucy5hZGRUYWcoLi4uYXJncyksIFsic3RvcCJdKSksCiAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5re75Yqg5qCH562+IgogICAgICAgICAgICAgICAgfSwgIisiKQogICAgICAgICAgICAgIF0sIDY0KSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5oZWFkZXJUZW1wbGF0ZSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VIdG1sUmVuZGVyLCB7CiAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgIGh0bWw6ICRvcHRpb25zLnBvc3QuaGVhZGVyVGVtcGxhdGUKICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJodG1sIl0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0Jhc2VIdG1sUmVuZGVyLCB7CiAgICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICAgIGh0bWw6ICRvcHRpb25zLnBvc3QuanNvbkNvbnRlbnQKICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJodG1sIl0pKSwKICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfVG9vbGJhciwgewogICAgICAgICAgICAgIG9uUmVwbHk6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudCkgPT4gJGRhdGEuaXNTdGlja3kgPSAhJGRhdGEuaXNTdGlja3kpCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb2ludCwgewogICAgICAgICAgICAgICAgICBvbkFkZFRoYW5rOiAkb3B0aW9ucy5hZGRUaGFuaywKICAgICAgICAgICAgICAgICAgb25SZWNhbGxUaGFuazogJG9wdGlvbnMucmVjYWxsVGhhbmssCiAgICAgICAgICAgICAgICAgIGl0ZW06IHsKICAgICAgICAgICAgICAgICAgICBpc1RoYW5rZWQ6ICRvcHRpb25zLnBvc3QuaXNUaGFua2VkLAogICAgICAgICAgICAgICAgICAgIHRoYW5rQ291bnQ6ICRvcHRpb25zLnBvc3QudGhhbmtDb3VudCwKICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogJG9wdGlvbnMucG9zdC51c2VybmFtZQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAiYXBpLXVybCI6ICJ0b3BpYy8iICsgJG9wdGlvbnMucG9zdC5pZAogICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJvbkFkZFRoYW5rIiwgIm9uUmVjYWxsVGhhbmsiLCAiaXRlbSIsICJhcGktdXJsIl0pCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICB9KQogICAgICAgICAgXSksCiAgICAgICAgICAkb3B0aW9ucy5wb3N0LnRvcFJlcGx5TGlzdC5sZW5ndGggJiYgJG9wdGlvbnMuY29uZmlnLnNob3dUb3BSZXBseSA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzI4LCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICBjbGFzczogIm15LWNlbGwgZmxleCIsCiAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSB2dWUud2l0aE1vZGlmaWVycygoLi4uYXJncykgPT4gJG9wdGlvbnMuY29sbGFwc2VUb3BSZXBseUxpc3QgJiYgJG9wdGlvbnMuY29sbGFwc2VUb3BSZXBseUxpc3QoLi4uYXJncyksIFsic3RvcCJdKSkKICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgIF9ob2lzdGVkXzI5LAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMwLCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Ub29sdGlwLCB7IHRpdGxlOiAi5pS26LW36auY6LWe5Zue5aSNIiB9LCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zMSwgWwogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAiZ3Jhdml0eS11aTpjaGV2cm9ucy1jb2xsYXBzZS12ZXJ0aWNhbCIgfSkKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBdKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzIsIFsKICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KCRvcHRpb25zLnBvc3QudG9wUmVwbHlMaXN0LCAoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0NvbW1lbnQsIHsKICAgICAgICAgICAgICAgICAga2V5OiBpdGVtLmZsb29yLAogICAgICAgICAgICAgICAgICB0eXBlOiAidG9wIiwKICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJG9wdGlvbnMucG9zdC50b3BSZXBseUxpc3RbaW5kZXhdLAogICAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6ICgkZXZlbnQpID0+ICRvcHRpb25zLnBvc3QudG9wUmVwbHlMaXN0W2luZGV4XSA9ICRldmVudAogICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgIm9uVXBkYXRlOm1vZGVsVmFsdWUiXSk7CiAgICAgICAgICAgICAgfSksIDEyOCkpCiAgICAgICAgICAgIF0sIDUxMikKICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMzMsIFsKICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5yZXBseUxpc3QubGVuZ3RoIHx8ICRwcm9wcy5sb2FkaW5nID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMzQsIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMucG9zdC5yZXBseUNvdW50KSArICIg5p2h5Zue5aSNICIsIDEpLAogICAgICAgICAgICAgICAgJG9wdGlvbnMucG9zdC5sYXN0UmVwbHlEYXRlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzM1LCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIiDCoCIpLAogICAgICAgICAgICAgICAgICBfaG9pc3RlZF8zNiwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIMKgIiArIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMucG9zdC5sYXN0UmVwbHlEYXRlKSwgMSkKICAgICAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgJG9wdGlvbnMuY29uZmlnLnNob3dUb29sYmFyID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9jb21wb25lbnRfQmFzZVNlbGVjdCwgewogICAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgICAgImRpc3BsYXktdHlwZSI6ICRwcm9wcy5kaXNwbGF5VHlwZSwKICAgICAgICAgICAgICAgICJvblVwZGF0ZTpkaXNwbGF5VHlwZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gKGUyKSA9PiBfY3R4LiRlbWl0KCJ1cGRhdGU6ZGlzcGxheVR5cGUiLCBlMikpCiAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJkaXNwbGF5LXR5cGUiXSkpIDogKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICAgICAgY2xhc3M6ICJmciIsCiAgICAgICAgICAgICAgICBpbm5lckhUTUw6ICRvcHRpb25zLnBvc3QuZnIKICAgICAgICAgICAgICB9LCBudWxsLCA4LCBfaG9pc3RlZF8zNykpCiAgICAgICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgICAkb3B0aW9ucy5yZXBseUxpc3QubGVuZ3RoIHx8ICRwcm9wcy5sb2FkaW5nID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAxIH0sIFsKICAgICAgICAgICAgICAkcHJvcHMubG9hZGluZyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzM4LCBbCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlTG9hZGluZywgeyBzaXplOiAibGFyZ2UiIH0pCiAgICAgICAgICAgICAgXSkpIDogKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMzksIFsKICAgICAgICAgICAgICAgICRwcm9wcy5tb2RlbFZhbHVlID8gKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCB7IGtleTogMCB9LCB2dWUucmVuZGVyTGlzdCgkb3B0aW9ucy5yZXBseUxpc3QsIChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Db21tZW50LCB7CiAgICAgICAgICAgICAgICAgICAga2V5OiBpdGVtLmZsb29yLAogICAgICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRvcHRpb25zLnJlcGx5TGlzdFtpbmRleF0sCiAgICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiAoJGV2ZW50KSA9PiAkb3B0aW9ucy5yZXBseUxpc3RbaW5kZXhdID0gJGV2ZW50CiAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSIsICJvblVwZGF0ZTptb2RlbFZhbHVlIl0pOwogICAgICAgICAgICAgICAgfSksIDEyOCkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgICBdKSkKICAgICAgICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgICAgICBdKSwKICAgICAgICAgICEoJG9wdGlvbnMucmVwbHlMaXN0Lmxlbmd0aCB8fCAkcHJvcHMubG9hZGluZykgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF80MCwgIuebruWJjeWwmuaXoOWbnuWkjSIpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAgICAgJG9wdGlvbnMuaXNMb2dpbiA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgICAga2V5OiAyLAogICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsibXktYm94IiwgeyAic3RpY2t5IjogJGRhdGEuaXNTdGlja3kgfV0pLAogICAgICAgICAgICByZWY6ICJyZXBseUJveCIKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDEsIFsKICAgICAgICAgICAgICBfaG9pc3RlZF80MiwKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF80MywgWwogICAgICAgICAgICAgICAgJGRhdGEuaXNTdGlja3kgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJhIiwgewogICAgICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7ICJtYXJnaW4tcmlnaHQiOiAiMnJlbSIgfSwKICAgICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiAkZGF0YS5pc1N0aWNreSA9IGZhbHNlLCBbInN0b3AiXSkpCiAgICAgICAgICAgICAgICB9LCAi5Y+W5raI5Zue5aSN5qGG5YGc6Z2gIikpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJhIiwgewogICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbNV0gfHwgKF9jYWNoZVs1XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkb3B0aW9ucy5zY3JvbGxUb3AgJiYgJG9wdGlvbnMuc2Nyb2xsVG9wKC4uLmFyZ3MpLCBbInN0b3AiXSkpCiAgICAgICAgICAgICAgICB9LCAi5Zue5Yiw6aG26YOoIikKICAgICAgICAgICAgICBdKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNDQsIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb3N0RWRpdG9yLCB7CiAgICAgICAgICAgICAgICBvbkNsb3NlOiAkb3B0aW9ucy5nb0JvdHRvbSwKICAgICAgICAgICAgICAgIHJlZjogInBvc3QtZWRpdG9yIiwKICAgICAgICAgICAgICAgIHVzZVR5cGU6ICJyZXBseS1wb3N0IiwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs2XSB8fCAoX2NhY2hlWzZdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gJGRhdGEuaXNTdGlja3kgPSB0cnVlLCBbInN0b3AiXSkpCiAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJvbkNsb3NlIl0pCiAgICAgICAgICAgIF0pCiAgICAgICAgICBdLCAyKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgIF0sIDQpLAogICAgICAgICRkYXRhLnNob3dSZWxhdGlvblJlcGx5ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAga2V5OiAwLAogICAgICAgICAgY2xhc3M6ICJyZWxhdGlvblJlcGx5IiwKICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsxMF0gfHwgKF9jYWNoZVsxMF0gPSB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiAkb3B0aW9ucy5jbG9zZSgic3BhY2UiKSwgWyJzdG9wIl0pKQogICAgICAgIH0sIFsKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3M6ICJteS1jZWxsIGZsZXgiLAogICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbOF0gfHwgKF9jYWNoZVs4XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkb3B0aW9ucy5zdG9wICYmICRvcHRpb25zLnN0b3AoLi4uYXJncyksIFsic3RvcCJdKSkKICAgICAgICAgIH0sIFsKICAgICAgICAgICAgX2hvaXN0ZWRfNDUsCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQ2LCBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgewogICAgICAgICAgICAgICAgaWNvbjogImljOnJvdW5kLWNsb3NlIiwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs3XSB8fCAoX2NhY2hlWzddID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gJGRhdGEuc2hvd1JlbGF0aW9uUmVwbHkgPSBmYWxzZSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIF0pCiAgICAgICAgICBdKSwKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3M6ICJjb21tZW50cyIsCiAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVs5XSB8fCAoX2NhY2hlWzldID0gdnVlLndpdGhNb2RpZmllcnMoKC4uLmFyZ3MpID0+ICRvcHRpb25zLnN0b3AgJiYgJG9wdGlvbnMuc3RvcCguLi5hcmdzKSwgWyJzdG9wIl0pKQogICAgICAgICAgfSwgWwogICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KCRvcHRpb25zLnJlbGF0aW9uUmVwbHksIChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X1NpbmdsZUNvbW1lbnQsIHsKICAgICAgICAgICAgICAgICJpcy1yaWdodCI6IGl0ZW0udXNlcm5hbWUgPT09ICRkYXRhLnRhcmdldFVzZXIucmlnaHQsCiAgICAgICAgICAgICAgICBrZXk6IGl0ZW0uZmxvb3IsCiAgICAgICAgICAgICAgICBjb21tZW50OiBpdGVtCiAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJpcy1yaWdodCIsICJjb21tZW50Il0pOwogICAgICAgICAgICB9KSwgMTI4KSkKICAgICAgICAgIF0pCiAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgJGRhdGEuc2hvd0NhbGxMaXN0ICYmICRvcHRpb25zLmZpbHRlckNhbGxMaXN0Lmxlbmd0aCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGtleTogMSwKICAgICAgICAgIGNsYXNzOiAiY2FsbC1saXN0IiwKICAgICAgICAgIHN0eWxlOiB2dWUubm9ybWFsaXplU3R5bGUoJGRhdGEuY2FsbFN0eWxlKQogICAgICAgIH0sIFsKICAgICAgICAgICh2dWUub3BlbkJsb2NrKHRydWUpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoJG9wdGlvbnMuZmlsdGVyQ2FsbExpc3QsIChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbImNhbGwtaXRlbSIsIHsgc2VsZWN0OiBpbmRleCA9PT0gJGRhdGEuc2VsZWN0Q2FsbEluZGV4IH1dKSwKICAgICAgICAgICAgICBvbkNsaWNrOiB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiAkb3B0aW9ucy5zZXRDYWxsKGl0ZW0pLCBbInN0b3AiXSkKICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImEiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKGl0ZW0pLCAxKQogICAgICAgICAgICBdLCAxMCwgX2hvaXN0ZWRfNDcpOwogICAgICAgICAgfSksIDI1NikpCiAgICAgICAgXSwgNCkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJjbG9zZS1idG4iLAogICAgICAgICAgb25DbGljazogX2NhY2hlWzExXSB8fCAoX2NhY2hlWzExXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+ICRvcHRpb25zLmNsb3NlKCJidG4iKSwgWyJzdG9wIl0pKQogICAgICAgIH0sIFsKICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0ljb24sIHsgaWNvbjogImljb24tcGFyay1vdXRsaW5lOmNsb3NlIiB9KQogICAgICAgIF0pLAogICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiAib3Blbi1uZXctdGFiIiwKICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsxMl0gfHwgKF9jYWNoZVsxMl0gPSB2dWUud2l0aE1vZGlmaWVycygoJGV2ZW50KSA9PiAkb3B0aW9ucy5mdW5jdGlvbnMub3Blbk5ld1RhYigiaHR0cHM6Ly93d3cudjJleC5jb20vdC8iICsgJG9wdGlvbnMucG9zdC5pZCwgJG9wdGlvbnMuY29uZmlnLm5ld1RhYk9wZW5BY3RpdmUpLCBbInN0b3AiXSkpCiAgICAgICAgfSwgWwogICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAibWFqZXN0aWNvbnM6b3BlbiIgfSkKICAgICAgICBdKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInJlZnJlc2ggZ3JheSIsCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMTNdIHx8IChfY2FjaGVbMTNdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gX2N0eC4kZW1pdCgicmVmcmVzaCIpLCBbInN0b3AiXSkpCiAgICAgICAgfSwgWwogICAgICAgICAgJHByb3BzLnJlZnJlc2hMb2FkaW5nID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9jb21wb25lbnRfQmFzZUxvYWRpbmcsIHsga2V5OiAwIH0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhfY29tcG9uZW50X0ljb24sIHsKICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICBpY29uOiAibWF0ZXJpYWwtc3ltYm9sczpyZWZyZXNoIgogICAgICAgICAgfSkpCiAgICAgICAgXSksCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJzY3JvbGwtdG8gZ3JheSIsCiAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMTddIHx8IChfY2FjaGVbMTddID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gJG9wdGlvbnMuanVtcCgkZGF0YS5jdXJyZW50Rmxvb3IpLCBbInN0b3AiXSkpCiAgICAgICAgfSwgWwogICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAibHVjaWRlOm1vdmUtZG93biIgfSksCiAgICAgICAgICB2dWUud2l0aERpcmVjdGl2ZXModnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwKICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMTRdIHx8IChfY2FjaGVbMTRdID0gKCRldmVudCkgPT4gJGRhdGEuY3VycmVudEZsb29yID0gJGV2ZW50KSwKICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzE1XSB8fCAoX2NhY2hlWzE1XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkb3B0aW9ucy5zdG9wICYmICRvcHRpb25zLnN0b3AoLi4uYXJncyksIFsic3RvcCJdKSksCiAgICAgICAgICAgIG9uS2V5ZG93bjogX2NhY2hlWzE2XSB8fCAoX2NhY2hlWzE2XSA9IHZ1ZS53aXRoS2V5cygoJGV2ZW50KSA9PiAkb3B0aW9ucy5qdW1wKCRkYXRhLmN1cnJlbnRGbG9vciksIFsiZW50ZXIiXSkpCiAgICAgICAgICB9LCBudWxsLCA1NDQpLCBbCiAgICAgICAgICAgIFt2dWUudk1vZGVsVGV4dCwgJGRhdGEuY3VycmVudEZsb29yXQogICAgICAgICAgXSkKICAgICAgICBdKSwKICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICBjbGFzczogInYybmV4dC1zY3JvbGwtdG9wIGdyYXkiLAogICAgICAgICAgb25DbGljazogX2NhY2hlWzE4XSB8fCAoX2NhY2hlWzE4XSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCguLi5hcmdzKSA9PiAkb3B0aW9ucy5zY3JvbGxUb3AgJiYgJG9wdGlvbnMuc2Nyb2xsVG9wKC4uLmFyZ3MpLCBbInN0b3AiXSkpCiAgICAgICAgfSwgWwogICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAibHVjaWRlOm1vdmUtdXAiIH0pCiAgICAgICAgXSkKICAgICAgXSwgMiksCiAgICAgICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuVGVsZXBvcnQsIHsgdG86ICJib2R5IiB9LCBbCiAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJwcmV2aWV3LW1vZGFsIiwKICAgICAgICAgIG9uV2hlZWw6IF9jYWNoZVsyMV0gfHwgKF9jYWNoZVsyMV0gPSAoLi4uYXJncykgPT4gJG9wdGlvbnMud2hlZWwgJiYgJG9wdGlvbnMud2hlZWwoLi4uYXJncykpCiAgICAgICAgfSwgWwogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICBjbGFzczogIm1hc2siLAogICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMjBdIHx8IChfY2FjaGVbMjBdID0gKC4uLmFyZ3MpID0+ICRvcHRpb25zLmNsb3NlUHJldmlld01vZGFsICYmICRvcHRpb25zLmNsb3NlUHJldmlld01vZGFsKC4uLmFyZ3MpKQogICAgICAgICAgfSksCiAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9JY29uLCB7CiAgICAgICAgICAgIGNsYXNzOiAiY2xvc2UiLAogICAgICAgICAgICBpY29uOiAiZm9udGlzdG86Y2xvc2UtYSIsCiAgICAgICAgICAgIG9uQ2xpY2s6ICRvcHRpb25zLmNsb3NlUHJldmlld01vZGFsCiAgICAgICAgICB9LCBudWxsLCA4LCBbIm9uQ2xpY2siXSkKICAgICAgICBdLCAzMikKICAgICAgXSkpCiAgICBdLCAzNCkpLCBbCiAgICAgIFt2dWUudlNob3csICRwcm9wcy5tb2RlbFZhbHVlXQogICAgXSk7CiAgfQogIGNvbnN0IFBvc3REZXRhaWwgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJDYsIFtbInJlbmRlciIsIF9zZmNfcmVuZGVyJDJdLCBbIl9fc2NvcGVJZCIsICJkYXRhLXYtZDM5MjE3ZDgiXV0pOwogIGNvbnN0IF9ob2lzdGVkXzEkNSA9IHsga2V5OiAxIH07CiAgY29uc3QgX3NmY19tYWluJDUgPSB7CiAgICBfX25hbWU6ICJCYXNlNjRUb29sdGlwIiwKICAgIHNldHVwKF9fcHJvcHMpIHsKICAgICAgY29uc3QgdG9vbHRpcCA9IHZ1ZS5yZWYobnVsbCk7CiAgICAgIGNvbnN0IHNob3cgPSB2dWUucmVmKGZhbHNlKTsKICAgICAgY29uc3Qgb3JpZ2luYWxUZXh0ID0gdnVlLnJlZigiIik7CiAgICAgIGNvbnN0IGRlY29kZVRleHQgPSB2dWUucmVmKCIiKTsKICAgICAgY29uc3Qgc3R5bGVPYmplY3QgPSB2dWUucmVhY3RpdmUoewogICAgICAgIGxlZnQ6ICItMTAwdnciLAogICAgICAgIHRvcDogIi0xMDB2aCIKICAgICAgfSk7CiAgICAgIHZ1ZS5vbk1vdW50ZWQoKCkgPT4gewogICAgICAgIGV2ZW50QnVzLm9uKENNRC5TSE9XX1RPT0xUSVAsICh7IHRleHQsIGU6IGUyIH0pID0+IHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2hvdy52YWx1ZSA9IHRydWUpOwogICAgICAgICAgb3JpZ2luYWxUZXh0LnZhbHVlID0gdGV4dDsKICAgICAgICAgIGRlY29kZVRleHQudmFsdWUgPSAiIjsKICAgICAgICAgIHN0eWxlT2JqZWN0LmxlZnQgPSBlMi5jbGllbnRYICsgInB4IjsKICAgICAgICAgIHN0eWxlT2JqZWN0LnRvcCA9IGUyLmNsaWVudFkgKyAyMCArICJweCI7CiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGUyKSA9PiB7CiAgICAgICAgICBpZiAoIXRvb2x0aXAudmFsdWUpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGlmICghdG9vbHRpcC52YWx1ZS5jb250YWlucyhlMi50YXJnZXQpICYmIHNob3cudmFsdWUpIHsKICAgICAgICAgICAgc2hvdy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0sIHsgY2FwdHVyZTogdHJ1ZSB9KTsKICAgICAgICBjb25zdCBmbiA9ICgpID0+IHNob3cudmFsdWUgJiYgKHNob3cudmFsdWUgPSBmYWxzZSk7CiAgICAgICAgJCgiLnBvc3QtZGV0YWlsIiwgZG9jdW1lbnQpLm9uKCJzY3JvbGwiLCBmbik7CiAgICAgIH0pOwogICAgICBmdW5jdGlvbiBjb3B5KCkgewogICAgICAgIGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkKSB7CiAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChkZWNvZGVUZXh0LnZhbHVlKTsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJzdWNjZXNzIiwgdGV4dDogIuWkjeWItuaIkOWKnyIgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLlpI3liLblpLHotKXvvIHmtY/op4jlmajkuI3mlK/mjIHvvIEiIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBiYXNlNjRUb0FycmF5QnVmZmVyKGJhc2U2NCkgewogICAgICAgIGxldCBiaW5hcnlfc3RyaW5nID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgICAgICBsZXQgbGVuID0gYmluYXJ5X3N0cmluZy5sZW5ndGg7CiAgICAgICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeV9zdHJpbmcuY2hhckNvZGVBdChpKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGJ5dGVzLmJ1ZmZlcjsKICAgICAgfQogICAgICBmdW5jdGlvbiBkZWNvZGUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIG5ldyBCbG9iKFtiYXNlNjRUb0FycmF5QnVmZmVyKG9yaWdpbmFsVGV4dC52YWx1ZSldKS50ZXh0KCkudGhlbigocjIpID0+IHsKICAgICAgICAgICAgZGVjb2RlVGV4dC52YWx1ZSA9IHIyOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZTIpIHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICJCYXNlNjTop6PnoIHlpLHotKXvvIHkuI3mmK/moIflh4bmlbDmja7vvIEiIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUud2l0aERpcmVjdGl2ZXMoKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgY2xhc3M6ICJiYXNlNjRfdG9vbHRpcCIsCiAgICAgICAgICBzdHlsZTogdnVlLm5vcm1hbGl6ZVN0eWxlKHN0eWxlT2JqZWN0KSwKICAgICAgICAgIG9uQ2xpY2s6IGRlY29kZSwKICAgICAgICAgIHJlZl9rZXk6ICJ0b29sdGlwIiwKICAgICAgICAgIHJlZjogdG9vbHRpcAogICAgICAgIH0sIFsKICAgICAgICAgICFkZWNvZGVUZXh0LnZhbHVlID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAwIH0sIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgiIEJhc2U2NOino+egge+8miIgKyB2dWUudG9EaXNwbGF5U3RyaW5nKG9yaWdpbmFsVGV4dC52YWx1ZSkgKyAiICIsIDEpLAogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUodnVlLnVucmVmKEljb24pLCB7IGljb246ICJzeXN0ZW0tdWljb25zOnRyYW5zbGF0ZSIgfSkKICAgICAgICAgIF0sIDY0KSkgOiAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xJDUsIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoZGVjb2RlVGV4dC52YWx1ZSksIDEpLAogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoQmFzZUJ1dHRvbiwgewogICAgICAgICAgICAgIGNsYXNzOiAiYnRuIiwKICAgICAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgICAgIG9uQ2xpY2s6IGNvcHkKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUoIueCueWHu+WkjeWItiIpCiAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICB9KQogICAgICAgICAgXSkpCiAgICAgICAgXSwgNCkpLCBbCiAgICAgICAgICBbdnVlLnZTaG93LCBzaG93LnZhbHVlXQogICAgICAgIF0pOwogICAgICB9OwogICAgfQogIH07CiAgY29uc3QgQmFzZTY0VG9vbHRpcCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kNSwgW1siX19zY29wZUlkIiwgImRhdGEtdi0wNjQyOWU3MCJdXSk7CiAgY29uc3QgX3NmY19tYWluJDQgPSB7CiAgICBuYW1lOiAiTXNnIiwKICAgIGNvbXBvbmVudHM6IHsgSWNvbiB9LAogICAgcHJvcHM6IHsKICAgICAgdHlwZTogIiIsCiAgICAgIHRleHQ6ICIiCiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiKTsKICAgICAgfSwgM2UzKTsKICAgIH0KICB9OwogIGNvbnN0IF9ob2lzdGVkXzEkNCA9IHsgY2xhc3M6ICJyaWdodCIgfTsKICBmdW5jdGlvbiBfc2ZjX3JlbmRlciQxKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9JY29uID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkljb24iKTsKICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhbIm1zZyIsICRwcm9wcy50eXBlXSkKICAgIH0sIFsKICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgIGNsYXNzOiAibGVmdCIsCiAgICAgICAgb25DbGljazogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoJGV2ZW50KSA9PiBfY3R4LiRlbWl0KCJjbG9zZSIpKQogICAgICB9LCBbCiAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfSWNvbiwgeyBpY29uOiAiaWM6cm91bmQtY2xvc2UiIH0pCiAgICAgIF0pLAogICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xJDQsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJHByb3BzLnRleHQpLCAxKQogICAgXSwgMik7CiAgfQogIGNvbnN0IE1zZyA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kNCwgW1sicmVuZGVyIiwgX3NmY19yZW5kZXIkMV0sIFsiX19zY29wZUlkIiwgImRhdGEtdi04YmY2OTJlYSJdXSk7CiAgY29uc3QgX3dpdGhTY29wZUlkJDIgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi0wZjFmOTlmNyIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJDMgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogInRhZy1tb2RhbCBtb2RhbCIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzIkMiA9IHsgY2xhc3M6ICJ3cmFwcGVyIiB9OwogIGNvbnN0IF9ob2lzdGVkXzMkMiA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQkMigoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogInRpdGxlIiB9LCAiIOa3u+WKoOagh+etviAiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzQkMiA9IHsgY2xhc3M6ICJvcHRpb24iIH07CiAgY29uc3QgX2hvaXN0ZWRfNSQyID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQyKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIueUqOaIt++8miIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNiQyID0geyBjbGFzczogImJ0bnMiIH07CiAgY29uc3QgX3NmY19tYWluJDMgPSB7CiAgICBfX25hbWU6ICJUYWdNb2RhbCIsCiAgICBwcm9wczogWyJ0YWdzIl0sCiAgICBlbWl0czogWyJ1cGRhdGU6dGFncyJdLAogICAgc2V0dXAoX19wcm9wcywgeyBlbWl0OiBfX2VtaXQgfSkgewogICAgICBjb25zdCB0YWdNb2RhbCA9IHZ1ZS5yZWFjdGl2ZSh7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgY3VycmVudFVzZXJuYW1lOiAiIiwKICAgICAgICB0YWc6ICIiCiAgICAgIH0pOwogICAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7CiAgICAgIGNvbnN0IGVtaXQgPSBfX2VtaXQ7CiAgICAgIGNvbnN0IGlucHV0UmVmID0gdnVlLnJlZigpOwogICAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgICBldmVudEJ1cy5vbihDTUQuQUREX1RBRywgKHVzZXJuYW1lKSA9PiB7CiAgICAgICAgICB0YWdNb2RhbC5jdXJyZW50VXNlcm5hbWUgPSB1c2VybmFtZTsKICAgICAgICAgIHRhZ01vZGFsLnNob3cgPSB0cnVlOwogICAgICAgICAgdnVlLm5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgaW5wdXRSZWYudmFsdWUuZm9jdXMoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgYXN5bmMgZnVuY3Rpb24gYWRkVGFnKCkgewogICAgICAgIGlmICghdGFnTW9kYWwudGFnKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAid2FybmluZyIsIHRleHQ6ICLor7fovpPlhaXmoIfnrb4iIH0pOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgb2xkVGFnID0gZnVuY3Rpb25zLmNsb25lKHByb3BzLnRhZ3MpOwogICAgICAgIGxldCB0ZW1wVGFnID0gZnVuY3Rpb25zLmNsb25lKHByb3BzLnRhZ3MpOwogICAgICAgIGxldCB1c2VyVGFncyA9IHRlbXBUYWdbdGFnTW9kYWwuY3VycmVudFVzZXJuYW1lXSA/PyBbXTsKICAgICAgICBsZXQgckluZGV4ID0gdXNlclRhZ3MuZmluZEluZGV4KCh2KSA9PiB2ID09PSB0YWdNb2RhbC50YWcpOwogICAgICAgIGlmIChySW5kZXggPiAtMSkgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi5qCH562+5bey5a2Y5Zyo77yBIiB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdXNlclRhZ3MucHVzaCh0YWdNb2RhbC50YWcpOwogICAgICAgIH0KICAgICAgICB0ZW1wVGFnW3RhZ01vZGFsLmN1cnJlbnRVc2VybmFtZV0gPSB1c2VyVGFnczsKICAgICAgICBlbWl0KCJ1cGRhdGU6dGFncyIsIHRlbXBUYWcpOwogICAgICAgIHRhZ01vZGFsLnRhZyA9ICIiOwogICAgICAgIHRhZ01vZGFsLnNob3cgPSBmYWxzZTsKICAgICAgICBsZXQgcmVzID0gYXdhaXQgd2luZG93LnBhcnNlLnNhdmVUYWdzKHRlbXBUYWcpOwogICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi5qCH562+5re75Yqg5aSx6LSl77yBIiB9KTsKICAgICAgICAgIGVtaXQoInVwZGF0ZTp0YWdzIiwgb2xkVGFnKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHsKICAgICAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2sodnVlLlRyYW5zaXRpb24sIG51bGwsIHsKICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgdGFnTW9kYWwuc2hvdyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEkMywgWwogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgIGNsYXNzOiAibWFzayIsCiAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9IHZ1ZS53aXRoTW9kaWZpZXJzKCgkZXZlbnQpID0+IHRhZ01vZGFsLnNob3cgPSBmYWxzZSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIkMiwgWwogICAgICAgICAgICAgICAgX2hvaXN0ZWRfMyQyLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCQyLCBbCiAgICAgICAgICAgICAgICAgIF9ob2lzdGVkXzUkMiwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImIiLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKHRhZ01vZGFsLmN1cnJlbnRVc2VybmFtZSksIDEpCiAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgIHZ1ZS53aXRoRGlyZWN0aXZlcyh2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgICAgICAgICAgICAgICAgdHlwZTogInRleHQiLAogICAgICAgICAgICAgICAgICByZWZfa2V5OiAiaW5wdXRSZWYiLAogICAgICAgICAgICAgICAgICByZWY6IGlucHV0UmVmLAogICAgICAgICAgICAgICAgICBzdHlsZTogeyAid2lkdGgiOiAiMTAwJSIgfSwKICAgICAgICAgICAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICgkZXZlbnQpID0+IHRhZ01vZGFsLnRhZyA9ICRldmVudCksCiAgICAgICAgICAgICAgICAgIG9uS2V5ZG93bjogdnVlLndpdGhLZXlzKGFkZFRhZywgWyJlbnRlciJdKQogICAgICAgICAgICAgICAgfSwgbnVsbCwgNTQ0KSwgWwogICAgICAgICAgICAgICAgICBbdnVlLnZNb2RlbFRleHQsIHRhZ01vZGFsLnRhZ10KICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiQyLCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShCYXNlQnV0dG9uLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogImxpbmsiLAogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gdnVlLndpdGhNb2RpZmllcnMoKCRldmVudCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgdGFnTW9kYWwuc2hvdyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgdGFnTW9kYWwudGFnID0gIiI7CiAgICAgICAgICAgICAgICAgICAgfSwgWyJzdG9wIl0pKQogICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi5Y+W5raIIikKICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoQmFzZUJ1dHRvbiwgewogICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IHZ1ZS53aXRoTW9kaWZpZXJzKGFkZFRhZywgWyJzdG9wIl0pCiAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLnoa7lrpoiKQogICAgICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgIF0pLAogICAgICAgICAgXzogMQogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH07CiAgY29uc3QgVGFnTW9kYWwgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJDMsIFtbIl9fc2NvcGVJZCIsICJkYXRhLXYtMGYxZjk5ZjciXV0pOwogIGNvbnN0IF9ob2lzdGVkXzEkMiA9IHsgY2xhc3M6ICJtc2dzIiB9OwogIGNvbnN0IF9zZmNfbWFpbiQyID0gewogICAgX19uYW1lOiAiTXNnTW9kYWwiLAogICAgc2V0dXAoX19wcm9wcykgewogICAgICBjb25zdCBtc2dMaXN0ID0gdnVlLnJlYWN0aXZlKFsKICAgICAgICAvLyB7dHlwZTogJ3N1Y2Nlc3MnLCB0ZXh0OiAnMTIzJywgaWQ6IERhdGUubm93KCl9CiAgICAgIF0pOwogICAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgICBldmVudEJ1cy5vbihDTUQuU0hPV19NU0csICh2YWwpID0+IHsKICAgICAgICAgIG1zZ0xpc3QucHVzaCh7IC4uLnZhbCwgaWQ6IERhdGUubm93KCkgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBmdW5jdGlvbiByZW1vdmVNc2coaWQpIHsKICAgICAgICBsZXQgckluZGV4ID0gbXNnTGlzdC5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTsKICAgICAgICBpZiAockluZGV4ID4gLTEpIHsKICAgICAgICAgIG1zZ0xpc3Quc3BsaWNlKHJJbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7CiAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSQyLCBbCiAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KG1zZ0xpc3QsICh2KSA9PiB7CiAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayhNc2csIHsKICAgICAgICAgICAgICBrZXk6IHYuaWQsCiAgICAgICAgICAgICAgdHlwZTogdi50eXBlLAogICAgICAgICAgICAgIHRleHQ6IHYudGV4dCwKICAgICAgICAgICAgICBvbkNsb3NlOiAoJGV2ZW50KSA9PiByZW1vdmVNc2codi5pZCkKICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJ0eXBlIiwgInRleHQiLCAib25DbG9zZSJdKTsKICAgICAgICAgIH0pLCAxMjgpKQogICAgICAgIF0pOwogICAgICB9OwogICAgfQogIH07CiAgY29uc3QgTXNnTW9kYWwgPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJDIsIFtbIl9fc2NvcGVJZCIsICJkYXRhLXYtYjczZjQzMzIiXV0pOwogIGxldCB1ID0gIi5fX2NmX2VtYWlsX18iLCBmID0gImRhdGEtY2ZlbWFpbCIsIGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBmdW5jdGlvbiBlKGUyKSB7CiAgICBjb25zb2xlLmVycm9yKGUyKTsKICB9CiAgZnVuY3Rpb24gcihlMiwgdCkgewogICAgbGV0IHIyID0gZTIuc3Vic3RyKHQsIDIpOwogICAgcmV0dXJuIHBhcnNlSW50KHIyLCAxNik7CiAgfQogIGZ1bmN0aW9uIG4oaHJlZiwgaW5kZXgpIHsKICAgIGxldCBvID0gIiIsIGEgPSByKGhyZWYsIGluZGV4KTsKICAgIGZvciAobGV0IGkgPSBpbmRleCArIDI7IGkgPCBocmVmLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgIGxldCBsID0gcihocmVmLCBpKSBeIGE7CiAgICAgIG8gKz0gU3RyaW5nLmZyb21DaGFyQ29kZShsKTsKICAgIH0KICAgIHRyeSB7CiAgICAgIG8gPSBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKG8pKTsKICAgIH0gY2F0Y2ggKHUyKSB7CiAgICAgIGUodTIpOwogICAgfQogICAgZC5pbm5lckhUTUwgPSAnPGEgaHJlZj0iJyArIG8ucmVwbGFjZSgvIi9nLCAiJnF1b3Q7IikgKyAnIj48L2E+JzsKICAgIHJldHVybiBkLmNoaWxkTm9kZXNbMF0uZ2V0QXR0cmlidXRlKCJocmVmIikgfHwgIiI7CiAgfQogIGZ1bmN0aW9uIGRlY29kZUVtYWlsKGJvZHkpIHsKICAgIHRyeSB7CiAgICAgIGxldCBhcyA9IGJvZHkuZmluZCh1KTsKICAgICAgYXMuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbGV0IG8gPSB0aGlzLCBhID0gby5wYXJlbnROb2RlLCBpID0gby5nZXRBdHRyaWJ1dGUoZik7CiAgICAgICAgICBpZiAoaSkgewogICAgICAgICAgICBsZXQgbCA9IG4oaSwgMCksIGQyID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobCk7CiAgICAgICAgICAgIGEucmVwbGFjZUNoaWxkKGQyLCBvKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChoMikgewogICAgICAgICAgZShoMik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gY2F0Y2ggKHMpIHsKICAgICAgZShzKTsKICAgIH0KICB9CiAgY29uc3QgX3dpdGhTY29wZUlkJDEgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi03N2FhMzc0ZSIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xJDEgPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogIk5vdGlmaWNhdGlvbk1vZGFsIG1vZGFsIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMiQxID0geyBjbGFzczogIm1vZGFsLXJvb3QiIH07CiAgY29uc3QgX2hvaXN0ZWRfMyQxID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQxKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAidGl0bGUiIH0sICIg5o+Q6YaS57O757ufICIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNCQxID0geyBjbGFzczogIm1vZGFsLWJvZHkiIH07CiAgY29uc3QgX2hvaXN0ZWRfNSQxID0geyBjbGFzczogImZpbHRlciIgfTsKICBjb25zdCBfaG9pc3RlZF82JDEgPSB7IGNsYXNzOiAibGlzdC13cmFwIiB9OwogIGNvbnN0IF9ob2lzdGVkXzckMSA9IHsgY2xhc3M6ICJub3RpZnktd3JhcCIgfTsKICBjb25zdCBfaG9pc3RlZF84JDEgPSBbImlubmVySFRNTCJdOwogIGNvbnN0IF9ob2lzdGVkXzkkMSA9IHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAibG9hZGluZy13cmFwIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTAkMSA9IHsgY2xhc3M6ICJmb290ZXIiIH07CiAgY29uc3QgX2hvaXN0ZWRfMTEkMSA9IFsiaW5uZXJIVE1MIl07CiAgY29uc3QgX2hvaXN0ZWRfMTIkMSA9IHsgY2xhc3M6ICJ0b3RhbCIgfTsKICBjb25zdCBfaG9pc3RlZF8xMyQxID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCQxKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIuaAu+WFseaUtuWIsOaPkOmGkiIsIC0xKSk7CiAgY29uc3QgX3NmY19tYWluJDEgPSB7CiAgICBfX25hbWU6ICJOb3RpZmljYXRpb25Nb2RhbCIsCiAgICBwcm9wczogWyJtb2RlbFZhbHVlIiwgImxpc3QiLCAidG90YWwiLCAicGFnZXMiLCAibG9hZGluZyJdLAogICAgZW1pdHM6IFsidXBkYXRlOm1vZGVsVmFsdWUiXSwKICAgIHNldHVwKF9fcHJvcHMsIHsgZW1pdDogX19lbWl0IH0pIHsKICAgICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzOwogICAgICBjb25zdCBlbWl0ID0gX19lbWl0OwogICAgICBjb25zdCBpbmRleCA9IHZ1ZS5yZWYoImFsbCIpOwogICAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgfSk7CiAgICAgIHZ1ZS53YXRjaChbaW5kZXgsICgpID0+IHByb3BzLmxpc3RdLCAoKSA9PiB7CiAgICAgICAgJCgiLm5vdGlmeS13cmFwIikuc2Nyb2xsVG9wKDApOwogICAgICB9KTsKICAgICAgdnVlLndhdGNoKCgpID0+IHByb3BzLm1vZGVsVmFsdWUsIChuMikgPT4gewogICAgICAgIGlmIChuMikgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJoaWRkZW4iOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gInVuc2V0IjsKICAgICAgICAgICQoIi5ub3RpZnktd3JhcCIpLnNjcm9sbFRvcCgwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICBlbWl0KCJ1cGRhdGU6bW9kZWxWYWx1ZSIsIGZhbHNlKTsKICAgICAgfQogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuVHJhbnNpdGlvbiwgbnVsbCwgewogICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICBfX3Byb3BzLm1vZGVsVmFsdWUgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xJDEsIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgICBjbGFzczogIm1hc2siLAogICAgICAgICAgICAgICAgb25DbGljazogdnVlLndpdGhNb2RpZmllcnMoY2xvc2UsIFsic3RvcCJdKQogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIkMSwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogIm1vZGFsLWhlYWRlciIgfSwgWwogICAgICAgICAgICAgICAgICBfaG9pc3RlZF8zJDEsCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJmYSBmYS10aW1lcyIsCiAgICAgICAgICAgICAgICAgICAgb25DbGljazogY2xvc2UKICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCQxLCBbCiAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUkMSwgWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoaW5kZXgudmFsdWUgPT09ICJhbGwiICYmICJhY3RpdmUiKSwKICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudCkgPT4gaW5kZXgudmFsdWUgPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICB9LCAi5YWo6YOoIiwgMiksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhpbmRleC52YWx1ZSA9PT0gInJlcGx5IiAmJiAiYWN0aXZlIiksCiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICgkZXZlbnQpID0+IGluZGV4LnZhbHVlID0gInJlcGx5IikKICAgICAgICAgICAgICAgICAgICB9LCAi5Zue5aSNIiwgMiksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHZ1ZS5ub3JtYWxpemVDbGFzcyhpbmRleC52YWx1ZSA9PT0gInN0YXIiICYmICJhY3RpdmUiKSwKICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gaW5kZXgudmFsdWUgPSAic3RhciIpCiAgICAgICAgICAgICAgICAgICAgfSwgIuaEn+iwoiIsIDIpLAogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoaW5kZXgudmFsdWUgPT09ICJjb2xsZWN0IiAmJiAiYWN0aXZlIiksCiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9ICgkZXZlbnQpID0+IGluZGV4LnZhbHVlID0gImNvbGxlY3QiKQogICAgICAgICAgICAgICAgICAgIH0sICLmlLbol48iLCAyKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiQxLCBbCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNyQxLCBbCiAgICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAibm90aWZpY2F0aW9ucyIsCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoaW5kZXgudmFsdWUpLAogICAgICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUw6IF9fcHJvcHMubGlzdAogICAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgMTAsIF9ob2lzdGVkXzgkMSkKICAgICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgICBfX3Byb3BzLmxvYWRpbmcgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF85JDEsIFsKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShCYXNlTG9hZGluZykKICAgICAgICAgICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAkMSwgWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgICAgICAgIGlubmVySFRNTDogX19wcm9wcy5wYWdlcywKICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAicGFnZXMiCiAgICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMTEkMSksCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIkMSwgWwogICAgICAgICAgICAgICAgICAgICAgX2hvaXN0ZWRfMTMkMSwKICAgICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVUZXh0Vk5vZGUodnVlLnRvRGlzcGxheVN0cmluZyhfX3Byb3BzLnRvdGFsKSwgMSkKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICBdKQogICAgICAgICAgICBdKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgXSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CiAgfTsKICBjb25zdCBOb3RpZmljYXRpb25Nb2RhbCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kMSwgW1siX19zY29wZUlkIiwgImRhdGEtdi03N2FhMzc0ZSJdXSk7CiAgY29uc3QgX3NmY19tYWluID0gewogICAgY29tcG9uZW50czogewogICAgICBJY29uLAogICAgICBCYXNlQnV0dG9uLAogICAgICBOb3RpZmljYXRpb25Nb2RhbCwKICAgICAgQmFzZUxvYWRpbmcsCiAgICAgIEJhc2VTd2l0Y2gsCiAgICAgIE1zZ01vZGFsLAogICAgICBUYWdNb2RhbCwKICAgICAgVG9vbHRpcCwKICAgICAgU2V0dGluZywKICAgICAgUG9zdERldGFpbCwKICAgICAgQmFzZTY0VG9vbHRpcCwKICAgICAgTXNnCiAgICB9LAogICAgcHJvdmlkZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpc0xvZ2luOiB2dWUuY29tcHV0ZWQoKCkgPT4gdGhpcy5pc0xvZ2luKSwKICAgICAgICBpc05pZ2h0OiB2dWUuY29tcHV0ZWQoKCkgPT4gdGhpcy5pc05pZ2h0KSwKICAgICAgICBwYWdlVHlwZTogdnVlLmNvbXB1dGVkKCgpID0+IHRoaXMucGFnZVR5cGUpLAogICAgICAgIHRhZ3M6IHZ1ZS5jb21wdXRlZCgoKSA9PiB0aGlzLnRhZ3MpLAogICAgICAgIHNob3c6IHZ1ZS5jb21wdXRlZCgoKSA9PiB0aGlzLnNob3cpLAogICAgICAgIHBvc3Q6IHZ1ZS5jb21wdXRlZCgoKSA9PiB0aGlzLmN1cnJlbnQpLAogICAgICAgIGNvbmZpZzogdnVlLmNvbXB1dGVkKCgpID0+IHRoaXMuY29uZmlnKSwKICAgICAgICBhbGxSZXBseVVzZXJzOiB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICAgICAgdmFyIF9hLCBfYiwgX2M7CiAgICAgICAgICBpZiAoKF9hID0gdGhpcy5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVwbHlMaXN0KSB7CiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoKChfYyA9IChfYiA9IHRoaXMuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnJlcGx5TGlzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm1hcCgodikgPT4gdi51c2VybmFtZSkpID8/IFtdKSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSksCiAgICAgICAgc2hvd0NvbmZpZzogdGhpcy5zaG93Q29uZmlnCiAgICAgIH07CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsb2FkaW5nOiB3aW5kb3cucGFnZVR5cGUgPT09IFBhZ2VUeXBlLlBvc3QsCiAgICAgICAgcmVmcmVzaExvYWRpbmc6IGZhbHNlLAogICAgICAgIGxvYWRNb3JlOiBmYWxzZSwKICAgICAgICBpc0xvZ2luOiAhIXdpbmRvdy51c2VyLnVzZXJuYW1lLAogICAgICAgIHBhZ2VUeXBlOiB3aW5kb3cucGFnZVR5cGUsCiAgICAgICAgaXNOaWdodDogd2luZG93LmlzTmlnaHQsCiAgICAgICAgc3RvcE1lOiB3aW5kb3cuc3RvcE1lLAogICAgICAgIC8v5YGc5q2i5L2/55So6ISa5pysCiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgY3VycmVudDogZ2V0RGVmYXVsdFBvc3QoKSwKICAgICAgICBsaXN0OiBbXSwKICAgICAgICBjb25maWc6IGZ1bmN0aW9ucy5jbG9uZSh3aW5kb3cuY29uZmlnKSwKICAgICAgICB0YWdzOiB3aW5kb3cudXNlci50YWdzLAogICAgICAgIGNvbmZpZ01vZGFsOiB7CiAgICAgICAgICBzaG93OiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgbm90aWZpY2F0aW9uTW9kYWw6IHsKICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgICBsaXN0OiAiIiwKICAgICAgICAgIHRvdGFsOiAwCiAgICAgICAgfSwKICAgICAgICBwcmV2aWV3TW9kYWw6IHsKICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgc3JjOiAiIgogICAgICAgIH0sCiAgICAgICAgcG9wQ29uZmlybU1vZGFsOiB7CiAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgIGlkOiAiIgogICAgICAgIH0sCiAgICAgICAgdGltZXI6IC0xLAogICAgICAgIHRpbWVyMjogLTEsCiAgICAgICAgcGFnZUluZm86IHsKICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgIG51bWJlcjogMAogICAgICAgIH0sCiAgICAgICAgY2FsZW5kYXI6IHsKICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgeWVhcjogIiIsCiAgICAgICAgICBtb250aDogIiIsCiAgICAgICAgICBkYXlDb3VudDogMCwKICAgICAgICAgIGZpcnN0RGF5V2VlazogMCwKICAgICAgICAgIHNlbGVjdDogIiIKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgdGFyZ2V0VXNlclRhZ3MoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGFnc1t3aW5kb3cudGFyZ2V0VXNlck5hbWVdID8/IFtdOwogICAgICB9LAogICAgICBpc0xpc3QoKSB7CiAgICAgICAgcmV0dXJuIFtQYWdlVHlwZS5Ib21lLCBQYWdlVHlwZS5Ob2RlXS5pbmNsdWRlcyh0aGlzLnBhZ2VUeXBlKTsKICAgICAgfSwKICAgICAgaXNQb3N0KCkgewogICAgICAgIHJldHVybiB0aGlzLnBhZ2VUeXBlID09PSBQYWdlVHlwZS5Qb3N0OwogICAgICB9LAogICAgICBpc01lbWJlcigpIHsKICAgICAgICByZXR1cm4gdGhpcy5wYWdlVHlwZSA9PT0gUGFnZVR5cGUuTWVtYmVyOwogICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgY29uZmlnOiB7CiAgICAgICAgaGFuZGxlcihuZXdWYWwsIG9sZFZhbCkgewogICAgICAgICAgY29uc29sZS5sb2coImNvbmZpZyIsIGZ1bmN0aW9ucy5jbG9uZShuZXdWYWwpLm5vdGljZSwgZnVuY3Rpb25zLmNsb25lKG9sZFZhbCkubm90aWNlKTsKICAgICAgICAgIGxldCBjb25maWdTdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidjJleC1jb25maWciKTsKICAgICAgICAgIGlmIChjb25maWdTdHIpIHsKICAgICAgICAgICAgbGV0IGNvbmZpZ09iaiA9IEpTT04ucGFyc2UoY29uZmlnU3RyKTsKICAgICAgICAgICAgY29uZmlnT2JqW3dpbmRvdy51c2VyLnVzZXJuYW1lIHx8ICJkZWZhdWx0Il0gPSBuZXdWYWw7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ2MmV4LWNvbmZpZyIsIEpTT04uc3RyaW5naWZ5KGNvbmZpZ09iaikpOwogICAgICAgICAgfQogICAgICAgICAgd2luZG93LmNvbmZpZyA9IG5ld1ZhbDsKICAgICAgICAgIHdpbmRvdy5wYXJzZS5lZGl0Tm90ZUl0ZW0od2luZG93LnVzZXIuY29uZmlnUHJlZml4ICsgSlNPTi5zdHJpbmdpZnkod2luZG93LmNvbmZpZyksIHdpbmRvdy51c2VyLmNvbmZpZ05vdGVJZCk7CiAgICAgICAgfSwKICAgICAgICBkZWVwOiB0cnVlCiAgICAgIH0sCiAgICAgIHRhZ3MobmV3VmFsKSB7CiAgICAgICAgd2luZG93LnVzZXIudGFncyA9IG5ld1ZhbDsKICAgICAgfSwKICAgICAgImNvbmZpZy52aWV3VHlwZSIobmV3VmFsKSB7CiAgICAgICAgaWYgKCFuZXdWYWwpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gImNhcmQiKSB7CiAgICAgICAgICAkKCIucG9zdC1pdGVtIikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygicHJldmlldyIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQoIi5wb3N0LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCJwcmV2aWV3Iik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJwYWdlSW5mby5udW1iZXIiKG5ld1ZhbCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcjIpOwogICAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gYCgke3RoaXMucGFnZUluZm8ubnVtYmVyfSkgYCArIHRoaXMucGFnZUluZm8udGl0bGU7CiAgICAgICAgICBpZiAodGhpcy5jb25maWcubm90aWNlLndoZW5OZXdOb3RpY2VHbGltbWVyKSB7CiAgICAgICAgICAgIGxldCBjID0gMDsKICAgICAgICAgICAgdGhpcy50aW1lcjIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgYysrOwogICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gdGhpcy5wYWdlSW5mby50aXRsZTsKICAgICAgICAgICAgICBpZiAoYyAlIDIgPT09IDApIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gYCgke3RoaXMucGFnZUluZm8ubnVtYmVyfSkgYCArIHRoaXMucGFnZUluZm8udGl0bGU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAxZTMpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHRoaXMucGFnZUluZm8udGl0bGU7CiAgICAgICAgfQogICAgICB9LAogICAgICBzaG93KG5ld1ZhbCkgewogICAgICAgIGlmICh0aGlzLnBhZ2VUeXBlID09PSBQYWdlVHlwZS5Qb3N0KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChuZXdWYWwpIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIGlmICghd2luZG93Lmhpc3Rvcnkuc3RhdGUpIHsKICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAwLCB0aGlzLmN1cnJlbnQuaHJlZik7CiAgICAgICAgICB9CiAgICAgICAgICB2dWUubmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLnBhZ2VJbmZvLnRpdGxlID0gZG9jdW1lbnQudGl0bGUgPSB0aGlzLmN1cnJlbnQudGl0bGUgPz8gIlYyRVgiOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAidW5zZXQiOwogICAgICAgICAgdGhpcy5wYWdlSW5mby50aXRsZSA9IGRvY3VtZW50LnRpdGxlID0gIlYyRVgiOwogICAgICAgICAgaWYgKHdpbmRvdy5oaXN0b3J5LnN0YXRlKSB7CiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICBsZXQgdGhhdCA9IHRoaXM7CiAgICAgIHRoaXMuaW5pdEV2ZW50KCk7CiAgICAgIHdpbmRvdy5jYiA9IHRoaXMud2luQ2I7CiAgICAgIGlmICghd2luZG93LmNhblBhcnNlVjJleFBhZ2UpCiAgICAgICAgcmV0dXJuOwogICAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiYSIsIHRoaXMuY2xpY2tBKTsKICAgICAgJChkb2N1bWVudCkub24oImNsaWNrIiwgIi5wb3N0LWl0ZW0iLCBmdW5jdGlvbihlMikgewogICAgICAgIGlmIChlMi5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgic2NyaXB0IikpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHRoYXQuc3RvcE1lKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCJwcmV2aWV3IikpIHsKICAgICAgICAgIGlmIChlMi50YXJnZXQudGFnTmFtZSAhPT0gIkEiICYmIGUyLnRhcmdldC50YWdOYW1lICE9PSAiSU1HIiAmJiAhZTIudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygidG9nZ2xlIikpIHsKICAgICAgICAgICAgbGV0IGlkID0gdGhpcy5kYXRhc2V0WyJpZCJdOwogICAgICAgICAgICBsZXQgaHJlZiA9IHRoaXMuZGF0YXNldFsiaHJlZiJdOwogICAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgICB0aGF0LmNsaWNrUG9zdChlMiwgaWQsIGhyZWYpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmIChocmVmKQogICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGhyZWY7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICAkKGRvY3VtZW50KS5vbigiY2xpY2siLCAiLnRvZ2dsZSIsIChlMikgPT4gewogICAgICAgIGlmICh0aGlzLnN0b3BNZSkKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGxldCBpZCA9IGUyLnRhcmdldC5kYXRhc2V0WyJpZCJdOwogICAgICAgIGxldCBpdGVtRG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLmlkXyR7aWR9YCk7CiAgICAgICAgaWYgKGl0ZW1Eb20uY2xhc3NMaXN0LmNvbnRhaW5zKCJwcmV2aWV3IikpIHsKICAgICAgICAgIGUyLnRhcmdldC5pbm5lclRleHQgPSAi6aKE6KeIIjsKICAgICAgICAgIGl0ZW1Eb20uY2xhc3NMaXN0LnJlbW92ZSgicHJldmlldyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5jb25maWcudmlld1R5cGUgIT09ICJjYXJkIikgewogICAgICAgICAgICBsZXQgaW5kZXggPSB0aGlzLmxpc3QuZmluZEluZGV4KCh2KSA9PiB2LmlkID09IGlkKTsKICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICAgICAgICBlMi50YXJnZXQuaW5uZXJUZXh0ID0gIuaUtui1tyI7CiAgICAgICAgICAgICAgaXRlbURvbS5jbGFzc0xpc3QuYWRkKCJwcmV2aWV3Iik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZTIudGFyZ2V0LmlubmVyVGV4dCA9ICLliqDovb3kuK0iOwogICAgICAgICAgICAgIGZ1bmN0aW9ucy5nZXRQb3N0RGV0YWlsQnlBcGkoaWQpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5jb250ZW50X3JlbmRlcmVkKSB7CiAgICAgICAgICAgICAgICAgIHJlcy5ocmVmID0gaXRlbURvbS5kYXRhc2V0WyJocmVmIl07CiAgICAgICAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKGdldERlZmF1bHRQb3N0KHJlcykpOwogICAgICAgICAgICAgICAgICBpdGVtRG9tLmNsYXNzTGlzdC5hZGQoInByZXZpZXciKTsKICAgICAgICAgICAgICAgICAgZTIudGFyZ2V0LmlubmVyVGV4dCA9ICLmlLbotbciOwogICAgICAgICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kUG9zdENvbnRlbnQocmVzLCBpdGVtRG9tKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGUyLnRhcmdldC5pbm5lclRleHQgPSAi6aKE6KeIIjsKICAgICAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi5Li76aKY5pqC5peg5q2j5paH77yBIiB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZTIudGFyZ2V0LmlubmVyVGV4dCA9ICLmlLbotbciOwogICAgICAgICAgICBpdGVtRG9tLmNsYXNzTGlzdC5hZGQoInByZXZpZXciKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB3aW5kb3cub25wb3BzdGF0ZSA9IChldmVudCkgPT4gewogICAgICAgIGlmIChldmVudC5zdGF0ZSkgewogICAgICAgICAgaWYgKCF0aGlzLnNob3cpCiAgICAgICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICh0aGlzLnNob3cpCiAgICAgICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfTsKICAgICAgaWYgKHRoaXMuY29uZmlnLm5vdGljZS50YWtlT3Zlck5vdGljZVBhZ2UpIHsKICAgICAgICB3aW5kb3cuZGVsZXRlTm90aWZpY2F0aW9uID0gKG5JZCwgdG9rZW4pID0+IHsKICAgICAgICAgIGxldCBpdGVtID0gJCgiI25fIiArIG5JZCk7CiAgICAgICAgICBpdGVtLnNsaWRlVXAoImZhc3QiKTsKICAgICAgICAgICQucG9zdCh7CiAgICAgICAgICAgIHVybDogIi9kZWxldGUvbm90aWZpY2F0aW9uLyIgKyBuSWQgKyAiP29uY2U9IiArIHRva2VuLAogICAgICAgICAgICBzdWNjZXNzKCkgewogICAgICAgICAgICAgICQuZ2V0KHsKICAgICAgICAgICAgICAgIHVybDogIi9ub3RpZmljYXRpb25zL2JlbG93LyIgKyB3aW5kb3cubm90aWZpY2F0aW9uQm90dG9tLAogICAgICAgICAgICAgICAgc3VjY2VzcyhkYXRhLCBzdGF0dXMsIHJlcXVlc3QpIHsKICAgICAgICAgICAgICAgICAgaXRlbS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgJCgiI25vdGlmaWNhdGlvbnMiKS5hcHBlbmQodGhhdC5jaGVja1JlcGx5SXRlbVR5cGUoZGF0YSkpOwogICAgICAgICAgICAgICAgICB3aW5kb3cubm90aWZpY2F0aW9uQm90dG9tID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcigiWC1WMkVYLU5ldy1Ob3RpZmljYXRpb24tQm90dG9tIik7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXJyb3IoKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uc2xpZGVEb3duKCJmYXN0Iik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yKCkgewogICAgICAgICAgICAgIGl0ZW0uc2xpZGVEb3duKCJmYXN0Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVVbm1vdW50KCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICBldmVudEJ1cy5jbGVhcigpOwogICAgICAkKGRvY3VtZW50KS5vZmYoImNsaWNrIiwgImEiLCB0aGlzLmNsaWNrQSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBnZXRNb250aERheUluZm8obnVtKSB7CiAgICAgICAgbGV0IG5vdyA9IGRheWpzKCk7CiAgICAgICAgbm93ID0gbm93LnllYXIodGhpcy5jYWxlbmRhci55ZWFyKTsKICAgICAgICBub3cgPSBub3cubW9udGgodGhpcy5jYWxlbmRhci5tb250aCk7CiAgICAgICAgaWYgKG51bSA+IDApIHsKICAgICAgICAgIG5vdyA9IG5vdy5hZGQoMSwgIm1vbnRoIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5vdyA9IG5vdy5zdWJ0cmFjdCgxLCAibW9udGgiKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jYWxlbmRhci55ZWFyID0gbm93LnllYXIoKTsKICAgICAgICB0aGlzLmNhbGVuZGFyLm1vbnRoID0gbm93Lm1vbnRoKCk7CiAgICAgICAgdGhpcy5jYWxlbmRhci5kYXlDb3VudCA9IG5vdy5kYXlzSW5Nb250aCgpOwogICAgICAgIHRoaXMuY2FsZW5kYXIuZmlyc3REYXlXZWVrID0gbm93LnN0YXJ0T2YoIm1vbnRoIikuZGF5KCk7CiAgICAgIH0sCiAgICAgIGNoZWNrUmVwbHlJdGVtVHlwZSh2YWwpIHsKICAgICAgICBsZXQgZDIgPSAkKHZhbCk7CiAgICAgICAgbGV0IHN0ciA9IGQyLmh0bWwoKTsKICAgICAgICBpZiAoc3RyLmluY2x1ZGVzKCLmj5DliLDkuobkvaAiKSB8fCBzdHIuaW5jbHVkZXMoIuWbnuWkjeS6huS9oCIpKSB7CiAgICAgICAgICBkMi5hZGRDbGFzcygicmVwbHkiKTsKICAgICAgICB9CiAgICAgICAgaWYgKHN0ci5pbmNsdWRlcygi5oSf6LCi5LqG5L2gIikpIHsKICAgICAgICAgIGQyLmFkZENsYXNzKCJzdGFyIik7CiAgICAgICAgfQogICAgICAgIGlmIChzdHIuaW5jbHVkZXMoIuaUtuiXj+S6huS9oCIpKSB7CiAgICAgICAgICBkMi5hZGRDbGFzcygiY29sbGVjdCIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZDI7CiAgICAgIH0sCiAgICAgIGFzeW5jIGdldFVucmVhZE1lc3NhZ2VzQ291bnQoKSB7CiAgICAgICAgdmFyIF9hLCBfYjsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtsb2NhdGlvbi5vcmlnaW59L21pc3Npb25gKTsKICAgICAgICBjb25zdCBodG1sVGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7CiAgICAgICAgY29uc3QgJHBhZ2UgPSAkKGh0bWxUZXh0KTsKICAgICAgICBjb25zdCB0ZXh0ID0gJHBhZ2UuZmluZCgnI1JpZ2h0YmFyIGFbaHJlZl49Ii9ub3RpZmljYXRpb25zIl0nKS50ZXh0KCk7CiAgICAgICAgaWYgKHRleHQuaW5jbHVkZXMoIuacquivu+aPkOmGkiIpKSB7CiAgICAgICAgICBjb25zdCBjb3VudFN0ciA9IChfYSA9IHRleHQubWF0Y2goL1xkKy8pKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYXQoMCk7CiAgICAgICAgICBpZiAoY291bnRTdHIpIHsKICAgICAgICAgICAgcmV0dXJuIE51bWJlcigoX2IgPSB0ZXh0Lm1hdGNoKC9cZCsvKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmF0KDApKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHRocm93IG5ldyBFcnJvcigi5peg5rOV6I635Y+W5pyq6K+75raI5oGv5pWw6YePIik7CiAgICAgIH0sCiAgICAgIGNsaWNrQShlMikgewogICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICBpZiAoZTIuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoInNjcmlwdCIpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICh0aGF0LnN0b3BNZSkKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIGxldCB7IHBhZ2VUeXBlIH0gPSBmdW5jdGlvbnMuY2hlY2tQYWdlVHlwZShlMi5jdXJyZW50VGFyZ2V0KTsKICAgICAgICBsZXQgeyBocmVmLCBpZCwgdGl0bGUgfSA9IGZ1bmN0aW9ucy5wYXJzZUEoZTIuY3VycmVudFRhcmdldCk7CiAgICAgICAgc3dpdGNoIChwYWdlVHlwZSkgewogICAgICAgICAgY2FzZSBQYWdlVHlwZS5Qb3N0OgogICAgICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgICAgICB0aGF0LmNsaWNrUG9zdChlMiwgaWQsIGhyZWYsIHRpdGxlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgUGFnZVR5cGUuTm9kZToKICAgICAgICAgIGNhc2UgUGFnZVR5cGUuSG9tZToKICAgICAgICAgIGNhc2UgUGFnZVR5cGUuQ2hhbmdlczoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgY2FzZSBQYWdlVHlwZS5Ib3Q6CiAgICAgICAgICAgIGxldCBkYXRlID0gZTIuY3VycmVudFRhcmdldC5zZWFyY2gucmVwbGFjZSgiPyIsICIiKTsKICAgICAgICAgICAgaWYgKGRhdGUgPT09ICJzZXR0aW5nIikgewogICAgICAgICAgICAgIGlmICh0aGlzLmNhbGVuZGFyLnNob3cpIHsKICAgICAgICAgICAgICAgICQoIiNSaWdodGJhciA+IC5zZXAyMDpmaXJzdCIpLmNzcygiaGVpZ2h0IiwgInZhcigtLWNvbXBvbmVudC1tYXJnaW4pIik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiNSaWdodGJhciA+IC5zZXAyMDpmaXJzdCIpLmNzcygiaGVpZ2h0IiwgInVuc2V0Iik7CiAgICAgICAgICAgICAgICBsZXQgbm93MiA9IGRheWpzKCk7CiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyLnllYXIgPSBub3cyLnllYXIoKTsKICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXIubW9udGggPSBub3cyLm1vbnRoKCk7CiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyLmRheUNvdW50ID0gbm93Mi5kYXlzSW5Nb250aCgpOwogICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhci5maXJzdERheVdlZWsgPSBub3cyLnN0YXJ0T2YoIm1vbnRoIikuZGF5KCk7CiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyLnNlbGVjdCA9IGAke3RoaXMuY2FsZW5kYXIueWVhcn0tJHt0aGlzLmNhbGVuZGFyLm1vbnRoICsgMX0tJHtub3cyLmRhdGUoKX1gOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyLnNob3cgPSAhdGhpcy5jYWxlbmRhci5zaG93OwogICAgICAgICAgICAgIGZ1bmN0aW9ucy5zdG9wRXZlbnQoZTIpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgbm93ID0gZGF5anMoKTsKICAgICAgICAgICAgbGV0IGRheSA9ICIiOwogICAgICAgICAgICBzd2l0Y2ggKE51bWJlcihkYXRlKSkgewogICAgICAgICAgICAgIGNhc2UgLTE6CiAgICAgICAgICAgICAgICBkYXkgPSBub3cuc3VidHJhY3QoMSwgImRheSIpLmZvcm1hdCgiWVlZWS1NLUQiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgLTI6CiAgICAgICAgICAgICAgICBkYXkgPSBub3cuc3VidHJhY3QoMiwgImRheSIpLmZvcm1hdCgiWVlZWS1NLUQiKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGRheSA9ICIzZCI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBkYXkgPSAiN2QiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIGRheSA9ICIzMGQiOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGRheSA9IGRhdGU7CiAgICAgICAgICAgICAgICBpZiAoZGF5anMoZGF5KS5pc1NhbWUobm93LCAiZGF5IikpIHsKICAgICAgICAgICAgICAgICAgZnVuY3Rpb25zLnN0b3BFdmVudChlMik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZGF5KSB7CiAgICAgICAgICAgICAgZmV0Y2goRGVmYXVsdFZhbC5ob3RVcmwgKyBkYXkgKyAiLmpzb24iKS50aGVuKGFzeW5jIChyMikgPT4gewogICAgICAgICAgICAgICAgbGV0IHIxID0gYXdhaXQgcjIuanNvbigpOwogICAgICAgICAgICAgICAgJCgiLmNlbGwuaXRlbS5wb3N0LWl0ZW0iKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIHIxLnJldmVyc2UoKS5tYXAoKHYpID0+IHsKICAgICAgICAgICAgICAgICAgbGV0IHMgPSBgCjxkaXYgY2xhc3M9ImNlbGwgaXRlbSBwb3N0LWl0ZW0gaWRfJHt2LmlkfSIgc3R5bGU9IiIgZGF0YS1ocmVmPSJodHRwczovL3d3dy52MmV4LmNvbS90LyR7di5pZH0jcmVwbHkke3YucmVwbHlDb3VudH0iPgogICAgPHRhYmxlIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIiB3aWR0aD0iMTAwJSI+CiAgICAgIDx0Ym9keT4KICAgICAgPHRyPgogICAgICAgIDx0ZCB3aWR0aD0iNDgiIHZhbGlnbj0idG9wIiBhbGlnbj0iY2VudGVyIj4KICAgICAgICAgIDxhIGhyZWY9Ii9tZW1iZXIvJHt2LnVzZXJuYW1lfSI+CiAgICAgICAgICAgIDxpbWcgc3JjPSIke3YuYXZhdGFyfSIgY2xhc3M9ImF2YXRhciIKICAgICAgICAgICAgICAgICBib3JkZXI9IjAiIGFsaWduPSJkZWZhdWx0IgogICAgICAgICAgICAgICAgIHdpZHRoPSI0OCIKICAgICAgICAgICAgICAgICBzdHlsZT0id2lkdGg6IDQ4cHg7IG1heC1oZWlnaHQ6IDQ4cHg7IgogICAgICAgICAgICAgICAgIGFsdD0iaWNlOTE5MSI+CiAgICAgICAgICA8L2E+CiAgICAgICAgPC90ZD4KICAgICAgICA8dGQgd2lkdGg9IjEwIj48L3RkPgogICAgICAgIDx0ZCB3aWR0aD0iYXV0byIgdmFsaWduPSJtaWRkbGUiPgogICAgICAgICAgPHNwYW4gY2xhc3M9Iml0ZW1fdGl0bGUiPgogICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3d3dy52MmV4LmNvbS90LyR7di5pZH0jcmVwbHkke3YucmVwbHlDb3VudH0iIGNsYXNzPSJ0b3BpYy1saW5rIiBpZD0idG9waWMtbGluay0ke3YuaWR9Ij4ke3YudGl0bGV9PC9hPgogICAgICAgICAgPC9zcGFuPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2VwNSI+PC9kaXY+CiAgICAgICAgICA8c3BhbiBjbGFzcz0idG9waWNfaW5mbyI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InZvdGVzIj48L2Rpdj4KICAgICAgICAgICAgPGEgY2xhc3M9Im5vZGUiIGhyZWY9Ii9nby8ke3Yubm9kZVVybH0iPiR7di5ub2RlVGl0bGV9PC9hPiAmbmJzcDvigKImbmJzcDsKICAgICAgICAgICAgPHN0cm9uZz48YSBocmVmPSIvbWVtYmVyLyR7di51c2VybmFtZX0iPiR7di51c2VybmFtZX08L2E+PC9zdHJvbmc+ICZuYnNwO+KAoiZuYnNwOwogICAgICAgICAgICA8c3BhbiB0aXRsZT0iJHt2Lmxhc3RSZXBseURhdGV9Ij4ke3YubGFzdFJlcGx5RGF0ZUFnb308L3NwYW4+ICZuYnNwO+KAoiZuYnNwOyDmnIDlkI7lm57lpI3mnaXoh6oKICAgICAgICAgICAgPHN0cm9uZz48YSBocmVmPSIvbWVtYmVyLyR7di5sYXN0UmVwbHlVc2VybmFtZX0iPiR7di5sYXN0UmVwbHlVc2VybmFtZX08L2E+PC9zdHJvbmc+CiAgICAgICAgICA8L3NwYW4+CiAgICAgICAgPC90ZD4KICAgICAgICA8dGQgd2lkdGg9IjcwIiBhbGlnbj0icmlnaHQiIHZhbGlnbj0ibWlkZGxlIiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyI+CiAgICAgICAgICA8YSBocmVmPSIvdC8ke3YuaWR9I3JlcGx5JHt2LnJlcGx5Q291bnR9IiBjbGFzcz0iY291bnRfbGl2aWQiPiR7di5yZXBseUNvdW50fTwvYT4KICAgICAgICAgIDxkaXYgZGF0YS1pZD0iJHt2LmlkfSIgY2xhc3M9InRvZ2dsZSI+6aKE6KeIPC9kaXY+CiAgICAgICAgPC90ZD4KICAgICAgPC90cj4KICAgICAgPC90Ym9keT4KICAgIDwvdGFibGU+CiAgPC9kaXY+CiAgICAgICAgICAgICAgICBgOwogICAgICAgICAgICAgICAgICAkKCIjYXBwIikuYWZ0ZXIoJChzKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KS5jYXRjaCgoZTMpID0+IHsKICAgICAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLmmoLml6Dngrnlh7vml6XmnJ/nmoTmnIDng63mlbDmja7vvIEiIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9ucy5zdG9wRXZlbnQoZTIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICBpZiAoZTIuY3VycmVudFRhcmdldC5ocmVmLmluY2x1ZGVzKCIvc2V0dGluZ3MvbmlnaHQvdG9nZ2xlIikpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoZTIuY3VycmVudFRhcmdldC5ocmVmID09PSBsb2NhdGlvbi5vcmlnaW4gKyAiLyM7IikKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChlMi5jdXJyZW50VGFyZ2V0LmhyZWYuaW5jbHVkZXMoIi9ub3RpZmljYXRpb25zIikpIHsKICAgICAgICAgICAgICB0aGlzLnBhZ2VJbmZvLm51bWJlciA9IDA7CiAgICAgICAgICAgICAgJCgiI21vbmV5IikucGFyZW50KCkucHJldigpLnJlcGxhY2VXaXRoKGA8YSBocmVmPSIvbm90aWZpY2F0aW9ucyI+MCDmnKror7vmj5DphpI8L2E+YCk7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5vdGljZS50YWtlT3Zlck5vdGljZVBhZ2UpIHsKICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uTW9kYWwubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbk1vZGFsLnNob3cgPSB0cnVlOwogICAgICAgICAgICAgICAgZmV0Y2goaHJlZikudGhlbihhc3luYyAocjIpID0+IHsKICAgICAgICAgICAgICAgICAgbGV0IGh0bWxUZXh0ID0gYXdhaXQgcjIudGV4dCgpOwogICAgICAgICAgICAgICAgICBsZXQgYm9keVRleHQgPSBodG1sVGV4dC5tYXRjaCgvPGJvZHlbXj5dKj4oW1xzXFNdKz8pPFwvYm9keT4vZyk7CiAgICAgICAgICAgICAgICAgIGxldCByZXMgPSBodG1sVGV4dC5tYXRjaCgvdmFyIG5vdGlmaWNhdGlvbkJvdHRvbSA9IChbXGRdKyk7Lyk7CiAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzWzFdKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm5vdGlmaWNhdGlvbkJvdHRvbSA9IE51bWJlcihyZXNbMV0pOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIgd2luZG93Lm5vdGlmaWNhdGlvbkJvdHRvbSIsIHdpbmRvdy5ub3RpZmljYXRpb25Cb3R0b20pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gJChib2R5VGV4dFswXSk7CiAgICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gYm9keS5maW5kKCIjbm90aWZpY2F0aW9ucyIpOwogICAgICAgICAgICAgICAgICBsaXN0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICB0aGF0LmNoZWNrUmVwbHlJdGVtVHlwZSh0aGlzKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGxldCBoMiA9IGxpc3QuaHRtbCgpOwogICAgICAgICAgICAgICAgICBsZXQgZDIgPSBib2R5LmZpbmQoIiNNYWluID4gLmJveCA+IC5oZWFkZXIgLmZyIC5ncmF5Iik7CiAgICAgICAgICAgICAgICAgIGlmIChkMi5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbk1vZGFsLnRvdGFsID0gZDIudGV4dCgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uTW9kYWwubGlzdCA9IGgyOwogICAgICAgICAgICAgICAgICBsZXQgcCA9IGxpc3QubmV4dCgpOwogICAgICAgICAgICAgICAgICBsZXQgdGRzID0gcC5maW5kKCIuYnV0dG9uIik7CiAgICAgICAgICAgICAgICAgIHRkcy5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGxldCBocmVmMiA9IHRoaXMuZ2V0QXR0cmlidXRlKCJvbmNsaWNrIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhyZWYyKSB7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IGA8YSBocmVmPSR7aHJlZjIucmVwbGFjZSgibG9jYXRpb24uaHJlZj0iLCAiIil9PiR7dGhpcy5pbm5lckhUTUx9PC9hPmA7CiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgib25jbGljayIsICIiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbk1vZGFsLnBhZ2VzID0gcC5odG1sKCk7CiAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uTW9kYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUzKSA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uTW9kYWwubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBmdW5jdGlvbnMuc3RvcEV2ZW50KGUyKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoYXQuY29uZmlnLm5ld1RhYk9wZW4pIHsKICAgICAgICAgICAgICBmdW5jdGlvbnMuc3RvcEV2ZW50KGUyKTsKICAgICAgICAgICAgICBmdW5jdGlvbnMub3Blbk5ld1RhYihlMi5jdXJyZW50VGFyZ2V0LmhyZWYsIHRoYXQuY29uZmlnLm5ld1RhYk9wZW5BY3RpdmUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFzeW5jIGNsaWNrUG9zdChlMiwgaWQsIGhyZWYsIHRpdGxlID0gIiIpIHsKICAgICAgICBpZiAoaWQpIHsKICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5jbGlja1Bvc3RJdGVtT3BlbkRldGFpbCkgewogICAgICAgICAgICBmdW5jdGlvbnMuc3RvcEV2ZW50KGUyKTsKICAgICAgICAgICAgbGV0IHBvc3RJdGVtID0gZ2V0RGVmYXVsdFBvc3QoKTsKICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5saXN0LmZpbmRJbmRleCgodikgPT4gdi5pZCA9PSBpZCk7CiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgcG9zdEl0ZW0gPSB0aGlzLmxpc3RbaW5kZXhdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghcG9zdEl0ZW0udGl0bGUpCiAgICAgICAgICAgICAgcG9zdEl0ZW0udGl0bGUgPSB0aXRsZSA/PyAi5Yqg6L295LitIjsKICAgICAgICAgICAgcG9zdEl0ZW0uaWQgPSBpZDsKICAgICAgICAgICAgcG9zdEl0ZW0uaHJlZiA9IGhyZWY7CiAgICAgICAgICAgIHRoaXMuZ2V0UG9zdERldGFpbChwb3N0SXRlbSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5uZXdUYWJPcGVuKSB7CiAgICAgICAgICAgIGZ1bmN0aW9ucy5zdG9wRXZlbnQoZTIpOwogICAgICAgICAgICBmdW5jdGlvbnMub3Blbk5ld1RhYihgaHR0cHM6Ly93d3cudjJleC5jb20vdC8ke2lkfT9wPTFgLCB0aGlzLmNvbmZpZy5uZXdUYWJPcGVuQWN0aXZlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNob3dQb3N0KCkgewogICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgJChgI1dyYXBwZXIgI01haW4gLmJveDpsdCgzKWApLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAkKHRoaXMpLmhpZGUoKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgc2hvd0NvbmZpZygpIHsKICAgICAgICB0aGlzLmNvbmZpZ01vZGFsLnNob3cgPSB0cnVlOwogICAgICB9LAogICAgICByZXNldFRpdGxlKCkgewogICAgICAgIGxldCByMiA9IGRvY3VtZW50LnRpdGxlLm1hdGNoKC9ccz9cKFxkK1wpXHM/Lyk7CiAgICAgICAgaWYgKHIyICYmIHIyLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5wYWdlSW5mby50aXRsZSA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UocjJbMF0sICIiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wYWdlSW5mby50aXRsZSA9IGRvY3VtZW50LnRpdGxlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgYXN5bmMgZ2V0Tm90aWNlKGJvZHkpIHsKICAgICAgICBpZiAoIWJvZHkpIHsKICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaCgiL3QiKTsKICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgbGV0IGh0bWxUZXh0ID0gYXdhaXQgcmVzLnRleHQoKTsKICAgICAgICAgICAgbGV0IGJvZHlUZXh0ID0gaHRtbFRleHQubWF0Y2goLzxib2R5W14+XSo+KFtcc1xTXSs/KTxcL2JvZHk+L2cpOwogICAgICAgICAgICBib2R5ID0gJChib2R5VGV4dFswXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGxldCBub3RpZnkgPSBib2R5LmZpbmQoJ2FbaHJlZj0iL25vdGlmaWNhdGlvbnMiXScpOwogICAgICAgIGlmIChub3RpZnkubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLnJlc2V0VGl0bGUoKTsKICAgICAgICAgIGxldCB0ZXh0ID0gbm90aWZ5LnRleHQoKTsKICAgICAgICAgIGlmICh0ZXh0ICE9PSAiMCDmnKror7vmj5DphpIiKSB7CiAgICAgICAgICAgIHRoaXMucGFnZUluZm8ubnVtYmVyID0gdGV4dC5yZXBsYWNlKCIg5pyq6K+75o+Q6YaSIiwgIiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZygidGV4dCIsIHRleHQsIHRoaXMuY29uZmlnLm5vdGljZS5kZFdlYmhvb2spOwogICAgICAgICAgICBpZiAodGhpcy5jb25maWcubm90aWNlLnRleHQgIT09IHRleHQpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5pyJ5paw5raI5oGvIiwgdGV4dCwgdGhpcy5jb25maWcubm90aWNlLnRleHQpOwogICAgICAgICAgICAgICQoIiNtb25leSIpLnBhcmVudCgpLnByZXYoKS5yZXBsYWNlV2l0aChgPGRpdj48ZGl2IGNsYXNzPSJvcmFuZ2UtZG90Ij48L2Rpdj48c3Ryb25nPjxhIGhyZWY9Ii9ub3RpZmljYXRpb25zIj4ke3RleHR9PC9hPjwvc3Ryb25nPjwvZGl2PmApOwogICAgICAgICAgICAgIHRoaXMuY29uZmlnLm5vdGljZS50ZXh0ID0gdGV4dDsKICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcubm90aWNlLmRkV2ViaG9vaykgewogICAgICAgICAgICAgICAgbGV0IG4yID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBsZXQgcyA9IG4yLmdldFNlY29uZHMoKTsKICAgICAgICAgICAgICAgIHMgPSBzIDwgMTAgPyAiMCIgKyBzIDogczsKICAgICAgICAgICAgICAgIGxldCBtID0gbjIuZ2V0TWludXRlcygpOwogICAgICAgICAgICAgICAgbSA9IG0gPCAxMCA/ICIwIiArIG0gOiBtOwogICAgICAgICAgICAgICAgbGV0IGgyID0gbjIuZ2V0SG91cnMoKTsKICAgICAgICAgICAgICAgIGgyID0gaDIgPCAxMCA/ICIwIiArIGgyIDogaDI7CiAgICAgICAgICAgICAgICAkLmFqYXgoImh0dHBzOi8vY2FyLWJhY2sudHRlbnRhdS50b3AvaW5kZXgucGhwL3YxL2NvbmZpZy9mb3J3YXJkIiwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIHVybDogdGhpcy5jb25maWcubm90aWNlLmRkV2ViaG9vaywKICAgICAgICAgICAgICAgICAgICAidGV4dCI6IG5vdGlmeS50ZXh0KCkgKyBg77yM5pe26Ze077yaJHtuMi5nZXRGdWxsWWVhcigpfS8ke24yLmdldE1vbnRoKCkgKyAxfS8ke24yLmdldERhdGUoKX0gJHtoMn06JHttfToke3N9YAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkKCIjbW9uZXkiKS5wYXJlbnQoKS5wcmV2KCkucmVwbGFjZVdpdGgoYDxhIGhyZWY9Ii9ub3RpZmljYXRpb25zIj4ke3RleHR9PC9hPmApOwogICAgICAgICAgICB0aGlzLmNvbmZpZy5ub3RpY2UudGV4dCA9ICIiOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgYXN5bmMgd2luQ2IoeyB0eXBlLCB2YWx1ZSB9KSB7CiAgICAgICAgY29uc29sZS5sb2coIuWbnuiwg+eahOexu+WeiyIsIHR5cGUsIHZhbHVlKTsKICAgICAgICBpZiAodHlwZSA9PT0gIm9wZW5TZXR0aW5nIikgewogICAgICAgICAgdGhpcy5zaG93Q29uZmlnKCk7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAic3luY0RhdGEiKSB7CiAgICAgICAgICB0aGlzLnN0b3BNZSA9IHdpbmRvdy5zdG9wTWU7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAiZ2V0Q29uZmlnU3VjY2VzcyIpIHsKICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlnLnZlcnNpb24gPCBEZWZhdWx0VmFsLmN1cnJlbnRWZXJzaW9uICYmIHdpbmRvdy5pc0RlYWRsaW5lKSB7CiAgICAgICAgICAgICQoIi52Mm5leHQtc2V0dGluZyBzcGFuIikuYWZ0ZXIoYDxkaXYgY2xhc3M9Im5ldyB2Mm5leHQtbmV3Ij5uZXc8L2Rpdj5gKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh3aW5kb3cuaXNMb2dpbiAmJiB3aW5kb3cuY29uZmlnLm5vdGljZS5sb29wQ2hlY2tOb3RpY2UpIHsKICAgICAgICAgICAgdGhpcy5nZXROb3RpY2UoJChkb2N1bWVudC5ib2R5KSk7CiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCh0aGlzLmdldE5vdGljZSwgMWUzICogNjAgKiBOdW1iZXIod2luZG93LmNvbmZpZy5ub3RpY2UubG9vcENoZWNrTm90aWNlSW50ZXJ2YWwpKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY29uZmlnID0gd2luZG93LmNvbmZpZzsKICAgICAgICAgIHRoaXMudGFncyA9IHdpbmRvdy51c2VyLnRhZ3M7CiAgICAgICAgfQogICAgICAgIGlmICh0eXBlID09PSAic3luY0xpc3QiKSB7CiAgICAgICAgICB0aGlzLmxpc3QgPSBPYmplY3QuYXNzaWduKHRoaXMubGlzdCwgd2luZG93LnBvc3RMaXN0KTsKICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICJ3YXJuaW5nTm90aWNlIikgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiB2YWx1ZSB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuc3RvcE1lKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICh0eXBlID09PSAicmVzdG9yZVBvc3QiKSB7CiAgICAgICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi6ISa5pys5peg5rOV5p+l55yL5q2k6aG16Z2i77yBIiB9KTsKICAgICAgICAgICQoYCNXcmFwcGVyICNNYWluIC5ib3g6bHQoMylgKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAkKHRoaXMpLnNob3coKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBpZiAodHlwZSA9PT0gInBvc3RDb250ZW50IikgewogICAgICAgICAgdGhpcy5jdXJyZW50ID0gT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIHZhbHVlKTsKICAgICAgICAgIHRoaXMuY3VycmVudC5pbkxpc3QgPSB0cnVlOwogICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmF1dG9PcGVuRGV0YWlsKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd1Bvc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHR5cGUgPT09ICJwb3N0UmVwbGllcyIpIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5jdXJyZW50ID0gT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIHZhbHVlKTsKICAgICAgICAgIHRoaXMubGlzdC5wdXNoKGZ1bmN0aW9ucy5jbG9uZSh0aGlzLmN1cnJlbnQpKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlZ2VuZXJhdGVSZXBseUxpc3QoKSB7CiAgICAgICAgaWYgKHRoaXMuY3VycmVudC5yZXBseUxpc3QubGVuZ3RoKSB7CiAgICAgICAgICBmdW5jdGlvbnMuY3JlYXRlTGlzdCh0aGlzLmN1cnJlbnQsIHRoaXMuY3VycmVudC5yZXBseUxpc3QpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmN1cnJlbnQucmVwbHlDb3VudCA9IDA7CiAgICAgICAgICB0aGlzLmN1cnJlbnQubmVzdGVkUmVwbGllcyA9IFtdOwogICAgICAgICAgdGhpcy5jdXJyZW50Lm5lc3RlZFJlZHVuZFJlcGxpZXMgPSBbXTsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGgpIHsKICAgICAgICAgIGxldCBySW5kZXggPSB0aGlzLmxpc3QuZmluZEluZGV4KChpKSA9PiBpLmlkID09PSB0aGlzLmN1cnJlbnQuaWQpOwogICAgICAgICAgaWYgKHJJbmRleCA+IC0xKSB7CiAgICAgICAgICAgIHRoaXMubGlzdFtySW5kZXhdID0gZnVuY3Rpb25zLmNsb25lKHRoaXMuY3VycmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBpbml0RXZlbnQoKSB7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELkNIQU5HRV9DT01NRU5UX1RIQU5LLCAodmFsKSA9PiB7CiAgICAgICAgICBjb25zdCB7IGlkLCB0eXBlIH0gPSB2YWw7CiAgICAgICAgICBsZXQgY3VycmVudEkgPSB0aGlzLmN1cnJlbnQucmVwbHlMaXN0LmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gaWQpOwogICAgICAgICAgaWYgKGN1cnJlbnRJID4gLTEpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50LnJlcGx5TGlzdFtjdXJyZW50SV0uaXNUaGFua2VkID0gdHlwZSA9PT0gImFkZCI7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAiYWRkIikgewogICAgICAgICAgICAgIHRoaXMuY3VycmVudC5yZXBseUxpc3RbY3VycmVudEldLnRoYW5rQ291bnQrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQucmVwbHlMaXN0W2N1cnJlbnRJXS50aGFua0NvdW50LS07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5yZWdlbmVyYXRlUmVwbHlMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELkNIQU5HRV9QT1NUX1RIQU5LLCAodmFsKSA9PiB7CiAgICAgICAgICBjb25zdCB7IGlkLCB0eXBlIH0gPSB2YWw7CiAgICAgICAgICB0aGlzLmN1cnJlbnQuaXNUaGFua2VkID0gdHlwZSA9PT0gImFkZCI7CiAgICAgICAgICBpZiAodHlwZSA9PT0gImFkZCIpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50LnRoYW5rQ291bnQrKzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudC50aGFua0NvdW50LS07CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgY3VycmVudEkgPSB0aGlzLmxpc3QuZmluZEluZGV4KChpKSA9PiBpLmlkID09PSBpZCk7CiAgICAgICAgICBpZiAoY3VycmVudEkgPiAtMSkgewogICAgICAgICAgICB0aGlzLmxpc3RbY3VycmVudEldLmlzVGhhbmtlZCA9IHR5cGUgPT09ICJhZGQiOwogICAgICAgICAgICBpZiAodHlwZSA9PT0gImFkZCIpIHsKICAgICAgICAgICAgICB0aGlzLmxpc3RbY3VycmVudEldLnRoYW5rQ291bnQrKzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmxpc3RbY3VycmVudEldLnRoYW5rQ291bnQrKzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGV2ZW50QnVzLm9uKENNRC5SRU1PVkUsICh2YWwpID0+IHsKICAgICAgICAgIGxldCByZW1vdmVJbmRleCA9IHRoaXMuY3VycmVudC5yZXBseUxpc3QuZmluZEluZGV4KChpKSA9PiBpLmZsb29yID09PSB2YWwpOwogICAgICAgICAgaWYgKHJlbW92ZUluZGV4ID4gLTEpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50LnJlcGx5TGlzdC5zcGxpY2UocmVtb3ZlSW5kZXgsIDEpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5yZWdlbmVyYXRlUmVwbHlMaXN0KCk7CiAgICAgICAgfSk7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELklHTk9SRSwgKCkgPT4gewogICAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgICAgICBsZXQgckluZGV4ID0gdGhpcy5saXN0LmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gdGhpcy5jdXJyZW50LmlkKTsKICAgICAgICAgIGlmIChySW5kZXggPiAtMSkgewogICAgICAgICAgICB0aGlzLmxpc3Quc3BsaWNlKHJJbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBnZXREZWZhdWx0UG9zdCgpOwogICAgICAgIH0pOwogICAgICAgIGV2ZW50QnVzLm9uKENNRC5NRVJHRSwgKHZhbCkgPT4gewogICAgICAgICAgdGhpcy5jdXJyZW50ID0gT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnQsIHZhbCk7CiAgICAgICAgICBsZXQgckluZGV4ID0gdGhpcy5saXN0LmZpbmRJbmRleCgoaSkgPT4gaS5pZCA9PT0gdGhpcy5jdXJyZW50LmlkKTsKICAgICAgICAgIGlmIChySW5kZXggPiAtMSkgewogICAgICAgICAgICB0aGlzLmxpc3RbckluZGV4XSA9IGZ1bmN0aW9ucy5jbG9uZSh0aGlzLmN1cnJlbnQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGV2ZW50QnVzLm9uKENNRC5BRERfUkVQTFksIChpdGVtKSA9PiB7CiAgICAgICAgICB0aGlzLmN1cnJlbnQucmVwbHlMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICB0aGlzLnJlZ2VuZXJhdGVSZXBseUxpc3QoKTsKICAgICAgICB9KTsKICAgICAgICBldmVudEJ1cy5vbihDTUQuUkVGUkVTSF9PTkNFLCBhc3luYyAob25jZSkgPT4gewogICAgICAgICAgaWYgKG9uY2UpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBvbmNlID09PSAic3RyaW5nIikgewogICAgICAgICAgICAgIGxldCByZXMgPSBvbmNlLm1hdGNoKC92YXIgb25jZSA9ICIoW1xkXSspIjsvKTsKICAgICAgICAgICAgICBpZiAocmVzICYmIHJlc1sxXSkgewogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Lm9uY2UgPSBOdW1iZXIocmVzWzFdKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGVvZiBvbmNlID09PSAibnVtYmVyIikgewogICAgICAgICAgICAgIHRoaXMuY3VycmVudC5vbmNlID0gb25jZTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHdpbmRvdy5mZXRjaE9uY2UoKS50aGVuKChyMikgPT4gewogICAgICAgICAgICB0aGlzLmN1cnJlbnQub25jZSA9IHIyOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELlJFTU9WRV9UQUcsIGFzeW5jICh7IHVzZXJuYW1lLCB0YWcgfSkgPT4gewogICAgICAgICAgbGV0IG9sZFRhZyA9IGZ1bmN0aW9ucy5jbG9uZSh0aGlzLnRhZ3MpOwogICAgICAgICAgbGV0IHRhZ3MgPSB0aGlzLnRhZ3NbdXNlcm5hbWVdID8/IFtdOwogICAgICAgICAgbGV0IHJJbmRleCA9IHRhZ3MuZmluZEluZGV4KCh2KSA9PiB2ID09PSB0YWcpOwogICAgICAgICAgaWYgKHJJbmRleCA+IC0xKSB7CiAgICAgICAgICAgIHRhZ3Muc3BsaWNlKHJJbmRleCwgMSk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnRhZ3NbdXNlcm5hbWVdID0gdGFnczsKICAgICAgICAgIGxldCByZXMgPSBhd2FpdCB3aW5kb3cucGFyc2Uuc2F2ZVRhZ3ModGhpcy50YWdzKTsKICAgICAgICAgIGlmICghcmVzKSB7CiAgICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLmoIfnrb7liKDpmaTlpLHotKXvvIEiIH0pOwogICAgICAgICAgICB0aGlzLnRhZ3MgPSBvbGRUYWc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgZXZlbnRCdXMub24oQ01ELlNIT1dfQ09ORklSTV9NT0RBTCwgKHZhbCkgPT4gewogICAgICAgICAgY29uc3QgeyByZWN0LCB0aXRsZSwgaWQgfSA9IHZhbDsKICAgICAgICAgIHRoaXMucG9wQ29uZmlybU1vZGFsLnNob3cgPSB0cnVlOwogICAgICAgICAgdGhpcy5wb3BDb25maXJtTW9kYWwudGl0bGUgPSB0aXRsZTsKICAgICAgICAgIHRoaXMucG9wQ29uZmlybU1vZGFsLmlkID0gaWQ7CiAgICAgICAgICB2dWUubmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICB0aGlzLiRyZWZzLnRpcC5zdHlsZS50b3AgPSByZWN0LnRvcCArICJweCI7CiAgICAgICAgICAgIHRoaXMuJHJlZnMudGlwLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIDUwICsgInB4IjsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBhc3luYyBnZXRQb3N0RGV0YWlsKHBvc3QpIHsKICAgICAgICB0aGlzLmN1cnJlbnQgPSBwb3N0OwogICAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgICAgbGV0IHVybCA9IGxvY2F0aW9uLm9yaWdpbiArICIvdC8iICsgdGhpcy5jdXJyZW50LmlkOwogICAgICAgIHRoaXMuY3VycmVudC51cmwgPSB1cmw7CiAgICAgICAgbGV0IGFscmVhZHlIYXNSZXBseSA9IHRoaXMuY3VycmVudC5yZXBseUxpc3QubGVuZ3RoOwogICAgICAgIGlmIChhbHJlYWR5SGFzUmVwbHkpIHsKICAgICAgICAgIHRoaXMucmVmcmVzaExvYWRpbmcgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgZnVuY3Rpb25zLmdldFBvc3REZXRhaWxCeUFwaSh0aGlzLmN1cnJlbnQuaWQpLnRoZW4oKGQyKSA9PiB7CiAgICAgICAgICAgIGQyLnJlcGx5Q291bnQgPSBkMi5yZXBsaWVzOwogICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudCwgZDIpOwogICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50LnJlcGx5Q291bnQgPiB3aW5kb3cuY29uZmlnLm1heFJlcGx5Q291bnRMaW1pdCkgewogICAgICAgICAgICAgIGZ1bmN0aW9ucy5vcGVuTmV3VGFiKGAke2xvY2F0aW9uLm9yaWdpbn0vdC8ke3RoaXMuY3VycmVudC5pZH0/cD0xJnNjcmlwdD0xYCwgdHJ1ZSk7CiAgICAgICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogIndhcm5pbmciLCB0ZXh0OiAi55Sx5LqO5Zue5aSN5pWw6YeP6L6D5aSa77yM5bey5Li65oKo5Y2V54us5omT5byA5q2k5Li76aKYIiB9KTsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Lmpzb25Db250ZW50ID0gYAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjZWxsIj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJ0b3BpY19jb250ZW50Ij4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1hcmtkb3duX2JvZHkiPgogICAgICAgICAgICAgICAgICR7KGQyID09IG51bGwgPyB2b2lkIDAgOiBkMi5jb250ZW50X3JlbmRlcmVkKSA/PyAiIn0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj5gOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgbGV0IGFwaVJlcyA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwgKyAiP3A9MSIpOwogICAgICAgIGlmIChhcGlSZXMuc3RhdHVzID09PSA0MDQpIHsKICAgICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELlNIT1dfTVNHLCB7IHR5cGU6ICJlcnJvciIsIHRleHQ6ICLkuLvpopjmnKrmib7liLAiIH0pOwogICAgICAgICAgcmV0dXJuIHRoaXMucmVmcmVzaExvYWRpbmcgPSB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaWYgKGFwaVJlcy5zdGF0dXMgPT09IDQwMykgewogICAgICAgICAgdGhpcy5yZWZyZXNoTG9hZGluZyA9IHRoaXMuc2hvdyA9IHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgZnVuY3Rpb25zLm9wZW5OZXdUYWIoYCR7bG9jYXRpb24ub3JpZ2lufS90LyR7cG9zdC5pZH0/cD0xJnNjcmlwdD0wYCwgdHJ1ZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChhcGlSZXMucmVkaXJlY3RlZCkgewogICAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuU0hPV19NU0csIHsgdHlwZTogImVycm9yIiwgdGV4dDogIuayoeacieadg+mZkCIgfSk7CiAgICAgICAgICByZXR1cm4gdGhpcy5yZWZyZXNoTG9hZGluZyA9IHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBsZXQgaHRtbFRleHQgPSBhd2FpdCBhcGlSZXMudGV4dCgpOwogICAgICAgIGxldCBoYXNQZXJtaXNzaW9uID0gaHRtbFRleHQuc2VhcmNoKCLkvaDopoHmn6XnnIvnmoTpobXpnaLpnIDopoHlhYjnmbvlvZUiKTsKICAgICAgICBpZiAoaGFzUGVybWlzc2lvbiA+IC0xKSB7CiAgICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX01TRywgeyB0eXBlOiAiZXJyb3IiLCB0ZXh0OiAi5L2g6KaB5p+l55yL55qE6aG16Z2i6ZyA6KaB5YWI55m75b2VIiB9KTsKICAgICAgICAgIHJldHVybiB0aGlzLnJlZnJlc2hMb2FkaW5nID0gdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGxldCBib2R5VGV4dCA9IGh0bWxUZXh0Lm1hdGNoKC88Ym9keVtePl0qPihbXHNcU10rPyk8XC9ib2R5Pi9nKTsKICAgICAgICBsZXQgYm9keSA9ICQoYm9keVRleHRbMF0pOwogICAgICAgIGRlY29kZUVtYWlsKGJvZHkpOwogICAgICAgIGF3YWl0IHdpbmRvdy5wYXJzZS5nZXRQb3N0RGV0YWlsKHRoaXMuY3VycmVudCwgYm9keSwgaHRtbFRleHQpOwogICAgICAgIGxldCBpbmRleCA9IHRoaXMubGlzdC5maW5kSW5kZXgoKHYpID0+IHYuaWQgPT0gdGhpcy5jdXJyZW50LmlkKTsKICAgICAgICBpZiAoaW5kZXggPiAtMSkgewogICAgICAgICAgdGhpcy5saXN0W2luZGV4XSA9IGZ1bmN0aW9ucy5jbG9uZSh0aGlzLmN1cnJlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmxpc3QucHVzaChmdW5jdGlvbnMuY2xvbmUodGhpcy5jdXJyZW50KSk7CiAgICAgICAgfQogICAgICAgIHRoaXMucmVmcmVzaExvYWRpbmcgPSB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBhd2FpdCB3aW5kb3cucGFyc2UucGFyc2VPcCh0aGlzLmN1cnJlbnQpOwogICAgICAgIGNvbnNvbGUubG9nKCLlvZPliY3kuLvpopgiLCB0aGlzLmN1cnJlbnQpOwogICAgICB9LAogICAgICBhZGRUYXJnZXRVc2VyVGFnKCkgewogICAgICAgIGV2ZW50QnVzLmVtaXQoQ01ELkFERF9UQUcsIHdpbmRvdy50YXJnZXRVc2VyTmFtZSk7CiAgICAgIH0sCiAgICAgIHJlbW92ZVRhcmdldFVzZXJUYWcodGFnKSB7CiAgICAgICAgZXZlbnRCdXMuZW1pdChDTUQuUkVNT1ZFX1RBRywgeyB1c2VybmFtZTogd2luZG93LnRhcmdldFVzZXJOYW1lLCB0YWcgfSk7CiAgICAgIH0sCiAgICAgIHBvcENvbmZpcm1Nb2RhbENhbmNlbCgpIHsKICAgICAgICB0aGlzLnBvcENvbmZpcm1Nb2RhbC5zaG93ID0gZmFsc2U7CiAgICAgIH0sCiAgICAgIHBvcENvbmZpcm1Nb2RhbENvbmZpcm0oKSB7CiAgICAgICAgdGhpcy5wb3BDb25maXJtTW9kYWxDYW5jZWwoKTsKICAgICAgICBldmVudEJ1cy5lbWl0KENNRC5TSE9XX0NPTkZJUk1fTU9EQUxfQ09ORklSTSwgdGhpcy5wb3BDb25maXJtTW9kYWwuaWQpOwogICAgICB9CiAgICB9CiAgfTsKICBjb25zdCBfd2l0aFNjb3BlSWQgPSAobjIpID0+ICh2dWUucHVzaFNjb3BlSWQoImRhdGEtdi1hNzNmNTY0YyIpLCBuMiA9IG4yKCksIHZ1ZS5wb3BTY29wZUlkKCksIG4yKTsKICBjb25zdCBfaG9pc3RlZF8xID0gewogICAga2V5OiAwLAogICAgY2xhc3M6ICIiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8yID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogInNlcCIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8zID0geyBjbGFzczogImJveCBjYWxlbmRlciIgfTsKICBjb25zdCBfaG9pc3RlZF80ID0geyBjbGFzczogIm1vbnRoIiB9OwogIGNvbnN0IF9ob2lzdGVkXzUgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7IGNsYXNzOiAiZmFkZSIgfSwgIuWOhuWPsuacgOeDrSIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfNiA9IHsgY2xhc3M6ICJjYS10aXRsZSIgfTsKICBjb25zdCBfaG9pc3RlZF83ID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogImNhbGVuZGVyLWhlYWRlciIgfSwgWwogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICLml6UiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCAi5LiAIiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIuS6jCIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICLkuIkiKSwKICAgIC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBudWxsLCAi5ZubIiksCiAgICAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgIuS6lCIpLAogICAgLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsICLlha0iKQogIF0sIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfOCA9IHsgY2xhc3M6ICJkYXlzIiB9OwogIGNvbnN0IF9ob2lzdGVkXzkgPSBbIm9uQ2xpY2siXTsKICBjb25zdCBfaG9pc3RlZF8xMCA9IFsiaHJlZiJdOwogIGNvbnN0IF9ob2lzdGVkXzExID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgeyBjbGFzczogInNlcCIgfSwgbnVsbCwgLTEpKTsKICBjb25zdCBfaG9pc3RlZF8xMiA9IHsKICAgIGtleTogMCwKICAgIGNsYXNzOiAidGFyZ2V0LXVzZXItdGFncyBwMSIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzEzID0gLyogQF9fUFVSRV9fICovIF93aXRoU2NvcGVJZCgoKSA9PiAvKiBAX19QVVJFX18gKi8gdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsICLmoIfnrb7vvJoiLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE0ID0geyBjbGFzczogIm15LXRhZyIgfTsKICBjb25zdCBfaG9pc3RlZF8xNSA9IC8qIEBfX1BVUkVfXyAqLyBfd2l0aFNjb3BlSWQoKCkgPT4gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7IGNsYXNzOiAiZmEgZmEtdGFnIiB9LCBudWxsLCAtMSkpOwogIGNvbnN0IF9ob2lzdGVkXzE2ID0gWyJvbkNsaWNrIl07CiAgY29uc3QgX2hvaXN0ZWRfMTcgPSB7CiAgICBrZXk6IDEsCiAgICBjbGFzczogIm15LWJveCBwMiIsCiAgICBzdHlsZTogeyAibWFyZ2luLXRvcCI6ICIycmVtIiwgIm1hcmdpbi1ib3R0b20iOiAiMCIgfQogIH07CiAgY29uc3QgX2hvaXN0ZWRfMTggPSB7CiAgICBrZXk6IDAsCiAgICBjbGFzczogImZsZXggZmxleC1jZW50ZXIiCiAgfTsKICBjb25zdCBfaG9pc3RlZF8xOSA9IHsKICAgIGtleTogMSwKICAgIGNsYXNzOiAibG9hZGVkIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMjAgPSAvKiBAX19QVVJFX18gKi8gX3dpdGhTY29wZUlkKCgpID0+IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgbnVsbCwgIualvOS4realvOino+aekOWujOaIkCIsIC0xKSk7CiAgY29uc3QgX2hvaXN0ZWRfMjEgPSB7CiAgICBrZXk6IDAsCiAgICByZWY6ICJ0aXAiLAogICAgY2xhc3M6ICJwb3AtY29uZmlybS1jb250ZW50IgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMjIgPSB7IGNsYXNzOiAidGV4dCIgfTsKICBjb25zdCBfaG9pc3RlZF8yMyA9IHsgY2xhc3M6ICJvcHRpb25zIiB9OwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogICAgY29uc3QgX2NvbXBvbmVudF9TZXR0aW5nID0gdnVlLnJlc29sdmVDb21wb25lbnQoIlNldHRpbmciKTsKICAgIGNvbnN0IF9jb21wb25lbnRfVGFnTW9kYWwgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiVGFnTW9kYWwiKTsKICAgIGNvbnN0IF9jb21wb25lbnRfUG9zdERldGFpbCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJQb3N0RGV0YWlsIik7CiAgICBjb25zdCBfY29tcG9uZW50X0Jhc2U2NFRvb2x0aXAgPSB2dWUucmVzb2x2ZUNvbXBvbmVudCgiQmFzZTY0VG9vbHRpcCIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Nc2dNb2RhbCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJNc2dNb2RhbCIpOwogICAgY29uc3QgX2NvbXBvbmVudF9Ob3RpZmljYXRpb25Nb2RhbCA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJOb3RpZmljYXRpb25Nb2RhbCIpOwogICAgY29uc3QgX2NvbXBvbmVudF9CYXNlTG9hZGluZyA9IHZ1ZS5yZXNvbHZlQ29tcG9uZW50KCJCYXNlTG9hZGluZyIpOwogICAgY29uc3QgX2NvbXBvbmVudF9CYXNlQnV0dG9uID0gdnVlLnJlc29sdmVDb21wb25lbnQoIkJhc2VCdXR0b24iKTsKICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCBbCiAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X1NldHRpbmcsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5jb25maWcsCiAgICAgICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICgkZXZlbnQpID0+ICRkYXRhLmNvbmZpZyA9ICRldmVudCksCiAgICAgICAgc2hvdzogJGRhdGEuY29uZmlnTW9kYWwuc2hvdywKICAgICAgICAib25VcGRhdGU6c2hvdyI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudCkgPT4gJGRhdGEuY29uZmlnTW9kYWwuc2hvdyA9ICRldmVudCkKICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgInNob3ciXSksCiAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X1RhZ01vZGFsLCB7CiAgICAgICAgdGFnczogJGRhdGEudGFncywKICAgICAgICAib25VcGRhdGU6dGFncyI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gKCRldmVudCkgPT4gJGRhdGEudGFncyA9ICRldmVudCkKICAgICAgfSwgbnVsbCwgOCwgWyJ0YWdzIl0pLAogICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Qb3N0RGV0YWlsLCB7CiAgICAgICAgbW9kZWxWYWx1ZTogJGRhdGEuc2hvdywKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gKCRldmVudCkgPT4gJGRhdGEuc2hvdyA9ICRldmVudCksCiAgICAgICAgcmVmOiAicG9zdERldGFpbCIsCiAgICAgICAgZGlzcGxheVR5cGU6ICRkYXRhLmNvbmZpZy5jb21tZW50RGlzcGxheVR5cGUsCiAgICAgICAgIm9uVXBkYXRlOmRpc3BsYXlUeXBlIjogX2NhY2hlWzRdIHx8IChfY2FjaGVbNF0gPSAoJGV2ZW50KSA9PiAkZGF0YS5jb25maWcuY29tbWVudERpc3BsYXlUeXBlID0gJGV2ZW50KSwKICAgICAgICBvblJlZnJlc2g6IF9jYWNoZVs1XSB8fCAoX2NhY2hlWzVdID0gKCRldmVudCkgPT4gJG9wdGlvbnMuZ2V0UG9zdERldGFpbCgkZGF0YS5jdXJyZW50KSksCiAgICAgICAgbG9hZGluZzogJGRhdGEubG9hZGluZywKICAgICAgICByZWZyZXNoTG9hZGluZzogJGRhdGEucmVmcmVzaExvYWRpbmcKICAgICAgfSwgbnVsbCwgOCwgWyJtb2RlbFZhbHVlIiwgImRpc3BsYXlUeXBlIiwgImxvYWRpbmciLCAicmVmcmVzaExvYWRpbmciXSksCiAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2U2NFRvb2x0aXApLAogICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Nc2dNb2RhbCksCiAgICAgICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVCbG9jayh2dWUuVGVsZXBvcnQsIHsgdG86ICIjUmlnaHRiYXIgPiAuc2VwMjAiIH0sIFsKICAgICAgICAkZGF0YS5jYWxlbmRhci5zaG93ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMSwgWwogICAgICAgICAgX2hvaXN0ZWRfMiwKICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFsKICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgWwogICAgICAgICAgICAgIF9ob2lzdGVkXzUsCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiaSIsIHsKICAgICAgICAgICAgICAgICAgY2xhc3M6ICJmYSBmYS1hcnJvdy1sZWZ0IiwKICAgICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzZdIHx8IChfY2FjaGVbNl0gPSAoJGV2ZW50KSA9PiAkb3B0aW9ucy5nZXRNb250aERheUluZm8oLTEpKSwKICAgICAgICAgICAgICAgICAgImFyaWEtaGlkZGVuIjogInRydWUiCiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBudWxsLCB2dWUudG9EaXNwbGF5U3RyaW5nKCRkYXRhLmNhbGVuZGFyLnllYXIpICsgIuW5tCIgKyB2dWUudG9EaXNwbGF5U3RyaW5nKCRkYXRhLmNhbGVuZGFyLm1vbnRoICsgMSkgKyAi5pyIIiwgMSksCiAgICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJpIiwgewogICAgICAgICAgICAgICAgICBjbGFzczogImZhIGZhLWFycm93LXJpZ2h0IiwKICAgICAgICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzddIHx8IChfY2FjaGVbN10gPSAoJGV2ZW50KSA9PiAkb3B0aW9ucy5nZXRNb250aERheUluZm8oMSkpLAogICAgICAgICAgICAgICAgICAiYXJpYS1oaWRkZW4iOiAidHJ1ZSIKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIF9ob2lzdGVkXzcsCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzgsIFsKICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KCRkYXRhLmNhbGVuZGFyLmRheUNvdW50ICsgJGRhdGEuY2FsZW5kYXIuZmlyc3REYXlXZWVrLCAoaSkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICAgICAgICAgICAgICBjbGFzczogdnVlLm5vcm1hbGl6ZUNsYXNzKFsKICAgICAgICAgICAgICAgICAgICAiZGF5IiwKICAgICAgICAgICAgICAgICAgICAkZGF0YS5jYWxlbmRhci5zZWxlY3QgPT09IGAkeyRkYXRhLmNhbGVuZGFyLnllYXJ9LSR7JGRhdGEuY2FsZW5kYXIubW9udGggKyAxfS0ke2kgLSAkZGF0YS5jYWxlbmRhci5maXJzdERheVdlZWt9YCA/ICJhY3RpdmUiIDogIiIKICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgkZXZlbnQpID0+ICRkYXRhLmNhbGVuZGFyLnNlbGVjdCA9IGAkeyRkYXRhLmNhbGVuZGFyLnllYXJ9LSR7JGRhdGEuY2FsZW5kYXIubW9udGggKyAxfS0ke2kgLSAkZGF0YS5jYWxlbmRhci5maXJzdERheVdlZWt9YAogICAgICAgICAgICAgICAgfSwgWwogICAgICAgICAgICAgICAgICBpIC0gJGRhdGEuY2FsZW5kYXIuZmlyc3REYXlXZWVrID4gMCA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImEiLCB7CiAgICAgICAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgICAgICAgIGhyZWY6IGAvdjJob3Q/JHskZGF0YS5jYWxlbmRhci55ZWFyfS0keyRkYXRhLmNhbGVuZGFyLm1vbnRoICsgMX0tJHtpIC0gJGRhdGEuY2FsZW5kYXIuZmlyc3REYXlXZWVrfWAKICAgICAgICAgICAgICAgICAgfSwgdnVlLnRvRGlzcGxheVN0cmluZyhpIC0gJGRhdGEuY2FsZW5kYXIuZmlyc3REYXlXZWVrID4gMCA/IGkgLSAkZGF0YS5jYWxlbmRhci5maXJzdERheVdlZWsgOiAiIiksIDksIF9ob2lzdGVkXzEwKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgICAgICAgXSwgMTAsIF9ob2lzdGVkXzkpOwogICAgICAgICAgICAgIH0pLCAyNTYpKQogICAgICAgICAgICBdKQogICAgICAgICAgXSksCiAgICAgICAgICBfaG9pc3RlZF8xMQogICAgICAgIF0pKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpCiAgICAgIF0pKSwKICAgICAgdnVlLmNyZWF0ZVZOb2RlKF9jb21wb25lbnRfTm90aWZpY2F0aW9uTW9kYWwsIHsKICAgICAgICBtb2RlbFZhbHVlOiAkZGF0YS5ub3RpZmljYXRpb25Nb2RhbC5zaG93LAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzhdIHx8IChfY2FjaGVbOF0gPSAoJGV2ZW50KSA9PiAkZGF0YS5ub3RpZmljYXRpb25Nb2RhbC5zaG93ID0gJGV2ZW50KSwKICAgICAgICBsaXN0OiAkZGF0YS5ub3RpZmljYXRpb25Nb2RhbC5saXN0LAogICAgICAgIGxvYWRpbmc6ICRkYXRhLm5vdGlmaWNhdGlvbk1vZGFsLmxvYWRpbmcsCiAgICAgICAgdG90YWw6ICRkYXRhLm5vdGlmaWNhdGlvbk1vZGFsLnRvdGFsLAogICAgICAgIHBhZ2VzOiAkZGF0YS5ub3RpZmljYXRpb25Nb2RhbC5wYWdlcwogICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiLCAibGlzdCIsICJsb2FkaW5nIiwgInRvdGFsIiwgInBhZ2VzIl0pLAogICAgICAhJGRhdGEuc3RvcE1lID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIHsga2V5OiAwIH0sIFsKICAgICAgICAkb3B0aW9ucy5pc01lbWJlciAmJiAkZGF0YS5pc0xvZ2luICYmICRkYXRhLmNvbmZpZy5vcGVuVGFnID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTIsIFsKICAgICAgICAgIF9ob2lzdGVkXzEzLAogICAgICAgICAgKHZ1ZS5vcGVuQmxvY2sodHJ1ZSksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCB2dWUucmVuZGVyTGlzdCgkb3B0aW9ucy50YXJnZXRVc2VyVGFncywgKGkpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygic3BhbiIsIF9ob2lzdGVkXzE0LCBbCiAgICAgICAgICAgICAgX2hvaXN0ZWRfMTUsCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIG51bGwsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoaSksIDEpLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImkiLCB7CiAgICAgICAgICAgICAgICBjbGFzczogImZhIGZhLXRyYXNoLW8gcmVtb3ZlIiwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgkZXZlbnQpID0+ICRvcHRpb25zLnJlbW92ZVRhcmdldFVzZXJUYWcoaSkKICAgICAgICAgICAgICB9LCBudWxsLCA4LCBfaG9pc3RlZF8xNikKICAgICAgICAgICAgXSk7CiAgICAgICAgICB9KSwgMjU2KSksCiAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgICBjbGFzczogImFkZC10YWcgYWdvIiwKICAgICAgICAgICAgb25DbGljazogX2NhY2hlWzldIHx8IChfY2FjaGVbOV0gPSAoLi4uYXJncykgPT4gJG9wdGlvbnMuYWRkVGFyZ2V0VXNlclRhZyAmJiAkb3B0aW9ucy5hZGRUYXJnZXRVc2VyVGFnKC4uLmFyZ3MpKSwKICAgICAgICAgICAgdGl0bGU6ICLmt7vliqDmoIfnrb4iCiAgICAgICAgICB9LCAiKyIpCiAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksCiAgICAgICAgJG9wdGlvbnMuaXNQb3N0ICYmICEkZGF0YS5zaG93ID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMTcsIFsKICAgICAgICAgICRkYXRhLmxvYWRpbmcgPyAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xOCwgWwogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlTG9hZGluZykKICAgICAgICAgIF0pKSA6ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzE5LCBbCiAgICAgICAgICAgIF9ob2lzdGVkXzIwLAogICAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9CYXNlQnV0dG9uLCB7CiAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgICBvbkNsaWNrOiAkb3B0aW9ucy5zaG93UG9zdAogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi54K55Ye75pi+56S6IikKICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgIH0sIDgsIFsib25DbGljayJdKQogICAgICAgICAgXSkpCiAgICAgICAgXSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgXSwgNjQpKSA6IHZ1ZS5jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpLAogICAgICAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2sodnVlLlRlbGVwb3J0LCB7IHRvOiAiYm9keSIgfSwgWwogICAgICAgIHZ1ZS5jcmVhdGVWTm9kZSh2dWUuVHJhbnNpdGlvbiwgbnVsbCwgewogICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAkZGF0YS5wb3BDb25maXJtTW9kYWwuc2hvdyA/ICh2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzIxLCBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjIsIHZ1ZS50b0Rpc3BsYXlTdHJpbmcoJGRhdGEucG9wQ29uZmlybU1vZGFsLnRpdGxlKSwgMSksCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMjMsIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VCdXR0b24sIHsKICAgICAgICAgICAgICAgICAgdHlwZTogImxpbmsiLAogICAgICAgICAgICAgICAgICBzaXplOiAic21hbGwiLAogICAgICAgICAgICAgICAgICBvbkNsaWNrOiB2dWUud2l0aE1vZGlmaWVycygkb3B0aW9ucy5wb3BDb25maXJtTW9kYWxDYW5jZWwsIFsic3RvcCJdKQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSgi5Y+W5raIIikKICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgIH0sIDgsIFsib25DbGljayJdKSwKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZShfY29tcG9uZW50X0Jhc2VCdXR0b24sIHsKICAgICAgICAgICAgICAgICAgc2l6ZTogInNtYWxsIiwKICAgICAgICAgICAgICAgICAgb25DbGljazogdnVlLndpdGhNb2RpZmllcnMoJG9wdGlvbnMucG9wQ29uZmlybU1vZGFsQ29uZmlybSwgWyJzdG9wIl0pCiAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCLnoa7orqQiKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgfSwgOCwgWyJvbkNsaWNrIl0pCiAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgXSwgNTEyKSkgOiB2dWUuY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKQogICAgICAgICAgXSksCiAgICAgICAgICBfOiAxCiAgICAgICAgfSkKICAgICAgXSkpCiAgICBdLCA2NCk7CiAgfQogIGNvbnN0IEFwcCA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4sIFtbInJlbmRlciIsIF9zZmNfcmVuZGVyXSwgWyJfX3Njb3BlSWQiLCAiZGF0YS12LWE3M2Y1NjRjIl1dKTsKICBsZXQgaXNNb2JpbGUgPSAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI1JpZ2h0YmFyIik7CiAgbGV0ICRzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VjdGlvbiIpOwogICRzZWN0aW9uLmlkID0gImFwcCI7CiAgZnVuY3Rpb24gcnVuKCkgewogICAgd2luZG93LnVzZXIgPSBEZWZhdWx0VXNlcjsKICAgIHdpbmRvdy50YXJnZXRVc2VyTmFtZSA9ICIiOwogICAgd2luZG93LnBhZ2VUeXBlID0gdm9pZCAwOwogICAgd2luZG93LnBhZ2VEYXRhID0geyBwYWdlTm86IDEgfTsKICAgIHdpbmRvdy5jb25maWcgPSBnZXREZWZhdWx0Q29uZmlnKCk7CiAgICB3aW5kb3cuaXNOaWdodCA9ICQoIi5OaWdodCIpLmxlbmd0aCA9PT0gMTsKICAgIHdpbmRvdy5jYiA9IG51bGw7CiAgICB3aW5kb3cuc3RvcE1lID0gZmFsc2U7CiAgICB3aW5kb3cuaXNMb2dpbiA9IGZhbHNlOwogICAgd2luZG93LnBvc3RMaXN0ID0gW107CiAgICB3aW5kb3cuaXNEZWFkbGluZSA9IGRheWpzKCkuaXNBZnRlcihkYXlqcygiMjAyNC0xMS0yNiIpKTsKICAgIHdpbmRvdy5wYXJzZSA9IHsKICAgICAgLy/op6PmnpDkuLvpopjlhoXlrrkKICAgICAgYXN5bmMgcGFyc2VQb3N0Q29udGVudChwb3N0LCBib2R5LCBodG1sVGV4dCkgewogICAgICAgIGxldCBvbmNlID0gaHRtbFRleHQubWF0Y2goL3ZhciBvbmNlID0gIihbXGRdKykiOy8pOwogICAgICAgIGlmIChvbmNlICYmIG9uY2VbMV0pIHsKICAgICAgICAgIHBvc3Qub25jZSA9IG9uY2VbMV07CiAgICAgICAgfQogICAgICAgIHBvc3QuaXNSZXBvcnQgPSBodG1sVGV4dC5pbmNsdWRlcygi5L2g5bey5a+55pys5Li76aKY6L+b6KGM5LqG5oql5ZGKIik7CiAgICAgICAgbGV0IHdyYXBwZXIgPSBib2R5LmZpbmQoIiNNYWluIik7CiAgICAgICAgaWYgKCFwb3N0LnRpdGxlIHx8ICFwb3N0LmNvbnRlbnRfcmVuZGVyZWQpIHsKICAgICAgICAgIGxldCBoMSA9IHdyYXBwZXIuZmluZCgiaDEiKTsKICAgICAgICAgIGlmIChoMSkgewogICAgICAgICAgICBwb3N0LnRpdGxlID0gaDFbMF0uaW5uZXJUZXh0OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgYXMgPSB3cmFwcGVyLmZpbmQoIi5oZWFkZXIgPiBhIik7CiAgICAgICAgaWYgKGFzLmxlbmd0aCkgewogICAgICAgICAgcG9zdC5ub2RlLnRpdGxlID0gYXNbMV0uaW5uZXJUZXh0OwogICAgICAgICAgcG9zdC5ub2RlLnVybCA9IGFzWzFdLmhyZWY7CiAgICAgICAgfQogICAgICAgIGxldCBhTmFtZSA9IHdyYXBwZXIuZmluZCgiLmhlYWRlciBzbWFsbC5ncmF5IGE6bnRoLWNoaWxkKDEpIik7CiAgICAgICAgaWYgKGFOYW1lLmxlbmd0aCkgewogICAgICAgICAgcG9zdC5tZW1iZXIudXNlcm5hbWUgPSBhTmFtZVswXS5pbm5lclRleHQ7CiAgICAgICAgfQogICAgICAgIGxldCBzcGFuRWwgPSB3cmFwcGVyLmZpbmQoIi5oZWFkZXIgc21hbGwuZ3JheSBzcGFuIik7CiAgICAgICAgaWYgKHNwYW5FbC5sZW5ndGgpIHsKICAgICAgICAgIHBvc3QuY3JlYXRlRGF0ZUFnbyA9IHNwYW5FbFswXS5pbm5lclRleHQ7CiAgICAgICAgICBwb3N0LmNyZWF0ZURhdGUgPSBzcGFuRWxbMF0udGl0bGU7CiAgICAgICAgfQogICAgICAgIGxldCBhdmF0YXJFbCA9IHdyYXBwZXIuZmluZCgiLmhlYWRlciAuYXZhdGFyIik7CiAgICAgICAgaWYgKGF2YXRhckVsLmxlbmd0aCkgewogICAgICAgICAgcG9zdC5tZW1iZXIuYXZhdGFyX2xhcmdlID0gYXZhdGFyRWxbMF0uc3JjOwogICAgICAgIH0KICAgICAgICBsZXQgdG9waWNfYnV0dG9ucyA9IGJvZHkuZmluZCgiLnRvcGljX2J1dHRvbnMiKTsKICAgICAgICBpZiAodG9waWNfYnV0dG9ucy5sZW5ndGgpIHsKICAgICAgICAgIGxldCBmYXZvcml0ZU5vZGUgPSB0b3BpY19idXR0b25zLmZpbmQoIi50YjpmaXJzdCIpOwogICAgICAgICAgaWYgKGZhdm9yaXRlTm9kZS5sZW5ndGgpIHsKICAgICAgICAgICAgcG9zdC5pc0Zhdm9yaXRlID0gZmF2b3JpdGVOb2RlWzBdLmlubmVyVGV4dCA9PT0gIuWPlua2iOaUtuiXjyI7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgaWdub3JlTm9kZSA9IHRvcGljX2J1dHRvbnMuZmluZCgiLnRiOm50aC1jaGlsZCgzKSIpOwogICAgICAgICAgaWYgKGlnbm9yZU5vZGUubGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc3QuaXNJZ25vcmUgPSBpZ25vcmVOb2RlWzBdLmlubmVyVGV4dCA9PT0gIuWPlua2iOW/veeVpSI7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgdGhhbmtOb2RlID0gdG9waWNfYnV0dG9ucy5maW5kKCIjdG9waWNfdGhhbmsgLnRiIik7CiAgICAgICAgICBpZiAoIXRoYW5rTm9kZS5sZW5ndGgpIHsKICAgICAgICAgICAgcG9zdC5pc1RoYW5rZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgbGV0IHRvcGljX3N0YXRzID0gdG9waWNfYnV0dG9ucy5maW5kKCIudG9waWNfc3RhdHMiKTsKICAgICAgICAgIGlmICh0b3BpY19zdGF0cy5sZW5ndGgpIHsKICAgICAgICAgICAgbGV0IHRleHQgPSB0b3BpY19zdGF0c1swXS5pbm5lclRleHQ7CiAgICAgICAgICAgIGxldCByZWcxID0gdGV4dC5tYXRjaEFsbCgvKFtcZF0rKVtcc10q5Lq65pS26JePL2cpOwogICAgICAgICAgICBsZXQgY29sbGVjdENvdW50UmVnID0gWy4uLnJlZzFdOwogICAgICAgICAgICBpZiAoY29sbGVjdENvdW50UmVnLmxlbmd0aCkgewogICAgICAgICAgICAgIHBvc3QuY29sbGVjdENvdW50ID0gTnVtYmVyKGNvbGxlY3RDb3VudFJlZ1swXVsxXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmVnMSA9IHRleHQubWF0Y2hBbGwoLyhbXGRdKylbXHNdKmxpa2VzL2cpOwogICAgICAgICAgICBjb2xsZWN0Q291bnRSZWcgPSBbLi4ucmVnMV07CiAgICAgICAgICAgIGlmIChjb2xsZWN0Q291bnRSZWcubGVuZ3RoKSB7CiAgICAgICAgICAgICAgcG9zdC5jb2xsZWN0Q291bnQgPSBOdW1iZXIoY29sbGVjdENvdW50UmVnWzBdWzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVnMiA9IHRleHQubWF0Y2hBbGwoLyhbXGRdKylbXHNdKuS6uuaEn+iwoi9nKTsKICAgICAgICAgICAgbGV0IHRoYW5rQ291bnRSZWcgPSBbLi4ucmVnMl07CiAgICAgICAgICAgIGlmICh0aGFua0NvdW50UmVnLmxlbmd0aCkgewogICAgICAgICAgICAgIHBvc3QudGhhbmtDb3VudCA9IE51bWJlcih0aGFua0NvdW50UmVnWzBdWzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBsZXQgcmVnMyA9IHRleHQubWF0Y2hBbGwoLyhbXGRdKylbXHNdKuasoeeCueWHuy9nKTsKICAgICAgICAgICAgbGV0IGNsaWNrQ291bnRSZWcgPSBbLi4ucmVnM107CiAgICAgICAgICAgIGlmIChjbGlja0NvdW50UmVnLmxlbmd0aCkgewogICAgICAgICAgICAgIHBvc3QuY2xpY2tDb3VudCA9IE51bWJlcihjbGlja0NvdW50UmVnWzBdWzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZWczID0gdGV4dC5tYXRjaEFsbCgvKFtcZF0rKVtcc10qdmlld3MvZyk7CiAgICAgICAgICAgIGNsaWNrQ291bnRSZWcgPSBbLi4ucmVnM107CiAgICAgICAgICAgIGlmIChjbGlja0NvdW50UmVnLmxlbmd0aCkgewogICAgICAgICAgICAgIHBvc3QuY2xpY2tDb3VudCA9IE51bWJlcihjbGlja0NvdW50UmVnWzBdWzFdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgaGVhZGVyID0gYm9keS5maW5kKGAjTWFpbiAuYm94YCkuZmlyc3QoKTsKICAgICAgICBsZXQgdGVtcCA9IGhlYWRlci5jbG9uZSgpOwogICAgICAgIHRlbXAuZmluZCgiLnRvcGljX2J1dHRvbnMiKS5yZW1vdmUoKTsKICAgICAgICB0ZW1wLmZpbmQoIi5pbm5lciIpLnJlbW92ZSgpOwogICAgICAgIHRlbXAuZmluZCgiLmhlYWRlciIpLnJlbW92ZSgpOwogICAgICAgIGZ1bmN0aW9ucy5jaGVja1Bob3RvTGluazJJbWcodGVtcFswXSk7CiAgICAgICAgcG9zdC5oZWFkZXJUZW1wbGF0ZSA9IHRlbXBbMF0uaW5uZXJIVE1MOwogICAgICAgIHJldHVybiBwb3N0OwogICAgICB9LAogICAgICAvL+ino+aekE9Q5L+h5oGvCiAgICAgIGFzeW5jIHBhcnNlT3AocG9zdCkgewogICAgICAgIGlmICghcG9zdC5tZW1iZXIuaWQpIHsKICAgICAgICAgIGxldCB1c2VyUmVzID0gYXdhaXQgZmV0Y2gobG9jYXRpb24ub3JpZ2luICsgIi9hcGkvbWVtYmVycy9zaG93Lmpzb24/dXNlcm5hbWU9IiArIHBvc3QubWVtYmVyLnVzZXJuYW1lKTsKICAgICAgICAgIGlmICh1c2VyUmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHBvc3QubWVtYmVyID0gYXdhaXQgdXNlclJlcy5qc29uKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChwb3N0Lm1lbWJlci5pZCkgewogICAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZShwb3N0Lm1lbWJlci5jcmVhdGVkICogMWUzKTsKICAgICAgICAgIGxldCBjcmVhdGVTdHIgPSBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7ZGF0ZS5nZXRNb250aCgpICsgMX0tJHtkYXRlLmdldERhdGUoKX1gOwogICAgICAgICAgZGF0ZS5zZXRIb3VycygwKTsKICAgICAgICAgIGRhdGUuc2V0TWludXRlcygwKTsKICAgICAgICAgIGRhdGUuc2V0U2Vjb25kcygwKTsKICAgICAgICAgIGRhdGUuc2V0TWlsbGlzZWNvbmRzKDApOwogICAgICAgICAgbGV0IG5vdyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpOwogICAgICAgICAgbm93LnNldEhvdXJzKDApOwogICAgICAgICAgbm93LnNldE1pbnV0ZXMoMCk7CiAgICAgICAgICBub3cuc2V0U2Vjb25kcygwKTsKICAgICAgICAgIG5vdy5zZXRNaWxsaXNlY29uZHMoMCk7CiAgICAgICAgICBsZXQgZDIgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCk7CiAgICAgICAgICBsZXQgaXNOZXcgPSBkMiA8PSAxZTMgKiA2MCAqIDYwICogMjQgKiAxNTsKICAgICAgICAgIHBvc3QubWVtYmVyLmNyZWF0ZURhdGUgPSBjcmVhdGVTdHIgKyAiIOazqOWGjCI7CiAgICAgICAgICBwb3N0Lm1lbWJlci5pc05ldyA9IGlzTmV3OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwb3N0Lm1lbWJlci5jcmVhdGVEYXRlID0gIueUqOaIt+W3suiiq+azqOmUgC/lsIHnpoEiOwogICAgICAgICAgcG9zdC5tZW1iZXIuaXNOZXcgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcG9zdDsKICAgICAgfSwKICAgICAgLy/ojrflj5bkuLvpopjmiYDmnInlm57lpI0KICAgICAgYXN5bmMgZ2V0UG9zdEFsbFJlcGxpZXMocG9zdCwgYm9keSwgaHRtbFRleHQsIHBhZ2VObyA9IDEpIHsKICAgICAgICB2YXIgX2EsIF9iOwogICAgICAgIGlmIChib2R5LmZpbmQoIiNuby1jb21tZW50cy15ZXQiKS5sZW5ndGgpIHsKICAgICAgICAgIHJldHVybiBwb3N0OwogICAgICAgIH0KICAgICAgICBsZXQgYm94cyA9IGJvZHkuZmluZChgI01haW4gLmJveGApOwogICAgICAgIGxldCBib3ggPSBib3hzWzFdOwogICAgICAgIGxldCBjZWxscyA9IGJveC5xdWVyeVNlbGVjdG9yQWxsKCIuY2VsbCIpOwogICAgICAgIGlmIChjZWxscyAmJiBjZWxscy5sZW5ndGgpIHsKICAgICAgICAgIHBvc3QuZnIgPSBjZWxsc1swXS5xdWVyeVNlbGVjdG9yKCIuY2VsbCAuZnIiKS5pbm5lckhUTUw7CiAgICAgICAgICBjZWxscyA9IEFycmF5LmZyb20oY2VsbHMpOwogICAgICAgICAgbGV0IHNub3cgPSBjZWxsc1swXS5xdWVyeVNlbGVjdG9yKCIuc25vdyIpOwogICAgICAgICAgcG9zdC5sYXN0UmVwbHlEYXRlID0gKChfYiA9IChfYSA9IHNub3cgPT0gbnVsbCA/IHZvaWQgMCA6IHNub3cubmV4dFNpYmxpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5ub2RlVmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYi50cmltKCkpIHx8ICIiOwogICAgICAgICAgbGV0IHJlcGxpZXNNYXAgPSBbXTsKICAgICAgICAgIGlmIChjZWxsc1sxXS5pZCkgewogICAgICAgICAgICByZXBsaWVzTWFwLnB1c2goeyBpOiBwYWdlTm8sIHJlcGx5TGlzdDogdGhpcy5wYXJzZVBhZ2VSZXBsaWVzKGNlbGxzLnNsaWNlKDEpKSB9KTsKICAgICAgICAgICAgbGV0IHJlcGx5TGlzdCA9IGZ1bmN0aW9ucy5nZXRBbGxSZXBseShyZXBsaWVzTWFwKTsKICAgICAgICAgICAgZnVuY3Rpb25zLmNyZWF0ZUxpc3QocG9zdCwgcmVwbHlMaXN0KTsKICAgICAgICAgICAgcmV0dXJuIHBvc3Q7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgcHJvbWlzZUxpc3QgPSBbXTsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICByZXBsaWVzTWFwLnB1c2goeyBpOiBwYWdlTm8sIHJlcGx5TGlzdDogdGhpcy5wYXJzZVBhZ2VSZXBsaWVzKGNlbGxzLnNsaWNlKDIsIGNlbGxzLmxlbmd0aCAtIDEpKSB9KTsKICAgICAgICAgICAgICBsZXQgcGFnZXMgPSBjZWxsc1sxXS5xdWVyeVNlbGVjdG9yQWxsKCJhLnBhZ2Vfbm9ybWFsIik7CiAgICAgICAgICAgICAgcGFnZXMgPSBBcnJheS5mcm9tKHBhZ2VzKTsKICAgICAgICAgICAgICBsZXQgdXJsID0gbG9jYXRpb24ub3JpZ2luICsgIi90LyIgKyBwb3N0LmlkOwogICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZU5vID0gTnVtYmVyKHBhZ2VzW2ldLmlubmVyVGV4dCk7CiAgICAgICAgICAgICAgICBwcm9taXNlTGlzdC5wdXNoKHRoaXMuZmV0Y2hQb3N0T3RoZXJQYWdlUmVwbGllcyh1cmwgKyAiP3A9IiArIGN1cnJlbnRQYWdlTm8sIGN1cnJlbnRQYWdlTm8pKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgUHJvbWlzZS5hbGxTZXR0bGVkKHByb21pc2VMaXN0KS50aGVuKAogICAgICAgICAgICAgICAgKHJlc3VsdHMpID0+IHsKICAgICAgICAgICAgICAgICAgcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gImZ1bGZpbGxlZCIpLm1hcCgodikgPT4gcmVwbGllc01hcC5wdXNoKHYudmFsdWUpKTsKICAgICAgICAgICAgICAgICAgbGV0IHJlcGx5TGlzdCA9IGZ1bmN0aW9ucy5nZXRBbGxSZXBseShyZXBsaWVzTWFwKTsKICAgICAgICAgICAgICAgICAgZnVuY3Rpb25zLmNyZWF0ZUxpc3QocG9zdCwgcmVwbHlMaXN0KTsKICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwb3N0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8v6K+35rGC5Li76aKY5YW25LuW6aG155qE5Zue5aSNCiAgICAgIGZldGNoUG9zdE90aGVyUGFnZVJlcGxpZXMoaHJlZiwgcGFnZU5vKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgICAgICAkLmdldChocmVmKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgbGV0IHMgPSByZXMubWF0Y2goLzxib2R5W14+XSo+KFtcc1xTXSs/KTxcL2JvZHk+L2cpOwogICAgICAgICAgICBsZXQgYm94ID0gJChzWzBdKS5maW5kKCIjTWFpbiAuYm94IilbMV07CiAgICAgICAgICAgIGxldCBjZWxscyA9IGJveC5xdWVyeVNlbGVjdG9yQWxsKCIuY2VsbCIpOwogICAgICAgICAgICBjZWxscyA9IEFycmF5LmZyb20oY2VsbHMpOwogICAgICAgICAgICByZXNvbHZlKHsgaTogcGFnZU5vLCByZXBseUxpc3Q6IHRoaXMucGFyc2VQYWdlUmVwbGllcyhjZWxscy5zbGljZSgyLCBjZWxscy5sZW5ndGggLSAxKSkgfSk7CiAgICAgICAgICB9KS5jYXRjaCgocjIpID0+IHsKICAgICAgICAgICAgaWYgKHIyLnN0YXR1cyA9PT0gNDAzKSB7CiAgICAgICAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJyZXN0b3JlUG9zdCIsIHZhbHVlOiBudWxsIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLy/op6PmnpDpobXpnaLnmoTlm57lpI0KICAgICAgcGFyc2VQYWdlUmVwbGllcyhub2RlcykgewogICAgICAgIGxldCByZXBseUxpc3QgPSBbXTsKICAgICAgICBub2Rlcy5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4gewogICAgICAgICAgaWYgKCFub2RlLmlkKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBsZXQgaXRlbSA9IHsKICAgICAgICAgICAgbGV2ZWw6IDAsCiAgICAgICAgICAgIHRoYW5rQ291bnQ6IDAsCiAgICAgICAgICAgIHJlcGx5Q291bnQ6IDAsCiAgICAgICAgICAgIGlzVGhhbmtlZDogZmFsc2UsCiAgICAgICAgICAgIGlzT3A6IGZhbHNlLAogICAgICAgICAgICBpc0R1cDogZmFsc2UsCiAgICAgICAgICAgIGlkOiBub2RlLmlkLnJlcGxhY2UoInJfIiwgIiIpCiAgICAgICAgICB9OwogICAgICAgICAgbGV0IHJlcGx5X2NvbnRlbnQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5yZXBseV9jb250ZW50Iik7CiAgICAgICAgICBmdW5jdGlvbnMuY2hlY2tQaG90b0xpbmsySW1nKHJlcGx5X2NvbnRlbnQpOwogICAgICAgICAgaXRlbS5yZXBseV9jb250ZW50ID0gcmVwbHlfY29udGVudC5pbm5lckhUTUw7CiAgICAgICAgICBpdGVtLnJlcGx5X3RleHQgPSByZXBseV9jb250ZW50LnRleHRDb250ZW50OwogICAgICAgICAgbGV0IHsgdXNlcnMsIGZsb29yIH0gPSB0aGlzLnBhcnNlUmVwbHlDb250ZW50KGl0ZW0ucmVwbHlfY29udGVudCk7CiAgICAgICAgICBpdGVtLmhpZGVDYWxsVXNlclJlcGx5Q29udGVudCA9IGl0ZW0ucmVwbHlfY29udGVudDsKICAgICAgICAgIGlmICh1c2Vycy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgaXRlbS5oaWRlQ2FsbFVzZXJSZXBseUNvbnRlbnQgPSBpdGVtLnJlcGx5X2NvbnRlbnQucmVwbGFjZSgvQDxhIGhyZWY9IlwvbWVtYmVyXC9bXHNcU10rPzxcL2E+KD86PHVsIFtcc1xTXSs8XC91bD4pPyhccyNbXGRdKyk/XHMoPGJyPik/LywgKCkgPT4gIiIpOwogICAgICAgICAgfQogICAgICAgICAgaXRlbS5yZXBseVVzZXJzID0gdXNlcnM7CiAgICAgICAgICBpdGVtLnJlcGx5Rmxvb3IgPSBmbG9vcjsKICAgICAgICAgIGxldCBhZ28gPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5hZ28iKTsKICAgICAgICAgIGl0ZW0uZGF0ZSA9IGFnby50ZXh0Q29udGVudDsKICAgICAgICAgIGxldCB1c2VyTm9kZSA9IG5vZGUucXVlcnlTZWxlY3Rvcigic3Ryb25nIGEiKTsKICAgICAgICAgIGl0ZW0udXNlcm5hbWUgPSB1c2VyTm9kZS50ZXh0Q29udGVudDsKICAgICAgICAgIGxldCBhdmF0YXIgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoInRkIGltZyIpOwogICAgICAgICAgaXRlbS5hdmF0YXIgPSBhdmF0YXIuc3JjOwogICAgICAgICAgbGV0IG5vID0gbm9kZS5xdWVyeVNlbGVjdG9yKCIubm8iKTsKICAgICAgICAgIGl0ZW0uZmxvb3IgPSBOdW1iZXIobm8udGV4dENvbnRlbnQpOwogICAgICAgICAgbGV0IHRoYW5rX2FyZWEgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi50aGFua19hcmVhIik7CiAgICAgICAgICBpZiAodGhhbmtfYXJlYSkgewogICAgICAgICAgICBpdGVtLmlzVGhhbmtlZCA9IHRoYW5rX2FyZWEuY2xhc3NMaXN0LmNvbnRhaW5zKCJ0aGFua2VkIik7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgc21hbGwgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5zbWFsbCIpOwogICAgICAgICAgaWYgKHNtYWxsKSB7CiAgICAgICAgICAgIGl0ZW0udGhhbmtDb3VudCA9IE51bWJlcihzbWFsbC50ZXh0Q29udGVudCk7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgb3AgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5vcCIpOwogICAgICAgICAgaWYgKG9wKSB7CiAgICAgICAgICAgIGl0ZW0uaXNPcCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgbW9kID0gbm9kZS5xdWVyeVNlbGVjdG9yKCIubW9kIik7CiAgICAgICAgICBpZiAobW9kKSB7CiAgICAgICAgICAgIGl0ZW0uaXNNb2QgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAgcmVwbHlMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHJlcGx5TGlzdDsKICAgICAgfSwKICAgICAgLy/op6PmnpDlm57lpI3lhoXlrrnvvIzop6PmnpDlh7pA55So5oi377yM5Zue5aSN5qW85bGC44CC55So5LqO5ZCO57ut55Sf5oiQ5bWM5aWX5qW85bGCCiAgICAgIHBhcnNlUmVwbHlDb250ZW50KHN0cikgewogICAgICAgIGlmICghc3RyKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGxldCB1c2VycyA9IFtdOwogICAgICAgIGxldCBnZXRVc2VybmFtZSA9ICh1c2VyU3RyKSA9PiB7CiAgICAgICAgICB1c2Vycy5wdXNoKHVzZXJTdHIpOwogICAgICAgIH07CiAgICAgICAgbGV0IHVzZXJSZWcgPSAvQDxhIGhyZWY9IlwvbWVtYmVyXC8oW14nIiBdKykvZzsKICAgICAgICBsZXQgaGFzID0gc3RyLm1hdGNoQWxsKHVzZXJSZWcpOwogICAgICAgIGxldCByZXMyID0gWy4uLmhhc107CiAgICAgICAgaWYgKHJlczIubGVuZ3RoID4gMSkgewogICAgICAgICAgcmVzMi5tYXAoKGl0ZW0pID0+IHsKICAgICAgICAgICAgZ2V0VXNlcm5hbWUoaXRlbVsxXSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlczIubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBnZXRVc2VybmFtZShyZXMyWzBdWzFdKTsKICAgICAgICB9CiAgICAgICAgbGV0IGZsb29yID0gLTE7CiAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgbGV0IGZsb29yUmVnID0gL0A8YSBocmVmPSJcL21lbWJlclwvW1xzXFNdKz88XC9hPig/Ojx1bCBbXHNcU10rPFwvdWw+KT9bXHNdKyMoW1xkXSspL2c7CiAgICAgICAgICBsZXQgaGFzRmxvb3IgPSBzdHIubWF0Y2hBbGwoZmxvb3JSZWcpOwogICAgICAgICAgbGV0IHJlcyA9IFsuLi5oYXNGbG9vcl07CiAgICAgICAgICBpZiAocmVzLmxlbmd0aCkgewogICAgICAgICAgICBmbG9vciA9IE51bWJlcihyZXNbMF1bMV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4geyB1c2VycywgZmxvb3IgfTsKICAgICAgfSwKICAgICAgLy/ojrflj5bkuLvpopjor6bmg4UKICAgICAgYXN5bmMgZ2V0UG9zdERldGFpbChwb3N0LCBib2R5LCBodG1sVGV4dCwgcGFnZU5vID0gMSkgewogICAgICAgIHBvc3QgPSBhd2FpdCB0aGlzLnBhcnNlUG9zdENvbnRlbnQocG9zdCwgYm9keSwgaHRtbFRleHQpOwogICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldFBvc3RBbGxSZXBsaWVzKHBvc3QsIGJvZHksIGh0bWxUZXh0LCBwYWdlTm8pOwogICAgICB9LAogICAgICAvL+ino+aekOmhtemdouS4u+mimOWIl+ihqAogICAgICBwYXJzZVBhZ2VQb3N0TGlzdChsaXN0LCBib3gpIHsKICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW1Eb20pID0+IHsKICAgICAgICAgIGxldCBpdGVtX3RpdGxlID0gaXRlbURvbS5xdWVyeVNlbGVjdG9yKCIuaXRlbV90aXRsZSIpOwogICAgICAgICAgaWYgKCFpdGVtX3RpdGxlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBsZXQgaXRlbSA9IGdldERlZmF1bHRQb3N0KCk7CiAgICAgICAgICBpdGVtRG9tLmNsYXNzTGlzdC5hZGQoInBvc3QtaXRlbSIpOwogICAgICAgICAgbGV0IGEgPSBpdGVtX3RpdGxlLnF1ZXJ5U2VsZWN0b3IoImEiKTsKICAgICAgICAgIGxldCB7IGhyZWYsIGlkIH0gPSBmdW5jdGlvbnMucGFyc2VBKGEpOwogICAgICAgICAgaXRlbS5pZCA9IFN0cmluZyhOdW1iZXIoaWQpKTsKICAgICAgICAgIGEuaHJlZiA9IGl0ZW0uaHJlZiA9IGhyZWY7CiAgICAgICAgICBpdGVtLnVybCA9IGxvY2F0aW9uLm9yaWdpbiArICIvYXBpL3RvcGljcy9zaG93Lmpzb24/aWQ9IiArIGl0ZW0uaWQ7CiAgICAgICAgICBpdGVtRG9tLmNsYXNzTGlzdC5hZGQoYGlkXyR7aWR9YCk7CiAgICAgICAgICBpdGVtRG9tLmRhdGFzZXRbImhyZWYiXSA9IGhyZWY7CiAgICAgICAgICBsZXQgdGQgPSBpdGVtRG9tLnF1ZXJ5U2VsZWN0b3IoInRkOm50aC1jaGlsZCg0KSIpOwogICAgICAgICAgaWYgKCF0ZCkgewogICAgICAgICAgICB0ZCA9IGl0ZW1Eb20ucXVlcnlTZWxlY3RvcigidGQ6bnRoLWNoaWxkKDIpIik7CiAgICAgICAgICB9CiAgICAgICAgICB0ZC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7CiAgICAgICAgICBsZXQgdG9nZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICB0b2dnbGUuZGF0YXNldFsiaWQiXSA9IGl0ZW0uaWQ7CiAgICAgICAgICB0b2dnbGUuY2xhc3NMaXN0LmFkZCgidG9nZ2xlIik7CiAgICAgICAgICB0b2dnbGUuaW5uZXJUZXh0ID0gIumihOiniCI7CiAgICAgICAgICB0ZC5hcHBlbmQodG9nZ2xlKTsKICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlnLnZpZXdUeXBlID09PSAiY2FyZCIpIHsKICAgICAgICAgICAgd2luZG93LnBvc3RMaXN0LnB1c2goaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImQiLCAiIik7CiAgICAgICAgaWYgKHdpbmRvdy5wYWdlVHlwZSA9PT0gUGFnZVR5cGUuSG9tZSkgewogICAgICAgICAgY29uc3QgYSA9ICgpID0+IHsKICAgICAgICAgICAgbGV0IGQyOwogICAgICAgICAgICBpZiAod2luZG93LnVzZXIudXNlcm5hbWUpIHsKICAgICAgICAgICAgICBkMiA9ICQod2luZG93LmF0b2IoIkxuWXljQzFvYjNabGNpMWlkRzQ9IikpLmxlbmd0aDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkMiA9ICQod2luZG93LmF0b2IoIkxuWXljQzFtYjI5MFpYST0iKSkubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChkMiAhPT0gMCkgewogICAgICAgICAgICAgIHdpbmRvdy5zdG9wTWUgPSB0cnVlOwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJkIiwgIjEiKTsKICAgICAgICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogInN5bmNEYXRhIiB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZCIsICIiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIGEoKTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgMWUzKTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgMmUzKTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgM2UzKTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgNWUzKTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgMWU0KTsKICAgICAgICAgIHNldFRpbWVvdXQoYSwgMTVlMyk7CiAgICAgICAgfQogICAgICAgIGNvbnN0IHNldEYgPSAocmVzKSA9PiB7CiAgICAgICAgICBsZXQgckluZGV4ID0gd2luZG93LnBvc3RMaXN0LmZpbmRJbmRleCgodykgPT4gdy5pZCA9PSByZXMuaWQpOwogICAgICAgICAgaWYgKHJJbmRleCA+IC0xKSB7CiAgICAgICAgICAgIHdpbmRvdy5wb3N0TGlzdFtySW5kZXhdID0gT2JqZWN0LmFzc2lnbih3aW5kb3cucG9zdExpc3RbckluZGV4XSwgcmVzKTsKICAgICAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJzeW5jTGlzdCIgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgaXRlbURvbSA9IGJveC5xdWVyeVNlbGVjdG9yKGAuaWRfJHtyZXMuaWR9YCk7CiAgICAgICAgICBpdGVtRG9tLmNsYXNzTGlzdC5hZGQoInByZXZpZXciKTsKICAgICAgICAgIGlmIChyZXMuY29udGVudF9yZW5kZXJlZCkgewogICAgICAgICAgICBmdW5jdGlvbnMuYXBwZW5kUG9zdENvbnRlbnQocmVzLCBpdGVtRG9tKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGlmICh3aW5kb3cuY29uZmlnLnZpZXdUeXBlID09PSAiY2FyZCIgJiYgIXdpbmRvdy5zdG9wTWUpIHsKICAgICAgICAgIGxldCBjYWNoZURhdGFTdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY2FjaGVEYXRhIik7CiAgICAgICAgICBsZXQgY2FjaGVEYXRhID0gW107CiAgICAgICAgICBpZiAoY2FjaGVEYXRhU3RyKSB7CiAgICAgICAgICAgIGNhY2hlRGF0YSA9IEpTT04ucGFyc2UoY2FjaGVEYXRhU3RyKTsKICAgICAgICAgICAgbGV0IG5vdyA9IERhdGUubm93KCk7CiAgICAgICAgICAgIGNhY2hlRGF0YSA9IGNhY2hlRGF0YS5maWx0ZXIoKHYpID0+IHsKICAgICAgICAgICAgICByZXR1cm4gdi5jcmVhdGVkID4gbm93IC8gMWUzIC0gNjAgKiA2MCAqIDI0ICogMzsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgZmV0Y2hJbmRleCA9IDA7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpbmRvdy5wb3N0TGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsZXQgaXRlbSA9IHdpbmRvdy5wb3N0TGlzdFtpXTsKICAgICAgICAgICAgbGV0IHJJdGVtID0gY2FjaGVEYXRhLmZpbmQoKHcpID0+IHcuaWQgPT0gaXRlbS5pZCk7CiAgICAgICAgICAgIGlmIChySXRlbSkgewogICAgICAgICAgICAgIHJJdGVtLmhyZWYgPSBpdGVtLmhyZWY7CiAgICAgICAgICAgICAgc2V0RihySXRlbSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmV0Y2hJbmRleCsrOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgJC5nZXQoaXRlbS51cmwpLnRoZW4oKHYpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHYgJiYgdi5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzID0gZ2V0RGVmYXVsdFBvc3QodlswXSk7CiAgICAgICAgICAgICAgICAgICAgcmVzLmhyZWYgPSBpdGVtLmhyZWY7CiAgICAgICAgICAgICAgICAgICAgY2FjaGVEYXRhLnB1c2gocmVzKTsKICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2FjaGVEYXRhIiwgSlNPTi5zdHJpbmdpZnkoY2FjaGVEYXRhKSk7CiAgICAgICAgICAgICAgICAgICAgc2V0RihyZXMpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9LCBmZXRjaEluZGV4IDwgNCA/IDAgOiAoZmV0Y2hJbmRleCAtIDQpICogMWUzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgLy/liJvlu7rorrDkuovmnKzlrZDmnaHnm64KICAgICAgYXN5bmMgY3JlYXRlTm90ZUl0ZW0oaXRlbU5hbWUpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHsKICAgICAgICAgIGlmICghd2luZG93LmlzTG9naW4pCiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpOwogICAgICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgIGRhdGEuYXBwZW5kKCJjb250ZW50IiwgaXRlbU5hbWUpOwogICAgICAgICAgZGF0YS5hcHBlbmQoInBhcmVudF9pZCIsIDApOwogICAgICAgICAgZGF0YS5hcHBlbmQoInN5bnRheCIsIDApOwogICAgICAgICAgbGV0IGFwaVJlcyA9IGF3YWl0IGZldGNoKGAke2xvY2F0aW9uLm9yaWdpbn0vbm90ZXMvbmV3YCwgeyBtZXRob2Q6ICJwb3N0IiwgYm9keTogZGF0YSB9KTsKICAgICAgICAgIGlmIChhcGlSZXMucmVkaXJlY3RlZCAmJiBhcGlSZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgcmVzb2x2ZShhcGlSZXMudXJsLnN1YnN0cigtNSkpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICByZXNvbHZlKG51bGwpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICAvL+e8lui+keiusOS6i+acrOWtkOadoeebrgogICAgICBhc3luYyBlZGl0Tm90ZUl0ZW0odmFsLCBpZCkgewogICAgICAgIGlmICghd2luZG93LmlzTG9naW4pCiAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKCFpZCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsZXQgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGRhdGEuYXBwZW5kKCJjb250ZW50IiwgdmFsKTsKICAgICAgICBkYXRhLmFwcGVuZCgic3ludGF4IiwgMCk7CiAgICAgICAgbGV0IGFwaVJlcyA9IGF3YWl0IGZldGNoKGAke2xvY2F0aW9uLm9yaWdpbn0vbm90ZXMvZWRpdC8ke2lkfWAsIHsKICAgICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgICAgYm9keTogZGF0YQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBhcGlSZXMucmVkaXJlY3RlZCAmJiBhcGlSZXMuc3RhdHVzID09PSAyMDA7CiAgICAgIH0sCiAgICAgIC8v5qCH562+5pON5L2cCiAgICAgIGFzeW5jIHNhdmVUYWdzKHZhbCkgewogICAgICAgIGlmICghd2luZG93LmlzTG9naW4pCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModmFsKSkgewogICAgICAgICAgaWYgKCF2YWx1ZS5sZW5ndGgpCiAgICAgICAgICAgIGRlbGV0ZSB2YWxba2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZWRpdE5vdGVJdGVtKHdpbmRvdy51c2VyLnRhZ1ByZWZpeCArIEpTT04uc3RyaW5naWZ5KHZhbCksIHdpbmRvdy51c2VyLnRhZ3NJZCk7CiAgICAgIH0sCiAgICAgIC8vaW1ndXLlm77niYfliKDpmaRoYXNo5pON5L2cCiAgICAgIGFzeW5jIHNhdmVJbWd1ckxpc3QodmFsKSB7CiAgICAgICAgaWYgKCF3aW5kb3cuaXNMb2dpbikKICAgICAgICAgIHJldHVybjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH07CiAgICBmdW5jdGlvbiBpbml0TW9ua2V5TWVudSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi6ISa5pys6K6+572uIiwgKCkgPT4gewogICAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJvcGVuU2V0dGluZyIgfSk7CiAgICAgICAgfSk7CiAgICAgICAgX0dNX3JlZ2lzdGVyTWVudUNvbW1hbmQoIuS7k+W6k+WcsOWdgCIsICgpID0+IHsKICAgICAgICAgIGZ1bmN0aW9ucy5vcGVuTmV3VGFiKERlZmF1bHRWYWwuZ2l0LCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgICBfR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgi5Y+N6aaIICYg5bu66K6uIiwgZnVuY3Rpb25zLmZlZWRiYWNrKTsKICAgICAgfSBjYXRjaCAoZTIpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLml6Dms5Xkvb/nlKhUYW1wZXJtb25rZXkiKTsKICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gaW5pdFN0eWxlKCkgewogICAgICBpZiAod2luZG93LmlzTmlnaHQpIHsKICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiZGFyayIpOwogICAgICB9CiAgICAgIGxldCBzdHlsZTIgPSBgCiAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgZm9udC1zaXplOiA2Mi41JTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgOnJvb3R7CiAgICAgICAgICAtLWJveC1ib3JkZXItcmFkaXVzOjhweDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLnBhZ2VfY3VycmVudCwgLnBhZ2Vfbm9ybWFsIHsKICAgICAgICAgIC0tYm94LWJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgIHBhZGRpbmc6IC42cmVtIDAuOHJlbSFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICAgIC5ib3h7CiAgICAgICAgICBib3gtc2hhZG93OnJnYmEoMCwgMCwgMCwgMC4wOCkgMHB4IDRweCAxMnB4OwogICAgICAgIH0KICAgICAgICAKICAgICAgICAjVGFic3sKICAgICAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogdmFyKC0tYm94LWJvcmRlci1yYWRpdXMpICFpbXBvcnRhbnQ7CiAgICAgICAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiB2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cykgIWltcG9ydGFudDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgI01haW4gLmNlbGwgLmNvdW50X2xpdmlkIHsgCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgIHBhZGRpbmc6IDNweCAxMHB4OyAKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OyAKICAgICAgICB9CgogICAgICAgICNXcmFwcGVyIHsKICAgICAgICAgIGhlaWdodDogdW5zZXQgIWltcG9ydGFudDsKICAgICAgICAgIHdpZHRoOiB1bnNldCAhaW1wb3J0YW50OwogICAgICAgIH0KCiAgICAgICAjV3JhcHBlciA+IC5jb250ZW50IHsKICAgICAgICBoZWlnaHQ6IHVuc2V0ICFpbXBvcnRhbnQ7CiAgICAgICAgd2lkdGg6IHVuc2V0ICFpbXBvcnRhbnQ7CiAgICAgICAgICBtYXgtd2lkdGg6MTEwMHB4ICFpbXBvcnRhbnQ7CiAgICAgIH0KCiAgICAgICR7bG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoIndvdyIpIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluY2x1ZGVzKCJ0b2t5byIpID8gIiIgOiBgCiAgICAgICAucG9zdC1pdGVtIHsKICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICB9IAogICAgICBgfQogICAgIAoKICAgICAgLnBvc3QtaXRlbSA+IC5wb3N0LWNvbnRlbnQgewogICAgICAgICAgaGVpZ2h0OiAwOwogICAgICAgICAgbWFyZ2luLXRvcDogMDsKICAgICAgfQoKICAgICAgLnBvc3QtaXRlbTpob3ZlciAudG9nZ2xlIHsKICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIH0KCiAgICAgIC50b2dnbGUgewogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgcmlnaHQ6ICR7d2luZG93LmNvbmZpZy52aWV3VHlwZSA9PT0gInNpbXBsZSIgPyAiNXJlbSIgOiAwfTsKICAgICAgICAgIHRvcDogJHt3aW5kb3cuY29uZmlnLnZpZXdUeXBlID09PSAic2ltcGxlIiA/IDAgOiAiMC41cmVtIn07CiAgICAgICAgICAgIHdpZHRoOiA1cmVtOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLWxpbmstY29sb3IpOwogICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMXJlbTsKICAgICAgfQoKICAgICAgLnByZXZpZXcgewogICAgICAgICAgbWFyZ2luOiAxcmVtIDA7CiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJveC1ib3JkZXItcmFkaXVzKTsKICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgfQoKICAgICAgLnByZXZpZXc6aG92ZXIgewogICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2M4YzhjODsKICAgICAgfQoKICAgICAgLnByZXZpZXcgPiAucG9zdC1jb250ZW50IHsKICAgICAgICAgIGhlaWdodDogdW5zZXQgIWltcG9ydGFudDsKICAgICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbSAhaW1wb3J0YW50OwogICAgICB9CgogICAgICAucHJldmlldyA+IC5wb3N0LWNvbnRlbnQuc2hvdy1hbGwgewogICAgICAgICAgbWF4LWhlaWdodDogdW5zZXQ7CiAgICAgICAgICAtd2Via2l0LW1hc2staW1hZ2U6bm9uZTsgCiAgICAgIH0KCiAgICAgIC5wcmV2aWV3ICAudG9waWMtbGluazpsaW5rIHsKICAgICAgICAgIGNvbG9yOiBibGFjayAhaW1wb3J0YW50OwogICAgICB9CgogICAgICAucG9zdC1jb250ZW50IHsKICAgICAgICAgIG1hcmdpbi10b3A6IDAuNXJlbTsKICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgbWF4LWhlaWdodDogMzByZW07CiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bnNldCAhaW1wb3J0YW50OwogICAgICAgICAgbGluZS1icmVhazogYW55d2hlcmU7CiAgICAgICAgICAtd2Via2l0LW1hc2staW1hZ2U6IGxpbmVhci1ncmFkaWVudCgxODBkZWcsIzAwMCA2MCUsdHJhbnNwYXJlbnQpOwogICAgICB9CgogICAgICAuc2hvdy1tb3JlIHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICB9CgogICAgICAucHJldmlldyA+IC5zaG93LW1vcmUgewogICAgICAgIGZvbnQtc2l6ZTogMS4zcmVtOwogICAgICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgICAgIGhlaWdodDogM3JlbTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHotaW5kZXg6IDk7CiAgICAgIH0KCiAgICAgIC5wb3N0LWNvbnRlbnQ6dmlzaXRlZCB7CiAgICAgICAgICBjb2xvcjogI2FmYjljMSAhaW1wb3J0YW50OwogICAgICB9CgogICAgICAucG9zdC1jb250ZW50OmxpbmsgewogICAgICAgICAgY29sb3I6ICM0OTQ5NDk7CiAgICAgIH0KICAgICAgCiAgICAgICR7bG9jYXRpb24uaHJlZi5pbmNsdWRlcygid293IikgPyAiIiA6IGAKICAgICAgICAuTmlnaHQgLnBvc3QtaXRlbSB7CiAgICAgICAgICBiYWNrZ3JvdW5kOiAjMTgyMjJkICFpbXBvcnRhbnQ7CiAgICAgICAgfQogICAgICBgfQogICAgCgogICAgICAuTmlnaHQgLnByZXZpZXcgewogICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzNiNTM2ZTsKICAgICAgfQoKICAgICAgLk5pZ2h0IC5wcmV2aWV3ID4gLnBvc3QtY29udGVudDpsaW5rIHsKICAgICAgICAgIGNvbG9yOiAjZDFkNWQ5OwogICAgICB9CgogICAgICAuTmlnaHQgLnByZXZpZXcgPiAucG9zdC1jb250ZW50OnZpc2l0ZWQgewogICAgICAgICAgY29sb3I6ICMzOTNmNGUgIWltcG9ydGFudDsKICAgICAgfQogICAgICAKICAgICAgLk5pZ2h0IC5wcmV2aWV3ICAudG9waWMtbGluazpsaW5rIHsKICAgICAgICAgIGNvbG9yOiAjYzBkYmZmICFpbXBvcnRhbnQ7CiAgICAgIH0KICAgICAgCiAgICAgICR7d2luZG93LmNvbmZpZy52aWV3VHlwZSA9PT0gInNpbXBsZSIgPyBgCiAgICAgICR7d2luZG93LnBhZ2VUeXBlICE9PSBQYWdlVHlwZS5NZW1iZXIgPyBgCiAgICAgIC5pdGVtIHRhYmxlIHRyIHRkOmZpcnN0LWNoaWxke2Rpc3BsYXk6bm9uZTt9CiAgICAgICNSaWdodGJhciAuY2VsbCB0YWJsZTpmaXJzdC1jaGlsZCB0ciB0ZDpmaXJzdC1jaGlsZHtkaXNwbGF5Om5vbmU7fQogICAgICAuaXRlbSB0YWJsZSB0ciB0ZCAuc2VwNXtkaXNwbGF5Om5vbmU7fQogICAgICAuaXRlbSB0YWJsZSB0ciB0ZCAudG9waWNfaW5mb3tkaXNwbGF5Om5vbmU7fQogICAgICAuaXRlbSB7Ym9yZGVyLWJvdHRvbTpub25lO30KICAgICAgLmF2YXRhciwjYXZhdGFye2Rpc3BsYXk6bm9uZTt9CiAgICAgIGAgOiAiIn0KICAgICAgCiAgICAgICNMb2dvIHtiYWNrZ3JvdW5kLWltYWdlOnVybCgnaHR0cHM6Ly9pLmltZ3VyLmNvbS9pOVZnVXRNLnBuZycpO30KICAgICAgIC5iaWdnZXIgYSwgLnRvcDpudGgtbGFzdC1jaGlsZCg1KXtjb2xvcjogdHJhbnNwYXJlbnQhaW1wb3J0YW50O3RleHQtc2hhZG93OiAjYjBiMGIwIDAgMCA2cHg7dXNlci1zZWxlY3Q6IG5vbmU7fQogICAgICAvLyAuYmlnZ2VyIGE6YmVmb3JlLC50b3A6bnRoLWxhc3QtY2hpbGQoNSk6YmVmb3Jle2NvbnRlbnQ6J01vbmEgTGlzYSc7cG9zaXRpb246IGFic29sdXRlO2JhY2tncm91bmQ6IHdoaXRlO30KICAgICAgI1JpZ2h0YmFyIC5jZWxsIHRhYmxlOmZpcnN0LWNoaWxkIHRyIHRkOmZpcnN0LWNoaWxke2Rpc3BsYXk6bm9uZTt9CiAgICAgIGAgOiAiIn0KCiAgICAgICR7d2luZG93LmNvbmZpZy5jdXN0b21CZ0NvbG9yID8gYCNXcmFwcGVyIHsKICAgICAgICAgIGJhY2tncm91bmQ6ICR7d2luZG93LmNvbmZpZy5jdXN0b21CZ0NvbG9yfSAhaW1wb3J0YW50OwogICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdW5zZXQgIWltcG9ydGFudDsKICAgICAgICB9YCA6ICIifQogICAgICAgIAogICAgICAudG9wewogICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlOwogICAgICB9CiAgICAgICAgCiAgICAgIC5uZXd7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIGJhY2tncm91bmQ6IHJlZDsKICAgICAgICBmb250LXNpemU6IDEwcHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgICAgIHBhZGRpbmc6IDBweCAycHg7CiAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgIHJpZ2h0OiAtOXB4OwogICAgICAgIHRvcDogLTNweDsKICAgICAgfQogICAgICAKICAgICAgLyrop6PlhrNoZHLlpLTlg4/lpKrkuq7nmoTpl67popgqLwogICAgICBpbWd7ZmlsdGVyOiBicmlnaHRuZXNzKDAuOTUpIGNvbnRyYXN0KDAuOTUpIHNhdHVyYXRlKDAuOTUpO30KCiAgICB9CiAgICBgOwogICAgICBsZXQgYWRkU3R5bGUyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgYWRkU3R5bGUyLnJlbCA9ICJzdHlsZXNoZWV0IjsKICAgICAgYWRkU3R5bGUyLnR5cGUgPSAidGV4dC9jc3MiOwogICAgICBhZGRTdHlsZTIuaW5uZXJIVE1MID0gc3R5bGUyOwogICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmQoYWRkU3R5bGUyKTsKICAgIH0KICAgIGZ1bmN0aW9uIHFpYW5EYW8oKSB7CiAgICAgIGxldCB0aW1lTm93ID0gKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS5nZXRVVENGdWxsWWVhcigpICsgIi8iICsgKCgvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkuZ2V0VVRDTW9udGgoKSArIDEpICsgIi8iICsgKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS5nZXRVVENEYXRlKCk7CiAgICAgIGlmICh3aW5kb3cucGFnZVR5cGUgPT09IFBhZ2VUeXBlLkhvbWUpIHsKICAgICAgICBsZXQgcWlhbmRhbzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm94IC5pbm5lciBhW2hyZWY9Ii9taXNzaW9uL2RhaWx5Il0nKTsKICAgICAgICBpZiAocWlhbmRhbzIpIHsKICAgICAgICAgIHFpYW5EYW9fKHFpYW5kYW8yLCB0aW1lTm93KTsKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnaWZ0X3YyZXhjZWxsZW50IikpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnaWZ0X3YyZXhjZWxsZW50IikuY2xpY2soKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJtZW51X2Nsb2NrSW5UaW1lIiwgdGltZU5vdyk7CiAgICAgICAgfSBlbHNlCiAgICAgICAgICA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHRpbWVPbGQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibWVudV9jbG9ja0luVGltZSIpOwogICAgICAgIGlmICghdGltZU9sZCB8fCB0aW1lT2xkICE9IHRpbWVOb3cpIHsKICAgICAgICAgIHFpYW5EYW9TdGF0dXNfKHRpbWVOb3cpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gcWlhbkRhb18ocWlhbmRhbzIsIHRpbWVOb3cpIHsKICAgICAgbGV0IHVybCA9IGxvY2F0aW9uLm9yaWdpbiArICIvbWlzc2lvbi9kYWlseS9yZWRlZW0/IiArIFJlZ0V4cCgib25jZVxcPShcXGQrKSIpLmV4ZWMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2I1RvcCAudG9vbHMsICNtZW51LWJvZHkiKS5pbm5lckhUTUwpWzBdOwogICAgICAkLmdldCh1cmwpLnRoZW4oKHIyKSA9PiB7CiAgICAgICAgbGV0IGJvZHlUZXh0ID0gcjIubWF0Y2goLzxib2R5W14+XSo+KFtcc1xTXSs/KTxcL2JvZHk+L2cpOwogICAgICAgIGxldCBodG1sID0gJChib2R5VGV4dFswXSk7CiAgICAgICAgaWYgKGh0bWwuZmluZCgibGkuZmEuZmEtb2stc2lnbiIpLmxlbmd0aCkgewogICAgICAgICAgaHRtbCA9IGh0bWwuZmluZCgiI01haW4iKS50ZXh0KCkubWF0Y2goL+W3sui/nue7reeZu+W9lSAoXGQrPykg5aSpLylbMF07CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgibWVudV9jbG9ja0luVGltZSIsIHRpbWVOb3cpOwogICAgICAgICAgY29uc29sZS5pbmZvKCJbVjJOZXh0XSDoh6rliqjnrb7liLDlrozmiJDvvIEiKTsKICAgICAgICAgIGlmIChxaWFuZGFvMikgewogICAgICAgICAgICBxaWFuZGFvMi50ZXh0Q29udGVudCA9IGDoh6rliqjnrb7liLDlrozmiJDvvIEke2h0bWx9YDsKICAgICAgICAgICAgcWlhbmRhbzIuaHJlZiA9ICJqYXZhc2NyaXB0OnZvaWQoMCk7IjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS53YXJuKCJbVjJOZXh0XSDoh6rliqjnrb7liLDlpLHotKXvvIHor7flhbPpl63lhbbku5bmj5Lku7bmiJbohJrmnKzjgILlpoLmnpzov57nu63lh6DlpKnpg73nrb7liLDlpLHotKXvvIzor7fogZTns7vkvZzogIXop6PlhrPvvIEiKTsKICAgICAgICAgIGlmIChxaWFuZGFvMikKICAgICAgICAgICAgcWlhbmRhbzIudGV4dENvbnRlbnQgPSAi6Ieq5Yqo562+5Yiw5aSx6LSl77yB6K+35bCd6K+V5omL5Yqo562+5Yiw77yBIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gcWlhbkRhb1N0YXR1c18odGltZU5vdykgewogICAgICAkLmdldChsb2NhdGlvbi5vcmlnaW4gKyAiL21pc3Npb24vZGFpbHkiKS50aGVuKChyMikgPT4gewogICAgICAgIGxldCBib2R5VGV4dCA9IHIyLm1hdGNoKC88Ym9keVtePl0qPihbXHNcU10rPyk8XC9ib2R5Pi9nKTsKICAgICAgICBsZXQgaHRtbCA9ICQoYm9keVRleHRbMF0pOwogICAgICAgIGlmIChodG1sLmZpbmQoJ2lucHV0W3ZhbHVlXj0i6aKG5Y+WIl0nKS5sZW5ndGgpIHsKICAgICAgICAgIHFpYW5EYW9fKG51bGwsIHRpbWVOb3cpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oIltWMk5leHRdIOW3sue7j+etvui/h+WIsOS6huOAgiIpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm1lbnVfY2xvY2tJblRpbWUiLCB0aW1lTm93KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gZ2V0Tm90ZUl0ZW1Db250ZW50KGlkLCBwcmVmaXgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAkLmdldChsb2NhdGlvbi5vcmlnaW4gKyAiL25vdGVzL2VkaXQvIiArIGlkKS50aGVuKChyMikgPT4gewogICAgICAgICAgbGV0IGJvZHlUZXh0ID0gcjIubWF0Y2goLzxib2R5W14+XSo+KFtcc1xTXSs/KTxcL2JvZHk+L2cpOwogICAgICAgICAgbGV0IGJvZHkgPSAkKGJvZHlUZXh0WzBdKTsKICAgICAgICAgIGxldCB0ZXh0ID0gYm9keS5maW5kKCIubm90ZV9lZGl0b3IiKS50ZXh0KCk7CiAgICAgICAgICBpZiAodGV4dCA9PT0gcHJlZml4KSB7CiAgICAgICAgICAgIHJlc29sdmUoe30pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGV0IHRhZ0pzb24gPSB0ZXh0LnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UodGFnSnNvbikpOwogICAgICAgICAgICB9IGNhdGNoIChlMikgewogICAgICAgICAgICAgIHJlc29sdmUoe30pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gaW5pdE5vdGVEYXRhKCkgewogICAgICAkLmdldChsb2NhdGlvbi5vcmlnaW4gKyAiL25vdGVzIikudGhlbihhc3luYyAocjIpID0+IHsKICAgICAgICBsZXQgYm9keVRleHQgPSByMi5tYXRjaCgvPGJvZHlbXj5dKj4oW1xzXFNdKz8pPFwvYm9keT4vZyk7CiAgICAgICAgbGV0IGJvZHkgPSAkKGJvZHlUZXh0WzBdKTsKICAgICAgICBsZXQgaXRlbXMgPSBib2R5LmZpbmQoIiNNYWluIC5ib3ggLm5vdGVfaXRlbV90aXRsZSBhIik7CiAgICAgICAgaWYgKHdpbmRvdy5jb25maWcub3BlblRhZykgewogICAgICAgICAgbGV0IHRhZ0l0ZW1zMiA9IEFycmF5LmZyb20oaXRlbXMpLmZpbHRlcigodikgPT4gdi5pbm5lclRleHQuaW5jbHVkZXMod2luZG93LnVzZXIudGFnUHJlZml4KSk7CiAgICAgICAgICBpZiAodGFnSXRlbXMyLmxlbmd0aCkgewogICAgICAgICAgICB3aW5kb3cudXNlci50YWdzSWQgPSB0YWdJdGVtczJbMF0uaHJlZi5zdWJzdHIoLTUpOwogICAgICAgICAgICB3aW5kb3cudXNlci50YWdzID0gYXdhaXQgZ2V0Tm90ZUl0ZW1Db250ZW50KHdpbmRvdy51c2VyLnRhZ3NJZCwgd2luZG93LnVzZXIudGFnUHJlZml4KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCByMjIgPSBhd2FpdCB3aW5kb3cucGFyc2UuY3JlYXRlTm90ZUl0ZW0od2luZG93LnVzZXIudGFnUHJlZml4KTsKICAgICAgICAgICAgcjIyICYmICh3aW5kb3cudXNlci50YWdzSWQgPSByMjIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgdGFnSXRlbXMgPSBBcnJheS5mcm9tKGl0ZW1zKS5maWx0ZXIoKHYpID0+IHYuaW5uZXJUZXh0LmluY2x1ZGVzKHdpbmRvdy51c2VyLmNvbmZpZ1ByZWZpeCkpOwogICAgICAgIGlmICh0YWdJdGVtcy5sZW5ndGgpIHsKICAgICAgICAgIHdpbmRvdy51c2VyLmNvbmZpZ05vdGVJZCA9IHRhZ0l0ZW1zWzBdLmhyZWYuc3Vic3RyKC01KTsKICAgICAgICAgIGxldCBjb25maWcyID0gYXdhaXQgZ2V0Tm90ZUl0ZW1Db250ZW50KHdpbmRvdy51c2VyLmNvbmZpZ05vdGVJZCwgd2luZG93LnVzZXIuY29uZmlnUHJlZml4KTsKICAgICAgICAgIHdpbmRvdy5jb25maWcgPSBmdW5jdGlvbnMuZGVlcEFzc2lnbih3aW5kb3cuY29uZmlnLCBjb25maWcyKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IHIyMiA9IGF3YWl0IHdpbmRvdy5wYXJzZS5jcmVhdGVOb3RlSXRlbSh3aW5kb3cudXNlci5jb25maWdQcmVmaXgpOwogICAgICAgICAgcjIyICYmICh3aW5kb3cudXNlci5jb25maWdOb3RlSWQgPSByMjIpOwogICAgICAgIH0KICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogInN5bmNEYXRhIiB9KTsKICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogImdldENvbmZpZ1N1Y2Nlc3MiIH0pOwogICAgICB9KTsKICAgIH0KICAgIGZ1bmN0aW9uIGFkZFNldHRpbmdUZXh0KCkgewogICAgICBsZXQgYXBwID0gJChgPGEgaHJlZj0iJHtEZWZhdWx0VmFsLm1vYmlsZVNjcmlwdH0iIHRhcmdldD0nX2JsYW5rJyBjbGFzcz0idG9wIj48aSBjbGFzcz0iZmEgZmEtYW5kcm9pZCIgYXJpYS1oaWRkZW49InRydWUiPjwvaT48L2E+YCk7CiAgICAgICQoIi50b29scyIpLnByZXBlbmQoYXBwKTsKICAgICAgbGV0IHNldHRpbmcgPSAkKGA8YSBocmVmPSIvIiBjbGFzcz0idG9wIHYybmV4dC1zZXR0aW5nIj48c3Bhbj7ohJrmnKzorr7nva48L3NwYW4+PC9hPmApOwogICAgICBzZXR0aW5nLm9uKCJjbGljayIsIGZ1bmN0aW9uKGUyKSB7CiAgICAgICAgZnVuY3Rpb25zLnN0b3BFdmVudChlMik7CiAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJvcGVuU2V0dGluZyIgfSk7CiAgICAgIH0pOwogICAgICAkKCIudG9vbHMiKS5wcmVwZW5kKHNldHRpbmcpOwogICAgfQogICAgYXN5bmMgZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgbGV0IHRvcDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudG9vbHMgLnRvcDpudGgtY2hpbGQoMikiKTsKICAgICAgaWYgKHRvcDIgJiYgdG9wMi50ZXh0Q29udGVudCAhPT0gIuazqOWGjCIpIHsKICAgICAgICB3aW5kb3cuaXNMb2dpbiA9IHRydWU7CiAgICAgICAgd2luZG93LnVzZXIudXNlcm5hbWUgPSB0b3AyLnRleHRDb250ZW50OwogICAgICAgIHdpbmRvdy51c2VyLmF2YXRhciA9ICQoIiNSaWdodGJhciAuYm94IC5hdmF0YXIiKS5hdHRyKCJzcmMiKTsKICAgICAgfQogICAgICBmdW5jdGlvbnMuaW5pdENvbmZpZygpOwogICAgICBsZXQgYm94OwogICAgICBsZXQgbGlzdDsKICAgICAgbGV0IGxhc3Q7CiAgICAgIGxldCBoZWFkZXJXcmFwOwogICAgICBsZXQgeyBwYWdlRGF0YSwgcGFnZVR5cGUsIHVzZXJuYW1lIH0gPSBmdW5jdGlvbnMuY2hlY2tQYWdlVHlwZSgpOwogICAgICB3aW5kb3cucGFnZVR5cGUgPSBwYWdlVHlwZTsKICAgICAgd2luZG93LnBhZ2VEYXRhID0gcGFnZURhdGE7CiAgICAgIHdpbmRvdy50YXJnZXRVc2VyTmFtZSA9IHVzZXJuYW1lOwogICAgICBpbml0U3R5bGUoKTsKICAgICAgc3dpdGNoICh3aW5kb3cucGFnZVR5cGUpIHsKICAgICAgICBjYXNlIFBhZ2VUeXBlLk5vZGU6CiAgICAgICAgICBib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjV3JhcHBlciAjTWFpbiAuYm94Iik7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBoZWFkZXJXcmFwID0gJCgnPGRpdiBjbGFzcz0icG9zdC1pdGVtIj48L2Rpdj4nKTsKICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maWcudmlld1R5cGUgPT09ICJjYXJkIikKICAgICAgICAgICAgICBoZWFkZXJXcmFwWzBdLmNsYXNzTGlzdC5hZGQoInByZXZpZXciKTsKICAgICAgICAgICAgJChib3hbMV0pLnByZXBlbmQoaGVhZGVyV3JhcCk7CiAgICAgICAgICAgICQoYm94WzFdKS5jaGlsZHJlbigpLnNsaWNlKDEsIDMpLmVhY2goZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCJjZWxsIikpIHsKICAgICAgICAgICAgICAgIGhlYWRlcldyYXAuYXBwZW5kKHRoaXMpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGhlYWRlcldyYXAgPSAkKCc8ZGl2IGNsYXNzPSJwb3N0LWl0ZW0iPjwvZGl2PicpOwogICAgICAgICAgICBpZiAod2luZG93LmNvbmZpZy52aWV3VHlwZSA9PT0gImNhcmQiKQogICAgICAgICAgICAgIGhlYWRlcldyYXBbMF0uY2xhc3NMaXN0LmFkZCgicHJldmlldyIpOwogICAgICAgICAgICAkKGJveFsxXSkuYXBwZW5kKGhlYWRlcldyYXApOwogICAgICAgICAgICAkKGJveFsxXSkuY2hpbGRyZW4oKS5zbGljZSgyKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygiY2VsbCIpKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJXcmFwLmFwcGVuZCh0aGlzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBib3hbMV0uc3R5bGUuYm94U2hhZG93ID0gInVuc2V0IjsKICAgICAgICAgICAgYm94WzFdLnN0eWxlLmJhY2tncm91bmQgPSAidW5zZXQiOwogICAgICAgICAgICBib3hbMV0uc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgIH0gY2F0Y2ggKGUyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJQYWdlVHlwZS1Ob2Rl6Kej5p6Q5oql6ZSZ5LqGIiwgZTIpOwogICAgICAgICAgfQogICAgICAgICAgbGV0IHRvcGljcyA9IGJveFsxXS5xdWVyeVNlbGVjdG9yKCIjVG9waWNzTm9kZSIpOwogICAgICAgICAgbGlzdCA9IHRvcGljcy5xdWVyeVNlbGVjdG9yQWxsKCIuY2VsbCIpOwogICAgICAgICAgbGlzdFswXS5iZWZvcmUoJHNlY3Rpb24pOwogICAgICAgICAgd2luZG93LnBhcnNlLnBhcnNlUGFnZVBvc3RMaXN0KGxpc3QsIGJveFsxXSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFBhZ2VUeXBlLkNoYW5nZXM6CiAgICAgICAgY2FzZSBQYWdlVHlwZS5Ib21lOgogICAgICAgICAgYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI1dyYXBwZXIgI01haW4gLmJveCIpOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaGVhZGVyV3JhcCA9ICQoJzxkaXYgY2xhc3M9InBvc3QtaXRlbSI+PC9kaXY+Jyk7CiAgICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlnLnZpZXdUeXBlID09PSAiY2FyZCIpCiAgICAgICAgICAgICAgaGVhZGVyV3JhcFswXS5jbGFzc0xpc3QuYWRkKCJwcmV2aWV3Iik7CiAgICAgICAgICAgICQoYm94KS5wcmVwZW5kKGhlYWRlcldyYXApOwogICAgICAgICAgICAkKGJveCkuY2hpbGRyZW4oKS5zbGljZSgxLCAzKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoIml0ZW0iKSkgewogICAgICAgICAgICAgICAgaGVhZGVyV3JhcC5hcHBlbmQodGhpcyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHdpbmRvdy5pc0RlYWRsaW5lICYmICQoIi50YWJfY3VycmVudCIpLnRleHQoKSA9PSAi5pyA54OtIikgewogICAgICAgICAgICAgIGhlYWRlcldyYXAuYXBwZW5kKCQoYDxkaXYgY2xhc3M9ImNlbGwiIGlkPSJTZWNvbmRhcnlUYWJzIj48ZGl2IGNsYXNzPSJmciI+PGEgaHJlZj0iL3YyaG90PzMiPjPlpKnmnIDng608L2E+ICZuYnNwOyAmbmJzcDsgPGEgaHJlZj0iL3YyaG90PzciPjflpKnmnIDng608L2E+ICZuYnNwOyAmbmJzcDsgPGEgaHJlZj0iL3YyaG90PzMwIj4zMOWkqeacgOeDrTwvYT4gJm5ic3A7ICZuYnNwOyA8YSBocmVmPSIvdjJob3Q/c2V0dGluZyI+PGkgY2xhc3M9ImZhIGZhLWNhbGVuZGFyIiBhcmlhLWhpZGRlbj0idHJ1ZSI+PC9pPjwvYT48L2Rpdj48YSBocmVmPSIvdjJob3Q/LTEiPuaYqOWkqeacgOeDrTwvYT4gJm5ic3A7ICZuYnNwOyA8YSBocmVmPSIvdjJob3Q/LTIiPuWJjeWkqeacgOeDrTwvYT4gJm5ic3A7ICZuYnNwOyA8L2Rpdj5gKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGFzdCA9ICQoYm94KS5jaGlsZHJlbigpLmxhc3QoKTsKICAgICAgICAgICAgbGFzdC5hZGRDbGFzcygiY2VsbCBwb3N0LWl0ZW0iKTsKICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maWcudmlld1R5cGUgPT09ICJjYXJkIikKICAgICAgICAgICAgICBsYXN0WzBdLmNsYXNzTGlzdC5hZGQoInByZXZpZXciKTsKICAgICAgICAgICAgYm94LnN0eWxlLmJveFNoYWRvdyA9ICJ1bnNldCI7CiAgICAgICAgICAgIGJveC5zdHlsZS5iYWNrZ3JvdW5kID0gInVuc2V0IjsKICAgICAgICAgICAgYm94LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgICAgICB9IGNhdGNoIChlMikgewogICAgICAgICAgICBjb25zb2xlLmxvZygiUGFnZVR5cGUtSG9tZeino+aekOaKpemUmeS6hiIsIGUyKTsKICAgICAgICAgIH0KICAgICAgICAgIGxpc3QgPSBib3gucXVlcnlTZWxlY3RvckFsbCgiLml0ZW0iKTsKICAgICAgICAgIGxpc3RbMF0uYmVmb3JlKCRzZWN0aW9uKTsKICAgICAgICAgIHdpbmRvdy5wYXJzZS5wYXJzZVBhZ2VQb3N0TGlzdChsaXN0LCBib3gpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSBQYWdlVHlwZS5Qb3N0OgogICAgICAgICAgbGV0IGQyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImQiKTsKICAgICAgICAgIGlmIChkMikgewogICAgICAgICAgICB3aW5kb3cuc3RvcE1lID0gdHJ1ZTsKICAgICAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJzeW5jRGF0YSIgfSk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNXcmFwcGVyICNNYWluIC5ib3giKTsKICAgICAgICAgIGJveC5hZnRlcigkc2VjdGlvbik7CiAgICAgICAgICBsZXQgcjIgPSBhd2FpdCBmdW5jdGlvbnMuY2hlY2tQb3N0UmVwbGllcyh3aW5kb3cucGFnZURhdGEuaWQsIGZhbHNlKTsKICAgICAgICAgIGlmIChyMikgewogICAgICAgICAgICB3aW5kb3cuc3RvcE1lID0gdHJ1ZTsKICAgICAgICAgICAgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJzeW5jRGF0YSIgfSk7CiAgICAgICAgICAgIGZ1bmN0aW9ucy5jYkNoZWNrZXIoeyB0eXBlOiAid2FybmluZ05vdGljZSIsIHZhbHVlOiAi55Sx5LqO5Zue5aSN5pWw6YeP6L6D5aSa77yM6ISa5pys5bey5YGc5q2i6Kej5p6Q5qW85Lit5qW8IiB9KTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHdpbmRvdy5jb25maWcucG9zdFdpZHRoKSB7CiAgICAgICAgICAgIGxldCBNYWluID0gJCgiI01haW4iKTsKICAgICAgICAgICAgTWFpbi5jc3MoewogICAgICAgICAgICAgICJ3aWR0aCI6IHdpbmRvdy5jb25maWcucG9zdFdpZHRoLAogICAgICAgICAgICAgIG1hcmdpbjogInVuc2V0IgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgiI1dyYXBwZXIgPiAuY29udGVudCIpLmNzcyh7CiAgICAgICAgICAgICAgIm1heC13aWR0aCI6ICJ1bnNldCIsCiAgICAgICAgICAgICAgZGlzcGxheTogImZsZXgiLAogICAgICAgICAgICAgICJqdXN0aWZ5LWNvbnRlbnQiOiAiY2VudGVyIiwKICAgICAgICAgICAgICBnYXA6ICIyMHB4IgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgTWFpbi5hZnRlcigkKCIjUmlnaHRiYXIiKSk7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgcG9zdCA9IGdldERlZmF1bHRQb3N0KHsgaWQ6IHdpbmRvdy5wYWdlRGF0YS5pZCB9KTsKICAgICAgICAgIGxldCBib2R5ID0gJChkb2N1bWVudC5ib2R5KTsKICAgICAgICAgIGxldCBodG1sVGV4dCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICB3aW5kb3cucGFyc2UucGFyc2VQb3N0Q29udGVudCgKICAgICAgICAgICAgcG9zdCwKICAgICAgICAgICAgYm9keSwKICAgICAgICAgICAgaHRtbFRleHQKICAgICAgICAgICkudGhlbihhc3luYyAocmVzKSA9PiB7CiAgICAgICAgICAgIGF3YWl0IGZ1bmN0aW9ucy5jYkNoZWNrZXIoeyB0eXBlOiAicG9zdENvbnRlbnQiLCB2YWx1ZTogcmVzIH0pOwogICAgICAgICAgICBhd2FpdCB3aW5kb3cucGFyc2UucGFyc2VPcChyZXMpOwogICAgICAgICAgfSk7CiAgICAgICAgICB3aW5kb3cucGFyc2UuZ2V0UG9zdEFsbFJlcGxpZXMoCiAgICAgICAgICAgIHBvc3QsCiAgICAgICAgICAgIGJvZHksCiAgICAgICAgICAgIGh0bWxUZXh0LAogICAgICAgICAgICB3aW5kb3cucGFnZURhdGEucGFnZU5vCiAgICAgICAgICApLnRoZW4oYXN5bmMgKHJlczEpID0+IHsKICAgICAgICAgICAgYXdhaXQgZnVuY3Rpb25zLmNiQ2hlY2tlcih7IHR5cGU6ICJwb3N0UmVwbGllcyIsIHZhbHVlOiByZXMxIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIFBhZ2VUeXBlLk1lbWJlcjoKICAgICAgICAgIGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIiNXcmFwcGVyICNNYWluIC5ib3giKTsKICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygiL3JlcGxpZXMiKSkgewogICAgICAgICAgICBib3hbMF0uYWZ0ZXIoJHNlY3Rpb24pOwogICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygiL3RvcGljcyIpKSB7CiAgICAgICAgICAgIGJveFswXS5hZnRlcigkc2VjdGlvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAod2luZG93LmNvbmZpZy5vcGVuVGFnKSB7CiAgICAgICAgICAgICAgYm94WzBdLnN0eWxlLmJvcmRlckJvdHRvbSA9ICJub25lIjsKICAgICAgICAgICAgICBib3hbMF0uc3R5bGVbImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiXSA9ICIwIjsKICAgICAgICAgICAgICBib3hbMF0uc3R5bGVbImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzIl0gPSAiMCI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBoZWFkZXJXcmFwID0gJCgnPGRpdiBjbGFzcz0icG9zdC1pdGVtIj48L2Rpdj4nKTsKICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpZy52aWV3VHlwZSA9PT0gImNhcmQiKQogICAgICAgICAgICAgICAgaGVhZGVyV3JhcFswXS5jbGFzc0xpc3QuYWRkKCJwcmV2aWV3Iik7CiAgICAgICAgICAgICAgJChib3hbMV0pLnByZXBlbmQoaGVhZGVyV3JhcCk7CiAgICAgICAgICAgICAgJChib3hbMV0pLmNoaWxkcmVuKCkuc2xpY2UoMSwgMikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoIml0ZW0iKSkgewogICAgICAgICAgICAgICAgICBoZWFkZXJXcmFwLmFwcGVuZCh0aGlzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBsYXN0ID0gJChib3hbMV0pLmNoaWxkcmVuKCkubGFzdCgpOwogICAgICAgICAgICAgIGxhc3QuYWRkQ2xhc3MoImNlbGwgcG9zdC1pdGVtIik7CiAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maWcudmlld1R5cGUgPT09ICJjYXJkIikKICAgICAgICAgICAgICAgIGxhc3RbMF0uY2xhc3NMaXN0LmFkZCgicHJldmlldyIpOwogICAgICAgICAgICAgIGJveFsxXS5zdHlsZS5ib3hTaGFkb3cgPSAidW5zZXQiOwogICAgICAgICAgICAgIGJveFsxXS5zdHlsZS5iYWNrZ3JvdW5kID0gInVuc2V0IjsKICAgICAgICAgICAgICBib3hbMV0uc3R5bGUub3ZlcmZsb3cgPSAiaGlkZGVuIjsKICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiUGFnZVR5cGUtTWVtYmVy6Kej5p6Q5oql6ZSZ5LqGIiwgZTIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxpc3QgPSBib3hbMV0ucXVlcnlTZWxlY3RvckFsbCgiLmNlbGwiKTsKICAgICAgICAgICAgYm94WzBdLmFmdGVyKCRzZWN0aW9uKTsKICAgICAgICAgICAgd2luZG93LnBhcnNlLnBhcnNlUGFnZVBvc3RMaXN0KGxpc3QsIGJveFsxXSk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgd2luZG93LnN0b3BNZSA9IHRydWU7CiAgICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogInN5bmNEYXRhIiB9KTsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIuacquefpemhtemdoiIpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgICAgaWYgKHdpbmRvdy5pc0xvZ2luKSB7CiAgICAgICAgaW5pdE5vdGVEYXRhKCk7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlnLmF1dG9TaWduaW4pCiAgICAgICAgICAgIHFpYW5EYW8oKTsKICAgICAgICB9IGNhdGNoIChlMikgewogICAgICAgICAgY29uc29sZS5sb2coIuetvuWIsOWksei0pSIpOwogICAgICAgIH0KICAgICAgfQogICAgICBhZGRTZXR0aW5nVGV4dCgpOwogICAgICBpbml0TW9ua2V5TWVudSgpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCAoZTIpID0+IHsKICAgICAgICBsZXQgZG9tID0gZTIudGFyZ2V0OwogICAgICAgIGxldCBvcmlnaW5JbWdVcmwgPSBkb20uZ2V0QXR0cmlidXRlKCJvcmlnaW5VcmwiKTsKICAgICAgICBpZiAob3JpZ2luSW1nVXJsKSB7CiAgICAgICAgICBsZXQgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgICAgIGEuaHJlZiA9IG9yaWdpbkltZ1VybDsKICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCJub3RpY2UiLCAi5q2k5qCH562+55SxdjJleOi2hee6p+WinuW8uuiEmuacrOi9rOaNouWbvueJh+Wksei0peWQjuaBouWkjSIpOwogICAgICAgICAgYS5pbm5lclRleHQgPSBvcmlnaW5JbWdVcmw7CiAgICAgICAgICBhLnRhcmdldCA9ICJfYmxhbmsiOwogICAgICAgICAgZG9tLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEsIGRvbSk7CiAgICAgICAgfQogICAgICB9LCB0cnVlKTsKICAgIH0KICAgIHdpbmRvdy5jYW5QYXJzZVYyZXhQYWdlID0gIXdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoInNjcmlwdCIpOwogICAgaWYgKHdpbmRvdy5jYW5QYXJzZVYyZXhQYWdlKSB7CiAgICAgIGluaXQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGxldCBib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjV3JhcHBlciAjTWFpbiAuYm94Iik7CiAgICAgIGJveC5hZnRlcigkc2VjdGlvbik7CiAgICAgIHdpbmRvdy5zdG9wTWUgPSB0cnVlOwogICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogInN5bmNEYXRhIiB9KTsKICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoInNjcmlwdD0wIikpIHsKICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogIndhcm5pbmdOb3RpY2UiLCB2YWx1ZTogIuiEmuacrOaXoOazleafpeeci+atpOS4u+mimO+8jOW3suS4uuaCqOWNleeLrOaJk+W8gOatpOS4u+mimCIgfSk7CiAgICAgIH0KICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoInNjcmlwdD0xIikpIHsKICAgICAgICBmdW5jdGlvbnMuY2JDaGVja2VyKHsgdHlwZTogIndhcm5pbmdOb3RpY2UiLCB2YWx1ZTogIueUseS6juWbnuWkjeaVsOmHj+i+g+Wkmu+8jOW3suS4uuaCqOWNleeLrOaJk+W8gOatpOS4u+mimOW5tuWBnOatouino+aekOalvOS4realvCIgfSk7CiAgICAgIH0KICAgIH0KICB9CiAgaWYgKCFpc01vYmlsZSkgewogICAgY29uc29sZS5sb2coIlYyRVggUEPnq68iKTsKCiAgICAobz0+e2lmKHR5cGVvZiBHTV9hZGRTdHlsZT09ImZ1bmN0aW9uIil7R01fYWRkU3R5bGUobyk7cmV0dXJufWNvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtyLnRleHRDb250ZW50PW8sZG9jdW1lbnQuaGVhZC5hcHBlbmQocil9KSgnIC50aXBbZGF0YS12LWVlNjcyNDExXXtwb3NpdGlvbjpmaXhlZDtmb250LXNpemU6MS42cmVtO3otaW5kZXg6OTk5OTttYXgtd2lkdGg6MTByZW07Ym9yZGVyLXJhZGl1czouNXJlbTtwYWRkaW5nOjFyZW07Y29sb3I6dmFyKC0tY29sb3ItZm9udC04KTtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRvb2x0aXAtYmcpO2JveC1zaGFkb3c6MCAwIDZweCAxcHggdmFyKC0tY29sb3ItdG9vbHRpcC1zaGFkb3cpfS52LWVudGVyLWFjdGl2ZVtkYXRhLXYtZTdjMGZiZWZdLC52LWxlYXZlLWFjdGl2ZVtkYXRhLXYtZTdjMGZiZWZde3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0udi1lbnRlci1mcm9tW2RhdGEtdi1lN2MwZmJlZl0sLnYtbGVhdmUtdG9bZGF0YS12LWU3YzBmYmVmXXtvcGFjaXR5OjB9LnVzZXJuYW1lW2RhdGEtdi1lN2MwZmJlZl17Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxLjRyZW07bWFyZ2luLXJpZ2h0OjFyZW19LmxpbmstbnVtW2RhdGEtdi1lN2MwZmJlZl17Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7Y29sb3I6I2UwMmEyYX0ub3duZXJbZGF0YS12LWU3YzBmYmVmXXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxNDg0Y2Q7Ym9yZGVyLXJhZGl1czouM3JlbTtwYWRkaW5nOjAgLjNyZW07Y3Vyc29yOmRlZmF1bHQ7Ym9yZGVyOjJweCBzb2xpZCAjMTQ4NGNkO2ZvbnQtc2l6ZToxLjJyZW07Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1yaWdodDoxcmVtO3RyYW5zZm9ybTpzY2FsZSguOCl9Lm1vZFtkYXRhLXYtZTdjMGZiZWZde2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6IzE0ODRjZDtib3JkZXItcmFkaXVzOi4zcmVtO3BhZGRpbmc6MCAuM3JlbTtjdXJzb3I6ZGVmYXVsdDtib3JkZXI6MnB4IHNvbGlkICMxNDg0Y2Q7Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7dHJhbnNmb3JtOnNjYWxlKC44KTtiYWNrZ3JvdW5kOiMxNDg0Y2Q7Y29sb3I6I2ZmZjttYXJnaW4tcmlnaHQ6MXJlbX0ubXktdGFnW2RhdGEtdi1lN2MwZmJlZl17Zm9udC1zaXplOjEuNHJlbTtjb2xvcjpyZWQ7bWFyZ2luLWxlZnQ6MXJlbX0ubXktdGFnOmhvdmVyIC5yZW1vdmVbZGF0YS12LWU3YzBmYmVmXXtkaXNwbGF5OmlubGluZX0ubXktdGFnIC5yZW1vdmVbZGF0YS12LWU3YzBmYmVmXXtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDouNXJlbTtkaXNwbGF5Om5vbmV9LmFkZC10YWdbZGF0YS12LWU3YzBmYmVmXXtmb250LXNpemU6Mi40cmVtO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC4ycmVtKTtsaW5lLWhlaWdodDoxcmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjFyZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lfS5mbG9vcltkYXRhLXYtZTdjMGZiZWZde21hcmdpbi1sZWZ0Oi41cmVtO2ZvbnQtc2l6ZToxLjFyZW07bGluZS1oZWlnaHQ6MXJlbTtib3JkZXItcmFkaXVzOi41cmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItZmxvb3IpO2NvbG9yOnZhcigtLWNvbG9yLWZsb29yLWZvbnQpO3BhZGRpbmc6M3B4IDlweDtjdXJzb3I6ZGVmYXVsdH1bZGF0YS12LWU3YzBmYmVmXTpyb290ey0tY29sb3ItbWFpbi1iZzogI2UyZTJlMjstLWNvbG9yLXNlY29uZC1iZzogd2hpdGU7LS1jb2xvci10aGlyZC1iZzogI2UyZTJlMjstLWNvbG9yLWl0ZW0tYmc6IHdoaXRlOy0tY29sb3Itc3d0aWNoLWJnOiAjZGNkZmU2Oy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogIzk5OTstLWNvbG9yLWZvbnQtODogcmdiYSgwLCAwLCAwLCAuOCk7LS1jb2xvci1mb250LTM6IHJnYmEoMCwgMCwgMCwgLjMpOy0tY29sb3ItZm9udC1wdXJlOiBibGFjazstLWNvbG9yLWlucHV0LWJnOiB3aGl0ZTstLWNvbG9yLWlucHV0LWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLXRvb2x0aXAtYmc6IHdoaXRlOy0tY29sb3ItdG9vbHRpcC1zaGFkb3c6ICNiYmJiYmI7LS1jb2xvci1zY3JvbGxiYXI6ICM5M2FkZTM7LS1jb2xvci1saW5lOiAjZTJlMmUyOy0tY29sb3ItbG9hZGluZy0xOiAjMDAwMDAwMzM7LS1jb2xvci1sb2FkaW5nLTI6ICMwMDA7LS1jb2xvci1mbG9vcjogI2YwZjBmMDstLWNvbG9yLWZsb29yLWZvbnQ6ICNiZGJkYmQ7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogI2Y2ZjdmODstLWNvbG9yLXNwLWJ0bi1iZzogI2YxZjFmMTstLWNvbG9yLWNhbGwtbGlzdC1iZzogd2hpdGU7LS1jb2xvci10b3AtcmVwbHktd3JhcC1iZzogI2YyZjNmNTstLWNvbG9yLXRvcC1yZXBseS13cmFwLWxpbmU6ICNkMmQyZDJ9aHRtbC5kYXJrW2RhdGEtdi1lN2MwZmJlZl17LS1jb2xvci1tYWluLWJnOiAjMjIzMDNmOy0tY29sb3Itc2Vjb25kLWJnOiAjMTgyMjJkOy0tY29sb3ItdGhpcmQtYmc6ICMzMTQ3NWU7LS1jb2xvci1pdGVtLWJnOiAjMTgyMjJkOy0tY29sb3Itc3d0aWNoLWJnOiAjNGM0ZDRmOy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSk7LS1jb2xvci1mb250LTg6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpOy0tY29sb3ItZm9udC0zOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC4zKTstLWNvbG9yLWZvbnQtcHVyZTogd2hpdGU7LS1jb2xvci1pbnB1dC1iZzogIzMzMzMzMzstLWNvbG9yLWlucHV0LWJvcmRlcjogIzZjNmU3MjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogIzQ1NDg0NzstLWNvbG9yLXRvb2x0aXAtYmc6ICMzMTQ3NWU7LS1jb2xvci10b29sdGlwLXNoYWRvdzogIzNiM2IzYjstLWNvbG9yLXNjcm9sbGJhcjogIzVjNWQ1ZTstLWNvbG9yLWxpbmU6IHZhcigtLWJveC1ib3JkZXItY29sb3IpOy0tY29sb3ItbG9hZGluZy0xOiByZ2JhKDE3OCwgMTc3LCAxNzcsIC4yKTstLWNvbG9yLWxvYWRpbmctMjogI2ZmZmZmZjstLWNvbG9yLWZsb29yOiAjMjkzYjRkOy0tY29sb3ItZmxvb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMyk7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogdmFyKC0tYm94LWJhY2tncm91bmQtaG92ZXItY29sb3IpOy0tY29sb3Itc3AtYnRuLWJnOiAjMzE0NzVlOy0tY29sb3ItY2FsbC1saXN0LWJnOiAjMzE0NzVlOy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtYmc6ICMyMTJmM2U7LS1jb2xvci10b3AtcmVwbHktd3JhcC1saW5lOiAjM2I1MzZkfWh0bWxbZGF0YS12LWU3YzBmYmVmXSxib2R5W2RhdGEtdi1lN2MwZmJlZl17Zm9udC1zaXplOjYyLjUlfS5mbGV4W2RhdGEtdi1lN2MwZmJlZl17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uZmxleC1lbmRbZGF0YS12LWU3YzBmYmVmXXtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LmZsZXgtY2VudGVyW2RhdGEtdi1lN2MwZmJlZl17anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucDFbZGF0YS12LWU3YzBmYmVmXXtwYWRkaW5nOjFyZW19LnAyW2RhdGEtdi1lN2MwZmJlZl17cGFkZGluZzoycmVtfS5wMFtkYXRhLXYtZTdjMGZiZWZde3BhZGRpbmc6MCFpbXBvcnRhbnR9Ym9keSA6aXMoLnRvcGljX2NvbnRlbnQsLnJlcGx5X2NvbnRlbnQpIGFbaHJlZl49aHR0cF1bZGF0YS12LWU3YzBmYmVmXXt0ZXh0LXVuZGVybGluZS1vZmZzZXQ6LjdleDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lIDFweH1hW2RhdGEtdi1lN2MwZmJlZl17dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXJ9YVtkYXRhLXYtZTdjMGZiZWZdOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LnRvb2xbZGF0YS12LWU3YzBmYmVmXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjNyZW07Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjIuNnJlbTtwYWRkaW5nOjAgLjVyZW07Z2FwOi4ycmVtfS50b29sPnN2Z1tkYXRhLXYtZTdjMGZiZWZde3dpZHRoOjEuNnJlbSFpbXBvcnRhbnQ7aGVpZ2h0OjEuNnJlbSFpbXBvcnRhbnR9LnRvb2xbZGF0YS12LWU3YzBmYmVmXTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRoaXJkLWJnKX0udG9vbC5uby1ob3ZlcltkYXRhLXYtZTdjMGZiZWZde2N1cnNvcjpkZWZhdWx0fS50b29sLm5vLWhvdmVyW2RhdGEtdi1lN2MwZmJlZl06aG92ZXJ7YmFja2dyb3VuZDp1bnNldCFpbXBvcnRhbnR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LWU3YzBmYmVmXXtjdXJzb3I6bm90LWFsbG93ZWR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LWU3YzBmYmVmXTpob3ZlcntiYWNrZ3JvdW5kOnVuc2V0IWltcG9ydGFudH0ubXktbm9kZVtkYXRhLXYtZTdjMGZiZWZde2JvcmRlci1yYWRpdXM6LjJyZW07cGFkZGluZzouNHJlbTtmb250LXNpemU6MXJlbTtjb2xvcjojOTk5O2JhY2tncm91bmQ6I2Y1ZjVmNTtjdXJzb3I6cG9pbnRlcn0ubXktbm9kZVtkYXRhLXYtZTdjMGZiZWZdOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2UyZTJlMn0ubXNnc1tkYXRhLXYtZTdjMGZiZWZde3Bvc2l0aW9uOmZpeGVkO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjVyZW0pO3dpZHRoOjUwcmVtO3otaW5kZXg6OTk5OTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MH0ubXktYm94W2RhdGEtdi1lN2MwZmJlZl17Ym94LXNoYWRvdzowIDJweCAzcHggIzAwMDAwMDFhO2JveC1zaGFkb3c6IzAwMDAwMDE0IDAgNHB4IDEycHg7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cyk7YmFja2dyb3VuZDp2YXIoLS1ib3gtYmFja2dyb3VuZC1jb2xvcik7bWFyZ2luLWJvdHRvbToycmVtO3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuM3N9Lm15LWNlbGxbZGF0YS12LWU3YzBmYmVmXXtjb2xvcjp2YXIoLS1jb2xvci1mb250KTtwYWRkaW5nOi44cmVtIDFyZW07Zm9udC1zaXplOjEuNHJlbTtsaW5lLWhlaWdodDoxNTAlO3RleHQtYWxpZ246bGVmdDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0ubW9kYWxbZGF0YS12LWU3YzBmYmVmXXtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDE7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO2xlZnQ6MDt0b3A6MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1vZGFsIC50aXRsZVtkYXRhLXYtZTdjMGZiZWZde2ZvbnQtc2l6ZToyLjRyZW07bWFyZ2luLWJvdHRvbToxcmVtO3RleHQtYWxpZ246Y2VudGVyfS5tb2RhbCAub3B0aW9uW2RhdGEtdi1lN2MwZmJlZl17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOi42cmVtIDB9Lm1vZGFsIC5vcHRpb24+c3BhbltkYXRhLXYtZTdjMGZiZWZde3Bvc2l0aW9uOnJlbGF0aXZlfS5tb2RhbCAubWFza1tkYXRhLXYtZTdjMGZiZWZde3Bvc2l0aW9uOmZpeGVkO3dpZHRoOjEwMHZ3O2hlaWdodDoxMDB2aDtsZWZ0OjA7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjojMWQxYzFjNDd9LnJhZGlvLWdyb3VwMltkYXRhLXYtZTdjMGZiZWZde2Rpc3BsYXk6aW5saW5lLWZsZXg7Ym9yZGVyLXJhZGl1czouNXJlbTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1yYWRpby1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tYm94LWJhY2tncm91bmQtYWx0LWNvbG9yKX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtZTdjMGZiZWZde2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7cGFkZGluZzouNXJlbSAxLjJyZW07Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXJhZGlvLWJvcmRlcik7Zm9udC1zaXplOjEuM3JlbTtjb2xvcjp2YXIoLS1jb2xvci1ncmF5KX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtZTdjMGZiZWZdOmZpcnN0LWNoaWxke2JvcmRlci1sZWZ0Om5vbmV9LnJhZGlvLWdyb3VwMiAuYWN0aXZlW2RhdGEtdi1lN2MwZmJlZl17YmFja2dyb3VuZDp2YXIoLS1jb2xvci10aGlyZC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9LnBvcC1jb25maXJtW2RhdGEtdi1lN2MwZmJlZl17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfWlucHV0W2RhdGEtdi1lN2MwZmJlZl17aGVpZ2h0OjNyZW07b3V0bGluZTp1bnNldDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzowIC41cmVtO2JvcmRlci1yYWRpdXM6NXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDt0cmFuc2l0aW9uOmFsbCAuM3M7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1pbnB1dC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9aW5wdXRbZGF0YS12LWU3YzBmYmVmXTpob3Zlcntib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlci1ob3Zlcil9aW5wdXRbZGF0YS12LWU3YzBmYmVmXTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjdGl2ZSl9LmRhbmdlcltkYXRhLXYtZTdjMGZiZWZde2NvbG9yOnJlZCFpbXBvcnRhbnR9LnBvcC1jb25maXJtLWNvbnRlbnRbZGF0YS12LWU3YzBmYmVmXXtwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRvb2x0aXAtYmcpO2JveC1zaGFkb3c6MCAwIDZweCAxcHggdmFyKC0tY29sb3ItdG9vbHRpcC1zaGFkb3cpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7cGFkZGluZzoxLjVyZW07Ym9yZGVyLXJhZGl1czouOHJlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsY2FsYygtMTAwJSAtIDFyZW0pKTt6LWluZGV4OjEwMDN9LnBvcC1jb25maXJtLWNvbnRlbnQgLnRleHRbZGF0YS12LWU3YzBmYmVmXXt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtc2l6ZToxLjZyZW07d2lkdGg6MTVyZW07bWluLXdpZHRoOjE1cmVtfS5wb3AtY29uZmlybS1jb250ZW50IC5vcHRpb25zW2RhdGEtdi1lN2MwZmJlZl17bWFyZ2luLXRvcDoxLjVyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW19aW1nW2RhdGEtdi1lN2MwZmJlZl17bWF4LXdpZHRoOjEwMCV9LnN3aXRjaFtkYXRhLXYtZTdjMGZiZWZde3dpZHRoOjQuNXJlbTtoZWlnaHQ6Mi4ycmVtO2JvcmRlci1yYWRpdXM6MnJlbTtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc3d0aWNoLWJnKTt0cmFuc2l0aW9uOmFsbCAuM3N9LnN3aXRjaC5hY3RpdmVbZGF0YS12LWU3YzBmYmVmXXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWFjdGl2ZSl9LnN3aXRjaC5hY3RpdmVbZGF0YS12LWU3YzBmYmVmXTpiZWZvcmV7cmlnaHQ6LjJyZW19LnN3aXRjaFtkYXRhLXYtZTdjMGZiZWZdOmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OiIgIjt0cmFuc2l0aW9uOmFsbCAuM3M7cmlnaHQ6Y2FsYygxMDAlIC0gMnJlbSk7d2lkdGg6MS44cmVtO2hlaWdodDoxLjhyZW07YmFja2dyb3VuZDp3aGl0ZTtib3JkZXItcmFkaXVzOjUwJX0uZGlzcGxheS10eXBlW2RhdGEtdi1lNGY2ODRiZV17aGVpZ2h0OjNyZW07cGFkZGluZzowIC4zcmVtO2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc3AtYnRuLWJnKTtib3JkZXItcmFkaXVzOjFyZW07ZGlzcGxheTpmbGV4O2ZvbnQtc2l6ZToxLjRyZW07YWxpZ24taXRlbXM6Y2VudGVyO2NvbG9yOiNhOWE5YTl9LmRpc3BsYXktdHlwZSAudHlwZVtkYXRhLXYtZTRmNjg0YmVde2JvcmRlci1yYWRpdXM6LjhyZW07cGFkZGluZzowIDEuM3JlbTtoZWlnaHQ6Mi44cmVtO2FsaWduLWl0ZW1zOmNlbnRlcjtkaXNwbGF5OmZsZXg7cG9zaXRpb246cmVsYXRpdmU7Y3Vyc29yOnBvaW50ZXJ9LmRpc3BsYXktdHlwZSAudHlwZS5hY3RpdmVbZGF0YS12LWU0ZjY4NGJlXXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXNlY29uZC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udC1wdXJlKTtib3gtc2hhZG93OjAgMCA2cHggMCB2YXIoLS1jb2xvci10b29sdGlwLXNoYWRvdyl9LmRpc3BsYXktdHlwZSAudHlwZS1saXN0W2RhdGEtdi1lNGY2ODRiZV17cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zcC1idG4tYmcpO3JpZ2h0OjA7dG9wOjNyZW07Zm9udC1zaXplOjEuNHJlbTtib3gtc2hhZG93OjAgMCA2cHggMCB2YXIoLS1jb2xvci10b29sdGlwLXNoYWRvdyk7Ym9yZGVyLXJhZGl1czouNnJlbTt6LWluZGV4Ojk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9LmRpc3BsYXktdHlwZSAudHlwZS1saXN0IC5pdGVtW2RhdGEtdi1lNGY2ODRiZV17d29yZC1icmVhazprZWVwLWFsbDtwYWRkaW5nOi44cmVtIDFyZW07Y3Vyc29yOnBvaW50ZXJ9LmRpc3BsYXktdHlwZSAudHlwZS1saXN0IC5pdGVtLmFjdGl2ZVtkYXRhLXYtZTRmNjg0YmVdLC5kaXNwbGF5LXR5cGUgLnR5cGUtbGlzdCAuaXRlbVtkYXRhLXYtZTRmNjg0YmVdOmhvdmVye2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtcHVyZSl9LmRpc3BsYXktdHlwZSBzdmdbZGF0YS12LWU0ZjY4NGJlXXt3aWR0aDoxLjVyZW19LmxvYWRpbmdbZGF0YS12LTI2OTdiYWEyXXtib3JkZXI6MnB4IHNvbGlkO2JvcmRlci1jb2xvcjp2YXIoLS1jb2xvci1sb2FkaW5nLTIpIHZhcigtLWNvbG9yLWxvYWRpbmctMSkgdmFyKC0tY29sb3ItbG9hZGluZy0xKSB2YXIoLS1jb2xvci1sb2FkaW5nLTEpO2JvcmRlci1yYWRpdXM6MTAwJTthbmltYXRpb246Y2lyY2xlLTI2OTdiYWEyIGluZmluaXRlIDFzIGxpbmVhcjt3aWR0aDoycmVtO2hlaWdodDoycmVtfS5sb2FkaW5nLnNtYWxsW2RhdGEtdi0yNjk3YmFhMl17d2lkdGg6MS4ycmVtO2hlaWdodDoxLjJyZW19LmxvYWRpbmcubGFyZ2VbZGF0YS12LTI2OTdiYWEyXXt3aWR0aDozcmVtO2hlaWdodDozcmVtfUBrZXlmcmFtZXMgY2lyY2xlLTI2OTdiYWEyezAle3RyYW5zZm9ybTpyb3RhdGUoMCl9dG97dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uYmFzZS1idXR0b25bZGF0YS12LTVhN2Q3OWJhXXtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOi42cmVtO3BhZGRpbmc6MCAxLjVyZW07ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0cmFuc2l0aW9uOmFsbCAuM3M7aGVpZ2h0OjMuNnJlbTtsaW5lLWhlaWdodDoxO3Bvc2l0aW9uOnJlbGF0aXZlfS5iYXNlLWJ1dHRvbiAubG9hZGluZ1tkYXRhLXYtNWE3ZDc5YmFde3Bvc2l0aW9uOmFic29sdXRlfS5iYXNlLWJ1dHRvbi5kaXNhYmxlZFtkYXRhLXYtNWE3ZDc5YmFde29wYWNpdHk6LjY7Y3Vyc29yOm5vdC1hbGxvd2VkOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5iYXNlLWJ1dHRvbi5zbWFsbFtkYXRhLXYtNWE3ZDc5YmFde2hlaWdodDozcmVtfS5iYXNlLWJ1dHRvbi5zbWFsbD5zcGFuW2RhdGEtdi01YTdkNzliYV17Zm9udC1zaXplOjEuM3JlbX0uYmFzZS1idXR0b24ubGFyZ2VbZGF0YS12LTVhN2Q3OWJhXXtoZWlnaHQ6NXJlbTtmb250LXNpemU6MS44cmVtO3BhZGRpbmc6MCAyLjJyZW19LmJhc2UtYnV0dG9uLmxhcmdlPnNwYW5bZGF0YS12LTVhN2Q3OWJhXXtmb250LXNpemU6MS44cmVtfS5iYXNlLWJ1dHRvbltkYXRhLXYtNWE3ZDc5YmFdOmhvdmVyOm5vdCgubGluayl7b3BhY2l0eTouN30uYmFzZS1idXR0b24ucHJpbWFyeVtkYXRhLXYtNWE3ZDc5YmFde2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYWN0aXZlKX0uYmFzZS1idXR0b24ucHJpbWFyeT5zcGFuW2RhdGEtdi01YTdkNzliYV17Y29sb3I6I2ZmZn0uYmFzZS1idXR0b24uZ2FyeVtkYXRhLXYtNWE3ZDc5YmFde2JhY2tncm91bmQ6IzRiNTU2M30uYmFzZS1idXR0b24ubGlua1tkYXRhLXYtNWE3ZDc5YmFde2JvcmRlci1yYWRpdXM6MDtib3JkZXItYm90dG9tOjJweCBzb2xpZCB0cmFuc3BhcmVudH0uYmFzZS1idXR0b24ubGluaz5zcGFuW2RhdGEtdi01YTdkNzliYV17Y29sb3I6dmFyKC0tY29sb3ItZm9udC04KX0uYmFzZS1idXR0b24ubGlua1tkYXRhLXYtNWE3ZDc5YmFdOmhvdmVye2JvcmRlci1ib3R0b206MnB4IHNvbGlkIHZhcigtLWNvbG9yLWZvbnQtOCl9LmJhc2UtYnV0dG9uLmFjdGl2ZVtkYXRhLXYtNWE3ZDc5YmFde29wYWNpdHk6LjR9LmtleS1ub3RpY2VbZGF0YS12LTVhN2Q3OWJhXXttYXJnaW4tbGVmdDoxcmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtmb250LXNpemU6MS4ycmVtO2NvbG9yOiNmZmZ9LmtleS1ub3RpY2UgLmtleVtkYXRhLXYtNWE3ZDc5YmFde3RyYW5zZm9ybTpzY2FsZSguOCl9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3RbZGF0YS12LTM4NmI0M2QwXXt6LWluZGV4Ojk7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1tYWluLWJnKTtib3JkZXItcmFkaXVzOjFyZW07Zm9udC1zaXplOjEuNHJlbTtvdmVyZmxvdzpoaWRkZW47Y29sb3I6dmFyKC0tY29sb3ItZm9udC1wdXJlKX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtaGVhZGVyW2RhdGEtdi0zODZiNDNkMF17cGFkZGluZzoxLjRyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7cG9zaXRpb246cmVsYXRpdmV9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWhlYWRlciAudGl0bGVbZGF0YS12LTM4NmI0M2QwXXtmb250LXNpemU6Mi4ycmVtO3RleHQtYWxpZ246bGVmdDttYXJnaW4tYm90dG9tOjB9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWhlYWRlciBzdmdbZGF0YS12LTM4NmI0M2QwXXtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxcmVtO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToyLjZyZW19LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHlbZGF0YS12LTM4NmI0M2QwXXt3aWR0aDo2MHJlbX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudFtkYXRhLXYtMzg2YjQzZDBde2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc2Vjb25kLWJnKTtmbGV4OjE7aGVpZ2h0OjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MXJlbSAxcmVtIDFyZW0gMnJlbTtmb250LXNpemU6MS42cmVtO3RleHQtYWxpZ246bGVmdDtsaW5lLWhlaWdodDoxLjZ9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLmJ0bnNbZGF0YS12LTM4NmI0M2QwXXttYXJnaW46MS41cmVtO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxLjVyZW07Zm9udC1zaXplOjEuNHJlbX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdFtkYXRhLXYtMjlkODgxOTlde3otaW5kZXg6OTtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLW1haW4tYmcpO2JvcmRlci1yYWRpdXM6MXJlbTtmb250LXNpemU6MS40cmVtO292ZXJmbG93OmhpZGRlbjtjb2xvcjp2YXIoLS1jb2xvci1mb250LXB1cmUpfS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1oZWFkZXJbZGF0YS12LTI5ZDg4MTk5XXtwYWRkaW5nOjIuNHJlbTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW59LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWhlYWRlciAudGl0bGVbZGF0YS12LTI5ZDg4MTk5XXtmb250LXNpemU6Mi42cmVtO2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luLWJvdHRvbTowfS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1oZWFkZXIgc3ZnW2RhdGEtdi0yOWQ4ODE5OV17Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjIuNnJlbX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keVtkYXRhLXYtMjlkODgxOTlde3dpZHRoOjQ1dnc7aGVpZ2h0Ojcwdmg7ZGlzcGxheTpmbGV4fS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5ib2R5IC5sZWZ0W2RhdGEtdi0yOWQ4ODE5OV17ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC1zaXplOjEuOHJlbX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubGVmdCAudGFic1tkYXRhLXYtMjlkODgxOTlde3BhZGRpbmc6MXJlbSAycmVtO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47Z2FwOjFyZW19LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLmxlZnQgLnRhYnMgLnRhYltkYXRhLXYtMjlkODgxOTlde2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MXJlbSAzcmVtO2JvcmRlci1yYWRpdXM6LjhyZW07ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtnYXA6MXJlbX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubGVmdCAudGFicyAudGFiLmFjdGl2ZVtkYXRhLXYtMjlkODgxOTlde2JhY2tncm91bmQ6dmFyKC0tY29sb3ItaXRlbS1iZyl9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLmxlZnQgLmljb25zW2RhdGEtdi0yOWQ4ODE5OV17ZGlzcGxheTpmbGV4O2dhcDoxcmVtO21hcmdpbi1ib3R0b206MnJlbTtmb250LXNpemU6Mi40cmVtfS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5ib2R5IC5tb2RhbC1jb250ZW50W2RhdGEtdi0yOWQ4ODE5OV17YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zZWNvbmQtYmcpO2ZsZXg6MTtoZWlnaHQ6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzoxcmVtIDFyZW0gMXJlbSAycmVtO2JvcmRlci1yYWRpdXM6MXJlbTtkaXNwbGF5OmZsZXh9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLm1vZGFsLWNvbnRlbnQgLnNjcm9sbFtkYXRhLXYtMjlkODgxOTlde2ZsZXg6MTtwYWRkaW5nLXJpZ2h0OjFyZW07b3ZlcmZsb3c6YXV0b30uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudCAuc2Nyb2xsIC5yb3dbZGF0YS12LTI5ZDg4MTk5XXttaW4taGVpZ2h0OjVyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudCAuc2Nyb2xsIC5yb3cgLndyYXBwZXJbZGF0YS12LTI5ZDg4MTk5XXtoZWlnaHQ6M3JlbTtmbGV4OjE7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOnZhcigtLXNwYWNlKX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudCAuc2Nyb2xsIC5yb3cgLndyYXBwZXIgc3BhbltkYXRhLXYtMjlkODgxOTlde3RleHQtYWxpZ246cmlnaHQ7Zm9udC1zaXplOjEuNHJlbTtjb2xvcjpncmF5fS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5ib2R5IC5tb2RhbC1jb250ZW50IC5zY3JvbGwgLnJvdyAud3JhcHBlciAuc2V0LWtleVtkYXRhLXYtMjlkODgxOTlde2FsaWduLWl0ZW1zOmNlbnRlcn0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudCAuc2Nyb2xsIC5yb3cgLndyYXBwZXIgLnNldC1rZXkgaW5wdXRbZGF0YS12LTI5ZDg4MTk5XXt3aWR0aDoxNXJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7bWFyZ2luLXJpZ2h0OjFyZW07aGVpZ2h0OjIuOHJlbTtvdXRsaW5lOm5vbmU7Zm9udC1zaXplOjEuNnJlbTtib3JkZXI6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLXJhZGl1czouM3JlbTtwYWRkaW5nOjAgLjVyZW07YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zZWNvbmQtYmcpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtMSl9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLm1vZGFsLWNvbnRlbnQgLnNjcm9sbCAucm93IC5tYWluLXRpdGxlW2RhdGEtdi0yOWQ4ODE5OV17Zm9udC1zaXplOjIuMnJlbTtmb250LXdlaWdodDo3MDA7Y29sb3I6dmFyKC0tY29sb3ItZm9udC04KX0uc2V0dGluZy1tb2RhbCAubW9kYWwtcm9vdCAuYm9keSAubW9kYWwtY29udGVudCAuc2Nyb2xsIC5yb3cgLml0ZW0tdGl0bGVbZGF0YS12LTI5ZDg4MTk5XXtmb250LXNpemU6MS44cmVtfS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5ib2R5IC5tb2RhbC1jb250ZW50IC5zY3JvbGwgLmRlc2NbZGF0YS12LTI5ZDg4MTk5XXttYXJnaW4tYm90dG9tOjFyZW07Zm9udC1zaXplOjEuNHJlbTt0ZXh0LWFsaWduOmxlZnQ7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9LnNldHRpbmctbW9kYWwgLm1vZGFsLXJvb3QgLmJvZHkgLm1vZGFsLWNvbnRlbnQgLnNjcm9sbCAucHJvamVjdC1kZXNjW2RhdGEtdi0yOWQ4ODE5OV17dGV4dC1hbGlnbjpzdGFydDtmb250LXNpemU6MS42cmVtO3BhZGRpbmctYm90dG9tOjEwcmVtfS5zZXR0aW5nLW1vZGFsIC5tb2RhbC1yb290IC5ib2R5IC5tb2RhbC1jb250ZW50IC5zY3JvbGwgLmxpbmVbZGF0YS12LTI5ZDg4MTk5XXtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjYzRjM2MzfS5zdWItY29udGVudFtkYXRhLXYtMjlkODgxOTlde3BhZGRpbmc6MCAycmVtIDFyZW07Ym9yZGVyLXJhZGl1czoxcmVtO2JhY2tncm91bmQ6I2YzZjNmMzttYXJnaW4tYm90dG9tOjFyZW19LmxvZ1tkYXRhLXYtMjlkODgxOTlde3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtYWxpZ246bGVmdDttYXJnaW4tYm90dG9tOjIwcHg7cGFkZGluZy1sZWZ0OjIwcHg7Zm9udC1zaXplOjE2cHg7Y29sb3I6IzY0OTVlZDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5BdXRob3JbZGF0YS12LTY0YWExOTMwXXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2ZvbnQtc2l6ZToxLjJyZW07cG9zaXRpb246cmVsYXRpdmV9LkF1dGhvci5leHBhbmRbZGF0YS12LTY0YWExOTMwXXttYXJnaW4tYm90dG9tOjB9LkF1dGhvciAuQXV0aG9yLWxlZnRbZGF0YS12LTY0YWExOTMwXXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO21heC13aWR0aDo2NSU7d29yZC1icmVhazpicmVhay1hbGx9LkF1dGhvciAuQXV0aG9yLWxlZnQgLnVzZXJuYW1lW2RhdGEtdi02NGFhMTkzMF17Zm9udC1zaXplOjEuNHJlbTttYXJnaW4tcmlnaHQ6LjZyZW19LkF1dGhvciAuQXV0aG9yLWxlZnQgLmV4cGFuZC1pY29uW2RhdGEtdi02NGFhMTkzMF17Y3Vyc29yOnBvaW50ZXI7bWFyZ2luLXJpZ2h0Oi42cmVtO3dpZHRoOjJyZW07aGVpZ2h0OjJyZW07dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9LkF1dGhvciAuQXV0aG9yLWxlZnQgLmF2YXRhcltkYXRhLXYtNjRhYTE5MzBde21hcmdpbi1yaWdodDouOHJlbTtkaXNwbGF5OmZsZXh9LkF1dGhvciAuQXV0aG9yLWxlZnQgLmF2YXRhciBpbWdbZGF0YS12LTY0YWExOTMwXXt3aWR0aDoyLjhyZW07aGVpZ2h0OjIuOHJlbTtib3JkZXItcmFkaXVzOi40cmVtfS5BdXRob3IgLkF1dGhvci1sZWZ0IC50ZXh0c1tkYXRhLXYtNjRhYTE5MzBde2ZsZXg6MX0uQXV0aG9yIC5BdXRob3ItbGVmdCAub3duZXJbZGF0YS12LTY0YWExOTMwXXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxNDg0Y2Q7Ym9yZGVyLXJhZGl1czouM3JlbTtwYWRkaW5nOjAgLjNyZW07Y3Vyc29yOmRlZmF1bHQ7Ym9yZGVyOjJweCBzb2xpZCAjMTQ4NGNkO2ZvbnQtc2l6ZToxLjJyZW07Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1yaWdodDouNnJlbTt0cmFuc2Zvcm06c2NhbGUoLjgpfS5BdXRob3IgLkF1dGhvci1sZWZ0IC5kdXBbZGF0YS12LTY0YWExOTMwXXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOnJlZDtib3JkZXItcmFkaXVzOi4zcmVtO3BhZGRpbmc6MCAuM3JlbTtjdXJzb3I6ZGVmYXVsdDtib3JkZXI6MnB4IHNvbGlkIHJlZDtmb250LXNpemU6MS4ycmVtO2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tcmlnaHQ6LjZyZW07dHJhbnNmb3JtOnNjYWxlKC44KX0uQXV0aG9yIC5BdXRob3ItbGVmdCAubW9kW2RhdGEtdi02NGFhMTkzMF17ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjojMTQ4NGNkO2JvcmRlci1yYWRpdXM6LjNyZW07cGFkZGluZzowIC4zcmVtO2N1cnNvcjpkZWZhdWx0O2JvcmRlcjoycHggc29saWQgIzE0ODRjZDtmb250LXNpemU6MS4ycmVtO2ZvbnQtd2VpZ2h0OjcwMDt0cmFuc2Zvcm06c2NhbGUoLjgpO2JhY2tncm91bmQ6IzE0ODRjZDtjb2xvcjojZmZmO21hcmdpbi1yaWdodDouNnJlbX0uQXV0aG9yOmhvdmVyIC5hZGQtdGFnW2RhdGEtdi02NGFhMTkzMF17ZGlzcGxheTppbmxpbmUtYmxvY2t9LkF1dGhvciAuQXV0aG9yLXJpZ2h0W2RhdGEtdi02NGFhMTkzMF17cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5BdXRob3IgLkF1dGhvci1yaWdodCAudG9vbGJhcltkYXRhLXYtNjRhYTE5MzBde2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6dmFyKC0tY29sb3ItZ3JheSk7b3BhY2l0eTowO2dhcDouMnJlbX0uQXV0aG9yIC5BdXRob3ItcmlnaHQgLnRvb2xiYXJbZGF0YS12LTY0YWExOTMwXTpob3ZlcntvcGFjaXR5OjF9LnBvc3QtZWRpdG9yLXdyYXBwZXJbZGF0YS12LTg1ZTA5YjRlXXt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW47dHJhbnNpdGlvbjphbGwgLjNzO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQpfS5wb3N0LWVkaXRvci13cmFwcGVyLnJlcGx5LXBvc3QgLnBvc3QtZWRpdG9yW2RhdGEtdi04NWUwOWI0ZV17Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0ucG9zdC1lZGl0b3Itd3JhcHBlci5yZXBseS1wb3N0LmlzRm9jdXMgLnBvc3QtZWRpdG9yW2RhdGEtdi04NWUwOWI0ZV17Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1hY3RpdmUpfS5wb3N0LWVkaXRvci13cmFwcGVyLnJlcGx5LWNvbW1lbnRbZGF0YS12LTg1ZTA5YjRlXXtib3JkZXItcmFkaXVzOnZhcigtLWJveC1ib3JkZXItcmFkaXVzKTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0ucG9zdC1lZGl0b3Itd3JhcHBlci5yZXBseS1jb21tZW50LmlzRm9jdXNbZGF0YS12LTg1ZTA5YjRlXXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjdGl2ZSl9LnBvc3QtZWRpdG9yLXdyYXBwZXIucmVwbHktY29tbWVudCAudG9vbGJhcltkYXRhLXYtODVlMDliNGVde2JhY2tncm91bmQ6dmFyKC0tY29sb3ItZWRpdG9yLXRvb2xiYXIpfS5wb3N0LWVkaXRvci13cmFwcGVyIC5wb3N0LWVkaXRvcltkYXRhLXYtODVlMDliNGVde2JvcmRlci1yYWRpdXM6dmFyKC0tYm94LWJvcmRlci1yYWRpdXMpO3RyYW5zaXRpb246Ym9yZGVyIC4zczt3aWR0aDoxMDAlO21heC13aWR0aDoxMDAlO3BhZGRpbmc6LjZyZW0gMS40cmVtO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdXRsaW5lOm5vbmU7Zm9udC1mYW1pbHk6QXZlbmlyLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxLjRyZW07bWluLWhlaWdodDoxM3JlbTtyZXNpemU6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWJveC1iYWNrZ3JvdW5kLWNvbG9yKTtjb2xvcjp2YXIoLS1jb2xvci1mb250LXB1cmUpO2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LnBvc3QtZWRpdG9yLXdyYXBwZXIgLnRvb2xiYXJbZGF0YS12LTg1ZTA5YjRlXXtib3gtc2l6aW5nOmJvcmRlci1ib3g7cGFkZGluZzouNXJlbSAxcmVtO3dpZHRoOjEwMCU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcn0ucG9zdC1lZGl0b3Itd3JhcHBlciAudG9vbGJhciAubGVmdFtkYXRhLXYtODVlMDliNGVde2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW07Zm9udC1zaXplOjIuNnJlbX0ucG9zdC1lZGl0b3Itd3JhcHBlciAudG9vbGJhciAubGVmdCBzdmdbZGF0YS12LTg1ZTA5YjRlXXtjdXJzb3I6cG9pbnRlcn0ucG9zdC1lZGl0b3Itd3JhcHBlciAudG9vbGJhciAubGVmdCAudXBsb2FkW2RhdGEtdi04NWUwOWI0ZV17d2lkdGg6Mi42cmVtO2hlaWdodDoyLjZyZW07b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0ucG9zdC1lZGl0b3Itd3JhcHBlciAudG9vbGJhciAubGVmdCAudXBsb2FkIGlucHV0W2RhdGEtdi04NWUwOWI0ZV17d2lkdGg6Mi42cmVtO2hlaWdodDoyLjZyZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowfS5wb3N0LWVkaXRvci13cmFwcGVyIC50b29sYmFyIHNwYW5bZGF0YS12LTg1ZTA5YjRlXXtjb2xvcjpncmF5O2ZvbnQtc2l6ZToxLjNyZW19LnBvc3QtZWRpdG9yLXdyYXBwZXIgLmdldC1jdXJzb3JbZGF0YS12LTg1ZTA5YjRlXXtib3JkZXItcmFkaXVzOnZhcigtLWJveC1ib3JkZXItcmFkaXVzKTt0cmFuc2l0aW9uOmJvcmRlciAuM3M7d2lkdGg6MTAwJTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOi42cmVtIDEuNHJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3g7b3V0bGluZTpub25lO2ZvbnQtZmFtaWx5OkF2ZW5pcixIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MS40cmVtO21pbi1oZWlnaHQ6MTNyZW07cmVzaXplOm5vbmU7YmFja2dyb3VuZDp2YXIoLS1ib3gtYmFja2dyb3VuZC1jb2xvcik7Y29sb3I6dmFyKC0tY29sb3ItZm9udC1wdXJlKTtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3otaW5kZXg6LTEwMH0ucG9zdC1lZGl0b3Itd3JhcHBlciAuZW1vdGljb24tcGFja1tkYXRhLXYtODVlMDliNGVde3otaW5kZXg6OTk5OTk5OTk5O2JvcmRlci1yYWRpdXM6MXJlbTtwYWRkaW5nOjFyZW07d2lkdGg6MzFyZW07bWF4LXdpZHRoOjMxcmVtO2hlaWdodDozMHJlbTttYXgtaGVpZ2h0OjMwcmVtO292ZXJmbG93OmF1dG87YmFja2dyb3VuZDp2YXIoLS1jb2xvci10aGlyZC1iZyk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1mb250LTMpO2JveC1zaGFkb3c6MCA5cHggMjRweCAtM3B4ICMwMDAwMDAwZiwwIDRweCA4cHggLTFweCAjMDAwMDAwMWY7cG9zaXRpb246Zml4ZWQ7Ym90dG9tOjExcmVtO2xlZnQ6MTRyZW19LnBvc3QtZWRpdG9yLXdyYXBwZXIgLmVtb3RpY29uLXBhY2sgc3ZnW2RhdGEtdi04NWUwOWI0ZV17Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6LjhyZW07Zm9udC1zaXplOjIuNHJlbX0ucG9zdC1lZGl0b3Itd3JhcHBlciAuZW1vdGljb24tcGFjayAubGlzdFtkYXRhLXYtODVlMDliNGVde21hcmdpbjoxcmVtIDA7ZGlzcGxheTpmbGV4O2ZsZXgtd3JhcDp3cmFwfS5wb3N0LWVkaXRvci13cmFwcGVyIC5lbW90aWNvbi1wYWNrIGltZ1tkYXRhLXYtODVlMDliNGVde2N1cnNvcjpwb2ludGVyO3dpZHRoOmNhbGMoMTAwJSAvIDcpO3BhZGRpbmc6LjVyZW07Ym94LXNpemluZzpib3JkZXItYm94fS5wb3N0LWVkaXRvci13cmFwcGVyIC5lbW90aWNvbi1wYWNrIHNwYW5bZGF0YS12LTg1ZTA5YjRlXXt3aWR0aDpjYWxjKDEwMCUgLyA3KTtkaXNwbGF5OmlubGluZS1ibG9jaztjdXJzb3I6cG9pbnRlcjtmb250LXNpemU6Mi4zcmVtO3RleHQtYWxpZ246Y2VudGVyfS52LWVudGVyLWFjdGl2ZVtkYXRhLXYtNmY2MWE4NjBdLC52LWxlYXZlLWFjdGl2ZVtkYXRhLXYtNmY2MWE4NjBde3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0udi1lbnRlci1mcm9tW2RhdGEtdi02ZjYxYTg2MF0sLnYtbGVhdmUtdG9bZGF0YS12LTZmNjFhODYwXXtvcGFjaXR5OjB9LnVzZXJuYW1lW2RhdGEtdi02ZjYxYTg2MF17Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxLjRyZW07bWFyZ2luLXJpZ2h0OjFyZW19LmxpbmstbnVtW2RhdGEtdi02ZjYxYTg2MF17Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7Y29sb3I6I2UwMmEyYX0ub3duZXJbZGF0YS12LTZmNjFhODYwXXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxNDg0Y2Q7Ym9yZGVyLXJhZGl1czouM3JlbTtwYWRkaW5nOjAgLjNyZW07Y3Vyc29yOmRlZmF1bHQ7Ym9yZGVyOjJweCBzb2xpZCAjMTQ4NGNkO2ZvbnQtc2l6ZToxLjJyZW07Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1yaWdodDoxcmVtO3RyYW5zZm9ybTpzY2FsZSguOCl9Lm1vZFtkYXRhLXYtNmY2MWE4NjBde2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6IzE0ODRjZDtib3JkZXItcmFkaXVzOi4zcmVtO3BhZGRpbmc6MCAuM3JlbTtjdXJzb3I6ZGVmYXVsdDtib3JkZXI6MnB4IHNvbGlkICMxNDg0Y2Q7Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7dHJhbnNmb3JtOnNjYWxlKC44KTtiYWNrZ3JvdW5kOiMxNDg0Y2Q7Y29sb3I6I2ZmZjttYXJnaW4tcmlnaHQ6MXJlbX0ubXktdGFnW2RhdGEtdi02ZjYxYTg2MF17Zm9udC1zaXplOjEuNHJlbTtjb2xvcjpyZWQ7bWFyZ2luLWxlZnQ6MXJlbX0ubXktdGFnOmhvdmVyIC5yZW1vdmVbZGF0YS12LTZmNjFhODYwXXtkaXNwbGF5OmlubGluZX0ubXktdGFnIC5yZW1vdmVbZGF0YS12LTZmNjFhODYwXXtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDouNXJlbTtkaXNwbGF5Om5vbmV9LmFkZC10YWdbZGF0YS12LTZmNjFhODYwXXtmb250LXNpemU6Mi40cmVtO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC4ycmVtKTtsaW5lLWhlaWdodDoxcmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjFyZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lfS5mbG9vcltkYXRhLXYtNmY2MWE4NjBde21hcmdpbi1sZWZ0Oi41cmVtO2ZvbnQtc2l6ZToxLjFyZW07bGluZS1oZWlnaHQ6MXJlbTtib3JkZXItcmFkaXVzOi41cmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItZmxvb3IpO2NvbG9yOnZhcigtLWNvbG9yLWZsb29yLWZvbnQpO3BhZGRpbmc6M3B4IDlweDtjdXJzb3I6ZGVmYXVsdH1bZGF0YS12LTZmNjFhODYwXTpyb290ey0tY29sb3ItbWFpbi1iZzogI2UyZTJlMjstLWNvbG9yLXNlY29uZC1iZzogd2hpdGU7LS1jb2xvci10aGlyZC1iZzogI2UyZTJlMjstLWNvbG9yLWl0ZW0tYmc6IHdoaXRlOy0tY29sb3Itc3d0aWNoLWJnOiAjZGNkZmU2Oy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogIzk5OTstLWNvbG9yLWZvbnQtODogcmdiYSgwLCAwLCAwLCAuOCk7LS1jb2xvci1mb250LTM6IHJnYmEoMCwgMCwgMCwgLjMpOy0tY29sb3ItZm9udC1wdXJlOiBibGFjazstLWNvbG9yLWlucHV0LWJnOiB3aGl0ZTstLWNvbG9yLWlucHV0LWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLXRvb2x0aXAtYmc6IHdoaXRlOy0tY29sb3ItdG9vbHRpcC1zaGFkb3c6ICNiYmJiYmI7LS1jb2xvci1zY3JvbGxiYXI6ICM5M2FkZTM7LS1jb2xvci1saW5lOiAjZTJlMmUyOy0tY29sb3ItbG9hZGluZy0xOiAjMDAwMDAwMzM7LS1jb2xvci1sb2FkaW5nLTI6ICMwMDA7LS1jb2xvci1mbG9vcjogI2YwZjBmMDstLWNvbG9yLWZsb29yLWZvbnQ6ICNiZGJkYmQ7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogI2Y2ZjdmODstLWNvbG9yLXNwLWJ0bi1iZzogI2YxZjFmMTstLWNvbG9yLWNhbGwtbGlzdC1iZzogd2hpdGU7LS1jb2xvci10b3AtcmVwbHktd3JhcC1iZzogI2YyZjNmNTstLWNvbG9yLXRvcC1yZXBseS13cmFwLWxpbmU6ICNkMmQyZDJ9aHRtbC5kYXJrW2RhdGEtdi02ZjYxYTg2MF17LS1jb2xvci1tYWluLWJnOiAjMjIzMDNmOy0tY29sb3Itc2Vjb25kLWJnOiAjMTgyMjJkOy0tY29sb3ItdGhpcmQtYmc6ICMzMTQ3NWU7LS1jb2xvci1pdGVtLWJnOiAjMTgyMjJkOy0tY29sb3Itc3d0aWNoLWJnOiAjNGM0ZDRmOy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSk7LS1jb2xvci1mb250LTg6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpOy0tY29sb3ItZm9udC0zOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC4zKTstLWNvbG9yLWZvbnQtcHVyZTogd2hpdGU7LS1jb2xvci1pbnB1dC1iZzogIzMzMzMzMzstLWNvbG9yLWlucHV0LWJvcmRlcjogIzZjNmU3MjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogIzQ1NDg0NzstLWNvbG9yLXRvb2x0aXAtYmc6ICMzMTQ3NWU7LS1jb2xvci10b29sdGlwLXNoYWRvdzogIzNiM2IzYjstLWNvbG9yLXNjcm9sbGJhcjogIzVjNWQ1ZTstLWNvbG9yLWxpbmU6IHZhcigtLWJveC1ib3JkZXItY29sb3IpOy0tY29sb3ItbG9hZGluZy0xOiByZ2JhKDE3OCwgMTc3LCAxNzcsIC4yKTstLWNvbG9yLWxvYWRpbmctMjogI2ZmZmZmZjstLWNvbG9yLWZsb29yOiAjMjkzYjRkOy0tY29sb3ItZmxvb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMyk7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogdmFyKC0tYm94LWJhY2tncm91bmQtaG92ZXItY29sb3IpOy0tY29sb3Itc3AtYnRuLWJnOiAjMzE0NzVlOy0tY29sb3ItY2FsbC1saXN0LWJnOiAjMzE0NzVlOy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtYmc6ICMyMTJmM2U7LS1jb2xvci10b3AtcmVwbHktd3JhcC1saW5lOiAjM2I1MzZkfWh0bWxbZGF0YS12LTZmNjFhODYwXSxib2R5W2RhdGEtdi02ZjYxYTg2MF17Zm9udC1zaXplOjYyLjUlfS5mbGV4W2RhdGEtdi02ZjYxYTg2MF17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uZmxleC1lbmRbZGF0YS12LTZmNjFhODYwXXtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LmZsZXgtY2VudGVyW2RhdGEtdi02ZjYxYTg2MF17anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucDFbZGF0YS12LTZmNjFhODYwXXtwYWRkaW5nOjFyZW19LnAyW2RhdGEtdi02ZjYxYTg2MF17cGFkZGluZzoycmVtfS5wMFtkYXRhLXYtNmY2MWE4NjBde3BhZGRpbmc6MCFpbXBvcnRhbnR9Ym9keSA6aXMoLnRvcGljX2NvbnRlbnQsLnJlcGx5X2NvbnRlbnQpIGFbaHJlZl49aHR0cF1bZGF0YS12LTZmNjFhODYwXXt0ZXh0LXVuZGVybGluZS1vZmZzZXQ6LjdleDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lIDFweH1hW2RhdGEtdi02ZjYxYTg2MF17dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXJ9YVtkYXRhLXYtNmY2MWE4NjBdOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LnRvb2xbZGF0YS12LTZmNjFhODYwXXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjNyZW07Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjIuNnJlbTtwYWRkaW5nOjAgLjVyZW07Z2FwOi4ycmVtfS50b29sPnN2Z1tkYXRhLXYtNmY2MWE4NjBde3dpZHRoOjEuNnJlbSFpbXBvcnRhbnQ7aGVpZ2h0OjEuNnJlbSFpbXBvcnRhbnR9LnRvb2xbZGF0YS12LTZmNjFhODYwXTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRoaXJkLWJnKX0udG9vbC5uby1ob3ZlcltkYXRhLXYtNmY2MWE4NjBde2N1cnNvcjpkZWZhdWx0fS50b29sLm5vLWhvdmVyW2RhdGEtdi02ZjYxYTg2MF06aG92ZXJ7YmFja2dyb3VuZDp1bnNldCFpbXBvcnRhbnR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LTZmNjFhODYwXXtjdXJzb3I6bm90LWFsbG93ZWR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LTZmNjFhODYwXTpob3ZlcntiYWNrZ3JvdW5kOnVuc2V0IWltcG9ydGFudH0ubXktbm9kZVtkYXRhLXYtNmY2MWE4NjBde2JvcmRlci1yYWRpdXM6LjJyZW07cGFkZGluZzouNHJlbTtmb250LXNpemU6MXJlbTtjb2xvcjojOTk5O2JhY2tncm91bmQ6I2Y1ZjVmNTtjdXJzb3I6cG9pbnRlcn0ubXktbm9kZVtkYXRhLXYtNmY2MWE4NjBdOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2UyZTJlMn0ubXNnc1tkYXRhLXYtNmY2MWE4NjBde3Bvc2l0aW9uOmZpeGVkO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjVyZW0pO3dpZHRoOjUwcmVtO3otaW5kZXg6OTk5OTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MH0ubXktYm94W2RhdGEtdi02ZjYxYTg2MF17Ym94LXNoYWRvdzowIDJweCAzcHggIzAwMDAwMDFhO2JveC1zaGFkb3c6IzAwMDAwMDE0IDAgNHB4IDEycHg7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cyk7YmFja2dyb3VuZDp2YXIoLS1ib3gtYmFja2dyb3VuZC1jb2xvcik7bWFyZ2luLWJvdHRvbToycmVtO3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuM3N9Lm15LWNlbGxbZGF0YS12LTZmNjFhODYwXXtjb2xvcjp2YXIoLS1jb2xvci1mb250KTtwYWRkaW5nOi44cmVtIDFyZW07Zm9udC1zaXplOjEuNHJlbTtsaW5lLWhlaWdodDoxNTAlO3RleHQtYWxpZ246bGVmdDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0ubW9kYWxbZGF0YS12LTZmNjFhODYwXXtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDE7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO2xlZnQ6MDt0b3A6MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1vZGFsIC50aXRsZVtkYXRhLXYtNmY2MWE4NjBde2ZvbnQtc2l6ZToyLjRyZW07bWFyZ2luLWJvdHRvbToxcmVtO3RleHQtYWxpZ246Y2VudGVyfS5tb2RhbCAub3B0aW9uW2RhdGEtdi02ZjYxYTg2MF17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOi42cmVtIDB9Lm1vZGFsIC5vcHRpb24+c3BhbltkYXRhLXYtNmY2MWE4NjBde3Bvc2l0aW9uOnJlbGF0aXZlfS5tb2RhbCAubWFza1tkYXRhLXYtNmY2MWE4NjBde3Bvc2l0aW9uOmZpeGVkO3dpZHRoOjEwMHZ3O2hlaWdodDoxMDB2aDtsZWZ0OjA7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjojMWQxYzFjNDd9LnJhZGlvLWdyb3VwMltkYXRhLXYtNmY2MWE4NjBde2Rpc3BsYXk6aW5saW5lLWZsZXg7Ym9yZGVyLXJhZGl1czouNXJlbTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1yYWRpby1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tYm94LWJhY2tncm91bmQtYWx0LWNvbG9yKX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtNmY2MWE4NjBde2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7cGFkZGluZzouNXJlbSAxLjJyZW07Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXJhZGlvLWJvcmRlcik7Zm9udC1zaXplOjEuM3JlbTtjb2xvcjp2YXIoLS1jb2xvci1ncmF5KX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtNmY2MWE4NjBdOmZpcnN0LWNoaWxke2JvcmRlci1sZWZ0Om5vbmV9LnJhZGlvLWdyb3VwMiAuYWN0aXZlW2RhdGEtdi02ZjYxYTg2MF17YmFja2dyb3VuZDp2YXIoLS1jb2xvci10aGlyZC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9LnBvcC1jb25maXJtW2RhdGEtdi02ZjYxYTg2MF17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfWlucHV0W2RhdGEtdi02ZjYxYTg2MF17aGVpZ2h0OjNyZW07b3V0bGluZTp1bnNldDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzowIC41cmVtO2JvcmRlci1yYWRpdXM6NXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDt0cmFuc2l0aW9uOmFsbCAuM3M7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1pbnB1dC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9aW5wdXRbZGF0YS12LTZmNjFhODYwXTpob3Zlcntib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlci1ob3Zlcil9aW5wdXRbZGF0YS12LTZmNjFhODYwXTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjdGl2ZSl9LmRhbmdlcltkYXRhLXYtNmY2MWE4NjBde2NvbG9yOnJlZCFpbXBvcnRhbnR9LnBvcC1jb25maXJtLWNvbnRlbnRbZGF0YS12LTZmNjFhODYwXXtwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRvb2x0aXAtYmcpO2JveC1zaGFkb3c6MCAwIDZweCAxcHggdmFyKC0tY29sb3ItdG9vbHRpcC1zaGFkb3cpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7cGFkZGluZzoxLjVyZW07Ym9yZGVyLXJhZGl1czouOHJlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsY2FsYygtMTAwJSAtIDFyZW0pKTt6LWluZGV4OjEwMDN9LnBvcC1jb25maXJtLWNvbnRlbnQgLnRleHRbZGF0YS12LTZmNjFhODYwXXt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtc2l6ZToxLjZyZW07d2lkdGg6MTVyZW07bWluLXdpZHRoOjE1cmVtfS5wb3AtY29uZmlybS1jb250ZW50IC5vcHRpb25zW2RhdGEtdi02ZjYxYTg2MF17bWFyZ2luLXRvcDoxLjVyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW19aW1nW2RhdGEtdi02ZjYxYTg2MF17bWF4LXdpZHRoOjEwMCV9Lmh0bWwtd3JhcHBlcltkYXRhLXYtNmY2MWE4NjBde3Bvc2l0aW9uOnJlbGF0aXZlfS5odG1sLXdyYXBwZXIgLm1hc2tbZGF0YS12LTZmNjFhODYwXXttYXgtaGVpZ2h0OjkwcmVtO292ZXJmbG93OmhpZGRlbjstd2Via2l0LW1hc2staW1hZ2U6bGluZWFyLWdyYWRpZW50KDE4MGRlZywjMDAwIDgwJSx0cmFuc3BhcmVudCl9Lmh0bWwtd3JhcHBlciAuZXhwYW5kW2RhdGEtdi02ZjYxYTg2MF17cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxO2JvdHRvbToycmVtO3BhZGRpbmc6LjJyZW0gMS41cmVtO2JvcmRlci1yYWRpdXM6MnJlbTtib3JkZXI6MXB4IHNvbGlkIGdyYXk7YmFja2dyb3VuZDp3aGl0ZTtjb2xvcjpncmF5O2xlZnQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSk7Y3Vyc29yOnBvaW50ZXJ9LnRvcC1zdWItY29tbWVudFtkYXRhLXYtZDNmOGM5NGJde3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O21hcmdpbi10b3A6LjhyZW07ZGlzcGxheTpmbGV4O3Bvc2l0aW9uOnJlbGF0aXZlfS50b3Atc3ViLWNvbW1lbnQgLmV4cGFuZC1saW5lW2RhdGEtdi1kM2Y4Yzk0Yl17d2lkdGg6MS42cmVtO3Bvc2l0aW9uOnJlbGF0aXZlfS50b3Atc3ViLWNvbW1lbnQgLmV4cGFuZC1saW5lW2RhdGEtdi1kM2Y4Yzk0Yl06YWZ0ZXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7dG9wOjIlO2NvbnRlbnQ6IiAiO2hlaWdodDo5OCU7d2lkdGg6MDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXRvcC1yZXBseS13cmFwLWxpbmUpfS50b3Atc3ViLWNvbW1lbnQgLnJpZ2h0W2RhdGEtdi1kM2Y4Yzk0Yl17ZmxleDoxO3dpZHRoOmNhbGMoMTAwJSAtIDNyZW0pfS50b3Atc3ViLWNvbW1lbnQgLnJpZ2h0IC53IC5wb3N0LWVkaXRvci13cmFwcGVyW2RhdGEtdi1kM2Y4Yzk0Yl17bWFyZ2luLXRvcDoxcmVtfS50b3Atc3ViLWNvbW1lbnRbZGF0YS12LWQzZjhjOTRiXSAuYXZhdGFye2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnRvcC1zdWItY29tbWVudC50b3Atc3ViLXJlcGx5W2RhdGEtdi1kM2Y4Yzk0Yl06Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDowfS50b3Atc3ViLWNvbW1lbnQudG9wLXN1Yi1yZXBseT4uZXhwYW5kLWxpbmVbZGF0YS12LWQzZjhjOTRiXXt3aWR0aDoxcmVtfS50b3Atc3ViLWNvbW1lbnQudG9wLXN1Yi1yZXBseT4uZXhwYW5kLWxpbmVbZGF0YS12LWQzZjhjOTRiXTphZnRlcntkaXNwbGF5Om5vbmV9LmNvbW1lbnRbZGF0YS12LTk4NGJhNDgzXXt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDttYXJnaW4tdG9wOi42cmVtfS5jb21tZW50LmlzTGV2ZWxPbmVbZGF0YS12LTk4NGJhNDgzXXtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKTtwYWRkaW5nOi44cmVtIDFyZW07bWFyZ2luLXRvcDowfS5jb21tZW50LmRpbmdbZGF0YS12LTk4NGJhNDgzXXtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLC4zKSFpbXBvcnRhbnR9LmNvbW1lbnQuaXNTaW1wbGUgLmF2YXRhcltkYXRhLXYtOTg0YmE0ODNdLC5jb21tZW50LmlzU2ltcGxlIC5leHBhbmQtbGluZVtkYXRhLXYtOTg0YmE0ODNde2Rpc3BsYXk6bm9uZX0uY29tbWVudC5pc1NpbXBsZSAuc2ltcGxlLXdyYXBwZXJbZGF0YS12LTk4NGJhNDgzXXtwYWRkaW5nLWxlZnQ6Mi44cmVtfS5jb21tZW50LmlzU2ltcGxlIC53W2RhdGEtdi05ODRiYTQ4M117cGFkZGluZy1sZWZ0OjAhaW1wb3J0YW50O3BhZGRpbmctdG9wOi41cmVtfS5jb21tZW50IC5jb21tZW50LWNvbnRlbnQtdyAubW9yZVtkYXRhLXYtOTg0YmE0ODNde3RleHQtYWxpZ246Y2VudGVyO21hcmdpbjoycmVtIDB9LmNvbW1lbnQgLmNvbW1lbnQtY29udGVudFtkYXRhLXYtOTg0YmE0ODNde2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZX0uY29tbWVudCAuY29tbWVudC1jb250ZW50IC5leHBhbmQtbGluZVtkYXRhLXYtOTg0YmE0ODNde2N1cnNvcjpwb2ludGVyO21hcmdpbi10b3A6LjZyZW07d2lkdGg6MnJlbTttaW4td2lkdGg6MnJlbTtwb3NpdGlvbjpyZWxhdGl2ZX0uY29tbWVudCAuY29tbWVudC1jb250ZW50IC5leHBhbmQtbGluZVtkYXRhLXYtOTg0YmE0ODNdOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2NvbnRlbnQ6IiAiO2hlaWdodDoxMDAlO3dpZHRoOjA7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0uY29tbWVudCAuY29tbWVudC1jb250ZW50IC5leHBhbmQtbGluZVtkYXRhLXYtOTg0YmE0ODNdOmhvdmVyOmFmdGVye2JvcmRlci1yaWdodDoycHggc29saWQgdmFyKC0tY29sb3ItYWN0aXZlKX0uY29tbWVudCAuY29tbWVudC1jb250ZW50IC5yaWdodFtkYXRhLXYtOTg0YmE0ODNde2ZsZXg6MTt3aWR0aDpjYWxjKDEwMCUgLSAzcmVtKX0uY29tbWVudCAuY29tbWVudC1jb250ZW50IC5yaWdodCAud1tkYXRhLXYtOTg0YmE0ODNde3BhZGRpbmctbGVmdDoxcmVtfS5jb21tZW50IC5jb21tZW50LWNvbnRlbnQgLnJpZ2h0IC53IC5wb3N0LWVkaXRvci13cmFwcGVyW2RhdGEtdi05ODRiYTQ4M117bWFyZ2luLXRvcDoxcmVtfS53cm9uZy13cmFwcGVyW2RhdGEtdi05ODRiYTQ4M117Zm9udC1zaXplOjEuNHJlbTttYXJnaW4tYm90dG9tOjFyZW19Lndyb25nLXdyYXBwZXIgc3BhbltkYXRhLXYtOTg0YmE0ODNde2N1cnNvcjpwb2ludGVyfS53cm9uZy13cmFwcGVyIC5kZWwtbGluZVtkYXRhLXYtOTg0YmE0ODNde3RleHQtZGVjb3JhdGlvbjpsaW5lLXRocm91Z2h9Lndyb25nLXdyYXBwZXIgLndyb25nLWljb25bZGF0YS12LTk4NGJhNDgzXXttYXJnaW4tbGVmdDouNXJlbX0ud3Jvbmctd3JhcHBlciAud2FybmluZ1tkYXRhLXYtOTg0YmE0ODNde2JvcmRlci10b3A6MXB4IHNvbGlkICNlMWUxZTE7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UxZTFlMTtwYWRkaW5nOjFyZW0gMDttYXJnaW4tdG9wOjFyZW07Zm9udC1zaXplOjEuMnJlbTtjb2xvcjpyZWR9LnJlcGx5LWNvdW50W2RhdGEtdi05ODRiYTQ4M117cGFkZGluZzouOHJlbSAwIC40cmVtO2JvcmRlci1yYWRpdXM6LjJyZW07Zm9udC1zaXplOjEuM3JlbTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2NvbG9yOmdyYXk7Z2FwOjFyZW07Y3Vyc29yOnBvaW50ZXJ9LnJlcGx5LWNvdW50IC5nYW5nW2RhdGEtdi05ODRiYTQ4M117d2lkdGg6MnJlbTtoZWlnaHQ6MDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZDVkNWQ1fS5yZXBseS1jb3VudCBzdmdbZGF0YS12LTk4NGJhNDgzXXtmb250LXNpemU6MXJlbX0udG9wLXJlcGx5LXdyYXBbZGF0YS12LTk4NGJhNDgzXXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRvcC1yZXBseS13cmFwLWJnKTtib3JkZXItcmFkaXVzOi44cmVtO3BhZGRpbmc6LjZyZW07cGFkZGluZy1sZWZ0OjA7bWFyZ2luLWxlZnQ6MXJlbX0udG9vbGJhcltkYXRhLXYtMzBkYWM1NjRde2JvcmRlci10b3A6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWxpbmUpO2hlaWdodDozLjhyZW07cGFkZGluZy1sZWZ0Oi42cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Y29sb3I6dmFyKC0tY29sb3ItZ3JheSk7Zm9udC1zaXplOjEuMnJlbTtnYXA6LjVyZW19LmNvbW1lbnRbZGF0YS12LTRhMDYzMTExXXt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmZsZXg7Z2FwOjFyZW07cGFkZGluZzoxcmVtO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNvbG9yLWxpbmUpfS5jb21tZW50LmlzU2ltcGxlIC5hdmF0YXJbZGF0YS12LTRhMDYzMTExXXtkaXNwbGF5Om5vbmV9LmNvbW1lbnQuaXNTaW1wbGUgLnJlcGx5X2NvbnRlbnRbZGF0YS12LTRhMDYzMTExXXttYXJnaW4tdG9wOi41cmVtIWltcG9ydGFudH0uY29tbWVudCAuYXZhdGFyW2RhdGEtdi00YTA2MzExMV17ZGlzcGxheTpmbGV4fS5jb21tZW50IC5hdmF0YXIgaW1nW2RhdGEtdi00YTA2MzExMV17d2lkdGg6My44cmVtO2hlaWdodDozLjhyZW07Ym9yZGVyLXJhZGl1czouM3JlbX0uY29tbWVudCAuY29tbWVudC1ib2R5W2RhdGEtdi00YTA2MzExMV17ZmxleDoxO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW59LmNvbW1lbnQgLmNvbW1lbnQtYm9keSAudGV4dHNbZGF0YS12LTRhMDYzMTExXXtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyfS5jb21tZW50IC5jb21tZW50LWJvZHkgLnJlcGx5X2NvbnRlbnRbZGF0YS12LTRhMDYzMTExXXttYXJnaW4tdG9wOjFyZW07bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDVyZW0pfS5jb21tZW50IC5pc1JpZ2h0W2RhdGEtdi00YTA2MzExMV17YWxpZ24taXRlbXM6ZmxleC1lbmR9LmNvbW1lbnQgLmlzUmlnaHQgLm93bmVyW2RhdGEtdi00YTA2MzExMV0sLmNvbW1lbnQgLmlzUmlnaHQgLm1vZFtkYXRhLXYtNGEwNjMxMTFdLC5jb21tZW50IC5pc1JpZ2h0IC51c2VybmFtZVtkYXRhLXYtNGEwNjMxMTFde21hcmdpbjowIDAgMCAxcmVtfS5jb21tZW50IC5BdXRob3ItcmlnaHRbZGF0YS12LTRhMDYzMTExXXtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn0uY29tbWVudCAuQXV0aG9yLXJpZ2h0IC5mbG9vcltkYXRhLXYtNGEwNjMxMTFde21hcmdpbi1sZWZ0OjB9LmNvbW1lbnQgLkF1dGhvci1yaWdodCAuanVtcFtkYXRhLXYtNGEwNjMxMTFde2NvbG9yOiM5Mjk1OTY7bWFyZ2luLXRvcDouNHJlbTtmb250LXNpemU6MS40cmVtfS5jb21tZW50IC5wb2ludFtkYXRhLXYtNGEwNjMxMTFde21hcmdpbjowIC41cmVtO2ZvbnQtc2l6ZToxLjZyZW07ZGlzcGxheTpmbGV4O2dhcDouNXJlbTthbGlnbi1pdGVtczpjZW50ZXI7Zm9udC13ZWlnaHQ6NzAwO2NvbG9yOiMwMDB9LnN0aWNreXtwb3NpdGlvbjpzdGlja3k7Ym90dG9tOi0ycHg7ei1pbmRleDoyO2JhY2tncm91bmQ6dmFyKC0tYm94LWJhY2tncm91bmQtaG92ZXItY29sb3IpIWltcG9ydGFudH0uc3RpY2t5W3N0dWNrXXtib3gtc2hhZG93OjAgMnB4IDIwcHggIzAwMDAwMDU5IWltcG9ydGFudH0ucHJldmlldy1tb2RhbHtwb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7bGVmdDowO3RvcDotMTAwMHZoO3otaW5kZXg6OTk5OX0ucHJldmlldy1tb2RhbCAuY2xvc2V7Zm9udC1zaXplOjJyZW07Y29sb3I6I2ZmZjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoycmVtO3RvcDoycmVtO2N1cnNvcjpwb2ludGVyfS5wcmV2aWV3LW1vZGFsIC5tYXNre3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuNyk7dHJhbnNpdGlvbjphbGwgLjNzfS52LWVudGVyLWFjdGl2ZVtkYXRhLXYtZDM5MjE3ZDhdLC52LWxlYXZlLWFjdGl2ZVtkYXRhLXYtZDM5MjE3ZDhde3RyYW5zaXRpb246b3BhY2l0eSAuM3MgZWFzZX0udi1lbnRlci1mcm9tW2RhdGEtdi1kMzkyMTdkOF0sLnYtbGVhdmUtdG9bZGF0YS12LWQzOTIxN2Q4XXtvcGFjaXR5OjB9LnVzZXJuYW1lW2RhdGEtdi1kMzkyMTdkOF17Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZToxLjRyZW07bWFyZ2luLXJpZ2h0OjFyZW19LmxpbmstbnVtW2RhdGEtdi1kMzkyMTdkOF17Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7Y29sb3I6I2UwMmEyYX0ub3duZXJbZGF0YS12LWQzOTIxN2Q4XXtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2NvbG9yOiMxNDg0Y2Q7Ym9yZGVyLXJhZGl1czouM3JlbTtwYWRkaW5nOjAgLjNyZW07Y3Vyc29yOmRlZmF1bHQ7Ym9yZGVyOjJweCBzb2xpZCAjMTQ4NGNkO2ZvbnQtc2l6ZToxLjJyZW07Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1yaWdodDoxcmVtO3RyYW5zZm9ybTpzY2FsZSguOCl9Lm1vZFtkYXRhLXYtZDM5MjE3ZDhde2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Y29sb3I6IzE0ODRjZDtib3JkZXItcmFkaXVzOi4zcmVtO3BhZGRpbmc6MCAuM3JlbTtjdXJzb3I6ZGVmYXVsdDtib3JkZXI6MnB4IHNvbGlkICMxNDg0Y2Q7Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7dHJhbnNmb3JtOnNjYWxlKC44KTtiYWNrZ3JvdW5kOiMxNDg0Y2Q7Y29sb3I6I2ZmZjttYXJnaW4tcmlnaHQ6MXJlbX0ubXktdGFnW2RhdGEtdi1kMzkyMTdkOF17Zm9udC1zaXplOjEuNHJlbTtjb2xvcjpyZWQ7bWFyZ2luLWxlZnQ6MXJlbX0ubXktdGFnOmhvdmVyIC5yZW1vdmVbZGF0YS12LWQzOTIxN2Q4XXtkaXNwbGF5OmlubGluZX0ubXktdGFnIC5yZW1vdmVbZGF0YS12LWQzOTIxN2Q4XXtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDouNXJlbTtkaXNwbGF5Om5vbmV9LmFkZC10YWdbZGF0YS12LWQzOTIxN2Q4XXtmb250LXNpemU6Mi40cmVtO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC4ycmVtKTtsaW5lLWhlaWdodDoxcmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjFyZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lfS5mbG9vcltkYXRhLXYtZDM5MjE3ZDhde21hcmdpbi1sZWZ0Oi41cmVtO2ZvbnQtc2l6ZToxLjFyZW07bGluZS1oZWlnaHQ6MXJlbTtib3JkZXItcmFkaXVzOi41cmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY29sb3ItZmxvb3IpO2NvbG9yOnZhcigtLWNvbG9yLWZsb29yLWZvbnQpO3BhZGRpbmc6M3B4IDlweDtjdXJzb3I6ZGVmYXVsdH1bZGF0YS12LWQzOTIxN2Q4XTpyb290ey0tY29sb3ItbWFpbi1iZzogI2UyZTJlMjstLWNvbG9yLXNlY29uZC1iZzogd2hpdGU7LS1jb2xvci10aGlyZC1iZzogI2UyZTJlMjstLWNvbG9yLWl0ZW0tYmc6IHdoaXRlOy0tY29sb3Itc3d0aWNoLWJnOiAjZGNkZmU2Oy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogIzk5OTstLWNvbG9yLWZvbnQtODogcmdiYSgwLCAwLCAwLCAuOCk7LS1jb2xvci1mb250LTM6IHJnYmEoMCwgMCwgMCwgLjMpOy0tY29sb3ItZm9udC1wdXJlOiBibGFjazstLWNvbG9yLWlucHV0LWJnOiB3aGl0ZTstLWNvbG9yLWlucHV0LWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogI2UyZTJlMjstLWNvbG9yLXRvb2x0aXAtYmc6IHdoaXRlOy0tY29sb3ItdG9vbHRpcC1zaGFkb3c6ICNiYmJiYmI7LS1jb2xvci1zY3JvbGxiYXI6ICM5M2FkZTM7LS1jb2xvci1saW5lOiAjZTJlMmUyOy0tY29sb3ItbG9hZGluZy0xOiAjMDAwMDAwMzM7LS1jb2xvci1sb2FkaW5nLTI6ICMwMDA7LS1jb2xvci1mbG9vcjogI2YwZjBmMDstLWNvbG9yLWZsb29yLWZvbnQ6ICNiZGJkYmQ7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogI2Y2ZjdmODstLWNvbG9yLXNwLWJ0bi1iZzogI2YxZjFmMTstLWNvbG9yLWNhbGwtbGlzdC1iZzogd2hpdGU7LS1jb2xvci10b3AtcmVwbHktd3JhcC1iZzogI2YyZjNmNTstLWNvbG9yLXRvcC1yZXBseS13cmFwLWxpbmU6ICNkMmQyZDJ9aHRtbC5kYXJrW2RhdGEtdi1kMzkyMTdkOF17LS1jb2xvci1tYWluLWJnOiAjMjIzMDNmOy0tY29sb3Itc2Vjb25kLWJnOiAjMTgyMjJkOy0tY29sb3ItdGhpcmQtYmc6ICMzMTQ3NWU7LS1jb2xvci1pdGVtLWJnOiAjMTgyMjJkOy0tY29sb3Itc3d0aWNoLWJnOiAjNGM0ZDRmOy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSk7LS1jb2xvci1mb250LTg6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpOy0tY29sb3ItZm9udC0zOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC4zKTstLWNvbG9yLWZvbnQtcHVyZTogd2hpdGU7LS1jb2xvci1pbnB1dC1iZzogIzMzMzMzMzstLWNvbG9yLWlucHV0LWJvcmRlcjogIzZjNmU3MjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogIzQ1NDg0NzstLWNvbG9yLXRvb2x0aXAtYmc6ICMzMTQ3NWU7LS1jb2xvci10b29sdGlwLXNoYWRvdzogIzNiM2IzYjstLWNvbG9yLXNjcm9sbGJhcjogIzVjNWQ1ZTstLWNvbG9yLWxpbmU6IHZhcigtLWJveC1ib3JkZXItY29sb3IpOy0tY29sb3ItbG9hZGluZy0xOiByZ2JhKDE3OCwgMTc3LCAxNzcsIC4yKTstLWNvbG9yLWxvYWRpbmctMjogI2ZmZmZmZjstLWNvbG9yLWZsb29yOiAjMjkzYjRkOy0tY29sb3ItZmxvb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMyk7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogdmFyKC0tYm94LWJhY2tncm91bmQtaG92ZXItY29sb3IpOy0tY29sb3Itc3AtYnRuLWJnOiAjMzE0NzVlOy0tY29sb3ItY2FsbC1saXN0LWJnOiAjMzE0NzVlOy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtYmc6ICMyMTJmM2U7LS1jb2xvci10b3AtcmVwbHktd3JhcC1saW5lOiAjM2I1MzZkfWh0bWxbZGF0YS12LWQzOTIxN2Q4XSxib2R5W2RhdGEtdi1kMzkyMTdkOF17Zm9udC1zaXplOjYyLjUlfS5mbGV4W2RhdGEtdi1kMzkyMTdkOF17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uZmxleC1lbmRbZGF0YS12LWQzOTIxN2Q4XXtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmR9LmZsZXgtY2VudGVyW2RhdGEtdi1kMzkyMTdkOF17anVzdGlmeS1jb250ZW50OmNlbnRlcn0ucDFbZGF0YS12LWQzOTIxN2Q4XXtwYWRkaW5nOjFyZW19LnAyW2RhdGEtdi1kMzkyMTdkOF17cGFkZGluZzoycmVtfS5wMFtkYXRhLXYtZDM5MjE3ZDhde3BhZGRpbmc6MCFpbXBvcnRhbnR9Ym9keSA6aXMoLnRvcGljX2NvbnRlbnQsLnJlcGx5X2NvbnRlbnQpIGFbaHJlZl49aHR0cF1bZGF0YS12LWQzOTIxN2Q4XXt0ZXh0LXVuZGVybGluZS1vZmZzZXQ6LjdleDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lIDFweH1hW2RhdGEtdi1kMzkyMTdkOF17dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y3Vyc29yOnBvaW50ZXJ9YVtkYXRhLXYtZDM5MjE3ZDhdOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LnRvb2xbZGF0YS12LWQzOTIxN2Q4XXtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjNyZW07Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjIuNnJlbTtwYWRkaW5nOjAgLjVyZW07Z2FwOi4ycmVtfS50b29sPnN2Z1tkYXRhLXYtZDM5MjE3ZDhde3dpZHRoOjEuNnJlbSFpbXBvcnRhbnQ7aGVpZ2h0OjEuNnJlbSFpbXBvcnRhbnR9LnRvb2xbZGF0YS12LWQzOTIxN2Q4XTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRoaXJkLWJnKX0udG9vbC5uby1ob3ZlcltkYXRhLXYtZDM5MjE3ZDhde2N1cnNvcjpkZWZhdWx0fS50b29sLm5vLWhvdmVyW2RhdGEtdi1kMzkyMTdkOF06aG92ZXJ7YmFja2dyb3VuZDp1bnNldCFpbXBvcnRhbnR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LWQzOTIxN2Q4XXtjdXJzb3I6bm90LWFsbG93ZWR9LnRvb2wuZGlzYWJsZWRbZGF0YS12LWQzOTIxN2Q4XTpob3ZlcntiYWNrZ3JvdW5kOnVuc2V0IWltcG9ydGFudH0ubXktbm9kZVtkYXRhLXYtZDM5MjE3ZDhde2JvcmRlci1yYWRpdXM6LjJyZW07cGFkZGluZzouNHJlbTtmb250LXNpemU6MXJlbTtjb2xvcjojOTk5O2JhY2tncm91bmQ6I2Y1ZjVmNTtjdXJzb3I6cG9pbnRlcn0ubXktbm9kZVtkYXRhLXYtZDM5MjE3ZDhdOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lO2JhY2tncm91bmQ6I2UyZTJlMn0ubXNnc1tkYXRhLXYtZDM5MjE3ZDhde3Bvc2l0aW9uOmZpeGVkO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjVyZW0pO3dpZHRoOjUwcmVtO3otaW5kZXg6OTk5OTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MH0ubXktYm94W2RhdGEtdi1kMzkyMTdkOF17Ym94LXNoYWRvdzowIDJweCAzcHggIzAwMDAwMDFhO2JveC1zaGFkb3c6IzAwMDAwMDE0IDAgNHB4IDEycHg7Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cyk7YmFja2dyb3VuZDp2YXIoLS1ib3gtYmFja2dyb3VuZC1jb2xvcik7bWFyZ2luLWJvdHRvbToycmVtO3dpZHRoOjEwMCU7Ym94LXNpemluZzpib3JkZXItYm94O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuM3N9Lm15LWNlbGxbZGF0YS12LWQzOTIxN2Q4XXtjb2xvcjp2YXIoLS1jb2xvci1mb250KTtwYWRkaW5nOi44cmVtIDFyZW07Zm9udC1zaXplOjEuNHJlbTtsaW5lLWhlaWdodDoxNTAlO3RleHQtYWxpZ246bGVmdDtib3JkZXItYm90dG9tOjFweCBzb2xpZCB2YXIoLS1jb2xvci1saW5lKX0ubW9kYWxbZGF0YS12LWQzOTIxN2Q4XXtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDE7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO2xlZnQ6MDt0b3A6MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1vZGFsIC50aXRsZVtkYXRhLXYtZDM5MjE3ZDhde2ZvbnQtc2l6ZToyLjRyZW07bWFyZ2luLWJvdHRvbToxcmVtO3RleHQtYWxpZ246Y2VudGVyfS5tb2RhbCAub3B0aW9uW2RhdGEtdi1kMzkyMTdkOF17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOi42cmVtIDB9Lm1vZGFsIC5vcHRpb24+c3BhbltkYXRhLXYtZDM5MjE3ZDhde3Bvc2l0aW9uOnJlbGF0aXZlfS5tb2RhbCAubWFza1tkYXRhLXYtZDM5MjE3ZDhde3Bvc2l0aW9uOmZpeGVkO3dpZHRoOjEwMHZ3O2hlaWdodDoxMDB2aDtsZWZ0OjA7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjojMWQxYzFjNDd9LnJhZGlvLWdyb3VwMltkYXRhLXYtZDM5MjE3ZDhde2Rpc3BsYXk6aW5saW5lLWZsZXg7Ym9yZGVyLXJhZGl1czouNXJlbTtvdmVyZmxvdzpoaWRkZW47Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1yYWRpby1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tYm94LWJhY2tncm91bmQtYWx0LWNvbG9yKX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtZDM5MjE3ZDhde2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7cGFkZGluZzouNXJlbSAxLjJyZW07Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXJhZGlvLWJvcmRlcik7Zm9udC1zaXplOjEuM3JlbTtjb2xvcjp2YXIoLS1jb2xvci1ncmF5KX0ucmFkaW8tZ3JvdXAyIC5yYWRpb1tkYXRhLXYtZDM5MjE3ZDhdOmZpcnN0LWNoaWxke2JvcmRlci1sZWZ0Om5vbmV9LnJhZGlvLWdyb3VwMiAuYWN0aXZlW2RhdGEtdi1kMzkyMTdkOF17YmFja2dyb3VuZDp2YXIoLS1jb2xvci10aGlyZC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9LnBvcC1jb25maXJtW2RhdGEtdi1kMzkyMTdkOF17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfWlucHV0W2RhdGEtdi1kMzkyMTdkOF17aGVpZ2h0OjNyZW07b3V0bGluZTp1bnNldDtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzowIC41cmVtO2JvcmRlci1yYWRpdXM6NXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDt0cmFuc2l0aW9uOmFsbCAuM3M7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1pbnB1dC1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udCl9aW5wdXRbZGF0YS12LWQzOTIxN2Q4XTpob3Zlcntib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWlucHV0LWJvcmRlci1ob3Zlcil9aW5wdXRbZGF0YS12LWQzOTIxN2Q4XTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjdGl2ZSl9LmRhbmdlcltkYXRhLXYtZDM5MjE3ZDhde2NvbG9yOnJlZCFpbXBvcnRhbnR9LnBvcC1jb25maXJtLWNvbnRlbnRbZGF0YS12LWQzOTIxN2Q4XXtwb3NpdGlvbjpmaXhlZDtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRvb2x0aXAtYmcpO2JveC1zaGFkb3c6MCAwIDZweCAxcHggdmFyKC0tY29sb3ItdG9vbHRpcC1zaGFkb3cpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7cGFkZGluZzoxLjVyZW07Ym9yZGVyLXJhZGl1czouOHJlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsY2FsYygtMTAwJSAtIDFyZW0pKTt6LWluZGV4OjEwMDN9LnBvcC1jb25maXJtLWNvbnRlbnQgLnRleHRbZGF0YS12LWQzOTIxN2Q4XXt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtc2l6ZToxLjZyZW07d2lkdGg6MTVyZW07bWluLXdpZHRoOjE1cmVtfS5wb3AtY29uZmlybS1jb250ZW50IC5vcHRpb25zW2RhdGEtdi1kMzkyMTdkOF17bWFyZ2luLXRvcDoxLjVyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW19aW1nW2RhdGEtdi1kMzkyMTdkOF17bWF4LXdpZHRoOjEwMCV9LlBvc3RbZGF0YS12LWQzOTIxN2Q4XXtwb3NpdGlvbjp1bnNldCFpbXBvcnRhbnQ7YmFja2dyb3VuZDp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7b3ZlcmZsb3c6dW5zZXQhaW1wb3J0YW50fS5Qb3N0IC5tYWluW2RhdGEtdi1kMzkyMTdkOF17YmFja2dyb3VuZDp0cmFuc3BhcmVudCFpbXBvcnRhbnQ7cGFkZGluZzp1bnNldCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LlBvc3QgLmNsb3NlLWJ0bltkYXRhLXYtZDM5MjE3ZDhdLC5Qb3N0IC5vcGVuLW5ldy10YWJbZGF0YS12LWQzOTIxN2Q4XXtkaXNwbGF5Om5vbmV9LnBvc3QtZGV0YWlsW2RhdGEtdi1kMzkyMTdkOF17dGV4dC1hbGlnbjpzdGFydDtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDI7bGVmdDowO3JpZ2h0OjA7Ym90dG9tOjA7dG9wOjA7YmFja2dyb3VuZDpyZ2JhKDQ2LDQ3LDQ4LC44KTtvdmVyZmxvdzphdXRvO2ZvbnQtc2l6ZToxLjRyZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7ZmxleC13cmFwOndyYXB9LnBvc3QtZGV0YWlsW2RhdGEtdi1kMzkyMTdkOF0gLnN1YnRsZXtiYWNrZ3JvdW5kLWNvbG9yOiNlY2ZkZjVlNjtib3JkZXItbGVmdDo0cHggc29saWQgI2E3ZjNkMH0ucG9zdC1kZXRhaWwuaXNOaWdodFtkYXRhLXYtZDM5MjE3ZDhdIC5zdWJ0bGV7YmFja2dyb3VuZC1jb2xvcjojMWEzMzMyO2JvcmRlci1sZWZ0OjRweCBzb2xpZCAjMDQ3ODU3fS5wb3N0LWRldGFpbCAubWFpbltkYXRhLXYtZDM5MjE3ZDhde2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7cGFkZGluZzozcmVtIDhyZW0gMTVyZW07YmFja2dyb3VuZDp2YXIoLS1jb2xvci1tYWluLWJnKTtwb3NpdGlvbjpyZWxhdGl2ZTtvdXRsaW5lOm5vbmV9LnBvc3QtZGV0YWlsIC5tYWluIC5tYWluLXdyYXBwZXJbZGF0YS12LWQzOTIxN2Q4XXt3aWR0aDo3N3JlbTtwYWRkaW5nLWJvdHRvbToycmVtO2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpjb2x1bW47YWxpZ24taXRlbXM6Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlfS5wb3N0LWRldGFpbCAubWFpbiAubWFpbi13cmFwcGVyIC5wb3N0LXdyYXBwZXIgLmhlYWRlcjpob3ZlciAuYWRkLXRhZ1tkYXRhLXYtZDM5MjE3ZDhde2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5wb3N0LWRldGFpbCAubWFpbiAubWFpbi13cmFwcGVyIC5sb2FkaW5nLXdyYXBwZXJbZGF0YS12LWQzOTIxN2Q4XXtoZWlnaHQ6MjByZW07ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyfS5wb3N0LWRldGFpbCAubWFpbiAubWFpbi13cmFwcGVyICNuby1jb21tZW50cy15ZXRbZGF0YS12LWQzOTIxN2Q4XXtjb2xvcjojYTlhOWE5O2ZvbnQtd2VpZ2h0OjcwMDt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMDAlO21hcmdpbi1ib3R0b206MnJlbTtib3gtc2l6aW5nOmJvcmRlci1ib3h9LnBvc3QtZGV0YWlsIC5tYWluIC5yZWxhdGlvblJlcGx5W2RhdGEtdi1kMzkyMTdkOF17cG9zaXRpb246Zml4ZWQ7d2lkdGg6MjV2dzt0b3A6Ni41cmVtO2JvdHRvbToxNXJlbTt6LWluZGV4OjEwMDt0cmFuc2Zvcm06dHJhbnNsYXRlKGNhbGMoMTAwJSArIDJyZW0pKTtmb250LXNpemU6MnJlbTtvdmVyZmxvdzpoaWRkZW59LnBvc3QtZGV0YWlsIC5tYWluIC5yZWxhdGlvblJlcGx5IC5teS1jZWxsW2RhdGEtdi1kMzkyMTdkOF17YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zZWNvbmQtYmcpO2JvcmRlci1yYWRpdXM6dmFyKC0tYm94LWJvcmRlci1yYWRpdXMpIHZhcigtLWJveC1ib3JkZXItcmFkaXVzKSAwIDB9LnBvc3QtZGV0YWlsIC5tYWluIC5yZWxhdGlvblJlcGx5IC5jb21tZW50c1tkYXRhLXYtZDM5MjE3ZDhde21heC1oZWlnaHQ6Y2FsYygxMDAlIC0gNC4ycmVtKTtvdmVyZmxvdzphdXRvO2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc2Vjb25kLWJnKTtib3JkZXItcmFkaXVzOjAgMCB2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cykgdmFyKC0tYm94LWJvcmRlci1yYWRpdXMpfS5wb3N0LWRldGFpbCAubWFpbiAuY2FsbC1saXN0W2RhdGEtdi1kMzkyMTdkOF17ei1pbmRleDo5O3Bvc2l0aW9uOmFic29sdXRlO3RvcDoxMnJlbTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLW1haW4tYmcpO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItY2FsbC1saXN0LWJnKTtib3gtc2hhZG93OjAgNXB4IDE1cHggIzAwMDAwMDFhO292ZXJmbG93OmF1dG87bWF4LWhlaWdodDozMHJlbTtib3JkZXItcmFkaXVzOnZhcigtLWJveC1ib3JkZXItcmFkaXVzKTttaW4td2lkdGg6OHJlbTtib3gtc2l6aW5nOmNvbnRlbnQtYm94fS5wb3N0LWRldGFpbCAubWFpbiAuY2FsbC1saXN0IC5jYWxsLWl0ZW1bZGF0YS12LWQzOTIxN2Q4XXtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jb2xvci1tYWluLWJnKTtoZWlnaHQ6M3JlbTtkaXNwbGF5OmZsZXg7cGFkZGluZzowIDFyZW07YWxpZ24taXRlbXM6Y2VudGVyO2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToxNHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveH0ucG9zdC1kZXRhaWwgLm1haW4gLmNhbGwtbGlzdCAuY2FsbC1pdGVtIC5zZWxlY3RbZGF0YS12LWQzOTIxN2Q4XSwucG9zdC1kZXRhaWwgLm1haW4gLmNhbGwtbGlzdCAuY2FsbC1pdGVtW2RhdGEtdi1kMzkyMTdkOF06aG92ZXIsLnBvc3QtZGV0YWlsIC5tYWluIC5jYWxsLWxpc3QgLmNhbGwtaXRlbS5zZWxlY3RbZGF0YS12LWQzOTIxN2Q4XXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLW1haW4tYmcpO3RleHQtZGVjb3JhdGlvbjpub25lfS5wb3N0LWRldGFpbCAubWFpbiAuY2FsbC1saXN0IC5jYWxsLWl0ZW1bZGF0YS12LWQzOTIxN2Q4XTpudGgtY2hpbGQoMSl7Ym9yZGVyLXRvcDoxcHggc29saWQgdHJhbnNwYXJlbnR9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTI4MHB4KXsucG9zdC1kZXRhaWwgLm1haW4td3JhcHBlcltkYXRhLXYtZDM5MjE3ZDhde3dpZHRoOjYwdnchaW1wb3J0YW50fX0ucG9zdC1kZXRhaWwgLnYybmV4dC1zY3JvbGwtdG9wW2RhdGEtdi1kMzkyMTdkOF17Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246Zml4ZWQ7Ym9yZGVyLXJhZGl1czouNnJlbTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym90dG9tOjEwcmVtO3otaW5kZXg6OTk7cGFkZGluZzouOHJlbSAwO2dhcDoxcmVtO3dpZHRoOjQuMnJlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKDZyZW0pO2ZvbnQtc2l6ZToycmVtO2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc3AtYnRuLWJnKTtjb2xvcjp2YXIoLS1jb2xvci1mb250LTMpfS5wb3N0LWRldGFpbCAudjJuZXh0LXNjcm9sbC10b3Agc3ZnW2RhdGEtdi1kMzkyMTdkOF17Zm9udC1zaXplOjIuNHJlbX0ucG9zdC1kZXRhaWwgLnJlZnJlc2hbZGF0YS12LWQzOTIxN2Q4XXtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpmaXhlZDtib3JkZXItcmFkaXVzOi42cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjtib3R0b206MTByZW07ei1pbmRleDo5OTtwYWRkaW5nOi44cmVtIDA7Z2FwOjFyZW07d2lkdGg6NC4ycmVtO3RyYW5zZm9ybTp0cmFuc2xhdGUoNnJlbSk7Zm9udC1zaXplOjJyZW07YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zcC1idG4tYmcpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtMyk7Ym90dG9tOjIzLjVyZW19LnBvc3QtZGV0YWlsIC5yZWZyZXNoIHN2Z1tkYXRhLXYtZDM5MjE3ZDhde2ZvbnQtc2l6ZToyLjRyZW19LnBvc3QtZGV0YWlsIC5zY3JvbGwtdG9bZGF0YS12LWQzOTIxN2Q4XXtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpmaXhlZDtib3JkZXItcmFkaXVzOi42cmVtO2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2JvdHRvbToxMHJlbTt6LWluZGV4Ojk5O3BhZGRpbmc6LjhyZW0gMDtnYXA6MXJlbTt3aWR0aDo0LjJyZW07dHJhbnNmb3JtOnRyYW5zbGF0ZSg2cmVtKTtmb250LXNpemU6MnJlbTtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXNwLWJ0bi1iZyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udC0zKTtib3R0b206MTVyZW07ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ucG9zdC1kZXRhaWwgLnNjcm9sbC10byBzdmdbZGF0YS12LWQzOTIxN2Q4XXtmb250LXNpemU6Mi40cmVtfS5wb3N0LWRldGFpbCAuc2Nyb2xsLXRvIGlucHV0W2RhdGEtdi1kMzkyMTdkOF17aGVpZ2h0OjIuNnJlbTt3aWR0aDozLjZyZW07Zm9udC1zaXplOjEuNHJlbTt0ZXh0LWFsaWduOmNlbnRlcjtjb2xvcjpncmF5fS5wb3N0LWRldGFpbCAubXNnW2RhdGEtdi1kMzkyMTdkOF17Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246Zml4ZWQ7Ym9yZGVyLXJhZGl1czouNnJlbTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7Ym90dG9tOjEwcmVtO3otaW5kZXg6OTk7cGFkZGluZzouOHJlbSAwO2dhcDoxcmVtO3dpZHRoOjQuMnJlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKDZyZW0pO2ZvbnQtc2l6ZToycmVtO2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc3AtYnRuLWJnKTtjb2xvcjp2YXIoLS1jb2xvci1mb250LTMpO2JvdHRvbTo1cmVtfS5wb3N0LWRldGFpbCAubXNnIHN2Z1tkYXRhLXYtZDM5MjE3ZDhde2ZvbnQtc2l6ZToyLjRyZW19LnBvc3QtZGV0YWlsIC5jbG9zZS1idG5bZGF0YS12LWQzOTIxN2Q4XXtjb2xvcjp2YXIoLS1jb2xvci1mb250LTMpO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmZpeGVkO3RvcDozcmVtO3RyYW5zZm9ybTp0cmFuc2xhdGUoNHJlbSk7Zm9udC1zaXplOjIuNHJlbX0ucG9zdC1kZXRhaWwgLnRvcC1yZXBseVtkYXRhLXYtZDM5MjE3ZDhde2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtMyk7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOjJyZW07ZGlzcGxheTpmbGV4fS5wb3N0LWRldGFpbCAub3Blbi1uZXctdGFiW2RhdGEtdi1kMzkyMTdkOF17Y29sb3I6dmFyKC0tY29sb3ItZm9udC0zKTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpmaXhlZDt0b3A6M3JlbTt0cmFuc2Zvcm06dHJhbnNsYXRlKDRyZW0pO2ZvbnQtc2l6ZToyLjRyZW07dG9wOjhyZW19LnNwZWNpZmljLWFyZWFbZGF0YS12LWQzOTIxN2Q4XXstLWNvbG9yLWxpbmU6ICM2YTY4Njg7LS1jb2xvci1mbG9vcjogcmdiYSg3MSwgNzEsIDcxLCAuNDgpOy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtYmc6IHJnYmEoNzEsIDcxLCA3MSwgLjQ4KTstLWNvbG9yLXNwLWJ0bi1iZzogcmdiYSg3MSwgNzEsIDcxLCAuNDgpOy0tY29sb3ItZWRpdG9yLXRvb2xiYXI6ICMzMDNlNjQ7LS1jb2xvci1mb250LXB1cmU6IHdoaXRlOy0tY29sb3ItbWFpbi1iZzogIzU0NTQ1NDstLWJveC1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC41KTstLWJveC1iYWNrZ3JvdW5kLWhvdmVyLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC41KX0uc3BlY2lmaWMtYXJlYSAubXktYm94W2RhdGEtdi1kMzkyMTdkOF17Y29sb3I6I2ZmZjtib3JkZXItYm90dG9tOjJweCBzb2xpZCByZ2JhKDAsMCwwLC40KTstd2Via2l0LWJhY2tkcm9wLWZpbHRlcjpibHVyKDE1cHgpO2JhY2tkcm9wLWZpbHRlcjpibHVyKDE1cHgpfS5iYXNlNjRfdG9vbHRpcFtkYXRhLXYtMDY0MjllNzBde2JveC1zaGFkb3c6MCAzcHggNnB4IC00cHggIzAwMDAwMDFmLDAgNnB4IDE2cHggIzAwMDAwMDE0LDAgOXB4IDI4cHggOHB4ICMwMDAwMDAwZDtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRoaXJkLWJnKTttaW4taGVpZ2h0OjIuMnJlbTttYXgtd2lkdGg6MjByZW07cGFkZGluZzoxcmVtO3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6OTk5ODtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjVyZW07Y3Vyc29yOnBvaW50ZXI7bGluZS1icmVhazphbnl3aGVyZTtmb250LXNpemU6MS40cmVtO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCl9LmJhc2U2NF90b29sdGlwIHN2Z1tkYXRhLXYtMDY0MjllNzBde21hcmdpbi1sZWZ0OjFyZW07Zm9udC1zaXplOjNyZW07Y29sb3I6dmFyKC0tY29sb3ItZ3JheSl9LmJhc2U2NF90b29sdGlwW2RhdGEtdi0wNjQyOWU3MF0gLmJhc2UtYnV0dG9ue21hcmdpbi1sZWZ0OjFyZW07bWFyZ2luLXRvcDoxcmVtfS5tc2dbZGF0YS12LThiZjY5MmVhXXtjdXJzb3I6ZGVmYXVsdDttYXJnaW4tYm90dG9tOjJyZW07ZGlzcGxheTpmbGV4O2ZvbnQtc2l6ZToxLjRyZW07Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlci1yYWRpdXM6dmFyKC0tYm94LWJvcmRlci1yYWRpdXMpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7YmFja2dyb3VuZDp2YXIoLS1jb2xvci10b29sdGlwLWJnKTtib3gtc2hhZG93OjAgMCA2cHggMXB4IHZhcigtLWNvbG9yLXRvb2x0aXAtc2hhZG93KX0ubXNnLnN1Y2Nlc3MgLmxlZnRbZGF0YS12LThiZjY5MmVhXXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLWFjdGl2ZSl9Lm1zZy53YXJuaW5nIC5sZWZ0W2RhdGEtdi04YmY2OTJlYV17YmFja2dyb3VuZDojYzhjMDAyfS5tc2cuZXJyb3IgLmxlZnRbZGF0YS12LThiZjY5MmVhXXtiYWNrZ3JvdW5kOnJlZH0ubXNnIC5sZWZ0W2RhdGEtdi04YmY2OTJlYV17Ym9yZGVyLXJhZGl1czp2YXIoLS1ib3gtYm9yZGVyLXJhZGl1cykgMCAwIHZhcigtLWJveC1ib3JkZXItcmFkaXVzKTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItYWN0aXZlKTtjb2xvcjojZmZmO3dpZHRoOjMuNnJlbTtmb250LXNpemU6Mi40cmVtO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Lm1zZyAubGVmdCBzdmdbZGF0YS12LThiZjY5MmVhXXtjdXJzb3I6cG9pbnRlcn0ubXNnIC5yaWdodFtkYXRhLXYtOGJmNjkyZWFde2ZsZXg6MTtwYWRkaW5nOjFyZW0gMnJlbTtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyfS50YWctbW9kYWxbZGF0YS12LTBmMWY5OWY3XXt6LWluZGV4OjEwMDN9LnRhZy1tb2RhbCAud3JhcHBlcltkYXRhLXYtMGYxZjk5Zjdde3otaW5kZXg6OTtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLW1haW4tYmcpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7Ym9yZGVyLXJhZGl1czoxcmVtO2ZvbnQtc2l6ZToxLjRyZW07cGFkZGluZzoycmVtIDRyZW07d2lkdGg6MjVyZW19LnRhZy1tb2RhbCAud3JhcHBlciAudGl0bGVbZGF0YS12LTBmMWY5OWY3XXtmb250LXdlaWdodDo3MDB9LnRhZy1tb2RhbCAud3JhcHBlciAuYnRuc1tkYXRhLXYtMGYxZjk5Zjdde21hcmdpbi10b3A6MS41cmVtO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxLjVyZW07Zm9udC1zaXplOjEuNHJlbX0ubXNnc1tkYXRhLXYtYjczZjQzMzJde3Bvc2l0aW9uOmZpeGVkO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjVyZW0pO3dpZHRoOjUwcmVtO3otaW5kZXg6OTk5OTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MH0uTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3RbZGF0YS12LTc3YWEzNzRlXXt6LWluZGV4Ojk7YmFja2dyb3VuZDp2YXIoLS1jb2xvci1zZWNvbmQtYmcpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQtOCk7Ym9yZGVyLXJhZGl1czoxcmVtO2ZvbnQtc2l6ZToxLjRyZW07d2lkdGg6NTB2dztoZWlnaHQ6ODB2aDtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3BhZGRpbmc6MS40cmVtO2dhcDoxcmVtfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtaGVhZGVyW2RhdGEtdi03N2FhMzc0ZV17ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVufS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtaGVhZGVyIC50aXRsZVtkYXRhLXYtNzdhYTM3NGVde2ZvbnQtc2l6ZToyLjZyZW07Zm9udC13ZWlnaHQ6NzAwO3RleHQtYWxpZ246bGVmdDttYXJnaW4tYm90dG9tOjB9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1oZWFkZXIgaVtkYXRhLXYtNzdhYTM3NGVde2N1cnNvcjpwb2ludGVyO2ZvbnQtc2l6ZToyLjJyZW19Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5W2RhdGEtdi03N2FhMzc0ZV17cGFkZGluZy10b3A6MDtmbGV4OjE7Z2FwOjFyZW07ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjtvdmVyZmxvdzpoaWRkZW59Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5maWx0ZXJbZGF0YS12LTc3YWEzNzRlXXtkaXNwbGF5OmZsZXg7Z2FwOjFyZW19Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5maWx0ZXIgZGl2W2RhdGEtdi03N2FhMzc0ZV17Ym9yZGVyLXJhZGl1czouNHJlbTtwYWRkaW5nOi40cmVtIDFyZW07YmFja2dyb3VuZDpnYWluc2Jvcm87Y3Vyc29yOnBvaW50ZXJ9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5maWx0ZXIgZGl2LmFjdGl2ZVtkYXRhLXYtNzdhYTM3NGVde2JhY2tncm91bmQ6IzQ0NTtjb2xvcjojZmZmfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtYm9keSAubGlzdC13cmFwW2RhdGEtdi03N2FhMzc0ZV17ZmxleDoxO3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmhpZGRlbn0uTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHkgLmxpc3Qtd3JhcCAubG9hZGluZy13cmFwW2RhdGEtdi03N2FhMzc0ZV17cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuNyl9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5saXN0LXdyYXAgLm5vdGlmeS13cmFwW2RhdGEtdi03N2FhMzc0ZV17b3ZlcmZsb3c6YXV0bztoZWlnaHQ6MTAwJX0uTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHkgLmxpc3Qtd3JhcCAjbm90aWZpY2F0aW9uc1tkYXRhLXYtNzdhYTM3NGVdIC5jZWxse2Rpc3BsYXk6bm9uZTtwYWRkaW5nOjEuMnJlbSAwfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtYm9keSAubGlzdC13cmFwICNub3RpZmljYXRpb25zW2RhdGEtdi03N2FhMzc0ZV0gLmNlbGwgYS5ub2Rle3BhZGRpbmc6LjZyZW0gMXJlbTtib3JkZXItcmFkaXVzOi40cmVtfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtYm9keSAubGlzdC13cmFwICNub3RpZmljYXRpb25zW2RhdGEtdi03N2FhMzc0ZV0gLmNlbGwgLnBheWxvYWR7bWFyZ2luLXRvcDouNHJlbTtmb250LXNpemU6MS43cmVtfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtYm9keSAjbm90aWZpY2F0aW9ucy5hbGxbZGF0YS12LTc3YWEzNzRlXSAuY2VsbCwuTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHkgI25vdGlmaWNhdGlvbnMucmVwbHlbZGF0YS12LTc3YWEzNzRlXSAucmVwbHksLk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5ICNub3RpZmljYXRpb25zLnN0YXJbZGF0YS12LTc3YWEzNzRlXSAuc3RhciwuTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHkgI25vdGlmaWNhdGlvbnMuY29sbGVjdFtkYXRhLXYtNzdhYTM3NGVdIC5jb2xsZWN0e2Rpc3BsYXk6YmxvY2t9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5mb290ZXJbZGF0YS12LTc3YWEzNzRlXXt3aWR0aDoxMDAlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjJyZW19Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5IC5mb290ZXIgLnBhZ2VzW2RhdGEtdi03N2FhMzc0ZV17ZmxleDoxfS5Ob3RpZmljYXRpb25Nb2RhbCAubW9kYWwtcm9vdCAubW9kYWwtYm9keSAuZm9vdGVyIC50b3RhbFtkYXRhLXYtNzdhYTM3NGVde2ZvbnQtd2VpZ2h0OjcwMH0uTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHkgLmZvb3RlciAudG90YWwgc3BhbltkYXRhLXYtNzdhYTM3NGVde2NvbG9yOiNkM2QzZDM7Zm9udC13ZWlnaHQ6NDAwO21hcmdpbi1yaWdodDouNHJlbX0uTm90aWZpY2F0aW9uTW9kYWwgLm1vZGFsLXJvb3QgLm1vZGFsLWJvZHlbZGF0YS12LTc3YWEzNzRlXSAuc3VwZXIuYnV0dG9ue3BhZGRpbmc6MDtiYWNrZ3JvdW5kOnVuc2V0O2hlaWdodDoyNnB4O3dpZHRoOjM3cHh9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5W2RhdGEtdi03N2FhMzc0ZV0gLnN1cGVyLmJ1dHRvbiBhe2Rpc3BsYXk6YmxvY2t9Lk5vdGlmaWNhdGlvbk1vZGFsIC5tb2RhbC1yb290IC5tb2RhbC1ib2R5W2RhdGEtdi03N2FhMzc0ZV0gLnN1cGVyLmJ1dHRvbiBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lfS52LWVudGVyLWFjdGl2ZSwudi1sZWF2ZS1hY3RpdmV7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyBlYXNlfS52LWVudGVyLWZyb20sLnYtbGVhdmUtdG97b3BhY2l0eTowfS51c2VybmFtZXtmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOjEuNHJlbTttYXJnaW4tcmlnaHQ6MXJlbX0ubGluay1udW17Zm9udC1zaXplOjEuMnJlbTtmb250LXdlaWdodDo3MDA7Y29sb3I6I2UwMmEyYX0ub3duZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjojMTQ4NGNkO2JvcmRlci1yYWRpdXM6LjNyZW07cGFkZGluZzowIC4zcmVtO2N1cnNvcjpkZWZhdWx0O2JvcmRlcjoycHggc29saWQgIzE0ODRjZDtmb250LXNpemU6MS4ycmVtO2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tcmlnaHQ6MXJlbTt0cmFuc2Zvcm06c2NhbGUoLjgpfS5tb2R7ZGlzcGxheTppbmxpbmUtYmxvY2s7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtjb2xvcjojMTQ4NGNkO2JvcmRlci1yYWRpdXM6LjNyZW07cGFkZGluZzowIC4zcmVtO2N1cnNvcjpkZWZhdWx0O2JvcmRlcjoycHggc29saWQgIzE0ODRjZDtmb250LXNpemU6MS4ycmVtO2ZvbnQtd2VpZ2h0OjcwMDt0cmFuc2Zvcm06c2NhbGUoLjgpO2JhY2tncm91bmQ6IzE0ODRjZDtjb2xvcjojZmZmO21hcmdpbi1yaWdodDoxcmVtfS5teS10YWd7Zm9udC1zaXplOjEuNHJlbTtjb2xvcjpyZWQ7bWFyZ2luLWxlZnQ6MXJlbX0ubXktdGFnOmhvdmVyIC5yZW1vdmV7ZGlzcGxheTppbmxpbmV9Lm15LXRhZyAucmVtb3Zle2N1cnNvcjpwb2ludGVyO21hcmdpbi1sZWZ0Oi41cmVtO2Rpc3BsYXk6bm9uZX0uYWRkLXRhZ3tmb250LXNpemU6Mi40cmVtO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC4ycmVtKTtsaW5lLWhlaWdodDoxcmVtO2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbi1sZWZ0OjFyZW07Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lfS5mbG9vcnttYXJnaW4tbGVmdDouNXJlbTtmb250LXNpemU6MS4xcmVtO2xpbmUtaGVpZ2h0OjFyZW07Ym9yZGVyLXJhZGl1czouNXJlbTtkaXNwbGF5OmlubGluZS1ibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNvbG9yLWZsb29yKTtjb2xvcjp2YXIoLS1jb2xvci1mbG9vci1mb250KTtwYWRkaW5nOjNweCA5cHg7Y3Vyc29yOmRlZmF1bHR9OnJvb3R7LS1jb2xvci1tYWluLWJnOiAjZTJlMmUyOy0tY29sb3Itc2Vjb25kLWJnOiB3aGl0ZTstLWNvbG9yLXRoaXJkLWJnOiAjZTJlMmUyOy0tY29sb3ItaXRlbS1iZzogd2hpdGU7LS1jb2xvci1zd3RpY2gtYmc6ICNkY2RmZTY7LS1jb2xvci1hY3RpdmU6ICM0MDllZmY7LS1jb2xvci1mb250OiAjOTk5Oy0tY29sb3ItZm9udC04OiByZ2JhKDAsIDAsIDAsIC44KTstLWNvbG9yLWZvbnQtMzogcmdiYSgwLCAwLCAwLCAuMyk7LS1jb2xvci1mb250LXB1cmU6IGJsYWNrOy0tY29sb3ItaW5wdXQtYmc6IHdoaXRlOy0tY29sb3ItaW5wdXQtYm9yZGVyOiAjZTJlMmUyOy0tY29sb3ItaW5wdXQtYm9yZGVyLWhvdmVyOiAjYTNhNmFkOy0tY29sb3ItcmFkaW8tYm9yZGVyOiAjZTJlMmUyOy0tY29sb3ItdG9vbHRpcC1iZzogd2hpdGU7LS1jb2xvci10b29sdGlwLXNoYWRvdzogI2JiYmJiYjstLWNvbG9yLXNjcm9sbGJhcjogIzkzYWRlMzstLWNvbG9yLWxpbmU6ICNlMmUyZTI7LS1jb2xvci1sb2FkaW5nLTE6ICMwMDAwMDAzMzstLWNvbG9yLWxvYWRpbmctMjogIzAwMDstLWNvbG9yLWZsb29yOiAjZjBmMGYwOy0tY29sb3ItZmxvb3ItZm9udDogI2JkYmRiZDstLWNvbG9yLWVkaXRvci10b29sYmFyOiAjZjZmN2Y4Oy0tY29sb3Itc3AtYnRuLWJnOiAjZjFmMWYxOy0tY29sb3ItY2FsbC1saXN0LWJnOiB3aGl0ZTstLWNvbG9yLXRvcC1yZXBseS13cmFwLWJnOiAjZjJmM2Y1Oy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtbGluZTogI2QyZDJkMn1odG1sLmRhcmt7LS1jb2xvci1tYWluLWJnOiAjMjIzMDNmOy0tY29sb3Itc2Vjb25kLWJnOiAjMTgyMjJkOy0tY29sb3ItdGhpcmQtYmc6ICMzMTQ3NWU7LS1jb2xvci1pdGVtLWJnOiAjMTgyMjJkOy0tY29sb3Itc3d0aWNoLWJnOiAjNGM0ZDRmOy0tY29sb3ItYWN0aXZlOiAjNDA5ZWZmOy0tY29sb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSk7LS1jb2xvci1mb250LTg6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpOy0tY29sb3ItZm9udC0zOiByZ2JhKDI1NSwgMjU1LCAyNTUsIC4zKTstLWNvbG9yLWZvbnQtcHVyZTogd2hpdGU7LS1jb2xvci1pbnB1dC1iZzogIzMzMzMzMzstLWNvbG9yLWlucHV0LWJvcmRlcjogIzZjNmU3MjstLWNvbG9yLWlucHV0LWJvcmRlci1ob3ZlcjogI2EzYTZhZDstLWNvbG9yLXJhZGlvLWJvcmRlcjogIzQ1NDg0NzstLWNvbG9yLXRvb2x0aXAtYmc6ICMzMTQ3NWU7LS1jb2xvci10b29sdGlwLXNoYWRvdzogIzNiM2IzYjstLWNvbG9yLXNjcm9sbGJhcjogIzVjNWQ1ZTstLWNvbG9yLWxpbmU6IHZhcigtLWJveC1ib3JkZXItY29sb3IpOy0tY29sb3ItbG9hZGluZy0xOiByZ2JhKDE3OCwgMTc3LCAxNzcsIC4yKTstLWNvbG9yLWxvYWRpbmctMjogI2ZmZmZmZjstLWNvbG9yLWZsb29yOiAjMjkzYjRkOy0tY29sb3ItZmxvb3ItZm9udDogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMyk7LS1jb2xvci1lZGl0b3ItdG9vbGJhcjogdmFyKC0tYm94LWJhY2tncm91bmQtaG92ZXItY29sb3IpOy0tY29sb3Itc3AtYnRuLWJnOiAjMzE0NzVlOy0tY29sb3ItY2FsbC1saXN0LWJnOiAjMzE0NzVlOy0tY29sb3ItdG9wLXJlcGx5LXdyYXAtYmc6ICMyMTJmM2U7LS1jb2xvci10b3AtcmVwbHktd3JhcC1saW5lOiAjM2I1MzZkfWh0bWwsYm9keXtmb250LXNpemU6NjIuNSV9LmZsZXh7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2Vlbn0uZmxleC1lbmR7anVzdGlmeS1jb250ZW50OmZsZXgtZW5kfS5mbGV4LWNlbnRlcntqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5wMXtwYWRkaW5nOjFyZW19LnAye3BhZGRpbmc6MnJlbX0ucDB7cGFkZGluZzowIWltcG9ydGFudH1ib2R5IDppcygudG9waWNfY29udGVudCwucmVwbHlfY29udGVudCkgYVtocmVmXj1odHRwXXt0ZXh0LXVuZGVybGluZS1vZmZzZXQ6LjdleDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lIDFweH1he3RleHQtZGVjb3JhdGlvbjpub25lO2N1cnNvcjpwb2ludGVyfWE6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0udG9vbHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2JvcmRlci1yYWRpdXM6LjNyZW07Y3Vyc29yOnBvaW50ZXI7aGVpZ2h0OjIuNnJlbTtwYWRkaW5nOjAgLjVyZW07Z2FwOi4ycmVtfS50b29sPnN2Z3t3aWR0aDoxLjZyZW0haW1wb3J0YW50O2hlaWdodDoxLjZyZW0haW1wb3J0YW50fS50b29sOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY29sb3ItdGhpcmQtYmcpfS50b29sLm5vLWhvdmVye2N1cnNvcjpkZWZhdWx0fS50b29sLm5vLWhvdmVyOmhvdmVye2JhY2tncm91bmQ6dW5zZXQhaW1wb3J0YW50fS50b29sLmRpc2FibGVke2N1cnNvcjpub3QtYWxsb3dlZH0udG9vbC5kaXNhYmxlZDpob3ZlcntiYWNrZ3JvdW5kOnVuc2V0IWltcG9ydGFudH0ubXktbm9kZXtib3JkZXItcmFkaXVzOi4ycmVtO3BhZGRpbmc6LjRyZW07Zm9udC1zaXplOjFyZW07Y29sb3I6Izk5OTtiYWNrZ3JvdW5kOiNmNWY1ZjU7Y3Vyc29yOnBvaW50ZXJ9Lm15LW5vZGU6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7YmFja2dyb3VuZDojZTJlMmUyfS5tc2dze3Bvc2l0aW9uOmZpeGVkO21hcmdpbi1sZWZ0OmNhbGMoNTAlIC0gMjVyZW0pO3dpZHRoOjUwcmVtO3otaW5kZXg6OTk5OTtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MH0ubXktYm94e2JveC1zaGFkb3c6MCAycHggM3B4ICMwMDAwMDAxYTtib3gtc2hhZG93OiMwMDAwMDAxNCAwIDRweCAxMnB4O2JvcmRlci1yYWRpdXM6dmFyKC0tYm94LWJvcmRlci1yYWRpdXMpO2JhY2tncm91bmQ6dmFyKC0tYm94LWJhY2tncm91bmQtY29sb3IpO21hcmdpbi1ib3R0b206MnJlbTt3aWR0aDoxMDAlO2JveC1zaXppbmc6Ym9yZGVyLWJveDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjNzfS5teS1jZWxse2NvbG9yOnZhcigtLWNvbG9yLWZvbnQpO3BhZGRpbmc6LjhyZW0gMXJlbTtmb250LXNpemU6MS40cmVtO2xpbmUtaGVpZ2h0OjE1MCU7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHZhcigtLWNvbG9yLWxpbmUpfS5tb2RhbHtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMDE7d2lkdGg6MTAwdnc7aGVpZ2h0OjEwMHZoO2xlZnQ6MDt0b3A6MDtkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OmNlbnRlcjthbGlnbi1pdGVtczpjZW50ZXJ9Lm1vZGFsIC50aXRsZXtmb250LXNpemU6Mi40cmVtO21hcmdpbi1ib3R0b206MXJlbTt0ZXh0LWFsaWduOmNlbnRlcn0ubW9kYWwgLm9wdGlvbntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6LjZyZW0gMH0ubW9kYWwgLm9wdGlvbj5zcGFue3Bvc2l0aW9uOnJlbGF0aXZlfS5tb2RhbCAubWFza3twb3NpdGlvbjpmaXhlZDt3aWR0aDoxMDB2dztoZWlnaHQ6MTAwdmg7bGVmdDowO3RvcDowO2JhY2tncm91bmQtY29sb3I6IzFkMWMxYzQ3fS5yYWRpby1ncm91cDJ7ZGlzcGxheTppbmxpbmUtZmxleDtib3JkZXItcmFkaXVzOi41cmVtO292ZXJmbG93OmhpZGRlbjtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXJhZGlvLWJvcmRlcik7YmFja2dyb3VuZDp2YXIoLS1ib3gtYmFja2dyb3VuZC1hbHQtY29sb3IpfS5yYWRpby1ncm91cDIgLnJhZGlve2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7cGFkZGluZzouNXJlbSAxLjJyZW07Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkIHZhcigtLWNvbG9yLXJhZGlvLWJvcmRlcik7Zm9udC1zaXplOjEuM3JlbTtjb2xvcjp2YXIoLS1jb2xvci1ncmF5KX0ucmFkaW8tZ3JvdXAyIC5yYWRpbzpmaXJzdC1jaGlsZHtib3JkZXItbGVmdDpub25lfS5yYWRpby1ncm91cDIgLmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNvbG9yLXRoaXJkLWJnKTtjb2xvcjp2YXIoLS1jb2xvci1mb250KX0ucG9wLWNvbmZpcm17cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfWlucHV0e2hlaWdodDozcmVtO291dGxpbmU6dW5zZXQ7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jb2xvci1pbnB1dC1ib3JkZXIpO3BhZGRpbmc6MCAuNXJlbTtib3JkZXItcmFkaXVzOjVweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7dHJhbnNpdGlvbjphbGwgLjNzO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItaW5wdXQtYmcpO2NvbG9yOnZhcigtLWNvbG9yLWZvbnQpfWlucHV0OmhvdmVye2JvcmRlcjoxcHggc29saWQgdmFyKC0tY29sb3ItaW5wdXQtYm9yZGVyLWhvdmVyKX1pbnB1dDpmb2N1c3tib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNvbG9yLWFjdGl2ZSl9LmRhbmdlcntjb2xvcjpyZWQhaW1wb3J0YW50fS5wb3AtY29uZmlybS1jb250ZW50e3Bvc2l0aW9uOmZpeGVkO2JhY2tncm91bmQ6dmFyKC0tY29sb3ItdG9vbHRpcC1iZyk7Ym94LXNoYWRvdzowIDAgNnB4IDFweCB2YXIoLS1jb2xvci10b29sdGlwLXNoYWRvdyk7Y29sb3I6dmFyKC0tY29sb3ItZm9udC04KTtwYWRkaW5nOjEuNXJlbTtib3JkZXItcmFkaXVzOi44cmVtO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSxjYWxjKC0xMDAlIC0gMXJlbSkpO3otaW5kZXg6MTAwM30ucG9wLWNvbmZpcm0tY29udGVudCAudGV4dHt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtc2l6ZToxLjZyZW07d2lkdGg6MTVyZW07bWluLXdpZHRoOjE1cmVtfS5wb3AtY29uZmlybS1jb250ZW50IC5vcHRpb25ze21hcmdpbi10b3A6MS41cmVtO2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1lbmQ7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxcmVtfWltZ3ttYXgtd2lkdGg6MTAwJX0udGFyZ2V0LXVzZXItdGFnc1tkYXRhLXYtYTczZjU2NGNde2JhY2tncm91bmQ6dmFyKC0tY29sb3Itc2Vjb25kLWJnKTtjb2xvcjp2YXIoLS1jb2xvci1mb250KTt3b3JkLWJyZWFrOmJyZWFrLWFsbDt0ZXh0LWFsaWduOnN0YXJ0O2ZvbnQtc2l6ZToxLjRyZW07Ym94LXNoYWRvdzowIDJweCAzcHggIzAwMDAwMDFhO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweH0udGFyZ2V0LXVzZXItdGFncyAuYWRkLXRhZ1tkYXRhLXYtYTczZjU2NGNde2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5sb2FkZWRbZGF0YS12LWE3M2Y1NjRjXXtmb250LXNpemU6MS40cmVtO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjFyZW07Y29sb3I6dmFyKC0tY29sb3ItZm9udC1wdXJlKX0uY2FsZW5kZXJbZGF0YS12LWE3M2Y1NjRjXXtwYWRkaW5nOjEwcHg7Zm9udC1zaXplOjE0cHg7Y29sb3I6dmFyKC0tbGluay1jb2xvcil9LmNhbGVuZGVyIC5tb250aFtkYXRhLXYtYTczZjU2NGNde2hlaWdodDozMHB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6c3BhY2UtYmV0d2VlbjthbGlnbi1pdGVtczpjZW50ZXJ9LmNhbGVuZGVyIC5tb250aCAuY2EtdGl0bGVbZGF0YS12LWE3M2Y1NjRjXXtmbGV4OjE7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpmbGV4LWVuZDthbGlnbi1pdGVtczpjZW50ZXI7Z2FwOjEwcHh9LmNhbGVuZGVyIC5tb250aCBpW2RhdGEtdi1hNzNmNTY0Y117aGVpZ2h0OjEwMCU7d2lkdGg6MzBweDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojYTlhOWE5fS5jYWxlbmRlciAuY2FsZW5kZXItaGVhZGVyW2RhdGEtdi1hNzNmNTY0Y117ZGlzcGxheTpmbGV4O2hlaWdodDozMHB4O2FsaWduLWl0ZW1zOmNlbnRlcn0uY2FsZW5kZXIgLmNhbGVuZGVyLWhlYWRlciBkaXZbZGF0YS12LWE3M2Y1NjRjXXtmbGV4OjF9LmNhbGVuZGVyIC5kYXlzW2RhdGEtdi1hNzNmNTY0Y117ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoNywxZnIpfS5jYWxlbmRlciAuZGF5cyAuZGF5W2RhdGEtdi1hNzNmNTY0Y117aGVpZ2h0OjMwcHh9LmNhbGVuZGVyIC5kYXlzIC5kYXkgYVtkYXRhLXYtYTczZjU2NGNde2Rpc3BsYXk6aW5saW5lLWZsZXg7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2FsZW5kZXIgLmRheXMgLmFjdGl2ZVtkYXRhLXYtYTczZjU2NGNde2JhY2tncm91bmQ6IzQwYTlmZjtib3JkZXItcmFkaXVzOjRweH0uY2FsZW5kZXIgLmRheXMgLmFjdGl2ZSBhW2RhdGEtdi1hNzNmNTY0Y117Y29sb3I6I2ZmZiFpbXBvcnRhbnR9ICcpOwoKICAgIHJ1bigpOwogICAgbGV0IHZ1ZUFwcCA9IHZ1ZS5jcmVhdGVBcHAoQXBwKTsKICAgIHZ1ZUFwcC5jb25maWcudW53cmFwSW5qZWN0ZWRSZWYgPSB0cnVlOwogICAgdnVlQXBwLm1vdW50KCRzZWN0aW9uKTsKICB9Cgp9KShWdWUsIGRheWpzKTs=","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js","ts":1749825460277,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My43LjEgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihpZSxlKXsidXNlIHN0cmljdCI7dmFyIG9lPVtdLHI9T2JqZWN0LmdldFByb3RvdHlwZU9mLGFlPW9lLnNsaWNlLGc9b2UuZmxhdD9mdW5jdGlvbihlKXtyZXR1cm4gb2UuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gb2UuY29uY2F0LmFwcGx5KFtdLGUpfSxzPW9lLnB1c2gsc2U9b2UuaW5kZXhPZixuPXt9LGk9bi50b1N0cmluZyx1ZT1uLmhhc093blByb3BlcnR5LG89dWUudG9TdHJpbmcsYT1vLmNhbGwoT2JqZWN0KSxsZT17fSx2PWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlJiYibnVtYmVyIiE9dHlwZW9mIGUubm9kZVR5cGUmJiJmdW5jdGlvbiIhPXR5cGVvZiBlLml0ZW19LHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJmU9PT1lLndpbmRvd30sQz1pZS5kb2N1bWVudCx1PXt0eXBlOiEwLHNyYzohMCxub25jZTohMCxub01vZHVsZTohMH07ZnVuY3Rpb24gbShlLHQsbil7dmFyIHIsaSxvPShuPW58fEMpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKG8udGV4dD1lLHQpZm9yKHIgaW4gdSkoaT10W3JdfHx0LmdldEF0dHJpYnV0ZSYmdC5nZXRBdHRyaWJ1dGUocikpJiZvLnNldEF0dHJpYnV0ZShyLGkpO24uaGVhZC5hcHBlbmRDaGlsZChvKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIG51bGw9PWU/ZSsiIjoib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlP25baS5jYWxsKGUpXXx8Im9iamVjdCI6dHlwZW9mIGV9dmFyIHQ9IjMuNy4xIixsPS9IVE1MJC9pLGNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBjZS5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIGMoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49eChlKTtyZXR1cm4hdihlKSYmIXkoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9ZnVuY3Rpb24gZmUoZSx0KXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfWNlLmZuPWNlLnByb3RvdHlwZT17anF1ZXJ5OnQsY29uc3RydWN0b3I6Y2UsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBhZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/YWUuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiBjZS5lYWNoKHRoaXMsZSl9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXZlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhjZS5ncmVwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6cyxzb3J0Om9lLnNvcnQsc3BsaWNlOm9lLnNwbGljZX0sY2UuZXh0ZW5kPWNlLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBlLHQsbixyLGksbyxhPWFyZ3VtZW50c1swXXx8e30scz0xLHU9YXJndW1lbnRzLmxlbmd0aCxsPSExO2ZvcigiYm9vbGVhbiI9PXR5cGVvZiBhJiYobD1hLGE9YXJndW1lbnRzW3NdfHx7fSxzKyspLCJvYmplY3QiPT10eXBlb2YgYXx8dihhKXx8KGE9e30pLHM9PT11JiYoYT10aGlzLHMtLSk7czx1O3MrKylpZihudWxsIT0oZT1hcmd1bWVudHNbc10pKWZvcih0IGluIGUpcj1lW3RdLCJfX3Byb3RvX18iIT09dCYmYSE9PXImJihsJiZyJiYoY2UuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhuPWFbdF0sbz1pJiYhQXJyYXkuaXNBcnJheShuKT9bXTppfHxjZS5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPWNlLmV4dGVuZChsLG8scikpOnZvaWQgMCE9PXImJihhW3RdPXIpKTtyZXR1cm4gYX0sY2UuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyh0K01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1pLmNhbGwoZSkpJiYoISh0PXIoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj11ZS5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZvLmNhbGwobik9PT1hKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXttKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKGMoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsaT1lLm5vZGVUeXBlO2lmKCFpKXdoaWxlKHQ9ZVtyKytdKW4rPWNlLnRleHQodCk7cmV0dXJuIDE9PT1pfHwxMT09PWk/ZS50ZXh0Q29udGVudDo5PT09aT9lLmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudDozPT09aXx8ND09PWk/ZS5ub2RlVmFsdWU6bn0sbWFrZUFycmF5OmZ1bmN0aW9uKGUsdCl7dmFyIG49dHx8W107cmV0dXJuIG51bGwhPWUmJihjKE9iamVjdChlKSk/Y2UubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnMuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTpzZS5jYWxsKHQsZSxuKX0saXNYTUxEb2M6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5uYW1lc3BhY2VVUkksbj1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWwudGVzdCh0fHxuJiZuLm5vZGVOYW1lfHwiSFRNTCIpfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihjKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDpsZX0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihjZS5mbltTeW1ib2wuaXRlcmF0b3JdPW9lW1N5bWJvbC5pdGVyYXRvcl0pLGNlLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7blsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTt2YXIgcGU9b2UucG9wLGRlPW9lLnNvcnQsaGU9b2Uuc3BsaWNlLGdlPSJbXFx4MjBcXHRcXHJcXG5cXGZdIix2ZT1uZXcgUmVnRXhwKCJeIitnZSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitnZSsiKyQiLCJnIik7Y2UuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXt2YXIgbj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1ufHwhKCFufHwxIT09bi5ub2RlVHlwZXx8IShlLmNvbnRhaW5zP2UuY29udGFpbnMobik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSkpfTt2YXIgZj0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlx4ODAtXHVGRkZGXHctXS9nO2Z1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfWNlLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKGUpe3JldHVybihlKyIiKS5yZXBsYWNlKGYscCl9O3ZhciB5ZT1DLG1lPXM7IWZ1bmN0aW9uKCl7dmFyIGUsYix3LG8sYSxULHIsQyxkLGksaz1tZSxTPWNlLmV4cGFuZG8sRT0wLG49MCxzPVcoKSxjPVcoKSx1PVcoKSxoPVcoKSxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoYT0hMCksMH0sZj0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHQ9Iig/OlxcXFxbXFxkYS1mQS1GXXsxLDZ9IitnZSsiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIixwPSJcXFsiK2dlKyIqKCIrdCsiKSg/OiIrZ2UrIiooWypeJHwhfl0/PSkiK2dlKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrdCsiKSl8KSIrZ2UrIipcXF0iLGc9IjooIit0KyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitwKyIpKil8LiopXFwpfCkiLHY9bmV3IFJlZ0V4cChnZSsiKyIsImciKSx5PW5ldyBSZWdFeHAoIl4iK2dlKyIqLCIrZ2UrIioiKSxtPW5ldyBSZWdFeHAoIl4iK2dlKyIqKFs+K35dfCIrZ2UrIikiK2dlKyIqIikseD1uZXcgUmVnRXhwKGdlKyJ8PiIpLGo9bmV3IFJlZ0V4cChnKSxBPW5ldyBSZWdFeHAoIl4iK3QrIiQiKSxEPXtJRDpuZXcgUmVnRXhwKCJeIygiK3QrIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrdCsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrdCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK3ApLFBTRVVETzpuZXcgUmVnRXhwKCJeIitnKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK2dlKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitnZSsiKig/OihbKy1dfCkiK2dlKyIqKFxcZCspfCkpIitnZSsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrZisiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK2dlKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK2dlKyIqKCg/Oi1cXGQpP1xcZCopIitnZSsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sTj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLHE9L15oXGQkL2ksTD0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLEg9L1srfl0vLE89bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK2dlKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxQPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0sTT1mdW5jdGlvbigpe1YoKX0sUj1KKGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZCYmZmUoZSwiZmllbGRzZXQiKX0se2RpcjoicGFyZW50Tm9kZSIsbmV4dDoibGVnZW5kIn0pO3RyeXtrLmFwcGx5KG9lPWFlLmNhbGwoeWUuY2hpbGROb2RlcykseWUuY2hpbGROb2Rlcyksb2VbeWUuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGUpe2s9e2FwcGx5OmZ1bmN0aW9uKGUsdCl7bWUuYXBwbHkoZSxhZS5jYWxsKHQpKX0sY2FsbDpmdW5jdGlvbihlKXttZS5hcHBseShlLGFlLmNhbGwoYXJndW1lbnRzLDEpKX19fWZ1bmN0aW9uIEkodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVihlKSxlPWV8fFQsQykpe2lmKDExIT09cCYmKHU9TC5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIGsuY2FsbChuLGEpLG59ZWxzZSBpZihmJiYoYT1mLmdldEVsZW1lbnRCeUlkKGkpKSYmSS5jb250YWlucyhlLGEpJiZhLmlkPT09aSlyZXR1cm4gay5jYWxsKG4sYSksbn1lbHNle2lmKHVbMl0pcmV0dXJuIGsuYXBwbHkobixlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpKSxuO2lmKChpPXVbM10pJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkobixlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaSkpLG59aWYoIShoW3QrIiAiXXx8ZCYmZC50ZXN0KHQpKSl7aWYoYz10LGY9ZSwxPT09cCYmKHgudGVzdCh0KXx8bS50ZXN0KHQpKSl7KGY9SC50ZXN0KHQpJiZVKGUucGFyZW50Tm9kZSl8fGUpPT1lJiZsZS5zY29wZXx8KChzPWUuZ2V0QXR0cmlidXRlKCJpZCIpKT9zPWNlLmVzY2FwZVNlbGVjdG9yKHMpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1ZKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIitRKGxbb10pO2M9bC5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KG4sZi5xdWVyeVNlbGVjdG9yQWxsKGMpKSxufWNhdGNoKGUpe2godCwhMCl9ZmluYWxseXtzPT09UyYmZS5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gcmUodC5yZXBsYWNlKHZlLCIkMSIpLGUsbixyKX1mdW5jdGlvbiBXKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIEYoZSl7cmV0dXJuIGVbU109ITAsZX1mdW5jdGlvbiAkKGUpe3ZhciB0PVQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBCKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZmUoZSwiaW5wdXQiKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gXyh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuKGZlKGUsImlucHV0Iil8fGZlKGUsImJ1dHRvbiIpKSYmZS50eXBlPT09dH19ZnVuY3Rpb24geih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImZvcm0iaW4gZT9lLnBhcmVudE5vZGUmJiExPT09ZS5kaXNhYmxlZD8ibGFiZWwiaW4gZT8ibGFiZWwiaW4gZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5kaXNhYmxlZD09PXQ6ZS5kaXNhYmxlZD09PXQ6ZS5pc0Rpc2FibGVkPT09dHx8ZS5pc0Rpc2FibGVkIT09IXQmJlIoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gWChhKXtyZXR1cm4gRihmdW5jdGlvbihvKXtyZXR1cm4gbz0rbyxGKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24gVShlKXtyZXR1cm4gZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZlfWZ1bmN0aW9uIFYoZSl7dmFyIHQsbj1lP2Uub3duZXJEb2N1bWVudHx8ZTp5ZTtyZXR1cm4gbiE9VCYmOT09PW4ubm9kZVR5cGUmJm4uZG9jdW1lbnRFbGVtZW50JiYocj0oVD1uKS5kb2N1bWVudEVsZW1lbnQsQz0hY2UuaXNYTUxEb2MoVCksaT1yLm1hdGNoZXN8fHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxyLm1zTWF0Y2hlc1NlbGVjdG9yLHIubXNNYXRjaGVzU2VsZWN0b3ImJnllIT1UJiYodD1ULmRlZmF1bHRWaWV3KSYmdC50b3AhPT10JiZ0LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsTSksbGUuZ2V0QnlJZD0kKGZ1bmN0aW9uKGUpe3JldHVybiByLmFwcGVuZENoaWxkKGUpLmlkPWNlLmV4cGFuZG8sIVQuZ2V0RWxlbWVudHNCeU5hbWV8fCFULmdldEVsZW1lbnRzQnlOYW1lKGNlLmV4cGFuZG8pLmxlbmd0aH0pLGxlLmRpc2Nvbm5lY3RlZE1hdGNoPSQoZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChlLCIqIil9KSxsZS5zY29wZT0kKGZ1bmN0aW9uKCl7cmV0dXJuIFQucXVlcnlTZWxlY3RvckFsbCgiOnNjb3BlIil9KSxsZS5jc3NIYXM9JChmdW5jdGlvbigpe3RyeXtyZXR1cm4gVC5xdWVyeVNlbGVjdG9yKCI6aGFzKCosOmpxZmFrZSkiKSwhMX1jYXRjaChlKXtyZXR1cm4hMH19KSxsZS5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoTyxQKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmQyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KGIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciBuPWUucmVwbGFjZShPLFApO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlTm9kZSYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiB0JiZ0LnZhbHVlPT09bn19LGIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmQyl7dmFyIG4scixpLG89dC5nZXRFbGVtZW50QnlJZChlKTtpZihvKXtpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb107aT10LmdldEVsZW1lbnRzQnlOYW1lKGUpLHI9MDt3aGlsZShvPWlbcisrXSlpZigobj1vLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZuLnZhbHVlPT09ZSlyZXR1cm5bb119cmV0dXJuW119fSksYi5maW5kLlRBRz1mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOnQucXVlcnlTZWxlY3RvckFsbChlKX0sYi5maW5kLkNMQVNTPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkMpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sZD1bXSwkKGZ1bmN0aW9uKGUpe3ZhciB0O3IuYXBwZW5kQ2hpbGQoZSkuaW5uZXJIVE1MPSI8YSBpZD0nIitTKyInIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxkLnB1c2goIlxcWyIrZ2UrIiooPzp2YWx1ZXwiK2YrIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitTKyItXSIpLmxlbmd0aHx8ZC5wdXNoKCJ+PSIpLGUucXVlcnlTZWxlY3RvckFsbCgiYSMiK1MrIisqIikubGVuZ3RofHxkLnB1c2goIi4jLitbK35dIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8ZC5wdXNoKCI6Y2hlY2tlZCIpLCh0PVQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIiksZS5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIiksci5hcHBlbmRDaGlsZChlKS5kaXNhYmxlZD0hMCwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJmQucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKSwodD1ULmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fGQucHVzaCgiXFxbIitnZSsiKm5hbWUiK2dlKyIqPSIrZ2UrIiooPzonJ3xcIlwiKSIpfSksbGUuY3NzSGFzfHxkLnB1c2goIjpoYXMiKSxkPWQubGVuZ3RoJiZuZXcgUmVnRXhwKGQuam9pbigifCIpKSxsPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGE9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFsZS5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1uP2U9PT1UfHxlLm93bmVyRG9jdW1lbnQ9PXllJiZJLmNvbnRhaW5zKHllLGUpPy0xOnQ9PT1UfHx0Lm93bmVyRG9jdW1lbnQ9PXllJiZJLmNvbnRhaW5zKHllLHQpPzE6bz9zZS5jYWxsKG8sZSktc2UuY2FsbChvLHQpOjA6NCZuPy0xOjEpfSksVH1mb3IoZSBpbiBJLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSShlLG51bGwsbnVsbCx0KX0sSS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtpZihWKGUpLEMmJiFoW3QrIiAiXSYmKCFkfHwhZC50ZXN0KHQpKSl0cnl7dmFyIG49aS5jYWxsKGUsdCk7aWYobnx8bGUuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChlKXtoKHQsITApfXJldHVybiAwPEkodCxULG51bGwsW2VdKS5sZW5ndGh9LEkuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9VCYmVihlKSxjZS5jb250YWlucyhlLHQpfSxJLmF0dHI9ZnVuY3Rpb24oZSx0KXsoZS5vd25lckRvY3VtZW50fHxlKSE9VCYmVihlKTt2YXIgbj1iLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxyPW4mJnVlLmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUMpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmUuZ2V0QXR0cmlidXRlKHQpfSxJLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sY2UudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdLHI9MCxpPTA7aWYoYT0hbGUuc29ydFN0YWJsZSxvPSFsZS5zb3J0U3RhYmxlJiZhZS5jYWxsKGUsMCksZGUuY2FsbChlLGwpLGEpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSloZS5jYWxsKGUsbltyXSwxKX1yZXR1cm4gbz1udWxsLGV9LGNlLmZuLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UudW5pcXVlU29ydChhZS5hcHBseSh0aGlzKSkpfSwoYj1jZS5leHByPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86RixtYXRjaDpELGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihlKXtyZXR1cm4gZVsxXT1lWzFdLnJlcGxhY2UoTyxQKSxlWzNdPShlWzNdfHxlWzRdfHxlWzVdfHwiIikucmVwbGFjZShPLFApLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxJLmVycm9yKGVbMF0pLGVbNF09KyhlWzRdP2VbNV0rKGVbNl18fDEpOjIqKCJldmVuIj09PWVbM118fCJvZGQiPT09ZVszXSkpLGVbNV09KyhlWzddK2VbOF18fCJvZGQiPT09ZVszXSkpOmVbM10mJkkuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG49IWVbNl0mJmVbMl07cmV0dXJuIEQuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmai50ZXN0KG4pJiYodD1ZKG4sITApKSYmKHQ9bi5pbmRleE9mKCIpIixuLmxlbmd0aC10KS1uLmxlbmd0aCkmJihlWzBdPWVbMF0uc2xpY2UoMCx0KSxlWzJdPW4uc2xpY2UoMCx0KSksZS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShPLFApLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZmUoZSx0KX19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PXNbZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK2dlKyIpIitlKyIoIitnZSsifCQpIikpJiZzKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZSYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9SS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UodiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oZCxlLHQsaCxnKXt2YXIgdj0ibnRoIiE9PWQuc2xpY2UoMCwzKSx5PSJsYXN0IiE9PWQuc2xpY2UoLTQpLG09Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWgmJjA9PT1nP2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1PXYhPT15PyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyIsbD1lLnBhcmVudE5vZGUsYz1tJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZj0hbiYmIW0scD0hMTtpZihsKXtpZih2KXt3aGlsZSh1KXtvPWU7d2hpbGUobz1vW3VdKWlmKG0/ZmUobyxjKToxPT09by5ub2RlVHlwZSlyZXR1cm4hMTtzPXU9Im9ubHkiPT09ZCYmIXMmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9aWYocz1beT9sLmZpcnN0Q2hpbGQ6bC5sYXN0Q2hpbGRdLHkmJmYpe3A9KGE9KHI9KGk9bFtTXXx8KGxbU109e30pKVtkXXx8W10pWzBdPT09RSYmclsxXSkmJnJbMl0sbz1hJiZsLmNoaWxkTm9kZXNbYV07d2hpbGUobz0rK2EmJm8mJm9bdV18fChwPWE9MCl8fHMucG9wKCkpaWYoMT09PW8ubm9kZVR5cGUmJisrcCYmbz09PWUpe2lbZF09W0UsYSxwXTticmVha319ZWxzZSBpZihmJiYocD1hPShyPShpPWVbU118fChlW1NdPXt9KSlbZF18fFtdKVswXT09PUUmJnJbMV0pLCExPT09cCl3aGlsZShvPSsrYSYmbyYmb1t1XXx8KHA9YT0wKXx8cy5wb3AoKSlpZigobT9mZShvLGMpOjE9PT1vLm5vZGVUeXBlKSYmKytwJiYoZiYmKChpPW9bU118fChvW1NdPXt9KSlbZF09W0UscF0pLG89PT1lKSlicmVhaztyZXR1cm4ocC09Zyk9PT1ofHxwJWg9PTAmJjA8PXAvaH19fSxQU0VVRE86ZnVuY3Rpb24oZSxvKXt2YXIgdCxhPWIucHNldWRvc1tlXXx8Yi5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fEkuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gYVtTXT9hKG8pOjE8YS5sZW5ndGg/KHQ9W2UsZSwiIixvXSxiLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9GKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPXNlLmNhbGwoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpGKGZ1bmN0aW9uKGUpe3ZhciByPVtdLGk9W10scz1uZShlLnJlcGxhY2UodmUsIiQxIikpO3JldHVybiBzW1NdP0YoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpGKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gMDxJKHQsZSkubGVuZ3RofX0pLGNvbnRhaW5zOkYoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKE8sUCksZnVuY3Rpb24oZSl7cmV0dXJuLTE8KGUudGV4dENvbnRlbnR8fGNlLnRleHQoZSkpLmluZGV4T2YodCl9fSksbGFuZzpGKGZ1bmN0aW9uKG4pe3JldHVybiBBLnRlc3Qobnx8IiIpfHxJLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKE8sUCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUM/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWllLmxvY2F0aW9uJiZpZS5sb2NhdGlvbi5oYXNoO3JldHVybiB0JiZ0LnNsaWNlKDEpPT09ZS5pZH0scm9vdDpmdW5jdGlvbihlKXtyZXR1cm4gZT09PXJ9LGZvY3VzOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIFQuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpJiZULmhhc0ZvY3VzKCkmJiEhKGUudHlwZXx8ZS5ocmVmfHx+ZS50YWJJbmRleCl9LGVuYWJsZWQ6eighMSksZGlzYWJsZWQ6eighMCksY2hlY2tlZDpmdW5jdGlvbihlKXtyZXR1cm4gZmUoZSwiaW5wdXQiKSYmISFlLmNoZWNrZWR8fGZlKGUsIm9wdGlvbiIpJiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFiLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gcS50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gTi50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7cmV0dXJuIGZlKGUsImlucHV0IikmJiJidXR0b24iPT09ZS50eXBlfHxmZShlLCJidXR0b24iKX0sdGV4dDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZmUoZSwiaW5wdXQiKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OlgoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OlgoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOlgoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpYKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0O24rPTIpZS5wdXNoKG4pO3JldHVybiBlfSksb2RkOlgoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpYKGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtmb3Iocj1uPDA/bit0OnQ8bj90Om47MDw9LS1yOyllLnB1c2gocik7cmV0dXJuIGV9KSxndDpYKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1iLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KWIucHNldWRvc1tlXT1CKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPV8oZSk7ZnVuY3Rpb24gRygpe31mdW5jdGlvbiBZKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD1jW2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj15LmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj1tLmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKHZlLCIgIil9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKSxiLmZpbHRlcikhKHI9RFtvXS5leGVjKGEpKXx8dVtvXSYmIShyPXVbb10ocikpfHwobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6byxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP0kuZXJyb3IoZSk6YyhlLHMpLnNsaWNlKDApfWZ1bmN0aW9uIFEoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPSIiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBKKGEsZSx0KXt2YXIgcz1lLmRpcix1PWUubmV4dCxsPXV8fHMsYz10JiYicGFyZW50Tm9kZSI9PT1sLGY9bisrO3JldHVybiBlLmZpcnN0P2Z1bmN0aW9uKGUsdCxuKXt3aGlsZShlPWVbc10paWYoMT09PWUubm9kZVR5cGV8fGMpcmV0dXJuIGEoZSx0LG4pO3JldHVybiExfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPVtFLGZdO2lmKG4pe3doaWxlKGU9ZVtzXSlpZigoMT09PWUubm9kZVR5cGV8fGMpJiZhKGUsdCxuKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGU9ZVtzXSlpZigxPT09ZS5ub2RlVHlwZXx8YylpZihpPWVbU118fChlW1NdPXt9KSx1JiZmZShlLHUpKWU9ZVtzXXx8ZTtlbHNle2lmKChyPWlbbF0pJiZyWzBdPT09RSYmclsxXT09PWYpcmV0dXJuIG9bMl09clsyXTtpZigoaVtsXT1vKVsyXT1hKGUsdCxuKSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24gSyhpKXtyZXR1cm4gMTxpLmxlbmd0aD9mdW5jdGlvbihlLHQsbil7dmFyIHI9aS5sZW5ndGg7d2hpbGUoci0tKWlmKCFpW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06aVswXX1mdW5jdGlvbiBaKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZWUoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9ZWUodikpLHkmJiF5W1NdJiYoeT1lZSh5LGUpKSxGKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHU9W10sbD1bXSxjPXQubGVuZ3RoLGY9ZXx8ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylJKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLHA9IWR8fCFlJiZoP2Y6WihmLHUsZCxuLHIpO2lmKGc/ZyhwLHM9eXx8KGU/ZDpjfHx2KT9bXTp0LG4scik6cz1wLHYpe2k9WihzLGwpLHYoaSxbXSxuLHIpLG89aS5sZW5ndGg7d2hpbGUoby0tKShhPWlbb10pJiYoc1tsW29dXT0hKHBbbFtvXV09YSkpfWlmKGUpe2lmKHl8fGQpe2lmKHkpe2k9W10sbz1zLmxlbmd0aDt3aGlsZShvLS0pKGE9c1tvXSkmJmkucHVzaChwW29dPWEpO3kobnVsbCxzPVtdLGkscil9bz1zLmxlbmd0aDt3aGlsZShvLS0pKGE9c1tvXSkmJi0xPChpPXk/c2UuY2FsbChlLGEpOnVbb10pJiYoZVtpXT0hKHRbaV09YSkpfX1lbHNlIHM9WihzPT09dD9zLnNwbGljZShjLHMubGVuZ3RoKTpzKSx5P3kobnVsbCx0LHMscik6ay5hcHBseSh0LHMpfSl9ZnVuY3Rpb24gdGUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1KKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09aX0sYSwhMCksbD1KKGZ1bmN0aW9uKGUpe3JldHVybi0xPHNlLmNhbGwoaSxlKX0sYSwhMCksYz1bZnVuY3Rpb24oZSx0LG4pe3ZhciByPSFvJiYobnx8dCE9dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtKKEsoYyksdCldO2Vsc2V7aWYoKHQ9Yi5maWx0ZXJbZVtzXS50eXBlXS5hcHBseShudWxsLGVbc10ubWF0Y2hlcykpW1NdKXtmb3Iobj0rK3M7bjxyO24rKylpZihiLnJlbGF0aXZlW2Vbbl0udHlwZV0pYnJlYWs7cmV0dXJuIGVlKDE8cyYmSyhjKSwxPHMmJlEoZS5zbGljZSgwLHMtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW3MtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZSh2ZSwiJDEiKSx0LHM8biYmdGUoZS5zbGljZShzLG4pKSxuPHImJnRlKGU9ZS5zbGljZShuKSksbjxyJiZRKGUpKX1jLnB1c2godCl9cmV0dXJuIEsoYyl9ZnVuY3Rpb24gbmUoZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9dVtlKyIgIl07aWYoIWEpe3R8fCh0PVkoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPXRlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPXUoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPUUrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1UfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1UfHwoVihvKSxuPSFDKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8VCxuKSl7ay5jYWxsKHIsbyk7YnJlYWt9aSYmKEU9aCl9bSYmKChvPSFzJiZvKSYmdS0tLGUmJmMucHVzaChvKSl9aWYodSs9bCxtJiZsIT09dSl7YT0wO3doaWxlKHM9eVthKytdKXMoYyxmLHQsbik7aWYoZSl7aWYoMDx1KXdoaWxlKGwtLSljW2xdfHxmW2xdfHwoZltsXT1wZS5jYWxsKHIpKTtmPVooZil9ay5hcHBseShyLGYpLGkmJiFlJiYwPGYubGVuZ3RoJiYxPHUreS5sZW5ndGgmJmNlLnVuaXF1ZVNvcnQocil9cmV0dXJuIGkmJihFPWgsdz1wKSxjfSxtP0Yocik6cikpKS5zZWxlY3Rvcj1lfXJldHVybiBhfWZ1bmN0aW9uIHJlKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZZKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmQyYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShPLFApLHQpfHxbXSlbMF0pKXJldHVybiBuO2wmJih0PXQucGFyZW50Tm9kZSksZT1lLnNsaWNlKG8uc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWk9RC5uZWVkc0NvbnRleHQudGVzdChlKT8wOm8ubGVuZ3RoO3doaWxlKGktLSl7aWYoYT1vW2ldLGIucmVsYXRpdmVbcz1hLnR5cGVdKWJyZWFrO2lmKCh1PWIuZmluZFtzXSkmJihyPXUoYS5tYXRjaGVzWzBdLnJlcGxhY2UoTyxQKSxILnRlc3Qob1swXS50eXBlKSYmVSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZRKG8pKSlyZXR1cm4gay5hcHBseShuLHIpLG47YnJlYWt9fX1yZXR1cm4obHx8bmUoZSxjKSkocix0LCFDLG4sIXR8fEgudGVzdChlKSYmVSh0LnBhcmVudE5vZGUpfHx0KSxufUcucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBHLGxlLnNvcnRTdGFibGU9Uy5zcGxpdCgiIikuc29ydChsKS5qb2luKCIiKT09PVMsVigpLGxlLnNvcnREZXRhY2hlZD0kKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oVC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGNlLmZpbmQ9SSxjZS5leHByWyI6Il09Y2UuZXhwci5wc2V1ZG9zLGNlLnVuaXF1ZT1jZS51bmlxdWVTb3J0LEkuY29tcGlsZT1uZSxJLnNlbGVjdD1yZSxJLnNldERvY3VtZW50PVYsSS50b2tlbml6ZT1ZLEkuZXNjYXBlPWNlLmVzY2FwZVNlbGVjdG9yLEkuZ2V0VGV4dD1jZS50ZXh0LEkuaXNYTUw9Y2UuaXNYTUxEb2MsSS5zZWxlY3RvcnM9Y2UuZXhwcixJLnN1cHBvcnQ9Y2Uuc3VwcG9ydCxJLnVuaXF1ZVNvcnQ9Y2UudW5pcXVlU29ydH0oKTt2YXIgZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmY2UoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxiPWNlLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHc9L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gVChlLG4scil7cmV0dXJuIHYobik/Y2UuZ3JlcChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuISFuLmNhbGwoZSx0LGUpIT09cn0pOm4ubm9kZVR5cGU/Y2UuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09biE9PXJ9KToic3RyaW5nIiE9dHlwZW9mIG4/Y2UuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPHNlLmNhbGwobixlKSE9PXJ9KTpjZS5maWx0ZXIobixlLHIpfWNlLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9jZS5maW5kLm1hdGNoZXNTZWxlY3RvcihyLGUpP1tyXTpbXTpjZS5maW5kLm1hdGNoZXMoZSxjZS5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxjZS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMubGVuZ3RoLGk9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXMucHVzaFN0YWNrKGNlKGUpLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZihjZS5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyljZS5maW5kKGUsaVt0XSxuKTtyZXR1cm4gMTxyP2NlLnVuaXF1ZVNvcnQobik6bn0sZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhUKHRoaXMsZXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhUKHRoaXMsZXx8W10sITApKX0saXM6ZnVuY3Rpb24oZSl7cmV0dXJuISFUKHRoaXMsInN0cmluZyI9PXR5cGVvZiBlJiZiLnRlc3QoZSk/Y2UoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgayxTPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KGNlLmZuLmluaXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoIWUpcmV0dXJuIHRoaXM7aWYobj1ufHxrLCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShyPSI8Ij09PWVbMF0mJiI+Ij09PWVbZS5sZW5ndGgtMV0mJjM8PWUubGVuZ3RoP1tudWxsLGUsbnVsbF06Uy5leGVjKGUpKXx8IXJbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxuKS5maW5kKGUpOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChlKTtpZihyWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBjZT90WzBdOnQsY2UubWVyZ2UodGhpcyxjZS5wYXJzZUhUTUwoclsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpDLCEwKSksdy50ZXN0KHJbMV0pJiZjZS5pc1BsYWluT2JqZWN0KHQpKWZvcihyIGluIHQpdih0aGlzW3JdKT90aGlzW3JdKHRbcl0pOnRoaXMuYXR0cihyLHRbcl0pO3JldHVybiB0aGlzfXJldHVybihpPUMuZ2V0RWxlbWVudEJ5SWQoclsyXSkpJiYodGhpc1swXT1pLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIGUubm9kZVR5cGU/KHRoaXNbMF09ZSx0aGlzLmxlbmd0aD0xLHRoaXMpOnYoZSk/dm9pZCAwIT09bi5yZWFkeT9uLnJlYWR5KGUpOmUoY2UpOmNlLm1ha2VBcnJheShlLHRoaXMpfSkucHJvdG90eXBlPWNlLmZuLGs9Y2UoQyk7dmFyIEU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8saj17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBBKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1jZS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihlKXt2YXIgdD1jZShlLHRoaXMpLG49dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTxuO2UrKylpZihjZS5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZjZShlKTtpZighYi50ZXN0KGUpKWZvcig7cjxpO3IrKylmb3Iobj10aGlzW3JdO24mJm4hPT10O249bi5wYXJlbnROb2RlKWlmKG4ubm9kZVR5cGU8MTEmJihhPy0xPGEuaW5kZXgobik6MT09PW4ubm9kZVR5cGUmJmNlLmZpbmQubWF0Y2hlc1NlbGVjdG9yKG4sZSkpKXtvLnB1c2gobik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8by5sZW5ndGg/Y2UudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP3NlLmNhbGwoY2UoZSksdGhpc1swXSk6c2UuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2UudW5pcXVlU29ydChjZS5tZXJnZSh0aGlzLmdldCgpLGNlKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLGNlLmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBkKGUsInBhcmVudE5vZGUiLG4pfSxuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBBKGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihlKXtyZXR1cm4gZChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZChlLCJuZXh0U2libGluZyIsbil9LHByZXZVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQoZSwicHJldmlvdXNTaWJsaW5nIixuKX0sc2libGluZ3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGgoKGUucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsZSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lLmNvbnRlbnREb2N1bWVudCYmcihlLmNvbnRlbnREb2N1bWVudCk/ZS5jb250ZW50RG9jdW1lbnQ6KGZlKGUsInRlbXBsYXRlIikmJihlPWUuY29udGVudHx8ZSksY2UubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe2NlLmZuW3JdPWZ1bmN0aW9uKGUsdCl7dmFyIG49Y2UubWFwKHRoaXMsaSxlKTtyZXR1cm4iVW50aWwiIT09ci5zbGljZSgtNSkmJih0PWUpLHQmJiJzdHJpbmciPT10eXBlb2YgdCYmKG49Y2UuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihqW3JdfHxjZS51bmlxdWVTb3J0KG4pLEUudGVzdChyKSYmbi5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKG4pfX0pO3ZhciBEPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gTihlKXtyZXR1cm4gZX1mdW5jdGlvbiBxKGUpe3Rocm93IGV9ZnVuY3Rpb24gTChlLHQsbixyKXt2YXIgaTt0cnl7ZSYmdihpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZ2KGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19Y2UuQ2FsbGJhY2tzPWZ1bmN0aW9uKHIpe3ZhciBlLG47cj0ic3RyaW5nIj09dHlwZW9mIHI/KGU9cixuPXt9LGNlLmVhY2goZS5tYXRjaChEKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Y2UuZXh0ZW5kKHt9LHIpO3ZhciBpLHQsbyxhLHM9W10sdT1bXSxsPS0xLGM9ZnVuY3Rpb24oKXtmb3IoYT1hfHxyLm9uY2Usbz1pPSEwO3UubGVuZ3RoO2w9LTEpe3Q9dS5zaGlmdCgpO3doaWxlKCsrbDxzLmxlbmd0aCkhMT09PXNbbF0uYXBwbHkodFswXSx0WzFdKSYmci5zdG9wT25GYWxzZSYmKGw9cy5sZW5ndGgsdD0hMSl9ci5tZW1vcnl8fCh0PSExKSxpPSExLGEmJihzPXQ/W106IiIpfSxmPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gcyYmKHQmJiFpJiYobD1zLmxlbmd0aC0xLHUucHVzaCh0KSksZnVuY3Rpb24gbihlKXtjZS5lYWNoKGUsZnVuY3Rpb24oZSx0KXt2KHQpP3IudW5pcXVlJiZmLmhhcyh0KXx8cy5wdXNoKHQpOnQmJnQubGVuZ3RoJiYic3RyaW5nIiE9PXgodCkmJm4odCl9KX0oYXJndW1lbnRzKSx0JiYhaSYmYygpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gY2UuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1jZS5pbkFycmF5KHQscyxuKSkpcy5zcGxpY2UobiwxKSxuPD1sJiZsLS19KSx0aGlzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/LTE8Y2UuaW5BcnJheShlLHMpOjA8cy5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHMmJihzPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9dT1bXSxzPXQ9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hc30sbG9jazpmdW5jdGlvbigpe3JldHVybiBhPXU9W10sdHx8aXx8KHM9dD0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFhfSxmaXJlV2l0aDpmdW5jdGlvbihlLHQpe3JldHVybiBhfHwodD1bZSwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHUucHVzaCh0KSxpfHxjKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIW99fTtyZXR1cm4gZn0sY2UuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsY2UuQ2FsbGJhY2tzKCJtZW1vcnkiKSxjZS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGNlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxjZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMCwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLGNlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxjZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gY2UuRGVmZXJyZWQoZnVuY3Rpb24ocil7Y2UuZWFjaChvLGZ1bmN0aW9uKGUsdCl7dmFyIG49dihpW3RbNF1dKSYmaVt0WzRdXTtzW3RbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9biYmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmdihlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHIubm90aWZ5KS5kb25lKHIucmVzb2x2ZSkuZmFpbChyLnJlamVjdCk6clt0WzBdKyJXaXRoIl0odGhpcyxuP1tlXTphcmd1bWVudHMpfSl9KSxpPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxuLHIpe3ZhciB1PTA7ZnVuY3Rpb24gbChpLG8sYSxzKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzLGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKCEoaTx1KSl7aWYoKGU9YS5hcHBseShuLHIpKT09PW8ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO3Q9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sdih0KT9zP3QuY2FsbChlLGwodSxvLE4scyksbCh1LG8scSxzKSk6KHUrKyx0LmNhbGwoZSxsKHUsbyxOLHMpLGwodSxvLHEscyksbCh1LG8sTixvLm5vdGlmeVdpdGgpKSk6KGEhPT1OJiYobj12b2lkIDAscj1bZV0pLChzfHxvLnJlc29sdmVXaXRoKShuLHIpKX19LHQ9cz9lOmZ1bmN0aW9uKCl7dHJ5e2UoKX1jYXRjaChlKXtjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rKGUsdC5lcnJvciksdTw9aSsxJiYoYSE9PXEmJihuPXZvaWQgMCxyPVtlXSksby5yZWplY3RXaXRoKG4scikpfX07aT90KCk6KGNlLkRlZmVycmVkLmdldEVycm9ySG9vaz90LmVycm9yPWNlLkRlZmVycmVkLmdldEVycm9ySG9vaygpOmNlLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuZXJyb3I9Y2UuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGllLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gY2UuRGVmZXJyZWQoZnVuY3Rpb24oZSl7b1swXVszXS5hZGQobCgwLGUsdihyKT9yOk4sZS5ub3RpZnlXaXRoKSksb1sxXVszXS5hZGQobCgwLGUsdih0KT90Ok4pKSxvWzJdWzNdLmFkZChsKDAsZSx2KG4pP246cSkpfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lP2NlLmV4dGVuZChlLGEpOmF9fSxzPXt9O3JldHVybiBjZS5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPWFlLmNhbGwoYXJndW1lbnRzKSxvPWNlLkRlZmVycmVkKCksYT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7clt0XT10aGlzLGlbdF09MTxhcmd1bWVudHMubGVuZ3RoP2FlLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEwoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHx2KGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pTChpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgSD0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztjZS5EZWZlcnJlZC5leGNlcHRpb25Ib29rPWZ1bmN0aW9uKGUsdCl7aWUuY29uc29sZSYmaWUuY29uc29sZS53YXJuJiZlJiZILnRlc3QoZS5uYW1lKSYmaWUuY29uc29sZS53YXJuKCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiAiK2UubWVzc2FnZSxlLnN0YWNrLHQpfSxjZS5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbihlKXtpZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgTz1jZS5EZWZlcnJlZCgpO2Z1bmN0aW9uIFAoKXtDLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLFApLGllLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLFApLGNlLnJlYWR5KCl9Y2UuZm4ucmVhZHk9ZnVuY3Rpb24oZSl7cmV0dXJuIE8udGhlbihlKVsiY2F0Y2giXShmdW5jdGlvbihlKXtjZS5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LGNlLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tY2UucmVhZHlXYWl0OmNlLmlzUmVhZHkpfHwoY2UuaXNSZWFkeT0hMCkhPT1lJiYwPC0tY2UucmVhZHlXYWl0fHxPLnJlc29sdmVXaXRoKEMsW2NlXSl9fSksY2UucmVhZHkudGhlbj1PLnRoZW4sImNvbXBsZXRlIj09PUMucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09Qy5yZWFkeVN0YXRlJiYhQy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/aWUuc2V0VGltZW91dChjZS5yZWFkeSk6KEMuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsUCksaWUuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsUCkpO3ZhciBNPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT14KG4pKWZvcihzIGluIGk9ITAsbilNKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLHYocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoY2UoZSksbil9KSksdCkpZm9yKDtzPHU7cysrKXQoZVtzXSxuLGE/cjpyLmNhbGwoZVtzXSxzLHQoZVtzXSxuKSkpO3JldHVybiBpP2U6bD90LmNhbGwoZSk6dT90KGVbMF0sbik6b30sUj0vXi1tcy0vLEk9Ly0oW2Etel0pL2c7ZnVuY3Rpb24gVyhlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZS5yZXBsYWNlKFIsIm1zLSIpLnJlcGxhY2UoSSxXKX12YXIgJD1mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV8fDk9PT1lLm5vZGVUeXBlfHwhK2Uubm9kZVR5cGV9O2Z1bmN0aW9uIEIoKXt0aGlzLmV4cGFuZG89Y2UuZXhwYW5kbytCLnVpZCsrfUIudWlkPTEsQi5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKGUpe3ZhciB0PWVbdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sJChlKSYmKGUubm9kZVR5cGU/ZVt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXRoaXMuY2FjaGUoZSk7aWYoInN0cmluZyI9PXR5cGVvZiB0KWlbRih0KV09bjtlbHNlIGZvcihyIGluIHQpaVtGKHIpXT10W3JdO3JldHVybiBpfSxnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKGUpOmVbdGhpcy5leHBhbmRvXSYmZVt0aGlzLmV4cGFuZG9dW0YodCldfSxhY2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PW4/dGhpcy5nZXQoZSx0KToodGhpcy5zZXQoZSx0LG4pLHZvaWQgMCE9PW4/bjp0KX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dCl7bj0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKEYpOih0PUYodCkpaW4gcj9bdF06dC5tYXRjaChEKXx8W10pLmxlbmd0aDt3aGlsZShuLS0pZGVsZXRlIHJbdFtuXV19KHZvaWQgMD09PXR8fGNlLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFjZS5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIF89bmV3IEIsej1uZXcgQixYPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sVT0vW0EtWl0vZztmdW5jdGlvbiBWKGUsdCxuKXt2YXIgcixpO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoVSwiLSQmIikudG9Mb3dlckNhc2UoKSwic3RyaW5nIj09dHlwZW9mKG49ZS5nZXRBdHRyaWJ1dGUocikpKXt0cnl7bj0idHJ1ZSI9PT0oaT1uKXx8ImZhbHNlIiE9PWkmJigibnVsbCI9PT1pP251bGw6aT09PStpKyIiPytpOlgudGVzdChpKT9KU09OLnBhcnNlKGkpOmkpfWNhdGNoKGUpe316LnNldChlLHQsbil9ZWxzZSBuPXZvaWQgMDtyZXR1cm4gbn1jZS5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHouaGFzRGF0YShlKXx8Xy5oYXNEYXRhKGUpfSxkYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gei5hY2Nlc3MoZSx0LG4pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7ei5yZW1vdmUoZSx0KX0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBfLmFjY2VzcyhlLHQsbil9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCl7Xy5yZW1vdmUoZSx0KX19KSxjZS5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT16LmdldChvKSwxPT09by5ub2RlVHlwZSYmIV8uZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9RihyLnNsaWNlKDUpKSxWKG8scixpW3JdKSk7Xy5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe3ouc2V0KHRoaXMsbil9KTpNKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9ei5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1WKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe3ouc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt6LnJlbW92ZSh0aGlzLGUpfSl9fSksY2UuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoZSlyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixyPV8uZ2V0KGUsdCksbiYmKCFyfHxBcnJheS5pc0FycmF5KG4pP3I9Xy5hY2Nlc3MoZSx0LGNlLm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj1jZS5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1jZS5fcXVldWVIb29rcyhlLHQpOyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxmdW5jdGlvbigpe2NlLmRlcXVldWUoZSx0KX0sbykpLCFyJiZvJiZvLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gXy5nZXQoZSxuKXx8Xy5hY2Nlc3MoZSxuLHtlbXB0eTpjZS5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7Xy5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksY2UuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbih0LG4pe3ZhciBlPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9ImZ4IixlLS0pLGFyZ3VtZW50cy5sZW5ndGg8ZT9jZS5xdWV1ZSh0aGlzWzBdLHQpOnZvaWQgMD09PW4/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1jZS5xdWV1ZSh0aGlzLHQsbik7Y2UuX3F1ZXVlSG9va3ModGhpcyx0KSwiZngiPT09dCYmImlucHJvZ3Jlc3MiIT09ZVswXSYmY2UuZGVxdWV1ZSh0aGlzLHQpfSl9LGRlcXVldWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2NlLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Y2UuRGVmZXJyZWQoKSxvPXRoaXMsYT10aGlzLmxlbmd0aCxzPWZ1bmN0aW9uKCl7LS1yfHxpLnJlc29sdmVXaXRoKG8sW29dKX07InN0cmluZyIhPXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fCJmeCI7d2hpbGUoYS0tKShuPV8uZ2V0KG9bYV0sZSsicXVldWVIb29rcyIpKSYmbi5lbXB0eSYmKHIrKyxuLmVtcHR5LmFkZChzKSk7cmV0dXJuIHMoKSxpLnByb21pc2UodCl9fSk7dmFyIEc9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsWT1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrRysiKShbYS16JV0qKSQiLCJpIiksUT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLEo9Qy5kb2N1bWVudEVsZW1lbnQsSz1mdW5jdGlvbihlKXtyZXR1cm4gY2UuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfSxaPXtjb21wb3NlZDohMH07Si5nZXRSb290Tm9kZSYmKEs9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShaKT09PWUub3duZXJEb2N1bWVudH0pO3ZhciBlZT1mdW5jdGlvbihlLHQpe3JldHVybiJub25lIj09PShlPXR8fGUpLnN0eWxlLmRpc3BsYXl8fCIiPT09ZS5zdHlsZS5kaXNwbGF5JiZLKGUpJiYibm9uZSI9PT1jZS5jc3MoZSwiZGlzcGxheSIpfTtmdW5jdGlvbiB0ZShlLHQsbixyKXt2YXIgaSxvLGE9MjAscz1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIGNlLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChjZS5jc3NOdW1iZXJbdF0/IiI6InB4IiksYz1lLm5vZGVUeXBlJiYoY2UuY3NzTnVtYmVyW3RdfHwicHgiIT09bCYmK3UpJiZZLmV4ZWMoY2UuY3NzKGUsdCkpO2lmKGMmJmNbM10hPT1sKXt1Lz0yLGw9bHx8Y1szXSxjPSt1fHwxO3doaWxlKGEtLSljZS5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLGNlLnN0eWxlKGUsdCxjK2wpLG49bnx8W119cmV0dXJuIG4mJihjPStjfHwrdXx8MCxpPW5bMV0/YysoblsxXSsxKSpuWzJdOituWzJdLHImJihyLnVuaXQ9bCxyLnN0YXJ0PWMsci5lbmQ9aSkpLGl9dmFyIG5lPXt9O2Z1bmN0aW9uIHJlKGUsdCl7Zm9yKHZhciBuLHIsaSxvLGEscyx1LGw9W10sYz0wLGY9ZS5sZW5ndGg7YzxmO2MrKykocj1lW2NdKS5zdHlsZSYmKG49ci5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PW4mJihsW2NdPV8uZ2V0KHIsImRpc3BsYXkiKXx8bnVsbCxsW2NdfHwoci5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT1yLnN0eWxlLmRpc3BsYXkmJmVlKHIpJiYobFtjXT0odT1hPW89dm9pZCAwLGE9KGk9cikub3duZXJEb2N1bWVudCxzPWkubm9kZU5hbWUsKHU9bmVbc10pfHwobz1hLmJvZHkuYXBwZW5kQ2hpbGQoYS5jcmVhdGVFbGVtZW50KHMpKSx1PWNlLmNzcyhvLCJkaXNwbGF5Iiksby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pLCJub25lIj09PXUmJih1PSJibG9jayIpLG5lW3NdPXUpKSkpOiJub25lIiE9PW4mJihsW2NdPSJub25lIixfLnNldChyLCJkaXNwbGF5IixuKSkpO2ZvcihjPTA7YzxmO2MrKyludWxsIT1sW2NdJiYoZVtjXS5zdHlsZS5kaXNwbGF5PWxbY10pO3JldHVybiBlfWNlLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiByZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiByZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtlZSh0aGlzKT9jZSh0aGlzKS5zaG93KCk6Y2UodGhpcykuaGlkZSgpfSl9fSk7dmFyIHhlLGJlLHdlPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pLFRlPS88KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKS9pLENlPS9eJHxebW9kdWxlJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaTt4ZT1DLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKS5hcHBlbmRDaGlsZChDLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSwoYmU9Qy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGJlLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxiZS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IikseGUuYXBwZW5kQ2hpbGQoYmUpLGxlLmNoZWNrQ2xvbmU9eGUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHhlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIsbGUubm9DbG9uZUNoZWNrZWQ9ISF4ZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUseGUuaW5uZXJIVE1MPSI8b3B0aW9uPjwvb3B0aW9uPiIsbGUub3B0aW9uPSEheGUubGFzdENoaWxkO3ZhciBrZT17dGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2Z1bmN0aW9uIFNlKGUsdCl7dmFyIG47cmV0dXJuIG49InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHx8IioiKToidW5kZWZpbmVkIiE9dHlwZW9mIGUucXVlcnlTZWxlY3RvckFsbD9lLnF1ZXJ5U2VsZWN0b3JBbGwodHx8IioiKTpbXSx2b2lkIDA9PT10fHx0JiZmZShlLHQpP2NlLm1lcmdlKFtlXSxuKTpufWZ1bmN0aW9uIEVlKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKV8uc2V0KGVbbl0sImdsb2JhbEV2YWwiLCF0fHxfLmdldCh0W25dLCJnbG9iYWxFdmFsIikpfWtlLnRib2R5PWtlLnRmb290PWtlLmNvbGdyb3VwPWtlLmNhcHRpb249a2UudGhlYWQsa2UudGg9a2UudGQsbGUub3B0aW9ufHwoa2Uub3B0Z3JvdXA9a2Uub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0pO3ZhciBqZT0vPHwmIz9cdys7LztmdW5jdGlvbiBBZShlLHQsbixyLGkpe2Zvcih2YXIgbyxhLHMsdSxsLGMsZj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxwPVtdLGQ9MCxoPWUubGVuZ3RoO2Q8aDtkKyspaWYoKG89ZVtkXSl8fDA9PT1vKWlmKCJvYmplY3QiPT09eChvKSljZS5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYoamUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KFRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1rZVtzXXx8a2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStjZS5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO2NlLm1lcmdlKHAsYS5jaGlsZE5vZGVzKSwoYT1mLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgcC5wdXNoKHQuY3JlYXRlVGV4dE5vZGUobykpO2YudGV4dENvbnRlbnQ9IiIsZD0wO3doaWxlKG89cFtkKytdKWlmKHImJi0xPGNlLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPUsobyksYT1TZShmLmFwcGVuZENoaWxkKG8pLCJzY3JpcHQiKSxsJiZFZShhKSxuKXtjPTA7d2hpbGUobz1hW2MrK10pQ2UudGVzdChvLnR5cGV8fCIiKSYmbi5wdXNoKG8pfXJldHVybiBmfXZhciBEZT0vXihbXi5dKikoPzpcLiguKyl8KS87ZnVuY3Rpb24gTmUoKXtyZXR1cm4hMH1mdW5jdGlvbiBxZSgpe3JldHVybiExfWZ1bmN0aW9uIExlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpTGUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9cWU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGNlKCkub2ZmKGUpLGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkuZ3VpZD1hLmd1aWR8fChhLmd1aWQ9Y2UuZ3VpZCsrKSksZS5lYWNoKGZ1bmN0aW9uKCl7Y2UuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBIZShlLHIsdCl7dD8oXy5zZXQoZSxyLCExKSxjZS5ldmVudC5hZGQoZSxyLHtuYW1lc3BhY2U6ITEsaGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgdCxuPV8uZ2V0KHRoaXMscik7aWYoMSZlLmlzVHJpZ2dlciYmdGhpc1tyXSl7aWYobikoY2UuZXZlbnQuc3BlY2lhbFtyXXx8e30pLmRlbGVnYXRlVHlwZSYmZS5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKG49YWUuY2FsbChhcmd1bWVudHMpLF8uc2V0KHRoaXMscixuKSx0aGlzW3JdKCksdD1fLmdldCh0aGlzLHIpLF8uc2V0KHRoaXMsciwhMSksbiE9PXQpcmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpLHR9ZWxzZSBuJiYoXy5zZXQodGhpcyxyLGNlLmV2ZW50LnRyaWdnZXIoblswXSxuLnNsaWNlKDEpLHRoaXMpKSxlLnN0b3BQcm9wYWdhdGlvbigpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9TmUpfX0pKTp2b2lkIDA9PT1fLmdldChlLHIpJiZjZS5ldmVudC5hZGQoZSxyLE5lKX1jZS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbih0LGUsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcsdj1fLmdldCh0KTtpZigkKHQpKXtuLmhhbmRsZXImJihuPShvPW4pLmhhbmRsZXIsaT1vLnNlbGVjdG9yKSxpJiZjZS5maW5kLm1hdGNoZXNTZWxlY3RvcihKLGkpLG4uZ3VpZHx8KG4uZ3VpZD1jZS5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGNlJiZjZS5ldmVudC50cmlnZ2VyZWQhPT1lLnR5cGU/Y2UuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChEKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9RGUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1jZS5ldmVudC5zcGVjaWFsW2RdfHx7fSxkPShpP2YuZGVsZWdhdGVUeXBlOmYuYmluZFR5cGUpfHxkLGY9Y2UuZXZlbnQuc3BlY2lhbFtkXXx8e30sYz1jZS5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmY2UuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChpKSxuYW1lc3BhY2U6aC5qb2luKCIuIil9LG8pLChwPXVbZF0pfHwoKHA9dVtkXT1bXSkuZGVsZWdhdGVDb3VudD0wLGYuc2V0dXAmJiExIT09Zi5zZXR1cC5jYWxsKHQscixoLGEpfHx0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihkLGEpKSxmLmFkZCYmKGYuYWRkLmNhbGwodCxjKSxjLmhhbmRsZXIuZ3VpZHx8KGMuaGFuZGxlci5ndWlkPW4uZ3VpZCkpLGk/cC5zcGxpY2UocC5kZWxlZ2F0ZUNvdW50KyssMCxjKTpwLnB1c2goYyksY2UuZXZlbnQuZ2xvYmFsW2RdPSEwKX19LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcsdj1fLmhhc0RhdGEoZSkmJl8uZ2V0KGUpO2lmKHYmJih1PXYuZXZlbnRzKSl7bD0odD0odHx8IiIpLm1hdGNoKEQpfHxbIiJdKS5sZW5ndGg7d2hpbGUobC0tKWlmKGQ9Zz0ocz1EZS5leGVjKHRbbF0pfHxbXSlbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQpe2Y9Y2UuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fGNlLnJlbW92ZUV2ZW50KGUsZCx2LmhhbmRsZSksZGVsZXRlIHVbZF0pfWVsc2UgZm9yKGQgaW4gdSljZS5ldmVudC5yZW1vdmUoZSxkK3RbbF0sbixyLCEwKTtjZS5pc0VtcHR5T2JqZWN0KHUpJiZfLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1jZS5ldmVudC5maXgoZSksbD0oXy5nZXQodGhpcywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW3UudHlwZV18fFtdLGM9Y2UuZXZlbnQuc3BlY2lhbFt1LnR5cGVdfHx7fTtmb3Ioc1swXT11LHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXNbdF09YXJndW1lbnRzW3RdO2lmKHUuZGVsZWdhdGVUYXJnZXQ9dGhpcywhYy5wcmVEaXNwYXRjaHx8ITEhPT1jLnByZURpc3BhdGNoLmNhbGwodGhpcyx1KSl7YT1jZS5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChjZS5ldmVudC5zcGVjaWFsW28ub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxvLmhhbmRsZXIpLmFwcGx5KGkuZWxlbSxzKSkmJiExPT09KHUucmVzdWx0PXIpJiYodS5wcmV2ZW50RGVmYXVsdCgpLHUuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gYy5wb3N0RGlzcGF0Y2gmJmMucG9zdERpc3BhdGNoLmNhbGwodGhpcyx1KSx1LnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzPVtdLHU9dC5kZWxlZ2F0ZUNvdW50LGw9ZS50YXJnZXQ7aWYodSYmbC5ub2RlVHlwZSYmISgiY2xpY2siPT09ZS50eXBlJiYxPD1lLmJ1dHRvbikpZm9yKDtsIT09dGhpcztsPWwucGFyZW50Tm9kZXx8dGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCJjbGljayIhPT1lLnR5cGV8fCEwIT09bC5kaXNhYmxlZCkpe2ZvcihvPVtdLGE9e30sbj0wO248dTtuKyspdm9pZCAwPT09YVtpPShyPXRbbl0pLnNlbGVjdG9yKyIgIl0mJihhW2ldPXIubmVlZHNDb250ZXh0Py0xPGNlKGksdGhpcykuaW5kZXgobCk6Y2UuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShjZS5FdmVudC5wcm90b3R5cGUsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OnYoZSk/ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIGUodGhpcy5vcmlnaW5hbEV2ZW50KX06ZnVuY3Rpb24oKXtpZih0aGlzLm9yaWdpbmFsRXZlbnQpcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFt0XX0sc2V0OmZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmV9KX19KX0sZml4OmZ1bmN0aW9uKGUpe3JldHVybiBlW2NlLmV4cGFuZG9dP2U6bmV3IGNlLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHdlLnRlc3QodC50eXBlKSYmdC5jbGljayYmZmUodCwiaW5wdXQiKSYmSGUodCwiY2xpY2siLCEwKSwhMX0sdHJpZ2dlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzfHxlO3JldHVybiB3ZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJmZlKHQsImlucHV0IikmJkhlKHQsImNsaWNrIiksITB9LF9kZWZhdWx0OmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O3JldHVybiB3ZS50ZXN0KHQudHlwZSkmJnQuY2xpY2smJmZlKHQsImlucHV0IikmJl8uZ2V0KHQsImNsaWNrIil8fGZlKHQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUucmVzdWx0JiZlLm9yaWdpbmFsRXZlbnQmJihlLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9ZS5yZXN1bHQpfX19fSxjZS5yZW1vdmVFdmVudD1mdW5jdGlvbihlLHQsbil7ZS5yZW1vdmVFdmVudExpc3RlbmVyJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuKX0sY2UuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBjZS5FdmVudCkpcmV0dXJuIG5ldyBjZS5FdmVudChlLHQpO2UmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWUuZGVmYXVsdFByZXZlbnRlZCYmITE9PT1lLnJldHVyblZhbHVlP05lOnFlLHRoaXMudGFyZ2V0PWUudGFyZ2V0JiYzPT09ZS50YXJnZXQubm9kZVR5cGU/ZS50YXJnZXQucGFyZW50Tm9kZTplLnRhcmdldCx0aGlzLmN1cnJlbnRUYXJnZXQ9ZS5jdXJyZW50VGFyZ2V0LHRoaXMucmVsYXRlZFRhcmdldD1lLnJlbGF0ZWRUYXJnZXQpOnRoaXMudHlwZT1lLHQmJmNlLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbY2UuZXhwYW5kb109ITB9LGNlLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6Y2UuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOnFlLGlzUHJvcGFnYXRpb25TdG9wcGVkOnFlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOnFlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPU5lLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPU5lLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1OZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sY2UuZWFjaCh7YWx0S2V5OiEwLGJ1YmJsZXM6ITAsY2FuY2VsYWJsZTohMCxjaGFuZ2VkVG91Y2hlczohMCxjdHJsS2V5OiEwLGRldGFpbDohMCxldmVudFBoYXNlOiEwLG1ldGFLZXk6ITAscGFnZVg6ITAscGFnZVk6ITAsc2hpZnRLZXk6ITAsdmlldzohMCwiY2hhciI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDohMH0sY2UuZXZlbnQuYWRkUHJvcCksY2UuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBvKGUpe2lmKEMuZG9jdW1lbnRNb2RlKXt2YXIgdD1fLmdldCh0aGlzLCJoYW5kbGUiKSxuPWNlLmV2ZW50LmZpeChlKTtuLnR5cGU9ImZvY3VzaW4iPT09ZS50eXBlPyJmb2N1cyI6ImJsdXIiLG4uaXNTaW11bGF0ZWQ9ITAsdChlKSxuLnRhcmdldD09PW4uY3VycmVudFRhcmdldCYmdChuKX1lbHNlIGNlLmV2ZW50LnNpbXVsYXRlKGksZS50YXJnZXQsY2UuZXZlbnQuZml4KGUpKX1jZS5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlO2lmKEhlKHRoaXMsciwhMCksIUMuZG9jdW1lbnRNb2RlKXJldHVybiExOyhlPV8uZ2V0KHRoaXMsaSkpfHx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoaSxvKSxfLnNldCh0aGlzLGksKGV8fDApKzEpfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIEhlKHRoaXMsciksITB9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU7aWYoIUMuZG9jdW1lbnRNb2RlKXJldHVybiExOyhlPV8uZ2V0KHRoaXMsaSktMSk/Xy5zZXQodGhpcyxpLGUpOih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSxvKSxfLnJlbW92ZSh0aGlzLGkpKX0sX2RlZmF1bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIF8uZ2V0KGUudGFyZ2V0LHIpfSxkZWxlZ2F0ZVR5cGU6aX0sY2UuZXZlbnQuc3BlY2lhbFtpXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1DLmRvY3VtZW50TW9kZT90aGlzOmUsbj1fLmdldCh0LGkpO258fChDLmRvY3VtZW50TW9kZT90aGlzLmFkZEV2ZW50TGlzdGVuZXIoaSxvKTplLmFkZEV2ZW50TGlzdGVuZXIocixvLCEwKSksXy5zZXQodCxpLChufHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1DLmRvY3VtZW50TW9kZT90aGlzOmUsbj1fLmdldCh0LGkpLTE7bj9fLnNldCh0LGksbik6KEMuZG9jdW1lbnRNb2RlP3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG8pOmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLG8sITApLF8ucmVtb3ZlKHQsaSkpfX19KSxjZS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe2NlLmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTppLGJpbmRUeXBlOmksaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5yZWxhdGVkVGFyZ2V0LHI9ZS5oYW5kbGVPYmo7cmV0dXJuIG4mJihuPT09dGhpc3x8Y2UuY29udGFpbnModGhpcyxuKSl8fChlLnR5cGU9ci5vcmlnVHlwZSx0PXIuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPWkpLHR9fX0pLGNlLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIExlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gTGUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosY2UoZS5kZWxlZ2F0ZVRhcmdldCkub2ZmKHIubmFtZXNwYWNlP3Iub3JpZ1R5cGUrIi4iK3IubmFtZXNwYWNlOnIub3JpZ1R5cGUsci5zZWxlY3RvcixyLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXtmb3IoaSBpbiBlKXRoaXMub2ZmKGksdCxlW2ldKTtyZXR1cm4gdGhpc31yZXR1cm4hMSE9PXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0fHwobj10LHQ9dm9pZCAwKSwhMT09PW4mJihuPXFlKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtjZS5ldmVudC5yZW1vdmUodGhpcyxlLG4sdCl9KX19KTt2YXIgT2U9LzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksUGU9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksTWU9L15ccyo8IVxbQ0RBVEFcW3xcXVxdPlxzKiQvZztmdW5jdGlvbiBSZShlLHQpe3JldHVybiBmZShlLCJ0YWJsZSIpJiZmZSgxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIikmJmNlKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIEllKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIEZlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihfLmhhc0RhdGEoZSkmJihzPV8uZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gXy5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspY2UuZXZlbnQuYWRkKHQsaSxzW2ldW25dKTt6Lmhhc0RhdGEoZSkmJihvPXouYWNjZXNzKGUpLGE9Y2UuZXh0ZW5kKHt9LG8pLHouc2V0KHQsYSkpfX1mdW5jdGlvbiAkZShuLHIsaSxvKXtyPWcocik7dmFyIGUsdCxhLHMsdSxsLGM9MCxmPW4ubGVuZ3RoLHA9Zi0xLGQ9clswXSxoPXYoZCk7aWYoaHx8MTxmJiYic3RyaW5nIj09dHlwZW9mIGQmJiFsZS5jaGVja0Nsb25lJiZQZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksJGUodCxyLGksbyl9KTtpZihmJiYodD0oZT1BZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Y2UubWFwKFNlKGUsInNjcmlwdCIpLEllKSkubGVuZ3RoO2M8ZjtjKyspdT1lLGMhPT1wJiYodT1jZS5jbG9uZSh1LCEwLCEwKSxzJiZjZS5tZXJnZShhLFNlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxjZS5tYXAoYSxXZSksYz0wO2M8cztjKyspdT1hW2NdLENlLnRlc3QodS50eXBlfHwiIikmJiFfLmFjY2Vzcyh1LCJnbG9iYWxFdmFsIikmJmNlLmNvbnRhaW5zKGwsdSkmJih1LnNyYyYmIm1vZHVsZSIhPT0odS50eXBlfHwiIikudG9Mb3dlckNhc2UoKT9jZS5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJmNlLl9ldmFsVXJsKHUuc3JjLHtub25jZTp1Lm5vbmNlfHx1LmdldEF0dHJpYnV0ZSgibm9uY2UiKX0sbCk6bSh1LnRleHRDb250ZW50LnJlcGxhY2UoTWUsIiIpLHUsbCkpfXJldHVybiBufWZ1bmN0aW9uIEJlKGUsdCxuKXtmb3IodmFyIHIsaT10P2NlLmZpbHRlcih0LGUpOmUsbz0wO251bGwhPShyPWlbb10pO28rKylufHwxIT09ci5ub2RlVHlwZXx8Y2UuY2xlYW5EYXRhKFNlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZLKHIpJiZFZShTZShyLCJzY3JpcHQiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX1jZS5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPUsoZSk7aWYoIShsZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Y2UuaXNYTUxEb2MoZSkpKWZvcihhPVNlKGMpLHI9MCxpPShvPVNlKGUpKS5sZW5ndGg7cjxpO3IrKylzPW9bcl0sdT1hW3JdLHZvaWQgMCwiaW5wdXQiPT09KGw9dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSYmd2UudGVzdChzLnR5cGUpP3UuY2hlY2tlZD1zLmNoZWNrZWQ6ImlucHV0IiE9PWwmJiJ0ZXh0YXJlYSIhPT1sfHwodS5kZWZhdWx0VmFsdWU9cy5kZWZhdWx0VmFsdWUpO2lmKHQpaWYobilmb3Iobz1vfHxTZShlKSxhPWF8fFNlKGMpLHI9MCxpPW8ubGVuZ3RoO3I8aTtyKyspRmUob1tyXSxhW3JdKTtlbHNlIEZlKGUsYyk7cmV0dXJuIDA8KGE9U2UoYywic2NyaXB0IikpLmxlbmd0aCYmRWUoYSwhZiYmU2UoZSwic2NyaXB0IikpLGN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9Y2UuZXZlbnQuc3BlY2lhbCxvPTA7dm9pZCAwIT09KG49ZVtvXSk7bysrKWlmKCQobikpe2lmKHQ9bltfLmV4cGFuZG9dKXtpZih0LmV2ZW50cylmb3IociBpbiB0LmV2ZW50cylpW3JdP2NlLmV2ZW50LnJlbW92ZShuLHIpOmNlLnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltfLmV4cGFuZG9dPXZvaWQgMH1uW3ouZXhwYW5kb10mJihuW3ouZXhwYW5kb109dm9pZCAwKX19fSksY2UuZm4uZXh0ZW5kKHtkZXRhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEJlKHRoaXMsZSwhMCl9LHJlbW92ZTpmdW5jdGlvbihlKXtyZXR1cm4gQmUodGhpcyxlKX0sdGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gTSh0aGlzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP2NlLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gJGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fFJlKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiAkZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9UmUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiAkZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiAkZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoY2UuY2xlYW5EYXRhKFNlKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gY2UuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIE0odGhpcyxmdW5jdGlvbihlKXt2YXIgdD10aGlzWzBdfHx7fSxuPTAscj10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1lJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBlJiYhT2UudGVzdChlKSYmIWtlWyhUZS5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1jZS5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKGNlLmNsZWFuRGF0YShTZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiAkZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBhcmVudE5vZGU7Y2UuaW5BcnJheSh0aGlzLG4pPDAmJihjZS5jbGVhbkRhdGEoU2UodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxjZS5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSxhKXtjZS5mbltlXT1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1bXSxyPWNlKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLGNlKHJbb10pW2FdKHQpLHMuYXBwbHkobix0LmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIF9lPW5ldyBSZWdFeHAoIl4oIitHKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksemU9L14tLS8sWGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9aWUpLHQuZ2V0Q29tcHV0ZWRTdHlsZShlKX0sVWU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fTtmb3IoaSBpbiB0KW9baV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07Zm9yKGkgaW4gcj1uLmNhbGwoZSksdCllLnN0eWxlW2ldPW9baV07cmV0dXJuIHJ9LFZlPW5ldyBSZWdFeHAoUS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBHZShlLHQsbil7dmFyIHIsaSxvLGEscz16ZS50ZXN0KHQpLHU9ZS5zdHlsZTtyZXR1cm4obj1ufHxYZShlKSkmJihhPW4uZ2V0UHJvcGVydHlWYWx1ZSh0KXx8blt0XSxzJiZhJiYoYT1hLnJlcGxhY2UodmUsIiQxIil8fHZvaWQgMCksIiIhPT1hfHxLKGUpfHwoYT1jZS5zdHlsZShlLHQpKSwhbGUucGl4ZWxCb3hTdHlsZXMoKSYmX2UudGVzdChhKSYmVmUudGVzdCh0KSYmKHI9dS53aWR0aCxpPXUubWluV2lkdGgsbz11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWEsYT1uLndpZHRoLHUud2lkdGg9cix1Lm1pbldpZHRoPWksdS5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gWWUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIsSi5hcHBlbmRDaGlsZCh1KS5hcHBlbmRDaGlsZChsKTt2YXIgZT1pZS5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxKLnJlbW92ZUNoaWxkKHUpLGw9bnVsbH19ZnVuY3Rpb24gdChlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgbixyLGksbyxhLHMsdT1DLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGw9Qy5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLnN0eWxlJiYobC5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iY29udGVudC1ib3giLGwuY2xvbmVOb2RlKCEwKS5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD0iIixsZS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsY2UuZXh0ZW5kKGxlLHtib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBlKCkscn0scGl4ZWxCb3hTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG99LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLG59LHJlbGlhYmxlTWFyZ2luTGVmdDpmdW5jdGlvbigpe3JldHVybiBlKCksc30sc2Nyb2xsYm94U2l6ZTpmdW5jdGlvbigpe3JldHVybiBlKCksaX0scmVsaWFibGVUckRpbWVuc2lvbnM6ZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtyZXR1cm4gbnVsbD09YSYmKGU9Qy5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLHQ9Qy5jcmVhdGVFbGVtZW50KCJ0ciIpLG49Qy5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIix0LnN0eWxlLmNzc1RleHQ9ImJveC1zaXppbmc6Y29udGVudC1ib3g7Ym9yZGVyOjFweCBzb2xpZCIsdC5zdHlsZS5oZWlnaHQ9IjFweCIsbi5zdHlsZS5oZWlnaHQ9IjlweCIsbi5zdHlsZS5kaXNwbGF5PSJibG9jayIsSi5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPWllLmdldENvbXB1dGVkU3R5bGUodCksYT1wYXJzZUludChyLmhlaWdodCwxMCkrcGFyc2VJbnQoci5ib3JkZXJUb3BXaWR0aCwxMCkrcGFyc2VJbnQoci5ib3JkZXJCb3R0b21XaWR0aCwxMCk9PT10Lm9mZnNldEhlaWdodCxKLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgUWU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLEplPUMuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsS2U9e307ZnVuY3Rpb24gWmUoZSl7dmFyIHQ9Y2UuY3NzUHJvcHNbZV18fEtlW2VdO3JldHVybiB0fHwoZSBpbiBKZT9lOktlW2VdPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0udG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLG49UWUubGVuZ3RoO3doaWxlKG4tLSlpZigoZT1RZVtuXSt0KWluIEplKXJldHVybiBlfShlKXx8ZSl9dmFyIGV0PS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyx0dD17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sbnQ9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9O2Z1bmN0aW9uIHJ0KGUsdCxuKXt2YXIgcj1ZLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gaXQoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wLGw9MDtpZihuPT09KHI/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO2E8NDthKz0yKSJtYXJnaW4iPT09biYmKGwrPWNlLmNzcyhlLG4rUVthXSwhMCxpKSkscj8oImNvbnRlbnQiPT09biYmKHUtPWNlLmNzcyhlLCJwYWRkaW5nIitRW2FdLCEwLGkpKSwibWFyZ2luIiE9PW4mJih1LT1jZS5jc3MoZSwiYm9yZGVyIitRW2FdKyJXaWR0aCIsITAsaSkpKToodSs9Y2UuY3NzKGUsInBhZGRpbmciK1FbYV0sITAsaSksInBhZGRpbmciIT09bj91Kz1jZS5jc3MoZSwiYm9yZGVyIitRW2FdKyJXaWR0aCIsITAsaSk6cys9Y2UuY3NzKGUsImJvcmRlciIrUVthXSsiV2lkdGgiLCEwLGkpKTtyZXR1cm4hciYmMDw9byYmKHUrPU1hdGgubWF4KDAsTWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLW8tdS1zLS41KSl8fDApLHUrbH1mdW5jdGlvbiBvdChlLHQsbil7dmFyIHI9WGUoZSksaT0oIWxlLmJveFNpemluZ1JlbGlhYmxlKCl8fG4pJiYiYm9yZGVyLWJveCI9PT1jZS5jc3MoZSwiYm94U2l6aW5nIiwhMSxyKSxvPWksYT1HZShlLHQscikscz0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZihfZS50ZXN0KGEpKXtpZighbilyZXR1cm4gYTthPSJhdXRvIn1yZXR1cm4oIWxlLmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCFsZS5yZWxpYWJsZVRyRGltZW5zaW9ucygpJiZmZShlLCJ0ciIpfHwiYXV0byI9PT1hfHwhcGFyc2VGbG9hdChhKSYmImlubGluZSI9PT1jZS5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1jZS5jc3MoZSwiYm94U2l6aW5nIiwhMSxyKSwobz1zIGluIGUpJiYoYT1lW3NdKSksKGE9cGFyc2VGbG9hdChhKXx8MCkraXQoZSx0LG58fChpPyJib3JkZXIiOiJjb250ZW50IiksbyxyLGEpKyJweCJ9ZnVuY3Rpb24gYXQoZSx0LG4scixpKXtyZXR1cm4gbmV3IGF0LnByb3RvdHlwZS5pbml0KGUsdCxuLHIsaSl9Y2UuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGUsdCl7aWYodCl7dmFyIG49R2UoZSwib3BhY2l0eSIpO3JldHVybiIiPT09bj8iMSI6bn19fX0sY3NzTnVtYmVyOnthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxhc3BlY3RSYXRpbzohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGNvbHVtbkNvdW50OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsc2NhbGU6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwLGZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9Rih0KSx1PXplLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PVplKHMpKSxhPWNlLmNzc0hvb2tzW3RdfHxjZS5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09PShvPXR5cGVvZiBuKSYmKGk9WS5leGVjKG4pKSYmaVsxXSYmKG49dGUoZSx0LGkpLG89Im51bWJlciIpLG51bGwhPW4mJm49PW4mJigibnVtYmVyIiE9PW98fHV8fChuKz1pJiZpWzNdfHwoY2UuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSxsZS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPUYodCk7cmV0dXJuIHplLnRlc3QodCl8fCh0PVplKHMpKSwoYT1jZS5jc3NIb29rc1t0XXx8Y2UuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPUdlKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIG50JiYoaT1udFt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksY2UuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtjZS5jc3NIb29rc1t1XT17Z2V0OmZ1bmN0aW9uKGUsdCxuKXtpZih0KXJldHVybiFldC50ZXN0KGNlLmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP290KGUsdSxuKTpVZShlLHR0LGZ1bmN0aW9uKCl7cmV0dXJuIG90KGUsdSxuKX0pfSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9WGUoZSksbz0hbGUuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Y2UuY3NzKGUsImJveFNpemluZyIsITEsaSkscz1uP2l0KGUsdSxuLGEsaSk6MDtyZXR1cm4gYSYmbyYmKHMtPU1hdGguY2VpbChlWyJvZmZzZXQiK3VbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGlbdV0pLWl0KGUsdSwiYm9yZGVyIiwhMSxpKS0uNSkpLHMmJihyPVkuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1jZS5jc3MoZSx1KSkscnQoMCx0LHMpfX19KSxjZS5jc3NIb29rcy5tYXJnaW5MZWZ0PVllKGxlLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoR2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LVVlKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxjZS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oaSxvKXtjZS5jc3NIb29rc1tpK29dPXtleHBhbmQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj17fSxyPSJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIgIik6W2VdO3Q8NDt0KyspbltpK1FbdF0rb109clt0XXx8clt0LTJdfHxyWzBdO3JldHVybiBufX0sIm1hcmdpbiIhPT1pJiYoY2UuY3NzSG9va3NbaStvXS5zZXQ9cnQpfSksY2UuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTSh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVhlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPWNlLmNzcyhlLHRbYV0sITEscik7cmV0dXJuIG99cmV0dXJuIHZvaWQgMCE9PW4/Y2Uuc3R5bGUoZSx0LG4pOmNlLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKGNlLlR3ZWVuPWF0KS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmF0LGluaXQ6ZnVuY3Rpb24oZSx0LG4scixpLG8pe3RoaXMuZWxlbT1lLHRoaXMucHJvcD1uLHRoaXMuZWFzaW5nPWl8fGNlLmVhc2luZy5fZGVmYXVsdCx0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9b3x8KGNlLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9YXQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOmF0LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPWF0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1jZS5lYXNpbmdbdGhpcy5lYXNpbmddKGUsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmUsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9dD1lLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSp0K3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLG4mJm4uc2V0P24uc2V0KHRoaXMpOmF0LnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319KS5pbml0LnByb3RvdHlwZT1hdC5wcm90b3R5cGUsKGF0LnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gMSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbCE9ZS5lbGVtW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVtlLnByb3BdP2UuZWxlbVtlLnByb3BdOih0PWNlLmNzcyhlLmVsZW0sZS5wcm9wLCIiKSkmJiJhdXRvIiE9PXQ/dDowfSxzZXQ6ZnVuY3Rpb24oZSl7Y2UuZnguc3RlcFtlLnByb3BdP2NlLmZ4LnN0ZXBbZS5wcm9wXShlKToxIT09ZS5lbGVtLm5vZGVUeXBlfHwhY2UuY3NzSG9va3NbZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW1plKGUucHJvcCldP2UuZWxlbVtlLnByb3BdPWUubm93OmNlLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPWF0LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LGNlLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LGNlLmZ4PWF0LnByb3RvdHlwZS5pbml0LGNlLmZ4LnN0ZXA9e307dmFyIHN0LHV0LGx0LGN0LGZ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxwdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIGR0KCl7dXQmJighMT09PUMuaGlkZGVuJiZpZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/aWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0KTppZS5zZXRUaW1lb3V0KGR0LGNlLmZ4LmludGVydmFsKSxjZS5meC50aWNrKCkpfWZ1bmN0aW9uIGh0KCl7cmV0dXJuIGllLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtzdD12b2lkIDB9KSxzdD1EYXRlLm5vdygpfWZ1bmN0aW9uIGd0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49UVtyXSldPWlbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihpLm9wYWNpdHk9aS53aWR0aD1lKSxpfWZ1bmN0aW9uIHZ0KGUsdCxuKXtmb3IodmFyIHIsaT0oeXQudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoeXQudHdlZW5lcnNbIioiXSksbz0wLGE9aS5sZW5ndGg7bzxhO28rKylpZihyPWlbb10uY2FsbChuLHQsZSkpcmV0dXJuIHJ9ZnVuY3Rpb24geXQobyxlLHQpe3ZhciBuLGEscj0wLGk9eXQucHJlZmlsdGVycy5sZW5ndGgscz1jZS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9c3R8fGh0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpjZS5leHRlbmQoe30sZSksb3B0czpjZS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmNlLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOnN0fHxodCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Y2UuVHdlZW4obyxsLm9wdHMsZSx0LGwub3B0cy5zcGVjaWFsRWFzaW5nW2VdfHxsLm9wdHMuZWFzaW5nKTtyZXR1cm4gbC50d2VlbnMucHVzaChuKSxufSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0PTAsbj1lP2wudHdlZW5zLmxlbmd0aDowO2lmKGEpcmV0dXJuIHRoaXM7Zm9yKGE9ITA7dDxuO3QrKylsLnR3ZWVuc1t0XS5ydW4oMSk7cmV0dXJuIGU/KHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbCxlXSkpOnMucmVqZWN0V2l0aChvLFtsLGVdKSx0aGlzfX0pLGM9bC5wcm9wcztmb3IoIWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKGk9dFtyPUYobildLG89ZVtuXSxBcnJheS5pc0FycmF5KG8pJiYoaT1vWzFdLG89ZVtuXT1vWzBdKSxuIT09ciYmKGVbcl09byxkZWxldGUgZVtuXSksKGE9Y2UuY3NzSG9va3Nbcl0pJiYiZXhwYW5kImluIGEpZm9yKG4gaW4gbz1hLmV4cGFuZChvKSxkZWxldGUgZVtyXSxvKW4gaW4gZXx8KGVbbl09b1tuXSx0W25dPWkpO2Vsc2UgdFtyXT1pfShjLGwub3B0cy5zcGVjaWFsRWFzaW5nKTtyPGk7cisrKWlmKG49eXQucHJlZmlsdGVyc1tyXS5jYWxsKGwsbyxjLGwub3B0cykpcmV0dXJuIHYobi5zdG9wKSYmKGNlLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIGNlLm1hcChjLHZ0LGwpLHYobC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwobyxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSxjZS5meC50aW1lcihjZS5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1jZS5BbmltYXRpb249Y2UuZXh0ZW5kKHl0LHt0d2VlbmVyczp7IioiOltmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuY3JlYXRlVHdlZW4oZSx0KTtyZXR1cm4gdGUobi5lbGVtLGUsWS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe3YoZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goRCk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLHl0LnR3ZWVuZXJzW25dPXl0LnR3ZWVuZXJzW25dfHxbXSx5dC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQscD10aGlzLGQ9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmZWUoZSksdj1fLmdldChlLCJmeHNob3ciKTtmb3IociBpbiBuLnF1ZXVlfHwobnVsbD09KGE9Y2UuX3F1ZXVlSG9va3MoZSwiZngiKSkudW5xdWV1ZWQmJihhLnVucXVldWVkPTAscz1hLmVtcHR5LmZpcmUsYS5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7YS51bnF1ZXVlZHx8cygpfSksYS51bnF1ZXVlZCsrLHAuYWx3YXlzKGZ1bmN0aW9uKCl7cC5hbHdheXMoZnVuY3Rpb24oKXthLnVucXVldWVkLS0sY2UucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0sZnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Y2Uuc3R5bGUoZSxyKX1pZigodT0hY2UuaXNFbXB0eU9iamVjdCh0KSl8fCFjZS5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9Xy5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1jZS5jc3MoZSwiZGlzcGxheSIpKSYmKGw/Yz1sOihyZShbZV0sITApLGw9ZS5zdHlsZS5kaXNwbGF5fHxsLGM9Y2UuY3NzKGUsImRpc3BsYXkiKSxyZShbZV0pKSksKCJpbmxpbmUiPT09Y3x8ImlubGluZS1ibG9jayI9PT1jJiZudWxsIT1sKSYmIm5vbmUiPT09Y2UuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9Xy5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZyZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fHJlKFtlXSksXy5yZW1vdmUoZSwiZnhzaG93IiksZCljZS5zdHlsZShlLHIsZFtyXSl9KSksdT12dChnP3Zbcl06MCxyLHApLHIgaW4gdnx8KHZbcl09dS5zdGFydCxnJiYodS5lbmQ9dS5zdGFydCx1LnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihlLHQpe3Q/eXQucHJlZmlsdGVycy51bnNoaWZ0KGUpOnl0LnByZWZpbHRlcnMucHVzaChlKX19KSxjZS5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmIm9iamVjdCI9PXR5cGVvZiBlP2NlLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fHYoZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIXYodCkmJnR9O3JldHVybiBjZS5meC5vZmY/ci5kdXJhdGlvbj0wOiJudW1iZXIiIT10eXBlb2Ygci5kdXJhdGlvbiYmKHIuZHVyYXRpb24gaW4gY2UuZnguc3BlZWRzP3IuZHVyYXRpb249Y2UuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Y2UuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1yLnF1ZXVlJiYhMCE9PXIucXVldWV8fChyLnF1ZXVlPSJmeCIpLHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3Yoci5vbGQpJiZyLm9sZC5jYWxsKHRoaXMpLHIucXVldWUmJmNlLmRlcXVldWUodGhpcyxyLnF1ZXVlKX0scn0sY2UuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGVlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1jZS5pc0VtcHR5T2JqZWN0KHQpLG89Y2Uuc3BlZWQoZSxuLHIpLGE9ZnVuY3Rpb24oKXt2YXIgZT15dCh0aGlzLGNlLmV4dGVuZCh7fSx0KSxvKTsoaXx8Xy5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Y2UudGltZXJzLHI9Xy5nZXQodGhpcyk7aWYodClyW3RdJiZyW3RdLnN0b3AmJmEoclt0XSk7ZWxzZSBmb3IodCBpbiByKXJbdF0mJnJbdF0uc3RvcCYmcHQudGVzdCh0KSYmYShyW3RdKTtmb3IodD1uLmxlbmd0aDt0LS07KW5bdF0uZWxlbSE9PXRoaXN8fG51bGwhPWkmJm5bdF0ucXVldWUhPT1pfHwoblt0XS5hbmltLnN0b3AobyksZT0hMSxuLnNwbGljZSh0LDEpKTshZSYmb3x8Y2UuZGVxdWV1ZSh0aGlzLGkpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4hMSE9PWEmJihhPWF8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlLHQ9Xy5nZXQodGhpcyksbj10W2ErInF1ZXVlIl0scj10W2ErInF1ZXVlSG9va3MiXSxpPWNlLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsY2UucXVldWUodGhpcyxhLFtdKSxyJiZyLnN0b3AmJnIuc3RvcC5jYWxsKHRoaXMsITApLGU9aS5sZW5ndGg7ZS0tOylpW2VdLmVsZW09PT10aGlzJiZpW2VdLnF1ZXVlPT09YSYmKGlbZV0uYW5pbS5zdG9wKCEwKSxpLnNwbGljZShlLDEpKTtmb3IoZT0wO2U8bztlKyspbltlXSYmbltlXS5maW5pc2gmJm5bZV0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIHQuZmluaXNofSl9fSksY2UuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24oZSxyKXt2YXIgaT1jZS5mbltyXTtjZS5mbltyXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/aS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKGd0KHIsITApLGUsdCxuKX19KSxjZS5lYWNoKHtzbGlkZURvd246Z3QoInNob3ciKSxzbGlkZVVwOmd0KCJoaWRlIiksc2xpZGVUb2dnbGU6Z3QoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oZSxyKXtjZS5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxjZS50aW1lcnM9W10sY2UuZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9MCxuPWNlLnRpbWVycztmb3Ioc3Q9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxjZS5meC5zdG9wKCksc3Q9dm9pZCAwfSxjZS5meC50aW1lcj1mdW5jdGlvbihlKXtjZS50aW1lcnMucHVzaChlKSxjZS5meC5zdGFydCgpfSxjZS5meC5pbnRlcnZhbD0xMyxjZS5meC5zdGFydD1mdW5jdGlvbigpe3V0fHwodXQ9ITAsZHQoKSl9LGNlLmZ4LnN0b3A9ZnVuY3Rpb24oKXt1dD1udWxsfSxjZS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sY2UuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1jZS5meCYmY2UuZnguc3BlZWRzW3JdfHxyLGU9ZXx8ImZ4Iix0aGlzLnF1ZXVlKGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1pZS5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7aWUuY2xlYXJUaW1lb3V0KG4pfX0pfSxsdD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksY3Q9Qy5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChDLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSxsdC50eXBlPSJjaGVja2JveCIsbGUuY2hlY2tPbj0iIiE9PWx0LnZhbHVlLGxlLm9wdFNlbGVjdGVkPWN0LnNlbGVjdGVkLChsdD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixsdC50eXBlPSJyYWRpbyIsbGUucmFkaW9WYWx1ZT0idCI9PT1sdC52YWx1ZTt2YXIgbXQseHQ9Y2UuZXhwci5hdHRySGFuZGxlO2NlLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiBNKHRoaXMsY2UuYXR0cixlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Y2UucmVtb3ZlQXR0cih0aGlzLGUpfSl9fSksY2UuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Y2UucHJvcChlLHQsbik6KDE9PT1vJiZjZS5pc1hNTERvYyhlKXx8KGk9Y2UuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChjZS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9tdDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgY2UucmVtb3ZlQXR0cihlLHQpOmkmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOihlLnNldEF0dHJpYnV0ZSh0LG4rIiIpLG4pOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6bnVsbD09KHI9Y2UuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZighbGUucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJmZlKGUsImlucHV0Iikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dCYmdC5tYXRjaChEKTtpZihpJiYxPT09ZS5ub2RlVHlwZSl3aGlsZShuPWlbcisrXSllLnJlbW92ZUF0dHJpYnV0ZShuKX19KSxtdD17c2V0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMT09PXQ/Y2UucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LGNlLmVhY2goY2UuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCgvXHcrL2cpLGZ1bmN0aW9uKGUsdCl7dmFyIGE9eHRbdF18fGNlLmZpbmQuYXR0cjt4dFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9eHRbb10seHRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCx4dFtvXT1pKSxyfX0pO3ZhciBidD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLHd0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBUdChlKXtyZXR1cm4oZS5tYXRjaChEKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBDdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBrdChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChEKXx8W119Y2UuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE0odGhpcyxjZS5wcm9wLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tjZS5wcm9wRml4W2VdfHxlXX0pfX0pLGNlLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4gMT09PW8mJmNlLmlzWE1MRG9jKGUpfHwodD1jZS5wcm9wRml4W3RdfHx0LGk9Y2UucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1uP2kmJiJzZXQiaW4gaSYmdm9pZCAwIT09KHI9aS5zZXQoZSxuLHQpKT9yOmVbdF09bjppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOmVbdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgdD1jZS5maW5kLmF0dHIoZSwidGFiaW5kZXgiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTpidC50ZXN0KGUubm9kZU5hbWUpfHx3dC50ZXN0KGUubm9kZU5hbWUpJiZlLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsZS5vcHRTZWxlY3RlZHx8KGNlLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSksY2UuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7Y2UucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxjZS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3ZhciBlLG4scixpLG8sYTtyZXR1cm4gdih0KT90aGlzLmVhY2goZnVuY3Rpb24oZSl7Y2UodGhpcykuYWRkQ2xhc3ModC5jYWxsKHRoaXMsZSxDdCh0aGlzKSkpfSk6KGU9a3QodCkpLmxlbmd0aD90aGlzLmVhY2goZnVuY3Rpb24oKXtpZihyPUN0KHRoaXMpLG49MT09PXRoaXMubm9kZVR5cGUmJiIgIitUdChyKSsiICIpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspaT1lW29dLG4uaW5kZXhPZigiICIraSsiICIpPDAmJihuKz1pKyIgIik7YT1UdChuKSxyIT09YSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixhKX19KTp0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGE7cmV0dXJuIHYodCk/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlKHRoaXMpLnJlbW92ZUNsYXNzKHQuY2FsbCh0aGlzLGUsQ3QodGhpcykpKX0pOmFyZ3VtZW50cy5sZW5ndGg/KGU9a3QodCkpLmxlbmd0aD90aGlzLmVhY2goZnVuY3Rpb24oKXtpZihyPUN0KHRoaXMpLG49MT09PXRoaXMubm9kZVR5cGUmJiIgIitUdChyKSsiICIpe2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2k9ZVtvXTt3aGlsZSgtMTxuLmluZGV4T2YoIiAiK2krIiAiKSluPW4ucmVwbGFjZSgiICIraSsiICIsIiAiKX1hPVR0KG4pLHIhPT1hJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGEpfX0pOnRoaXM6dGhpcy5hdHRyKCJjbGFzcyIsIiIpfSx0b2dnbGVDbGFzczpmdW5jdGlvbih0LG4pe3ZhciBlLHIsaSxvLGE9dHlwZW9mIHQscz0ic3RyaW5nIj09PWF8fEFycmF5LmlzQXJyYXkodCk7cmV0dXJuIHYodCk/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlKHRoaXMpLnRvZ2dsZUNsYXNzKHQuY2FsbCh0aGlzLGUsQ3QodGhpcyksbiksbil9KToiYm9vbGVhbiI9PXR5cGVvZiBuJiZzP24/dGhpcy5hZGRDbGFzcyh0KTp0aGlzLnJlbW92ZUNsYXNzKHQpOihlPWt0KHQpLHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKHMpZm9yKG89Y2UodGhpcyksaT0wO2k8ZS5sZW5ndGg7aSsrKXI9ZVtpXSxvLmhhc0NsYXNzKHIpP28ucmVtb3ZlQ2xhc3Mocik6by5hZGRDbGFzcyhyKTtlbHNlIHZvaWQgMCE9PXQmJiJib29sZWFuIiE9PWF8fCgocj1DdCh0aGlzKSkmJl8uc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHJ8fCExPT09dD8iIjpfLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK1R0KEN0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIFN0PS9cci9nO2NlLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKG4pe3ZhciByLGUsaSx0PXRoaXNbMF07cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGk9dihuKSx0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7MT09PXRoaXMubm9kZVR5cGUmJihudWxsPT0odD1pP24uY2FsbCh0aGlzLGUsY2UodGhpcykudmFsKCkpOm4pP3Q9IiI6Im51bWJlciI9PXR5cGVvZiB0P3QrPSIiOkFycmF5LmlzQXJyYXkodCkmJih0PWNlLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Y2UudmFsSG9va3NbdGhpcy50eXBlXXx8Y2UudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJiJzZXQiaW4gciYmdm9pZCAwIT09ci5zZXQodGhpcyx0LCJ2YWx1ZSIpfHwodGhpcy52YWx1ZT10KSl9KSk6dD8ocj1jZS52YWxIb29rc1t0LnR5cGVdfHxjZS52YWxIb29rc1t0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiByJiZ2b2lkIDAhPT0oZT1yLmdldCh0LCJ2YWx1ZSIpKT9lOiJzdHJpbmciPT10eXBlb2YoZT10LnZhbHVlKT9lLnJlcGxhY2UoU3QsIiIpOm51bGw9PWU/IiI6ZTp2b2lkIDB9fSksY2UuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpUdChjZS50ZXh0KGUpKX19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scixpPWUub3B0aW9ucyxvPWUuc2VsZWN0ZWRJbmRleCxhPSJzZWxlY3Qtb25lIj09PWUudHlwZSxzPWE/bnVsbDpbXSx1PWE/bysxOmkubGVuZ3RoO2ZvcihyPW88MD91OmE/bzowO3I8dTtyKyspaWYoKChuPWlbcl0pLnNlbGVjdGVkfHxyPT09bykmJiFuLmRpc2FibGVkJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWZlKG4ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHQ9Y2UobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1jZS5tYWtlQXJyYXkodCksYT1pLmxlbmd0aDt3aGlsZShhLS0pKChyPWlbYV0pLnNlbGVjdGVkPS0xPGNlLmluQXJyYXkoY2UudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLGNlLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtjZS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPS0xPGNlLmluQXJyYXkoY2UoZSkudmFsKCksdCl9fSxsZS5jaGVja09ufHwoY2UudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KTt2YXIgRXQ9aWUubG9jYXRpb24sanQ9e2d1aWQ6RGF0ZS5ub3coKX0sQXQ9L1w/LztjZS5wYXJzZVhNTD1mdW5jdGlvbihlKXt2YXIgdCxuO2lmKCFlfHwic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7dHJ5e3Q9KG5ldyBpZS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxjZS5lcnJvcigiSW52YWxpZCBYTUw6ICIrKG4/Y2UubWFwKG4uY2hpbGROb2RlcyxmdW5jdGlvbihlKXtyZXR1cm4gZS50ZXh0Q29udGVudH0pLmpvaW4oIlxuIik6ZSkpLHR9O3ZhciBEdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sTnQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Y2UuZXh0ZW5kKGNlLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbCxjLGYscD1bbnx8Q10sZD11ZS5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXVlLmNhbGwoZSwibmFtZXNwYWNlIik/ZS5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihvPWY9YT1uPW58fEMsMyE9PW4ubm9kZVR5cGUmJjghPT1uLm5vZGVUeXBlJiYhRHQudGVzdChkK2NlLmV2ZW50LnRyaWdnZXJlZCkmJigtMTxkLmluZGV4T2YoIi4iKSYmKGQ9KGg9ZC5zcGxpdCgiLiIpKS5zaGlmdCgpLGguc29ydCgpKSx1PWQuaW5kZXhPZigiOiIpPDAmJiJvbiIrZCwoZT1lW2NlLmV4cGFuZG9dP2U6bmV3IGNlLkV2ZW50KGQsIm9iamVjdCI9PXR5cGVvZiBlJiZlKSkuaXNUcmlnZ2VyPXI/MjozLGUubmFtZXNwYWNlPWguam9pbigiLiIpLGUucm5hbWVzcGFjZT1lLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitoLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsZS5yZXN1bHQ9dm9pZCAwLGUudGFyZ2V0fHwoZS50YXJnZXQ9biksdD1udWxsPT10P1tlXTpjZS5tYWtlQXJyYXkodCxbZV0pLGM9Y2UuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXkobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLER0LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEMpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fGllKX1pPTA7d2hpbGUoKG89cFtpKytdKSYmIWUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlmPW8sZS50eXBlPTE8aT9zOmMuYmluZFR5cGV8fGQsKGw9KF8uZ2V0KG8sImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVtlLnR5cGVdJiZfLmdldChvLCJoYW5kbGUiKSkmJmwuYXBwbHkobyx0KSwobD11JiZvW3VdKSYmbC5hcHBseSYmJChvKSYmKGUucmVzdWx0PWwuYXBwbHkobyx0KSwhMT09PWUucmVzdWx0JiZlLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBlLnR5cGU9ZCxyfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjLl9kZWZhdWx0JiYhMSE9PWMuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSx0KXx8ISQobil8fHUmJnYobltkXSkmJiF5KG4pJiYoKGE9blt1XSkmJihuW3VdPW51bGwpLGNlLmV2ZW50LnRyaWdnZXJlZD1kLGUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmZi5hZGRFdmVudExpc3RlbmVyKGQsTnQpLG5bZF0oKSxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLE50KSxjZS5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1jZS5leHRlbmQobmV3IGNlLkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMH0pO2NlLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLGNlLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjZS5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXNbMF07aWYobilyZXR1cm4gY2UuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSk7dmFyIHF0PS9cW1xdJC8sTHQ9L1xyP1xuL2csSHQ9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLE90PS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBQdChuLGUscixpKXt2YXIgdDtpZihBcnJheS5pc0FycmF5KGUpKWNlLmVhY2goZSxmdW5jdGlvbihlLHQpe3J8fHF0LnRlc3Qobik/aShuLHQpOlB0KG4rIlsiKygib2JqZWN0Ij09dHlwZW9mIHQmJm51bGwhPXQ/ZToiIikrIl0iLHQscixpKX0pO2Vsc2UgaWYocnx8Im9iamVjdCIhPT14KGUpKWkobixlKTtlbHNlIGZvcih0IGluIGUpUHQobisiWyIrdCsiXSIsZVt0XSxyLGkpfWNlLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dih0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhY2UuaXNQbGFpbk9iamVjdChlKSljZS5lYWNoKGUsZnVuY3Rpb24oKXtpKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKG4gaW4gZSlQdChuLGVbbl0sdCxpKTtyZXR1cm4gci5qb2luKCImIil9LGNlLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGNlLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9Y2UucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBlP2NlLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFjZSh0aGlzKS5pcygiOmRpc2FibGVkIikmJk90LnRlc3QodGhpcy5ub2RlTmFtZSkmJiFIdC50ZXN0KGUpJiYodGhpcy5jaGVja2VkfHwhd2UudGVzdChlKSl9KS5tYXAoZnVuY3Rpb24oZSx0KXt2YXIgbj1jZSh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09bj9udWxsOkFycmF5LmlzQXJyYXkobik/Y2UubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShMdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoTHQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTXQ9LyUyMC9nLFJ0PS8jLiokLyxJdD0vKFs/Jl0pXz1bXiZdKi8sV3Q9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxGdD0vXig/OkdFVHxIRUFEKSQvLCR0PS9eXC9cLy8sQnQ9e30sX3Q9e30senQ9IiovIi5jb25jYXQoIioiKSxYdD1DLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBVdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChEKXx8W107aWYodih0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFZ0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PV90O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsY2UuZWFjaCh0W2VdfHxbXSxmdW5jdGlvbihlLHQpe3ZhciBuPXQoaSxvLGEpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygbnx8dXx8c1tuXT91PyEocj1uKTp2b2lkIDA6KGkuZGF0YVR5cGVzLnVuc2hpZnQobiksbChuKSwhMSl9KSxyfXJldHVybiBsKGkuZGF0YVR5cGVzWzBdKXx8IXNbIioiXSYmbCgiKiIpfWZ1bmN0aW9uIEd0KGUsdCl7dmFyIG4scixpPWNlLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKG4gaW4gdCl2b2lkIDAhPT10W25dJiYoKGlbbl0/ZTpyfHwocj17fSkpW25dPXRbbl0pO3JldHVybiByJiZjZS5leHRlbmQoITAsZSxyKSxlfVh0LmhyZWY9RXQuaHJlZixjZS5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9LGFqYXhTZXR0aW5nczp7dXJsOkV0LmhyZWYsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3QoRXQucHJvdG9jb2wpLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6enQsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmNlLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD9HdChHdChlLGNlLmFqYXhTZXR0aW5ncyksdCk6R3QoY2UuYWpheFNldHRpbmdzLGUpfSxhamF4UHJlZmlsdGVyOlV0KEJ0KSxhamF4VHJhbnNwb3J0OlV0KF90KSxhamF4OmZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0PXR8fHt9O3ZhciBjLGYscCxuLGQscixoLGcsaSxvLHY9Y2UuYWpheFNldHVwKHt9LHQpLHk9di5jb250ZXh0fHx2LG09di5jb250ZXh0JiYoeS5ub2RlVHlwZXx8eS5qcXVlcnkpP2NlKHkpOmNlLmV2ZW50LHg9Y2UuRGVmZXJyZWQoKSxiPWNlLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1XdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxFdC5ocmVmKSsiIikucmVwbGFjZSgkdCxFdC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKEQpfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9Qy5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49WHQucHJvdG9jb2wrIi8vIitYdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Y2UucGFyYW0odi5kYXRhLHYudHJhZGl0aW9uYWwpKSxWdChCdCx2LHQsVCksaClyZXR1cm4gVDtmb3IoaSBpbihnPWNlLmV2ZW50JiZ2Lmdsb2JhbCkmJjA9PWNlLmFjdGl2ZSsrJiZjZS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSx2LnR5cGU9di50eXBlLnRvVXBwZXJDYXNlKCksdi5oYXNDb250ZW50PSFGdC50ZXN0KHYudHlwZSksZj12LnVybC5yZXBsYWNlKFJ0LCIiKSx2Lmhhc0NvbnRlbnQ/di5kYXRhJiZ2LnByb2Nlc3NEYXRhJiYwPT09KHYuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHYuZGF0YT12LmRhdGEucmVwbGFjZShNdCwiKyIpKToobz12LnVybC5zbGljZShmLmxlbmd0aCksdi5kYXRhJiYodi5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB2LmRhdGEpJiYoZis9KEF0LnRlc3QoZik/IiYiOiI/Iikrdi5kYXRhLGRlbGV0ZSB2LmRhdGEpLCExPT09di5jYWNoZSYmKGY9Zi5yZXBsYWNlKEl0LCIkMSIpLG89KEF0LnRlc3QoZik/IiYiOiI/IikrIl89IitqdC5ndWlkKysrbyksdi51cmw9ZitvKSx2LmlmTW9kaWZpZWQmJihjZS5sYXN0TW9kaWZpZWRbZl0mJlQuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGNlLmxhc3RNb2RpZmllZFtmXSksY2UuZXRhZ1tmXSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixjZS5ldGFnW2ZdKSksKHYuZGF0YSYmdi5oYXNDb250ZW50JiYhMSE9PXYuY29udGVudFR5cGV8fHQuY29udGVudFR5cGUpJiZULnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdi5jb250ZW50VHlwZSksVC5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHYuZGF0YVR5cGVzWzBdJiZ2LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dP3YuYWNjZXB0c1t2LmRhdGFUeXBlc1swXV0rKCIqIiE9PXYuZGF0YVR5cGVzWzBdPyIsICIrenQrIjsgcT0wLjAxIjoiIik6di5hY2NlcHRzWyIqIl0pLHYuaGVhZGVycylULnNldFJlcXVlc3RIZWFkZXIoaSx2LmhlYWRlcnNbaV0pO2lmKHYuYmVmb3JlU2VuZCYmKCExPT09di5iZWZvcmVTZW5kLmNhbGwoeSxULHYpfHxoKSlyZXR1cm4gVC5hYm9ydCgpO2lmKHU9ImFib3J0IixiLmFkZCh2LmNvbXBsZXRlKSxULmRvbmUodi5zdWNjZXNzKSxULmZhaWwodi5lcnJvciksYz1WdChfdCx2LHQsVCkpe2lmKFQucmVhZHlTdGF0ZT0xLGcmJm0udHJpZ2dlcigiYWpheFNlbmQiLFtULHZdKSxoKXJldHVybiBUO3YuYXN5bmMmJjA8di50aW1lb3V0JiYoZD1pZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJmllLmNsZWFyVGltZW91dChkKSxjPXZvaWQgMCxwPXJ8fCIiLFQucmVhZHlTdGF0ZT0wPGU/NDowLGk9MjAwPD1lJiZlPDMwMHx8MzA0PT09ZSxuJiYocz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX0odixULG4pKSwhaSYmLTE8Y2UuaW5BcnJheSgic2NyaXB0Iix2LmRhdGFUeXBlcykmJmNlLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoY2UubGFzdE1vZGlmaWVkW2ZdPXUpLCh1PVQuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSkmJihjZS5ldGFnW2ZdPXUpKSwyMDQ9PT1lfHwiSEVBRCI9PT12LnR5cGU/bD0ibm9jb250ZW50IjozMDQ9PT1lP2w9Im5vdG1vZGlmaWVkIjoobD1zLnN0YXRlLG89cy5kYXRhLGk9IShhPXMuZXJyb3IpKSk6KGE9bCwhZSYmbHx8KGw9ImVycm9yIixlPDAmJihlPTApKSksVC5zdGF0dXM9ZSxULnN0YXR1c1RleHQ9KHR8fGwpKyIiLGk/eC5yZXNvbHZlV2l0aCh5LFtvLGwsVF0pOngucmVqZWN0V2l0aCh5LFtULGwsYV0pLFQuc3RhdHVzQ29kZSh3KSx3PXZvaWQgMCxnJiZtLnRyaWdnZXIoaT8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtULHYsaT9vOmFdKSxiLmZpcmVXaXRoKHksW1QsbF0pLGcmJihtLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW1Qsdl0pLC0tY2UuYWN0aXZlfHxjZS5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKSl9cmV0dXJuIFR9LGdldEpTT046ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjZS5nZXQoZSx0LG4sImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxjZS5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGUsaSl7Y2VbaV09ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHYodCkmJihyPXJ8fG4sbj10LHQ9dm9pZCAwKSxjZS5hamF4KGNlLmV4dGVuZCh7dXJsOmUsdHlwZTppLGRhdGFUeXBlOnIsZGF0YTp0LHN1Y2Nlc3M6bn0sY2UuaXNQbGFpbk9iamVjdChlKSYmZSkpfX0pLGNlLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLGNlLl9ldmFsVXJsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gY2UuYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbigpe319LGRhdGFGaWx0ZXI6ZnVuY3Rpb24oZSl7Y2UuZ2xvYmFsRXZhbChlLHQsbil9fSl9LGNlLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHYoZSkmJihlPWUuY2FsbCh0aGlzWzBdKSksdD1jZShlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RFbGVtZW50Q2hpbGQpZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHYobik/dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1jZSh0aGlzKSx0PWUuY29udGVudHMoKTt0Lmxlbmd0aD90LndyYXBBbGwobik6ZS5hcHBlbmQobil9KX0sd3JhcDpmdW5jdGlvbih0KXt2YXIgbj12KHQpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7Y2UodGhpcykud3JhcEFsbChuP3QuY2FsbCh0aGlzLGUpOnQpfSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe2NlKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGNlLmV4cHIucHNldWRvcy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIWNlLmV4cHIucHNldWRvcy52aXNpYmxlKGUpfSxjZS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGNlLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBpZS5YTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgWXQ9ezA6MjAwLDEyMjM6MjA0fSxRdD1jZS5hamF4U2V0dGluZ3MueGhyKCk7bGUuY29ycz0hIVF0JiYid2l0aENyZWRlbnRpYWxzImluIFF0LGxlLmFqYXg9UXQ9ISFRdCxjZS5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYobGUuY29yc3x8UXQmJiFpLmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1pLnhocigpO2lmKHIub3BlbihpLnR5cGUsaS51cmwsaS5hc3luYyxpLnVzZXJuYW1lLGkucGFzc3dvcmQpLGkueGhyRmllbGRzKWZvcihuIGluIGkueGhyRmllbGRzKXJbbl09aS54aHJGaWVsZHNbbl07Zm9yKG4gaW4gaS5taW1lVHlwZSYmci5vdmVycmlkZU1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUoaS5taW1lVHlwZSksaS5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLGUpci5zZXRSZXF1ZXN0SGVhZGVyKG4sZVtuXSk7bz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtvJiYobz1hPXIub25sb2FkPXIub25lcnJvcj1yLm9uYWJvcnQ9ci5vbnRpbWVvdXQ9ci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09ZT9yLmFib3J0KCk6ImVycm9yIj09PWU/Im51bWJlciIhPXR5cGVvZiByLnN0YXR1cz90KDAsImVycm9yIik6dChyLnN0YXR1cyxyLnN0YXR1c1RleHQpOnQoWXRbci5zdGF0dXNdfHxyLnN0YXR1cyxyLnN0YXR1c1RleHQsInRleHQiIT09KHIucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIHIucmVzcG9uc2VUZXh0P3tiaW5hcnk6ci5yZXNwb25zZX06e3RleHQ6ci5yZXNwb25zZVRleHR9LHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19LHIub25sb2FkPW8oKSxhPXIub25lcnJvcj1yLm9udGltZW91dD1vKCJlcnJvciIpLHZvaWQgMCE9PXIub25hYm9ydD9yLm9uYWJvcnQ9YTpyLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1yLnJlYWR5U3RhdGUmJmllLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtvJiZhKCl9KX0sbz1vKCJhYm9ydCIpO3RyeXtyLnNlbmQoaS5oYXNDb250ZW50JiZpLmRhdGF8fG51bGwpfWNhdGNoKGUpe2lmKG8pdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7byYmbygpfX19KSxjZS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxjZS5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGNlLmdsb2JhbEV2YWwoZSksZX19fSksY2UuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxjZS5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZhciByLGk7aWYobi5jcm9zc0RvbWFpbnx8bi5zY3JpcHRBdHRycylyZXR1cm57c2VuZDpmdW5jdGlvbihlLHQpe3I9Y2UoIjxzY3JpcHQ+IikuYXR0cihuLnNjcmlwdEF0dHJzfHx7fSkucHJvcCh7Y2hhcnNldDpuLnNjcmlwdENoYXJzZXQsc3JjOm4udXJsfSkub24oImxvYWQgZXJyb3IiLGk9ZnVuY3Rpb24oZSl7ci5yZW1vdmUoKSxpPW51bGwsZSYmdCgiZXJyb3IiPT09ZS50eXBlPzQwNDoyMDAsZS50eXBlKX0pLEMuaGVhZC5hcHBlbmRDaGlsZChyWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtpJiZpKCl9fX0pO3ZhciBKdCxLdD1bXSxadD0vKD0pXD8oPz0mfCQpfFw/XD8vO2NlLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9S3QucG9wKCl8fGNlLmV4cGFuZG8rIl8iK2p0Lmd1aWQrKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLGNlLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT0hMSE9PWUuanNvbnAmJihadC50ZXN0KGUudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIGUuZGF0YSYmMD09PShlLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJlp0LnRlc3QoZS5kYXRhKSYmImRhdGEiKTtpZihhfHwianNvbnAiPT09ZS5kYXRhVHlwZXNbMF0pcmV0dXJuIHI9ZS5qc29ucENhbGxiYWNrPXYoZS5qc29ucENhbGxiYWNrKT9lLmpzb25wQ2FsbGJhY2soKTplLmpzb25wQ2FsbGJhY2ssYT9lW2FdPWVbYV0ucmVwbGFjZShadCwiJDEiK3IpOiExIT09ZS5qc29ucCYmKGUudXJsKz0oQXQudGVzdChlLnVybCk/IiYiOiI/IikrZS5qc29ucCsiPSIrciksZS5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIG98fGNlLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPWllW3JdLGllW3JdPWZ1bmN0aW9uKCl7bz1hcmd1bWVudHN9LG4uYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09aT9jZShpZSkucmVtb3ZlUHJvcChyKTppZVtyXT1pLGVbcl0mJihlLmpzb25wQ2FsbGJhY2s9dC5qc29ucENhbGxiYWNrLEt0LnB1c2gocikpLG8mJnYoaSkmJmkob1swXSksbz1pPXZvaWQgMH0pLCJzY3JpcHQifSksbGUuY3JlYXRlSFRNTERvY3VtZW50PSgoSnQ9Qy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1KdC5jaGlsZE5vZGVzLmxlbmd0aCksY2UucGFyc2VIVE1MPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/W106KCJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSksdHx8KGxlLmNyZWF0ZUhUTUxEb2N1bWVudD8oKHI9KHQ9Qy5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpKS5jcmVhdGVFbGVtZW50KCJiYXNlIikpLmhyZWY9Qy5sb2NhdGlvbi5ocmVmLHQuaGVhZC5hcHBlbmRDaGlsZChyKSk6dD1DKSxvPSFuJiZbXSwoaT13LmV4ZWMoZSkpP1t0LmNyZWF0ZUVsZW1lbnQoaVsxXSldOihpPUFlKFtlXSx0LG8pLG8mJm8ubGVuZ3RoJiZjZShvKS5yZW1vdmUoKSxjZS5tZXJnZShbXSxpLmNoaWxkTm9kZXMpKSk7dmFyIHIsaSxvfSxjZS5mbi5sb2FkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT10aGlzLHM9ZS5pbmRleE9mKCIgIik7cmV0dXJuLTE8cyYmKHI9VHQoZS5zbGljZShzKSksZT1lLnNsaWNlKDAscykpLHYodCk/KG49dCx0PXZvaWQgMCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYoaT0iUE9TVCIpLDA8YS5sZW5ndGgmJmNlLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/Y2UoIjxkaXY+IikuYXBwZW5kKGNlLnBhcnNlSFRNTChlKSkuZmluZChyKTplKX0pLmFsd2F5cyhuJiZmdW5jdGlvbihlLHQpe2EuZWFjaChmdW5jdGlvbigpe24uYXBwbHkodGhpcyxvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KX0pLHRoaXN9LGNlLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gY2UuZ3JlcChjZS50aW1lcnMsZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1lLmVsZW19KS5sZW5ndGh9LGNlLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1jZS5jc3MoZSwicG9zaXRpb24iKSxjPWNlKGUpLGY9e307InN0YXRpYyI9PT1sJiYoZS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxzPWMub2Zmc2V0KCksbz1jZS5jc3MoZSwidG9wIiksdT1jZS5jc3MoZSwibGVmdCIpLCgiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwobyt1KS5pbmRleE9mKCJhdXRvIik/KGE9KHI9Yy5wb3NpdGlvbigpKS50b3AsaT1yLmxlZnQpOihhPXBhcnNlRmxvYXQobyl8fDAsaT1wYXJzZUZsb2F0KHUpfHwwKSx2KHQpJiYodD10LmNhbGwoZSxuLGNlLmV4dGVuZCh7fSxzKSkpLG51bGwhPXQudG9wJiYoZi50b3A9dC50b3Atcy50b3ArYSksbnVsbCE9dC5sZWZ0JiYoZi5sZWZ0PXQubGVmdC1zLmxlZnQraSksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsZik6Yy5jc3MoZil9fSxjZS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe2NlLm9mZnNldC5zZXRPZmZzZXQodGhpcyx0LGUpfSk7dmFyIGUsbixyPXRoaXNbMF07cmV0dXJuIHI/ci5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8oZT1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ZS50b3Arbi5wYWdlWU9mZnNldCxsZWZ0OmUubGVmdCtuLnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH06dm9pZCAwfSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09Y2UuY3NzKHIsInBvc2l0aW9uIikpdD1yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7dD10aGlzLm9mZnNldCgpLG49ci5vd25lckRvY3VtZW50LGU9ci5vZmZzZXRQYXJlbnR8fG4uZG9jdW1lbnRFbGVtZW50O3doaWxlKGUmJihlPT09bi5ib2R5fHxlPT09bi5kb2N1bWVudEVsZW1lbnQpJiYic3RhdGljIj09PWNlLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPWNlKGUpLm9mZnNldCgpKS50b3ArPWNlLmNzcyhlLCJib3JkZXJUb3BXaWR0aCIsITApLGkubGVmdCs9Y2UuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLWNlLmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtY2UuY3NzKHIsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShlJiYic3RhdGljIj09PWNlLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fEp9KX19KSxjZS5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Y2UuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIE0odGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoeShlKT9yPWU6OT09PWUubm9kZVR5cGUmJihyPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PW4pcmV0dXJuIHI/cltpXTplW3RdO3I/ci5zY3JvbGxUbyhvP3IucGFnZVhPZmZzZXQ6bixvP246ci5wYWdlWU9mZnNldCk6ZVt0XT1ufSx0LGUsYXJndW1lbnRzLmxlbmd0aCl9fSksY2UuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihlLG4pe2NlLmNzc0hvb2tzW25dPVllKGxlLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSx0KXtpZih0KXJldHVybiB0PUdlKGUsbiksX2UudGVzdCh0KT9jZShlKS5wb3NpdGlvbigpW25dKyJweCI6dH0pfSksY2UuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Y2UuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2EsY29udGVudDpzLCIiOiJvdXRlciIrYX0sZnVuY3Rpb24ocixvKXtjZS5mbltvXT1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBlKSxpPXJ8fCghMD09PWV8fCEwPT09dD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIE0odGhpcyxmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHkoZSk/MD09PW8uaW5kZXhPZigib3V0ZXIiKT9lWyJpbm5lciIrYV06ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWUubm9kZVR5cGU/KHI9ZS5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoZS5ib2R5WyJzY3JvbGwiK2FdLHJbInNjcm9sbCIrYV0sZS5ib2R5WyJvZmZzZXQiK2FdLHJbIm9mZnNldCIrYV0sclsiY2xpZW50IithXSkpOnZvaWQgMD09PW4/Y2UuY3NzKGUsdCxpKTpjZS5zdHlsZShlLHQsbixpKX0scyxuP2U6dm9pZCAwLG4pfX0pfSksY2UuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGUsdCl7Y2UuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxjZS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0aGlzLm9uKGUsbnVsbCx0LG4pfSx1bmJpbmQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5vZmYoZSxudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbih0LGUsbixyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGUsIioqIik6dGhpcy5vZmYodCxlfHwiKioiLG4pfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9uKCJtb3VzZWVudGVyIixlKS5vbigibW91c2VsZWF2ZSIsdHx8ZSl9fSksY2UuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe2NlLmZuW25dPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKG4sbnVsbCxlLHQpOnRoaXMudHJpZ2dlcihuKX19KTt2YXIgZW49L15bXHNcdUZFRkZceEEwXSt8KFteXHNcdUZFRkZceEEwXSlbXHNcdUZFRkZceEEwXSskL2c7Y2UucHJveHk9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYobj1lW3RdLHQ9ZSxlPW4pLHYoZSkpcmV0dXJuIHI9YWUuY2FsbChhcmd1bWVudHMsMiksKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0fHx0aGlzLHIuY29uY2F0KGFlLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxjZS5ndWlkKyssaX0sY2UuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/Y2UucmVhZHlXYWl0Kys6Y2UucmVhZHkoITApfSxjZS5pc0FycmF5PUFycmF5LmlzQXJyYXksY2UucGFyc2VKU09OPUpTT04ucGFyc2UsY2Uubm9kZU5hbWU9ZmUsY2UuaXNGdW5jdGlvbj12LGNlLmlzV2luZG93PXksY2UuY2FtZWxDYXNlPUYsY2UudHlwZT14LGNlLm5vdz1EYXRlLm5vdyxjZS5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9Y2UudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sY2UudHJpbT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8iIjooZSsiIikucmVwbGFjZShlbiwiJDEiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGNlfSk7dmFyIHRuPWllLmpRdWVyeSxubj1pZS4kO3JldHVybiBjZS5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBpZS4kPT09Y2UmJihpZS4kPW5uKSxlJiZpZS5qUXVlcnk9PT1jZSYmKGllLmpRdWVyeT10biksY2V9LCJ1bmRlZmluZWQiPT10eXBlb2YgZSYmKGllLmpRdWVyeT1pZS4kPWNlKSxjZX0pOwo="},{"meta":{"name":"vue.global.prod.min.js","url":"https://cdn.jsdelivr.net/npm/vue@3.4.14/dist/vue.global.prod.min.js","ts":1749825460354,"mimetype":"text/javascript"},"source":"LyoqCiAqIFNraXBwZWQgbWluaWZpY2F0aW9uIGJlY2F1c2UgdGhlIG9yaWdpbmFsIGZpbGVzIGFwcGVhcnMgdG8gYmUgYWxyZWFkeSBtaW5pZmllZC4KICogT3JpZ2luYWwgZmlsZTogL25wbS92dWVAMy40LjE0L2Rpc3QvdnVlLmdsb2JhbC5wcm9kLmpzCiAqCiAqIERvIE5PVCB1c2UgU1JJIHdpdGggZHluYW1pY2FsbHkgZ2VuZXJhdGVkIGZpbGVzISBNb3JlIGluZm9ybWF0aW9uOiBodHRwczovL3d3dy5qc2RlbGl2ci5jb20vdXNpbmctc3JpLXdpdGgtZHluYW1pYy1maWxlcwogKi8KLyoqCiogdnVlIHYzLjQuMTQKKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9ycwoqIEBsaWNlbnNlIE1JVAoqKi8KdmFyIFZ1ZT1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49bmV3IFNldChlLnNwbGl0KCIsIikpO3JldHVybiB0P2U9Pm4uaGFzKGUudG9Mb3dlckNhc2UoKSk6ZT0+bi5oYXMoZSl9Y29uc3Qgbj17fSxzPVtdLG89KCk9Pnt9LHI9KCk9PiExLGk9ZT0+MTExPT09ZS5jaGFyQ29kZUF0KDApJiYxMTA9PT1lLmNoYXJDb2RlQXQoMSkmJihlLmNoYXJDb2RlQXQoMik+MTIyfHxlLmNoYXJDb2RlQXQoMik8OTcpLGw9ZT0+ZS5zdGFydHNXaXRoKCJvblVwZGF0ZToiKSxjPU9iamVjdC5hc3NpZ24sYT0oZSx0KT0+e2NvbnN0IG49ZS5pbmRleE9mKHQpO24+LTEmJmUuc3BsaWNlKG4sMSl9LHU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxkPShlLHQpPT51LmNhbGwoZSx0KSxwPUFycmF5LmlzQXJyYXksaD1lPT4iW29iamVjdCBNYXBdIj09PXgoZSksZj1lPT4iW29iamVjdCBTZXRdIj09PXgoZSksbT1lPT4iW29iamVjdCBEYXRlXSI9PT14KGUpLGc9ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIGUsdj1lPT4ic3RyaW5nIj09dHlwZW9mIGUseT1lPT4ic3ltYm9sIj09dHlwZW9mIGUsYj1lPT5udWxsIT09ZSYmIm9iamVjdCI9PXR5cGVvZiBlLF89ZT0+KGIoZSl8fGcoZSkpJiZnKGUudGhlbikmJmcoZS5jYXRjaCksUz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHg9ZT0+Uy5jYWxsKGUpLEM9ZT0+eChlKS5zbGljZSg4LC0xKSxrPWU9PiJbb2JqZWN0IE9iamVjdF0iPT09eChlKSxUPWU9PnYoZSkmJiJOYU4iIT09ZSYmIi0iIT09ZVswXSYmIiIrcGFyc2VJbnQoZSwxMCk9PT1lLHc9dCgiLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LG9uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCxvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLG9uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWQiKSxOPXQoImJpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW8iKSxBPWU9Pntjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIG49PnRbbl18fCh0W25dPWUobikpfSxFPS8tKFx3KS9nLEk9QSgoZT0+ZS5yZXBsYWNlKEUsKChlLHQpPT50P3QudG9VcHBlckNhc2UoKToiIikpKSksUj0vXEIoW0EtWl0pL2csTz1BKChlPT5lLnJlcGxhY2UoUiwiLSQxIikudG9Mb3dlckNhc2UoKSkpLEY9QSgoZT0+ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpKSksTD1BKChlPT5lP2BvbiR7RihlKX1gOiIiKSksTT0oZSx0KT0+IU9iamVjdC5pcyhlLHQpLFA9KGUsdCk9Pntmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyllW25dKHQpfSwkPShlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpufSl9LEI9ZT0+e2NvbnN0IHQ9cGFyc2VGbG9hdChlKTtyZXR1cm4gaXNOYU4odCk/ZTp0fSxWPWU9Pntjb25zdCB0PXYoZSk/TnVtYmVyKGUpOk5hTjtyZXR1cm4gaXNOYU4odCk/ZTp0fTtsZXQgRDtjb25zdCBVPSgpPT5EfHwoRD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnt9KSxqPXQoIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yIik7ZnVuY3Rpb24gSChlKXtpZihwKGUpKXtjb25zdCB0PXt9O2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBzPWVbbl0sbz12KHMpP3oocyk6SChzKTtpZihvKWZvcihjb25zdCBlIGluIG8pdFtlXT1vW2VdfXJldHVybiB0fWlmKHYoZSl8fGIoZSkpcmV0dXJuIGV9Y29uc3QgcT0vOyg/IVteKF0qXCkpL2csVz0vOihbXl0rKS8sSz0vXC9cKlteXSo/XCpcLy9nO2Z1bmN0aW9uIHooZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5yZXBsYWNlKEssIiIpLnNwbGl0KHEpLmZvckVhY2goKGU9PntpZihlKXtjb25zdCBuPWUuc3BsaXQoVyk7bi5sZW5ndGg+MSYmKHRbblswXS50cmltKCldPW5bMV0udHJpbSgpKX19KSksdH1mdW5jdGlvbiBHKGUpe2xldCB0PSIiO2lmKHYoZSkpdD1lO2Vsc2UgaWYocChlKSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcz1HKGVbbl0pO3MmJih0Kz1zKyIgIil9ZWxzZSBpZihiKGUpKWZvcihjb25zdCBuIGluIGUpZVtuXSYmKHQrPW4rIiAiKTtyZXR1cm4gdC50cmltKCl9Y29uc3QgSj10KCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCIpLFg9dCgic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3IiksUT10KCJhbm5vdGF0aW9uLGFubm90YXRpb24teG1sLG1hY3Rpb24sbWFsaWduZ3JvdXAsbWFsaWdubWFyayxtYXRoLG1lbmNsb3NlLG1lcnJvcixtZmVuY2VkLG1mcmFjLG1mcmFjdGlvbixtZ2x5cGgsbWksbWxhYmVsZWR0cixtbG9uZ2RpdixtbXVsdGlzY3JpcHRzLG1uLG1vLG1vdmVyLG1wYWRkZWQsbXBoYW50b20sbXByZXNjcmlwdHMsbXJvb3QsbXJvdyxtcyxtc2NhcnJpZXMsbXNjYXJyeSxtc2dyb3VwLG1zbGluZSxtc3BhY2UsbXNxcnQsbXNyb3csbXN0YWNrLG1zdHlsZSxtc3ViLG1zdWJzdXAsbXN1cCxtdGFibGUsbXRkLG10ZXh0LG10cixtdW5kZXIsbXVuZGVyb3Zlcixub25lLHNlbWFudGljcyIpLFo9dCgiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnIiKSxZPXQoIml0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seSIpO2Z1bmN0aW9uIGVlKGUpe3JldHVybiEhZXx8IiI9PT1lfWZ1bmN0aW9uIHRlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7bGV0IG49bShlKSxzPW0odCk7aWYobnx8cylyZXR1cm4hKCFufHwhcykmJmUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCk7aWYobj15KGUpLHM9eSh0KSxufHxzKXJldHVybiBlPT09dDtpZihuPXAoZSkscz1wKHQpLG58fHMpcmV0dXJuISghbnx8IXMpJiZmdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7bGV0IG49ITA7Zm9yKGxldCBzPTA7biYmczxlLmxlbmd0aDtzKyspbj10ZShlW3NdLHRbc10pO3JldHVybiBufShlLHQpO2lmKG49YihlKSxzPWIodCksbnx8cyl7aWYoIW58fCFzKXJldHVybiExO2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBzPWUuaGFzT3duUHJvcGVydHkobiksbz10Lmhhc093blByb3BlcnR5KG4pO2lmKHMmJiFvfHwhcyYmb3x8IXRlKGVbbl0sdFtuXSkpcmV0dXJuITF9fXJldHVybiBTdHJpbmcoZSk9PT1TdHJpbmcodCl9ZnVuY3Rpb24gbmUoZSx0KXtyZXR1cm4gZS5maW5kSW5kZXgoKGU9PnRlKGUsdCkpKX1jb25zdCBzZT0oZSx0KT0+dCYmdC5fX3ZfaXNSZWY/c2UoZSx0LnZhbHVlKTpoKHQpP3tbYE1hcCgke3Quc2l6ZX0pYF06Wy4uLnQuZW50cmllcygpXS5yZWR1Y2UoKChlLFt0LG5dLHMpPT4oZVtvZSh0LHMpKyIgPT4iXT1uLGUpKSx7fSl9OmYodCk/e1tgU2V0KCR7dC5zaXplfSlgXTpbLi4udC52YWx1ZXMoKV0ubWFwKChlPT5vZShlKSkpfTp5KHQpP29lKHQpOiFiKHQpfHxwKHQpfHxrKHQpP3Q6U3RyaW5nKHQpLG9lPShlLHQ9IiIpPT57dmFyIG47cmV0dXJuIHkoZSk/YFN5bWJvbCgke251bGwhPShuPWUuZGVzY3JpcHRpb24pP246dH0pYDplfTtsZXQgcmUsaWU7Y2xhc3MgbGV7Y29uc3RydWN0b3IoZT0hMSl7dGhpcy5kZXRhY2hlZD1lLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmVmZmVjdHM9W10sdGhpcy5jbGVhbnVwcz1bXSx0aGlzLnBhcmVudD1yZSwhZSYmcmUmJih0aGlzLmluZGV4PShyZS5zY29wZXN8fChyZS5zY29wZXM9W10pKS5wdXNoKHRoaXMpLTEpfWdldCBhY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfXJ1bihlKXtpZih0aGlzLl9hY3RpdmUpe2NvbnN0IHQ9cmU7dHJ5e3JldHVybiByZT10aGlzLGUoKX1maW5hbGx5e3JlPXR9fX1vbigpe3JlPXRoaXN9b2ZmKCl7cmU9dGhpcy5wYXJlbnR9c3RvcChlKXtpZih0aGlzLl9hY3RpdmUpe2xldCB0LG47Zm9yKHQ9MCxuPXRoaXMuZWZmZWN0cy5sZW5ndGg7dDxuO3QrKyl0aGlzLmVmZmVjdHNbdF0uc3RvcCgpO2Zvcih0PTAsbj10aGlzLmNsZWFudXBzLmxlbmd0aDt0PG47dCsrKXRoaXMuY2xlYW51cHNbdF0oKTtpZih0aGlzLnNjb3Blcylmb3IodD0wLG49dGhpcy5zY29wZXMubGVuZ3RoO3Q8bjt0KyspdGhpcy5zY29wZXNbdF0uc3RvcCghMCk7aWYoIXRoaXMuZGV0YWNoZWQmJnRoaXMucGFyZW50JiYhZSl7Y29uc3QgZT10aGlzLnBhcmVudC5zY29wZXMucG9wKCk7ZSYmZSE9PXRoaXMmJih0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF09ZSxlLmluZGV4PXRoaXMuaW5kZXgpfXRoaXMucGFyZW50PXZvaWQgMCx0aGlzLl9hY3RpdmU9ITF9fX1mdW5jdGlvbiBjZShlLHQ9cmUpe3QmJnQuYWN0aXZlJiZ0LmVmZmVjdHMucHVzaChlKX1mdW5jdGlvbiBhZSgpe3JldHVybiByZX1jbGFzcyB1ZXtjb25zdHJ1Y3RvcihlLHQsbixzKXt0aGlzLmZuPWUsdGhpcy50cmlnZ2VyPXQsdGhpcy5zY2hlZHVsZXI9bix0aGlzLmFjdGl2ZT0hMCx0aGlzLmRlcHM9W10sdGhpcy5fZGlydHlMZXZlbD0yLHRoaXMuX3RyYWNrSWQ9MCx0aGlzLl9ydW5uaW5ncz0wLHRoaXMuX3Nob3VsZFNjaGVkdWxlPSExLHRoaXMuX2RlcHNMZW5ndGg9MCxjZSh0aGlzLHMpfWdldCBkaXJ0eSgpe2lmKDE9PT10aGlzLl9kaXJ0eUxldmVsKXt5ZSgpO2ZvcihsZXQgZT0wO2U8dGhpcy5fZGVwc0xlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5kZXBzW2VdO2lmKHQuY29tcHV0ZWQmJihkZSh0LmNvbXB1dGVkKSx0aGlzLl9kaXJ0eUxldmVsPj0yKSlicmVha310aGlzLl9kaXJ0eUxldmVsPDImJih0aGlzLl9kaXJ0eUxldmVsPTApLGJlKCl9cmV0dXJuIHRoaXMuX2RpcnR5TGV2ZWw+PTJ9c2V0IGRpcnR5KGUpe3RoaXMuX2RpcnR5TGV2ZWw9ZT8yOjB9cnVuKCl7aWYodGhpcy5fZGlydHlMZXZlbD0wLCF0aGlzLmFjdGl2ZSlyZXR1cm4gdGhpcy5mbigpO2xldCBlPW1lLHQ9aWU7dHJ5e3JldHVybiBtZT0hMCxpZT10aGlzLHRoaXMuX3J1bm5pbmdzKysscGUodGhpcyksdGhpcy5mbigpfWZpbmFsbHl7aGUodGhpcyksdGhpcy5fcnVubmluZ3MtLSxpZT10LG1lPWV9fXN0b3AoKXt2YXIgZTt0aGlzLmFjdGl2ZSYmKHBlKHRoaXMpLGhlKHRoaXMpLG51bGw9PShlPXRoaXMub25TdG9wKXx8ZS5jYWxsKHRoaXMpLHRoaXMuYWN0aXZlPSExKX19ZnVuY3Rpb24gZGUoZSl7cmV0dXJuIGUudmFsdWV9ZnVuY3Rpb24gcGUoZSl7ZS5fdHJhY2tJZCsrLGUuX2RlcHNMZW5ndGg9MH1mdW5jdGlvbiBoZShlKXtpZihlLmRlcHMmJmUuZGVwcy5sZW5ndGg+ZS5fZGVwc0xlbmd0aCl7Zm9yKGxldCB0PWUuX2RlcHNMZW5ndGg7dDxlLmRlcHMubGVuZ3RoO3QrKylmZShlLmRlcHNbdF0sZSk7ZS5kZXBzLmxlbmd0aD1lLl9kZXBzTGVuZ3RofX1mdW5jdGlvbiBmZShlLHQpe2NvbnN0IG49ZS5nZXQodCk7dm9pZCAwIT09biYmdC5fdHJhY2tJZCE9PW4mJihlLmRlbGV0ZSh0KSwwPT09ZS5zaXplJiZlLmNsZWFudXAoKSl9bGV0IG1lPSEwLGdlPTA7Y29uc3QgdmU9W107ZnVuY3Rpb24geWUoKXt2ZS5wdXNoKG1lKSxtZT0hMX1mdW5jdGlvbiBiZSgpe2NvbnN0IGU9dmUucG9wKCk7bWU9dm9pZCAwPT09ZXx8ZX1mdW5jdGlvbiBfZSgpe2dlKyt9ZnVuY3Rpb24gU2UoKXtmb3IoZ2UtLTshZ2UmJkNlLmxlbmd0aDspQ2Uuc2hpZnQoKSgpfWZ1bmN0aW9uIHhlKGUsdCxuKXtpZih0LmdldChlKSE9PWUuX3RyYWNrSWQpe3Quc2V0KGUsZS5fdHJhY2tJZCk7Y29uc3Qgbj1lLmRlcHNbZS5fZGVwc0xlbmd0aF07biE9PXQ/KG4mJmZlKG4sZSksZS5kZXBzW2UuX2RlcHNMZW5ndGgrK109dCk6ZS5fZGVwc0xlbmd0aCsrfX1jb25zdCBDZT1bXTtmdW5jdGlvbiBrZShlLHQsbil7X2UoKTtmb3IoY29uc3QgcyBvZiBlLmtleXMoKSlpZihlLmdldChzKT09PXMuX3RyYWNrSWQpe2lmKHMuX2RpcnR5TGV2ZWw8dCYmKCFzLl9ydW5uaW5nc3x8cy5hbGxvd1JlY3Vyc2UpKXtjb25zdCBlPXMuX2RpcnR5TGV2ZWw7cy5fZGlydHlMZXZlbD10LDA9PT1lJiYocy5fc2hvdWxkU2NoZWR1bGU9ITAscy50cmlnZ2VyKCkpfXMuc2NoZWR1bGVyJiZzLl9zaG91bGRTY2hlZHVsZSYmKCFzLl9ydW5uaW5nc3x8cy5hbGxvd1JlY3Vyc2UpJiYocy5fc2hvdWxkU2NoZWR1bGU9ITEsQ2UucHVzaChzLnNjaGVkdWxlcikpfVNlKCl9Y29uc3QgVGU9KGUsdCk9Pntjb25zdCBuPW5ldyBNYXA7cmV0dXJuIG4uY2xlYW51cD1lLG4uY29tcHV0ZWQ9dCxufSx3ZT1uZXcgV2Vha01hcCxOZT1TeW1ib2woIiIpLEFlPVN5bWJvbCgiIik7ZnVuY3Rpb24gRWUoZSx0LG4pe2lmKG1lJiZpZSl7bGV0IHQ9d2UuZ2V0KGUpO3R8fHdlLnNldChlLHQ9bmV3IE1hcCk7bGV0IHM9dC5nZXQobik7c3x8dC5zZXQobixzPVRlKCgoKT0+dC5kZWxldGUobikpKSkseGUoaWUscyl9fWZ1bmN0aW9uIEllKGUsdCxuLHMsbyxyKXtjb25zdCBpPXdlLmdldChlKTtpZighaSlyZXR1cm47bGV0IGw9W107aWYoImNsZWFyIj09PXQpbD1bLi4uaS52YWx1ZXMoKV07ZWxzZSBpZigibGVuZ3RoIj09PW4mJnAoZSkpe2NvbnN0IGU9TnVtYmVyKHMpO2kuZm9yRWFjaCgoKHQsbik9PnsoImxlbmd0aCI9PT1ufHwheShuKSYmbj49ZSkmJmwucHVzaCh0KX0pKX1lbHNlIHN3aXRjaCh2b2lkIDAhPT1uJiZsLnB1c2goaS5nZXQobikpLHQpe2Nhc2UiYWRkIjpwKGUpP1QobikmJmwucHVzaChpLmdldCgibGVuZ3RoIikpOihsLnB1c2goaS5nZXQoTmUpKSxoKGUpJiZsLnB1c2goaS5nZXQoQWUpKSk7YnJlYWs7Y2FzZSJkZWxldGUiOnAoZSl8fChsLnB1c2goaS5nZXQoTmUpKSxoKGUpJiZsLnB1c2goaS5nZXQoQWUpKSk7YnJlYWs7Y2FzZSJzZXQiOmgoZSkmJmwucHVzaChpLmdldChOZSkpfV9lKCk7Zm9yKGNvbnN0IGMgb2YgbCljJiZrZShjLDIpO1NlKCl9Y29uc3QgUmU9dCgiX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlIiksT2U9bmV3IFNldChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoZT0+ImFyZ3VtZW50cyIhPT1lJiYiY2FsbGVyIiE9PWUpKS5tYXAoKGU9PlN5bWJvbFtlXSkpLmZpbHRlcih5KSksRmU9TGUoKTtmdW5jdGlvbiBMZSgpe2NvbnN0IGU9e307cmV0dXJuWyJpbmNsdWRlcyIsImluZGV4T2YiLCJsYXN0SW5kZXhPZiJdLmZvckVhY2goKHQ9PntlW3RdPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IG49Q3QodGhpcyk7Zm9yKGxldCB0PTAsbz10aGlzLmxlbmd0aDt0PG87dCsrKUVlKG4sMCx0KyIiKTtjb25zdCBzPW5bdF0oLi4uZSk7cmV0dXJuLTE9PT1zfHwhMT09PXM/blt0XSguLi5lLm1hcChDdCkpOnN9fSkpLFsicHVzaCIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCIsInNwbGljZSJdLmZvckVhY2goKHQ9PntlW3RdPWZ1bmN0aW9uKC4uLmUpe3llKCksX2UoKTtjb25zdCBuPUN0KHRoaXMpW3RdLmFwcGx5KHRoaXMsZSk7cmV0dXJuIFNlKCksYmUoKSxufX0pKSxlfWZ1bmN0aW9uIE1lKGUpe2NvbnN0IHQ9Q3QodGhpcyk7cmV0dXJuIEVlKHQsMCxlKSx0Lmhhc093blByb3BlcnR5KGUpfWNsYXNzIFBle2NvbnN0cnVjdG9yKGU9ITEsdD0hMSl7dGhpcy5faXNSZWFkb25seT1lLHRoaXMuX3NoYWxsb3c9dH1nZXQoZSx0LG4pe2NvbnN0IHM9dGhpcy5faXNSZWFkb25seSxvPXRoaXMuX3NoYWxsb3c7aWYoIl9fdl9pc1JlYWN0aXZlIj09PXQpcmV0dXJuIXM7aWYoIl9fdl9pc1JlYWRvbmx5Ij09PXQpcmV0dXJuIHM7aWYoIl9fdl9pc1NoYWxsb3ciPT09dClyZXR1cm4gbztpZigiX192X3JhdyI9PT10KXJldHVybiBuPT09KHM/bz9mdDpodDpvP3B0OmR0KS5nZXQoZSl8fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKT09PU9iamVjdC5nZXRQcm90b3R5cGVPZihuKT9lOnZvaWQgMDtjb25zdCByPXAoZSk7aWYoIXMpe2lmKHImJmQoRmUsdCkpcmV0dXJuIFJlZmxlY3QuZ2V0KEZlLHQsbik7aWYoImhhc093blByb3BlcnR5Ij09PXQpcmV0dXJuIE1lfWNvbnN0IGk9UmVmbGVjdC5nZXQoZSx0LG4pO3JldHVybih5KHQpP09lLmhhcyh0KTpSZSh0KSk/aTooc3x8RWUoZSwwLHQpLG8/aTpJdChpKT9yJiZUKHQpP2k6aS52YWx1ZTpiKGkpP3M/dnQoaSk6bXQoaSk6aSl9fWNsYXNzICRlIGV4dGVuZHMgUGV7Y29uc3RydWN0b3IoZT0hMSl7c3VwZXIoITEsZSl9c2V0KGUsdCxuLHMpe2xldCBvPWVbdF07aWYoIXRoaXMuX3NoYWxsb3cpe2NvbnN0IHQ9X3Qobyk7aWYoU3Qobil8fF90KG4pfHwobz1DdChvKSxuPUN0KG4pKSwhcChlKSYmSXQobykmJiFJdChuKSlyZXR1cm4hdCYmKG8udmFsdWU9biwhMCl9Y29uc3Qgcj1wKGUpJiZUKHQpP051bWJlcih0KTxlLmxlbmd0aDpkKGUsdCksaT1SZWZsZWN0LnNldChlLHQsbixzKTtyZXR1cm4gZT09PUN0KHMpJiYocj9NKG4sbykmJkllKGUsInNldCIsdCxuKTpJZShlLCJhZGQiLHQsbikpLGl9ZGVsZXRlUHJvcGVydHkoZSx0KXtjb25zdCBuPWQoZSx0KSxzPVJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZSx0KTtyZXR1cm4gcyYmbiYmSWUoZSwiZGVsZXRlIix0LHZvaWQgMCksc31oYXMoZSx0KXtjb25zdCBuPVJlZmxlY3QuaGFzKGUsdCk7cmV0dXJuIHkodCkmJk9lLmhhcyh0KXx8RWUoZSwwLHQpLG59b3duS2V5cyhlKXtyZXR1cm4gRWUoZSwwLHAoZSk/Imxlbmd0aCI6TmUpLFJlZmxlY3Qub3duS2V5cyhlKX19Y2xhc3MgQmUgZXh0ZW5kcyBQZXtjb25zdHJ1Y3RvcihlPSExKXtzdXBlcighMCxlKX1zZXQoZSx0KXtyZXR1cm4hMH1kZWxldGVQcm9wZXJ0eShlLHQpe3JldHVybiEwfX1jb25zdCBWZT1uZXcgJGUsRGU9bmV3IEJlLFVlPW5ldyAkZSghMCksamU9bmV3IEJlKCEwKSxIZT1lPT5lLHFlPWU9PlJlZmxlY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZnVuY3Rpb24gV2UoZSx0LG49ITEscz0hMSl7Y29uc3Qgbz1DdChlPWUuX192X3Jhdykscj1DdCh0KTtufHwoTSh0LHIpJiZFZShvLDAsdCksRWUobywwLHIpKTtjb25zdHtoYXM6aX09cWUobyksbD1zP0hlOm4/d3Q6VHQ7cmV0dXJuIGkuY2FsbChvLHQpP2woZS5nZXQodCkpOmkuY2FsbChvLHIpP2woZS5nZXQocikpOnZvaWQoZSE9PW8mJmUuZ2V0KHQpKX1mdW5jdGlvbiBLZShlLHQ9ITEpe2NvbnN0IG49dGhpcy5fX3ZfcmF3LHM9Q3Qobiksbz1DdChlKTtyZXR1cm4gdHx8KE0oZSxvKSYmRWUocywwLGUpLEVlKHMsMCxvKSksZT09PW8/bi5oYXMoZSk6bi5oYXMoZSl8fG4uaGFzKG8pfWZ1bmN0aW9uIHplKGUsdD0hMSl7cmV0dXJuIGU9ZS5fX3ZfcmF3LCF0JiZFZShDdChlKSwwLE5lKSxSZWZsZWN0LmdldChlLCJzaXplIixlKX1mdW5jdGlvbiBHZShlKXtlPUN0KGUpO2NvbnN0IHQ9Q3QodGhpcyk7cmV0dXJuIHFlKHQpLmhhcy5jYWxsKHQsZSl8fCh0LmFkZChlKSxJZSh0LCJhZGQiLGUsZSkpLHRoaXN9ZnVuY3Rpb24gSmUoZSx0KXt0PUN0KHQpO2NvbnN0IG49Q3QodGhpcykse2hhczpzLGdldDpvfT1xZShuKTtsZXQgcj1zLmNhbGwobixlKTtyfHwoZT1DdChlKSxyPXMuY2FsbChuLGUpKTtjb25zdCBpPW8uY2FsbChuLGUpO3JldHVybiBuLnNldChlLHQpLHI/TSh0LGkpJiZJZShuLCJzZXQiLGUsdCk6SWUobiwiYWRkIixlLHQpLHRoaXN9ZnVuY3Rpb24gWGUoZSl7Y29uc3QgdD1DdCh0aGlzKSx7aGFzOm4sZ2V0OnN9PXFlKHQpO2xldCBvPW4uY2FsbCh0LGUpO298fChlPUN0KGUpLG89bi5jYWxsKHQsZSkpLHMmJnMuY2FsbCh0LGUpO2NvbnN0IHI9dC5kZWxldGUoZSk7cmV0dXJuIG8mJkllKHQsImRlbGV0ZSIsZSx2b2lkIDApLHJ9ZnVuY3Rpb24gUWUoKXtjb25zdCBlPUN0KHRoaXMpLHQ9MCE9PWUuc2l6ZSxuPWUuY2xlYXIoKTtyZXR1cm4gdCYmSWUoZSwiY2xlYXIiLHZvaWQgMCx2b2lkIDApLG59ZnVuY3Rpb24gWmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixzKXtjb25zdCBvPXRoaXMscj1vLl9fdl9yYXcsaT1DdChyKSxsPXQ/SGU6ZT93dDpUdDtyZXR1cm4hZSYmRWUoaSwwLE5lKSxyLmZvckVhY2goKChlLHQpPT5uLmNhbGwocyxsKGUpLGwodCksbykpKX19ZnVuY3Rpb24gWWUoZSx0LG4pe3JldHVybiBmdW5jdGlvbiguLi5zKXtjb25zdCBvPXRoaXMuX192X3JhdyxyPUN0KG8pLGk9aChyKSxsPSJlbnRyaWVzIj09PWV8fGU9PT1TeW1ib2wuaXRlcmF0b3ImJmksYz0ia2V5cyI9PT1lJiZpLGE9b1tlXSguLi5zKSx1PW4/SGU6dD93dDpUdDtyZXR1cm4hdCYmRWUociwwLGM/QWU6TmUpLHtuZXh0KCl7Y29uc3R7dmFsdWU6ZSxkb25lOnR9PWEubmV4dCgpO3JldHVybiB0P3t2YWx1ZTplLGRvbmU6dH06e3ZhbHVlOmw/W3UoZVswXSksdShlWzFdKV06dShlKSxkb25lOnR9fSxbU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzfX19fWZ1bmN0aW9uIGV0KGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtyZXR1cm4iZGVsZXRlIiE9PWUmJigiY2xlYXIiPT09ZT92b2lkIDA6dGhpcyl9fWZ1bmN0aW9uIHR0KCl7Y29uc3QgZT17Z2V0KGUpe3JldHVybiBXZSh0aGlzLGUpfSxnZXQgc2l6ZSgpe3JldHVybiB6ZSh0aGlzKX0saGFzOktlLGFkZDpHZSxzZXQ6SmUsZGVsZXRlOlhlLGNsZWFyOlFlLGZvckVhY2g6WmUoITEsITEpfSx0PXtnZXQoZSl7cmV0dXJuIFdlKHRoaXMsZSwhMSwhMCl9LGdldCBzaXplKCl7cmV0dXJuIHplKHRoaXMpfSxoYXM6S2UsYWRkOkdlLHNldDpKZSxkZWxldGU6WGUsY2xlYXI6UWUsZm9yRWFjaDpaZSghMSwhMCl9LG49e2dldChlKXtyZXR1cm4gV2UodGhpcyxlLCEwKX0sZ2V0IHNpemUoKXtyZXR1cm4gemUodGhpcywhMCl9LGhhcyhlKXtyZXR1cm4gS2UuY2FsbCh0aGlzLGUsITApfSxhZGQ6ZXQoImFkZCIpLHNldDpldCgic2V0IiksZGVsZXRlOmV0KCJkZWxldGUiKSxjbGVhcjpldCgiY2xlYXIiKSxmb3JFYWNoOlplKCEwLCExKX0scz17Z2V0KGUpe3JldHVybiBXZSh0aGlzLGUsITAsITApfSxnZXQgc2l6ZSgpe3JldHVybiB6ZSh0aGlzLCEwKX0saGFzKGUpe3JldHVybiBLZS5jYWxsKHRoaXMsZSwhMCl9LGFkZDpldCgiYWRkIiksc2V0OmV0KCJzZXQiKSxkZWxldGU6ZXQoImRlbGV0ZSIpLGNsZWFyOmV0KCJjbGVhciIpLGZvckVhY2g6WmUoITAsITApfTtyZXR1cm5bImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIixTeW1ib2wuaXRlcmF0b3JdLmZvckVhY2goKG89PntlW29dPVllKG8sITEsITEpLG5bb109WWUobywhMCwhMSksdFtvXT1ZZShvLCExLCEwKSxzW29dPVllKG8sITAsITApfSkpLFtlLG4sdCxzXX1jb25zdFtudCxzdCxvdCxydF09dHQoKTtmdW5jdGlvbiBpdChlLHQpe2NvbnN0IG49dD9lP3J0Om90OmU/c3Q6bnQ7cmV0dXJuKHQscyxvKT0+Il9fdl9pc1JlYWN0aXZlIj09PXM/IWU6Il9fdl9pc1JlYWRvbmx5Ij09PXM/ZToiX192X3JhdyI9PT1zP3Q6UmVmbGVjdC5nZXQoZChuLHMpJiZzIGluIHQ/bjp0LHMsbyl9Y29uc3QgbHQ9e2dldDppdCghMSwhMSl9LGN0PXtnZXQ6aXQoITEsITApfSxhdD17Z2V0Oml0KCEwLCExKX0sdXQ9e2dldDppdCghMCwhMCl9LGR0PW5ldyBXZWFrTWFwLHB0PW5ldyBXZWFrTWFwLGh0PW5ldyBXZWFrTWFwLGZ0PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG10KGUpe3JldHVybiBfdChlKT9lOnl0KGUsITEsVmUsbHQsZHQpfWZ1bmN0aW9uIGd0KGUpe3JldHVybiB5dChlLCExLFVlLGN0LHB0KX1mdW5jdGlvbiB2dChlKXtyZXR1cm4geXQoZSwhMCxEZSxhdCxodCl9ZnVuY3Rpb24geXQoZSx0LG4scyxvKXtpZighYihlKSlyZXR1cm4gZTtpZihlLl9fdl9yYXcmJighdHx8IWUuX192X2lzUmVhY3RpdmUpKXJldHVybiBlO2NvbnN0IHI9by5nZXQoZSk7aWYocilyZXR1cm4gcjtjb25zdCBpPShsPWUpLl9fdl9za2lwfHwhT2JqZWN0LmlzRXh0ZW5zaWJsZShsKT8wOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIk9iamVjdCI6Y2FzZSJBcnJheSI6cmV0dXJuIDE7Y2FzZSJNYXAiOmNhc2UiU2V0IjpjYXNlIldlYWtNYXAiOmNhc2UiV2Vha1NldCI6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gMH19KEMobCkpO3ZhciBsO2lmKDA9PT1pKXJldHVybiBlO2NvbnN0IGM9bmV3IFByb3h5KGUsMj09PWk/czpuKTtyZXR1cm4gby5zZXQoZSxjKSxjfWZ1bmN0aW9uIGJ0KGUpe3JldHVybiBfdChlKT9idChlLl9fdl9yYXcpOiEoIWV8fCFlLl9fdl9pc1JlYWN0aXZlKX1mdW5jdGlvbiBfdChlKXtyZXR1cm4hKCFlfHwhZS5fX3ZfaXNSZWFkb25seSl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuISghZXx8IWUuX192X2lzU2hhbGxvdyl9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIGJ0KGUpfHxfdChlKX1mdW5jdGlvbiBDdChlKXtjb25zdCB0PWUmJmUuX192X3JhdztyZXR1cm4gdD9DdCh0KTplfWZ1bmN0aW9uIGt0KGUpe3JldHVybiAkKGUsIl9fdl9za2lwIiwhMCksZX1jb25zdCBUdD1lPT5iKGUpP210KGUpOmUsd3Q9ZT0+YihlKT92dChlKTplO2NsYXNzIE50e2NvbnN0cnVjdG9yKGUsdCxuLHMpe3RoaXMuX3NldHRlcj10LHRoaXMuZGVwPXZvaWQgMCx0aGlzLl9fdl9pc1JlZj0hMCx0aGlzLl9fdl9pc1JlYWRvbmx5PSExLHRoaXMuZWZmZWN0PW5ldyB1ZSgoKCk9PmUodGhpcy5fdmFsdWUpKSwoKCk9PkV0KHRoaXMsMSkpKSx0aGlzLmVmZmVjdC5jb21wdXRlZD10aGlzLHRoaXMuZWZmZWN0LmFjdGl2ZT10aGlzLl9jYWNoZWFibGU9IXMsdGhpcy5fX3ZfaXNSZWFkb25seT1ufWdldCB2YWx1ZSgpe2NvbnN0IGU9Q3QodGhpcyk7cmV0dXJuIGUuX2NhY2hlYWJsZSYmIWUuZWZmZWN0LmRpcnR5fHxNKGUuX3ZhbHVlLGUuX3ZhbHVlPWUuZWZmZWN0LnJ1bigpKSYmRXQoZSwyKSxBdChlKSxlLl92YWx1ZX1zZXQgdmFsdWUoZSl7dGhpcy5fc2V0dGVyKGUpfWdldCBfZGlydHkoKXtyZXR1cm4gdGhpcy5lZmZlY3QuZGlydHl9c2V0IF9kaXJ0eShlKXt0aGlzLmVmZmVjdC5kaXJ0eT1lfX1mdW5jdGlvbiBBdChlKXttZSYmaWUmJihlPUN0KGUpLHhlKGllLGUuZGVwfHwoZS5kZXA9VGUoKCgpPT5lLmRlcD12b2lkIDApLGUgaW5zdGFuY2VvZiBOdD9lOnZvaWQgMCkpKSl9ZnVuY3Rpb24gRXQoZSx0PTIsbil7Y29uc3Qgcz0oZT1DdChlKSkuZGVwO3MmJmtlKHMsdCl9ZnVuY3Rpb24gSXQoZSl7cmV0dXJuISghZXx8ITAhPT1lLl9fdl9pc1JlZil9ZnVuY3Rpb24gUnQoZSl7cmV0dXJuIE90KGUsITEpfWZ1bmN0aW9uIE90KGUsdCl7cmV0dXJuIEl0KGUpP2U6bmV3IEZ0KGUsdCl9Y2xhc3MgRnR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9fdl9pc1NoYWxsb3c9dCx0aGlzLmRlcD12b2lkIDAsdGhpcy5fX3ZfaXNSZWY9ITAsdGhpcy5fcmF3VmFsdWU9dD9lOkN0KGUpLHRoaXMuX3ZhbHVlPXQ/ZTpUdChlKX1nZXQgdmFsdWUoKXtyZXR1cm4gQXQodGhpcyksdGhpcy5fdmFsdWV9c2V0IHZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5fX3ZfaXNTaGFsbG93fHxTdChlKXx8X3QoZSk7ZT10P2U6Q3QoZSksTShlLHRoaXMuX3Jhd1ZhbHVlKSYmKHRoaXMuX3Jhd1ZhbHVlPWUsdGhpcy5fdmFsdWU9dD9lOlR0KGUpLEV0KHRoaXMsMikpfX1mdW5jdGlvbiBMdChlKXtyZXR1cm4gSXQoZSk/ZS52YWx1ZTplfWNvbnN0IE10PXtnZXQ6KGUsdCxuKT0+THQoUmVmbGVjdC5nZXQoZSx0LG4pKSxzZXQ6KGUsdCxuLHMpPT57Y29uc3Qgbz1lW3RdO3JldHVybiBJdChvKSYmIUl0KG4pPyhvLnZhbHVlPW4sITApOlJlZmxlY3Quc2V0KGUsdCxuLHMpfX07ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIGJ0KGUpP2U6bmV3IFByb3h5KGUsTXQpfWNsYXNzICR0e2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVwPXZvaWQgMCx0aGlzLl9fdl9pc1JlZj0hMDtjb25zdHtnZXQ6dCxzZXQ6bn09ZSgoKCk9PkF0KHRoaXMpKSwoKCk9PkV0KHRoaXMpKSk7dGhpcy5fZ2V0PXQsdGhpcy5fc2V0PW59Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuX2dldCgpfXNldCB2YWx1ZShlKXt0aGlzLl9zZXQoZSl9fWZ1bmN0aW9uIEJ0KGUpe3JldHVybiBuZXcgJHQoZSl9Y2xhc3MgVnR7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX29iamVjdD1lLHRoaXMuX2tleT10LHRoaXMuX2RlZmF1bHRWYWx1ZT1uLHRoaXMuX192X2lzUmVmPSEwfWdldCB2YWx1ZSgpe2NvbnN0IGU9dGhpcy5fb2JqZWN0W3RoaXMuX2tleV07cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5fZGVmYXVsdFZhbHVlOmV9c2V0IHZhbHVlKGUpe3RoaXMuX29iamVjdFt0aGlzLl9rZXldPWV9Z2V0IGRlcCgpe3JldHVybiBlPUN0KHRoaXMuX29iamVjdCksdD10aGlzLl9rZXksbnVsbD09KG49d2UuZ2V0KGUpKT92b2lkIDA6bi5nZXQodCk7dmFyIGUsdCxufX1jbGFzcyBEdHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9nZXR0ZXI9ZSx0aGlzLl9fdl9pc1JlZj0hMCx0aGlzLl9fdl9pc1JlYWRvbmx5PSEwfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLl9nZXR0ZXIoKX19ZnVuY3Rpb24gVXQoZSx0LG4pe2NvbnN0IHM9ZVt0XTtyZXR1cm4gSXQocyk/czpuZXcgVnQoZSx0LG4pfWZ1bmN0aW9uIGp0KGUsdCxuLHMpe2xldCBvO3RyeXtvPXM/ZSguLi5zKTplKCl9Y2F0Y2gocil7cXQocix0LG4pfXJldHVybiBvfWZ1bmN0aW9uIEh0KGUsdCxuLHMpe2lmKGcoZSkpe2NvbnN0IG89anQoZSx0LG4scyk7cmV0dXJuIG8mJl8obykmJm8uY2F0Y2goKGU9PntxdChlLHQsbil9KSksb31jb25zdCBvPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW8ucHVzaChIdChlW3JdLHQsbixzKSk7cmV0dXJuIG99ZnVuY3Rpb24gcXQoZSx0LG4scz0hMCl7aWYodCl7bGV0IHM9dC5wYXJlbnQ7Y29uc3Qgbz10LnByb3h5LHI9YGh0dHBzOi8vdnVlanMub3JnL2Vycm9ycy8jcnVudGltZS0ke259YDtmb3IoO3M7KXtjb25zdCB0PXMuZWM7aWYodClmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZighMT09PXRbbl0oZSxvLHIpKXJldHVybjtzPXMucGFyZW50fWNvbnN0IGk9dC5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7aWYoaSlyZXR1cm4gdm9pZCBqdChpLG51bGwsMTAsW2UsbyxyXSl9IWZ1bmN0aW9uKGUsdCxuLHM9ITApe2NvbnNvbGUuZXJyb3IoZSl9KGUsMCwwLHMpfWxldCBXdD0hMSxLdD0hMTtjb25zdCB6dD1bXTtsZXQgR3Q9MDtjb25zdCBKdD1bXTtsZXQgWHQ9bnVsbCxRdD0wO2NvbnN0IFp0PVByb21pc2UucmVzb2x2ZSgpO2xldCBZdD1udWxsO2Z1bmN0aW9uIGVuKGUpe2NvbnN0IHQ9WXR8fFp0O3JldHVybiBlP3QudGhlbih0aGlzP2UuYmluZCh0aGlzKTplKTp0fWZ1bmN0aW9uIHRuKGUpe3p0Lmxlbmd0aCYmenQuaW5jbHVkZXMoZSxXdCYmZS5hbGxvd1JlY3Vyc2U/R3QrMTpHdCl8fChudWxsPT1lLmlkP3p0LnB1c2goZSk6enQuc3BsaWNlKGZ1bmN0aW9uKGUpe2xldCB0PUd0KzEsbj16dC5sZW5ndGg7Zm9yKDt0PG47KXtjb25zdCBzPXQrbj4+PjEsbz16dFtzXSxyPWxuKG8pO3I8ZXx8cj09PWUmJm8ucHJlP3Q9cysxOm49c31yZXR1cm4gdH0oZS5pZCksMCxlKSxubigpKX1mdW5jdGlvbiBubigpe1d0fHxLdHx8KEt0PSEwLFl0PVp0LnRoZW4oYW4pKX1mdW5jdGlvbiBzbihlKXtwKGUpP0p0LnB1c2goLi4uZSk6WHQmJlh0LmluY2x1ZGVzKGUsZS5hbGxvd1JlY3Vyc2U/UXQrMTpRdCl8fEp0LnB1c2goZSksbm4oKX1mdW5jdGlvbiBvbihlLHQsbj0oV3Q/R3QrMTowKSl7Zm9yKDtuPHp0Lmxlbmd0aDtuKyspe2NvbnN0IHQ9enRbbl07aWYodCYmdC5wcmUpe2lmKGUmJnQuaWQhPT1lLnVpZCljb250aW51ZTt6dC5zcGxpY2UobiwxKSxuLS0sdCgpfX19ZnVuY3Rpb24gcm4oZSl7aWYoSnQubGVuZ3RoKXtjb25zdCBlPVsuLi5uZXcgU2V0KEp0KV0uc29ydCgoKGUsdCk9PmxuKGUpLWxuKHQpKSk7aWYoSnQubGVuZ3RoPTAsWHQpcmV0dXJuIHZvaWQgWHQucHVzaCguLi5lKTtmb3IoWHQ9ZSxRdD0wO1F0PFh0Lmxlbmd0aDtRdCsrKVh0W1F0XSgpO1h0PW51bGwsUXQ9MH19Y29uc3QgbG49ZT0+bnVsbD09ZS5pZD8xLzA6ZS5pZCxjbj0oZSx0KT0+e2NvbnN0IG49bG4oZSktbG4odCk7aWYoMD09PW4pe2lmKGUucHJlJiYhdC5wcmUpcmV0dXJuLTE7aWYodC5wcmUmJiFlLnByZSlyZXR1cm4gMX1yZXR1cm4gbn07ZnVuY3Rpb24gYW4oZSl7S3Q9ITEsV3Q9ITAsenQuc29ydChjbik7dHJ5e2ZvcihHdD0wO0d0PHp0Lmxlbmd0aDtHdCsrKXtjb25zdCBlPXp0W0d0XTtlJiYhMSE9PWUuYWN0aXZlJiZqdChlLG51bGwsMTQpfX1maW5hbGx5e0d0PTAsenQubGVuZ3RoPTAscm4oKSxXdD0hMSxZdD1udWxsLCh6dC5sZW5ndGh8fEp0Lmxlbmd0aCkmJmFuKCl9fWZ1bmN0aW9uIHVuKGUsdCwuLi5zKXtpZihlLmlzVW5tb3VudGVkKXJldHVybjtjb25zdCBvPWUudm5vZGUucHJvcHN8fG47bGV0IHI9cztjb25zdCBpPXQuc3RhcnRzV2l0aCgidXBkYXRlOiIpLGw9aSYmdC5zbGljZSg3KTtpZihsJiZsIGluIG8pe2NvbnN0IGU9YCR7Im1vZGVsVmFsdWUiPT09bD8ibW9kZWwiOmx9TW9kaWZpZXJzYCx7bnVtYmVyOnQsdHJpbTppfT1vW2VdfHxuO2kmJihyPXMubWFwKChlPT52KGUpP2UudHJpbSgpOmUpKSksdCYmKHI9cy5tYXAoQikpfWxldCBjLGE9b1tjPUwodCldfHxvW2M9TChJKHQpKV07IWEmJmkmJihhPW9bYz1MKE8odCkpXSksYSYmSHQoYSxlLDYscik7Y29uc3QgdT1vW2MrIk9uY2UiXTtpZih1KXtpZihlLmVtaXR0ZWQpe2lmKGUuZW1pdHRlZFtjXSlyZXR1cm59ZWxzZSBlLmVtaXR0ZWQ9e307ZS5lbWl0dGVkW2NdPSEwLEh0KHUsZSw2LHIpfX1mdW5jdGlvbiBkbihlLHQsbj0hMSl7Y29uc3Qgcz10LmVtaXRzQ2FjaGUsbz1zLmdldChlKTtpZih2b2lkIDAhPT1vKXJldHVybiBvO2NvbnN0IHI9ZS5lbWl0cztsZXQgaT17fSxsPSExO2lmKCFnKGUpKXtjb25zdCBzPWU9Pntjb25zdCBuPWRuKGUsdCwhMCk7biYmKGw9ITAsYyhpLG4pKX07IW4mJnQubWl4aW5zLmxlbmd0aCYmdC5taXhpbnMuZm9yRWFjaChzKSxlLmV4dGVuZHMmJnMoZS5leHRlbmRzKSxlLm1peGlucyYmZS5taXhpbnMuZm9yRWFjaChzKX1yZXR1cm4gcnx8bD8ocChyKT9yLmZvckVhY2goKGU9PmlbZV09bnVsbCkpOmMoaSxyKSxiKGUpJiZzLnNldChlLGkpLGkpOihiKGUpJiZzLnNldChlLG51bGwpLG51bGwpfWZ1bmN0aW9uIHBuKGUsdCl7cmV0dXJuISghZXx8IWkodCkpJiYodD10LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywiIiksZChlLHRbMF0udG9Mb3dlckNhc2UoKSt0LnNsaWNlKDEpKXx8ZChlLE8odCkpfHxkKGUsdCkpfWxldCBobj1udWxsLGZuPW51bGw7ZnVuY3Rpb24gbW4oZSl7Y29uc3QgdD1objtyZXR1cm4gaG49ZSxmbj1lJiZlLnR5cGUuX19zY29wZUlkfHxudWxsLHR9ZnVuY3Rpb24gZ24oZSx0PWhuLG4pe2lmKCF0KXJldHVybiBlO2lmKGUuX24pcmV0dXJuIGU7Y29uc3Qgcz0oLi4ubik9PntzLl9kJiZIbygtMSk7Y29uc3Qgbz1tbih0KTtsZXQgcjt0cnl7cj1lKC4uLm4pfWZpbmFsbHl7bW4obykscy5fZCYmSG8oMSl9cmV0dXJuIHJ9O3JldHVybiBzLl9uPSEwLHMuX2M9ITAscy5fZD0hMCxzfWZ1bmN0aW9uIHZuKGUpe2NvbnN0e3R5cGU6dCx2bm9kZTpuLHByb3h5OnMsd2l0aFByb3h5Om8scHJvcHM6cixwcm9wc09wdGlvbnM6W2ldLHNsb3RzOmMsYXR0cnM6YSxlbWl0OnUscmVuZGVyOmQscmVuZGVyQ2FjaGU6cCxkYXRhOmgsc2V0dXBTdGF0ZTpmLGN0eDptLGluaGVyaXRBdHRyczpnfT1lO2xldCB2LHk7Y29uc3QgYj1tbihlKTt0cnl7aWYoNCZuLnNoYXBlRmxhZyl7Y29uc3QgZT1vfHxzO3Y9bnIoZC5jYWxsKGUsZSxwLHIsZixoLG0pKSx5PWF9ZWxzZXtjb25zdCBlPXQ7MCx2PW5yKGUocixlLmxlbmd0aD4xP3thdHRyczphLHNsb3RzOmMsZW1pdDp1fTpudWxsKSkseT10LnByb3BzP2E6eW4oYSl9fWNhdGNoKFMpe0JvLmxlbmd0aD0wLHF0KFMsZSwxKSx2PVpvKFBvKX1sZXQgXz12O2lmKHkmJiExIT09Zyl7Y29uc3QgZT1PYmplY3Qua2V5cyh5KSx7c2hhcGVGbGFnOnR9PV87ZS5sZW5ndGgmJjcmdCYmKGkmJmUuc29tZShsKSYmKHk9Ym4oeSxpKSksXz1lcihfLHkpKX1yZXR1cm4gbi5kaXJzJiYoXz1lcihfKSxfLmRpcnM9Xy5kaXJzP18uZGlycy5jb25jYXQobi5kaXJzKTpuLmRpcnMpLG4udHJhbnNpdGlvbiYmKF8udHJhbnNpdGlvbj1uLnRyYW5zaXRpb24pLHY9XyxtbihiKSx2fWNvbnN0IHluPWU9PntsZXQgdDtmb3IoY29uc3QgbiBpbiBlKSgiY2xhc3MiPT09bnx8InN0eWxlIj09PW58fGkobikpJiYoKHR8fCh0PXt9KSlbbl09ZVtuXSk7cmV0dXJuIHR9LGJuPShlLHQpPT57Y29uc3Qgbj17fTtmb3IoY29uc3QgcyBpbiBlKWwocykmJnMuc2xpY2UoOSlpbiB0fHwobltzXT1lW3NdKTtyZXR1cm4gbn07ZnVuY3Rpb24gX24oZSx0LG4pe2NvbnN0IHM9T2JqZWN0LmtleXModCk7aWYocy5sZW5ndGghPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpcmV0dXJuITA7Zm9yKGxldCBvPTA7bzxzLmxlbmd0aDtvKyspe2NvbnN0IHI9c1tvXTtpZih0W3JdIT09ZVtyXSYmIXBuKG4scikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gU24oe3Zub2RlOmUscGFyZW50OnR9LG4pe2Zvcig7dDspe2NvbnN0IHM9dC5zdWJUcmVlO2lmKHMuc3VzcGVuc2UmJnMuc3VzcGVuc2UuYWN0aXZlQnJhbmNoPT09ZSYmKHMuZWw9ZS5lbCkscyE9PWUpYnJlYWs7KGU9dC52bm9kZSkuZWw9bix0PXQucGFyZW50fX1jb25zdCB4bj0iY29tcG9uZW50cyI7Y29uc3QgQ249U3ltYm9sLmZvcigidi1uZGMiKTtmdW5jdGlvbiBrbihlLHQsbj0hMCxzPSExKXtjb25zdCBvPWhufHxhcjtpZihvKXtjb25zdCBuPW8udHlwZTtpZihlPT09eG4pe2NvbnN0IGU9a3IobiwhMSk7aWYoZSYmKGU9PT10fHxlPT09SSh0KXx8ZT09PUYoSSh0KSkpKXJldHVybiBufWNvbnN0IHI9VG4ob1tlXXx8bltlXSx0KXx8VG4oby5hcHBDb250ZXh0W2VdLHQpO3JldHVybiFyJiZzP246cn19ZnVuY3Rpb24gVG4oZSx0KXtyZXR1cm4gZSYmKGVbdF18fGVbSSh0KV18fGVbRihJKHQpKV0pfWNvbnN0IHduPWU9PmUuX19pc1N1c3BlbnNlO2xldCBObj0wO2NvbnN0IEFuPXtuYW1lOiJTdXNwZW5zZSIsX19pc1N1c3BlbnNlOiEwLHByb2Nlc3MoZSx0LG4scyxvLHIsaSxsLGMsYSl7aWYobnVsbD09ZSkhZnVuY3Rpb24oZSx0LG4scyxvLHIsaSxsLGMpe2NvbnN0e3A6YSxvOntjcmVhdGVFbGVtZW50OnV9fT1jLGQ9dSgiZGl2IikscD1lLnN1c3BlbnNlPUluKGUsbyxzLHQsZCxuLHIsaSxsLGMpO2EobnVsbCxwLnBlbmRpbmdCcmFuY2g9ZS5zc0NvbnRlbnQsZCxudWxsLHMscCxyLGkpLHAuZGVwcz4wPyhFbihlLCJvblBlbmRpbmciKSxFbihlLCJvbkZhbGxiYWNrIiksYShudWxsLGUuc3NGYWxsYmFjayx0LG4scyxudWxsLHIsaSksRm4ocCxlLnNzRmFsbGJhY2spKTpwLnJlc29sdmUoITEsITApfSh0LG4scyxvLHIsaSxsLGMsYSk7ZWxzZXtpZihyJiZyLmRlcHM+MClyZXR1cm4gdm9pZCh0LnN1c3BlbnNlPWUuc3VzcGVuc2UpOyFmdW5jdGlvbihlLHQsbixzLG8scixpLGwse3A6Yyx1bTphLG86e2NyZWF0ZUVsZW1lbnQ6dX19KXtjb25zdCBkPXQuc3VzcGVuc2U9ZS5zdXNwZW5zZTtkLnZub2RlPXQsdC5lbD1lLmVsO2NvbnN0IHA9dC5zc0NvbnRlbnQsaD10LnNzRmFsbGJhY2sse2FjdGl2ZUJyYW5jaDpmLHBlbmRpbmdCcmFuY2g6bSxpc0luRmFsbGJhY2s6Zyxpc0h5ZHJhdGluZzp2fT1kO2lmKG0pZC5wZW5kaW5nQnJhbmNoPXAsem8ocCxtKT8oYyhtLHAsZC5oaWRkZW5Db250YWluZXIsbnVsbCxvLGQscixpLGwpLGQuZGVwczw9MD9kLnJlc29sdmUoKTpnJiYodnx8KGMoZixoLG4scyxvLG51bGwscixpLGwpLEZuKGQsaCkpKSk6KGQucGVuZGluZ0lkPU5uKyssdj8oZC5pc0h5ZHJhdGluZz0hMSxkLmFjdGl2ZUJyYW5jaD1tKTphKG0sbyxkKSxkLmRlcHM9MCxkLmVmZmVjdHMubGVuZ3RoPTAsZC5oaWRkZW5Db250YWluZXI9dSgiZGl2IiksZz8oYyhudWxsLHAsZC5oaWRkZW5Db250YWluZXIsbnVsbCxvLGQscixpLGwpLGQuZGVwczw9MD9kLnJlc29sdmUoKTooYyhmLGgsbixzLG8sbnVsbCxyLGksbCksRm4oZCxoKSkpOmYmJnpvKHAsZik/KGMoZixwLG4scyxvLGQscixpLGwpLGQucmVzb2x2ZSghMCkpOihjKG51bGwscCxkLmhpZGRlbkNvbnRhaW5lcixudWxsLG8sZCxyLGksbCksZC5kZXBzPD0wJiZkLnJlc29sdmUoKSkpO2Vsc2UgaWYoZiYmem8ocCxmKSljKGYscCxuLHMsbyxkLHIsaSxsKSxGbihkLHApO2Vsc2UgaWYoRW4odCwib25QZW5kaW5nIiksZC5wZW5kaW5nQnJhbmNoPXAsZC5wZW5kaW5nSWQ9NTEyJnAuc2hhcGVGbGFnP3AuY29tcG9uZW50LnN1c3BlbnNlSWQ6Tm4rKyxjKG51bGwscCxkLmhpZGRlbkNvbnRhaW5lcixudWxsLG8sZCxyLGksbCksZC5kZXBzPD0wKWQucmVzb2x2ZSgpO2Vsc2V7Y29uc3R7dGltZW91dDplLHBlbmRpbmdJZDp0fT1kO2U+MD9zZXRUaW1lb3V0KCgoKT0+e2QucGVuZGluZ0lkPT09dCYmZC5mYWxsYmFjayhoKX0pLGUpOjA9PT1lJiZkLmZhbGxiYWNrKGgpfX0oZSx0LG4scyxvLGksbCxjLGEpfX0saHlkcmF0ZTpmdW5jdGlvbihlLHQsbixzLG8scixpLGwsYyl7Y29uc3QgYT10LnN1c3BlbnNlPUluKHQscyxuLGUucGFyZW50Tm9kZSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxudWxsLG8scixpLGwsITApLHU9YyhlLGEucGVuZGluZ0JyYW5jaD10LnNzQ29udGVudCxuLGEscixpKTswPT09YS5kZXBzJiZhLnJlc29sdmUoITEsITApO3JldHVybiB1fSxjcmVhdGU6SW4sbm9ybWFsaXplOmZ1bmN0aW9uKGUpe2NvbnN0e3NoYXBlRmxhZzp0LGNoaWxkcmVuOm59PWUscz0zMiZ0O2Uuc3NDb250ZW50PVJuKHM/bi5kZWZhdWx0Om4pLGUuc3NGYWxsYmFjaz1zP1JuKG4uZmFsbGJhY2spOlpvKFBvKX19O2Z1bmN0aW9uIEVuKGUsdCl7Y29uc3Qgbj1lLnByb3BzJiZlLnByb3BzW3RdO2cobikmJm4oKX1mdW5jdGlvbiBJbihlLHQsbixzLG8scixpLGwsYyxhLHU9ITEpe2NvbnN0e3A6ZCxtOnAsdW06aCxuOmYsbzp7cGFyZW50Tm9kZTptLHJlbW92ZTpnfX09YTtsZXQgdjtjb25zdCB5PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsIT0obnVsbD09KHQ9ZS5wcm9wcyk/dm9pZCAwOnQuc3VzcGVuc2libGUpJiYhMSE9PWUucHJvcHMuc3VzcGVuc2libGV9KGUpO3kmJihudWxsPT10P3ZvaWQgMDp0LnBlbmRpbmdCcmFuY2gpJiYodj10LnBlbmRpbmdJZCx0LmRlcHMrKyk7Y29uc3QgYj1lLnByb3BzP1YoZS5wcm9wcy50aW1lb3V0KTp2b2lkIDAsXz1yLFM9e3Zub2RlOmUscGFyZW50OnQscGFyZW50Q29tcG9uZW50Om4sbmFtZXNwYWNlOmksY29udGFpbmVyOnMsaGlkZGVuQ29udGFpbmVyOm8sZGVwczowLHBlbmRpbmdJZDpObisrLHRpbWVvdXQ6Im51bWJlciI9PXR5cGVvZiBiP2I6LTEsYWN0aXZlQnJhbmNoOm51bGwscGVuZGluZ0JyYW5jaDpudWxsLGlzSW5GYWxsYmFjazohdSxpc0h5ZHJhdGluZzp1LGlzVW5tb3VudGVkOiExLGVmZmVjdHM6W10scmVzb2x2ZShlPSExLG49ITEpe2NvbnN0e3Zub2RlOnMsYWN0aXZlQnJhbmNoOm8scGVuZGluZ0JyYW5jaDppLHBlbmRpbmdJZDpsLGVmZmVjdHM6YyxwYXJlbnRDb21wb25lbnQ6YSxjb250YWluZXI6dX09UztsZXQgZD0hMTtTLmlzSHlkcmF0aW5nP1MuaXNIeWRyYXRpbmc9ITE6ZXx8KGQ9byYmaS50cmFuc2l0aW9uJiYib3V0LWluIj09PWkudHJhbnNpdGlvbi5tb2RlLGQmJihvLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZT0oKT0+e2w9PT1TLnBlbmRpbmdJZCYmKHAoaSx1LHI9PT1fP2Yobyk6ciwwKSxzbihjKSl9KSxvJiYobShvLmVsKSE9PVMuaGlkZGVuQ29udGFpbmVyJiYocj1mKG8pKSxoKG8sYSxTLCEwKSksZHx8cChpLHUsciwwKSksRm4oUyxpKSxTLnBlbmRpbmdCcmFuY2g9bnVsbCxTLmlzSW5GYWxsYmFjaz0hMTtsZXQgZz1TLnBhcmVudCxiPSExO2Zvcig7Zzspe2lmKGcucGVuZGluZ0JyYW5jaCl7Zy5lZmZlY3RzLnB1c2goLi4uYyksYj0hMDticmVha31nPWcucGFyZW50fWJ8fGR8fHNuKGMpLFMuZWZmZWN0cz1bXSx5JiZ0JiZ0LnBlbmRpbmdCcmFuY2gmJnY9PT10LnBlbmRpbmdJZCYmKHQuZGVwcy0tLDAhPT10LmRlcHN8fG58fHQucmVzb2x2ZSgpKSxFbihzLCJvblJlc29sdmUiKX0sZmFsbGJhY2soZSl7aWYoIVMucGVuZGluZ0JyYW5jaClyZXR1cm47Y29uc3R7dm5vZGU6dCxhY3RpdmVCcmFuY2g6bixwYXJlbnRDb21wb25lbnQ6cyxjb250YWluZXI6byxuYW1lc3BhY2U6cn09UztFbih0LCJvbkZhbGxiYWNrIik7Y29uc3QgaT1mKG4pLGE9KCk9PntTLmlzSW5GYWxsYmFjayYmKGQobnVsbCxlLG8saSxzLG51bGwscixsLGMpLEZuKFMsZSkpfSx1PWUudHJhbnNpdGlvbiYmIm91dC1pbiI9PT1lLnRyYW5zaXRpb24ubW9kZTt1JiYobi50cmFuc2l0aW9uLmFmdGVyTGVhdmU9YSksUy5pc0luRmFsbGJhY2s9ITAsaChuLHMsbnVsbCwhMCksdXx8YSgpfSxtb3ZlKGUsdCxuKXtTLmFjdGl2ZUJyYW5jaCYmcChTLmFjdGl2ZUJyYW5jaCxlLHQsbiksUy5jb250YWluZXI9ZX0sbmV4dDooKT0+Uy5hY3RpdmVCcmFuY2gmJmYoUy5hY3RpdmVCcmFuY2gpLHJlZ2lzdGVyRGVwKGUsdCl7Y29uc3Qgbj0hIVMucGVuZGluZ0JyYW5jaDtuJiZTLmRlcHMrKztjb25zdCBzPWUudm5vZGUuZWw7ZS5hc3luY0RlcC5jYXRjaCgodD0+e3F0KHQsZSwwKX0pKS50aGVuKChvPT57aWYoZS5pc1VubW91bnRlZHx8Uy5pc1VubW91bnRlZHx8Uy5wZW5kaW5nSWQhPT1lLnN1c3BlbnNlSWQpcmV0dXJuO2UuYXN5bmNSZXNvbHZlZD0hMDtjb25zdHt2bm9kZTpyfT1lO2JyKGUsbywhMSkscyYmKHIuZWw9cyk7Y29uc3QgbD0hcyYmZS5zdWJUcmVlLmVsO3QoZSxyLG0oc3x8ZS5zdWJUcmVlLmVsKSxzP251bGw6ZihlLnN1YlRyZWUpLFMsaSxjKSxsJiZnKGwpLFNuKGUsci5lbCksbiYmMD09LS1TLmRlcHMmJlMucmVzb2x2ZSgpfSkpfSx1bm1vdW50KGUsdCl7Uy5pc1VubW91bnRlZD0hMCxTLmFjdGl2ZUJyYW5jaCYmaChTLmFjdGl2ZUJyYW5jaCxuLGUsdCksUy5wZW5kaW5nQnJhbmNoJiZoKFMucGVuZGluZ0JyYW5jaCxuLGUsdCl9fTtyZXR1cm4gU31mdW5jdGlvbiBSbihlKXtsZXQgdDtpZihnKGUpKXtjb25zdCBuPWpvJiZlLl9jO24mJihlLl9kPSExLERvKCkpLGU9ZSgpLG4mJihlLl9kPSEwLHQ9Vm8sVW8oKSl9aWYocChlKSl7Y29uc3QgdD1mdW5jdGlvbihlLHQ9ITApe2xldCBuO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCB0PWVbc107aWYoIUtvKHQpKXJldHVybjtpZih0LnR5cGUhPT1Qb3x8InYtaWYiPT09dC5jaGlsZHJlbil7aWYobilyZXR1cm47bj10fX1yZXR1cm4gbn0oZSk7ZT10fXJldHVybiBlPW5yKGUpLHQmJiFlLmR5bmFtaWNDaGlsZHJlbiYmKGUuZHluYW1pY0NoaWxkcmVuPXQuZmlsdGVyKCh0PT50IT09ZSkpKSxlfWZ1bmN0aW9uIE9uKGUsdCl7dCYmdC5wZW5kaW5nQnJhbmNoP3AoZSk/dC5lZmZlY3RzLnB1c2goLi4uZSk6dC5lZmZlY3RzLnB1c2goZSk6c24oZSl9ZnVuY3Rpb24gRm4oZSx0KXtlLmFjdGl2ZUJyYW5jaD10O2NvbnN0e3Zub2RlOm4scGFyZW50Q29tcG9uZW50OnN9PWU7bGV0IG89dC5lbDtmb3IoOyFvJiZ0LmNvbXBvbmVudDspbz0odD10LmNvbXBvbmVudC5zdWJUcmVlKS5lbDtuLmVsPW8scyYmcy5zdWJUcmVlPT09biYmKHMudm5vZGUuZWw9byxTbihzLG8pKX1jb25zdCBMbj1TeW1ib2wuZm9yKCJ2LXNjeCIpO2Z1bmN0aW9uIE1uKGUsdCl7cmV0dXJuIFZuKGUsbnVsbCx7Zmx1c2g6InBvc3QifSl9ZnVuY3Rpb24gUG4oZSx0KXtyZXR1cm4gVm4oZSxudWxsLHtmbHVzaDoic3luYyJ9KX1jb25zdCAkbj17fTtmdW5jdGlvbiBCbihlLHQsbil7cmV0dXJuIFZuKGUsdCxuKX1mdW5jdGlvbiBWbihlLHQse2ltbWVkaWF0ZTpzLGRlZXA6cixmbHVzaDppLG9uY2U6bH09bil7aWYodCYmbCl7Y29uc3QgZT10O3Q9KC4uLnQpPT57ZSguLi50KSxDKCl9fWNvbnN0IGM9YXIsdT1lPT4hMD09PXI/ZTpqbihlLCExPT09cj8xOnZvaWQgMCk7bGV0IGQsaCxmPSExLG09ITE7aWYoSXQoZSk/KGQ9KCk9PmUudmFsdWUsZj1TdChlKSk6YnQoZSk/KGQ9KCk9PnUoZSksZj0hMCk6cChlKT8obT0hMCxmPWUuc29tZSgoZT0+YnQoZSl8fFN0KGUpKSksZD0oKT0+ZS5tYXAoKGU9Pkl0KGUpP2UudmFsdWU6YnQoZSk/dShlKTpnKGUpP2p0KGUsYywyKTp2b2lkIDApKSk6ZD1nKGUpP3Q/KCk9Pmp0KGUsYywyKTooKT0+KGgmJmgoKSxIdChlLGMsMyxbdl0pKTpvLHQmJnIpe2NvbnN0IGU9ZDtkPSgpPT5qbihlKCkpfWxldCB2PWU9PntoPVMub25TdG9wPSgpPT57anQoZSxjLDQpLGg9Uy5vblN0b3A9dm9pZCAwfX0seT1tP25ldyBBcnJheShlLmxlbmd0aCkuZmlsbCgkbik6JG47Y29uc3QgYj0oKT0+e2lmKFMuYWN0aXZlJiZTLmRpcnR5KWlmKHQpe2NvbnN0IGU9Uy5ydW4oKTsocnx8Znx8KG0/ZS5zb21lKCgoZSx0KT0+TShlLHlbdF0pKSk6TShlLHkpKSkmJihoJiZoKCksSHQodCxjLDMsW2UseT09PSRuP3ZvaWQgMDptJiZ5WzBdPT09JG4/W106eSx2XSkseT1lKX1lbHNlIFMucnVuKCl9O2xldCBfO2IuYWxsb3dSZWN1cnNlPSEhdCwic3luYyI9PT1pP189YjoicG9zdCI9PT1pP189KCk9PnlvKGIsYyYmYy5zdXNwZW5zZSk6KGIucHJlPSEwLGMmJihiLmlkPWMudWlkKSxfPSgpPT50bihiKSk7Y29uc3QgUz1uZXcgdWUoZCxvLF8pLHg9YWUoKSxDPSgpPT57Uy5zdG9wKCkseCYmYSh4LmVmZmVjdHMsUyl9O3JldHVybiB0P3M/YigpOnk9Uy5ydW4oKToicG9zdCI9PT1pP3lvKFMucnVuLmJpbmQoUyksYyYmYy5zdXNwZW5zZSk6Uy5ydW4oKSxDfWZ1bmN0aW9uIERuKGUsdCxuKXtjb25zdCBzPXRoaXMucHJveHksbz12KGUpP2UuaW5jbHVkZXMoIi4iKT9VbihzLGUpOigpPT5zW2VdOmUuYmluZChzLHMpO2xldCByO2codCk/cj10OihyPXQuaGFuZGxlcixuPXQpO2NvbnN0IGk9aHIodGhpcyksbD1WbihvLHIuYmluZChzKSxuKTtyZXR1cm4gaSgpLGx9ZnVuY3Rpb24gVW4oZSx0KXtjb25zdCBuPXQuc3BsaXQoIi4iKTtyZXR1cm4oKT0+e2xldCB0PWU7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aCYmdDtlKyspdD10W25bZV1dO3JldHVybiB0fX1mdW5jdGlvbiBqbihlLHQsbj0wLHMpe2lmKCFiKGUpfHxlLl9fdl9za2lwKXJldHVybiBlO2lmKHQmJnQ+MCl7aWYobj49dClyZXR1cm4gZTtuKyt9aWYoKHM9c3x8bmV3IFNldCkuaGFzKGUpKXJldHVybiBlO2lmKHMuYWRkKGUpLEl0KGUpKWpuKGUudmFsdWUsdCxuLHMpO2Vsc2UgaWYocChlKSlmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKylqbihlW29dLHQsbixzKTtlbHNlIGlmKGYoZSl8fGgoZSkpZS5mb3JFYWNoKChlPT57am4oZSx0LG4scyl9KSk7ZWxzZSBpZihrKGUpKWZvcihjb25zdCBvIGluIGUpam4oZVtvXSx0LG4scyk7cmV0dXJuIGV9ZnVuY3Rpb24gSG4oZSx0LG4scyl7Y29uc3Qgbz1lLmRpcnMscj10JiZ0LmRpcnM7Zm9yKGxldCBpPTA7aTxvLmxlbmd0aDtpKyspe2NvbnN0IGw9b1tpXTtyJiYobC5vbGRWYWx1ZT1yW2ldLnZhbHVlKTtsZXQgYz1sLmRpcltzXTtjJiYoeWUoKSxIdChjLG4sOCxbZS5lbCxsLGUsdF0pLGJlKCkpfX1jb25zdCBxbj1TeW1ib2woIl9sZWF2ZUNiIiksV249U3ltYm9sKCJfZW50ZXJDYiIpO2Z1bmN0aW9uIEtuKCl7Y29uc3QgZT17aXNNb3VudGVkOiExLGlzTGVhdmluZzohMSxpc1VubW91bnRpbmc6ITEsbGVhdmluZ1ZOb2RlczpuZXcgTWFwfTtyZXR1cm4gdnMoKCgpPT57ZS5pc01vdW50ZWQ9ITB9KSksX3MoKCgpPT57ZS5pc1VubW91bnRpbmc9ITB9KSksZX1jb25zdCB6bj1bRnVuY3Rpb24sQXJyYXldLEduPXttb2RlOlN0cmluZyxhcHBlYXI6Qm9vbGVhbixwZXJzaXN0ZWQ6Qm9vbGVhbixvbkJlZm9yZUVudGVyOnpuLG9uRW50ZXI6em4sb25BZnRlckVudGVyOnpuLG9uRW50ZXJDYW5jZWxsZWQ6em4sb25CZWZvcmVMZWF2ZTp6bixvbkxlYXZlOnpuLG9uQWZ0ZXJMZWF2ZTp6bixvbkxlYXZlQ2FuY2VsbGVkOnpuLG9uQmVmb3JlQXBwZWFyOnpuLG9uQXBwZWFyOnpuLG9uQWZ0ZXJBcHBlYXI6em4sb25BcHBlYXJDYW5jZWxsZWQ6em59LEpuPXtuYW1lOiJCYXNlVHJhbnNpdGlvbiIscHJvcHM6R24sc2V0dXAoZSx7c2xvdHM6dH0pe2NvbnN0IG49dXIoKSxzPUtuKCk7bGV0IG87cmV0dXJuKCk9Pntjb25zdCByPXQuZGVmYXVsdCYmdHModC5kZWZhdWx0KCksITApO2lmKCFyfHwhci5sZW5ndGgpcmV0dXJuO2xldCBpPXJbMF07aWYoci5sZW5ndGg+MSlmb3IoY29uc3QgZSBvZiByKWlmKGUudHlwZSE9PVBvKXtpPWU7YnJlYWt9Y29uc3QgbD1DdChlKSx7bW9kZTpjfT1sO2lmKHMuaXNMZWF2aW5nKXJldHVybiBabihpKTtjb25zdCBhPVluKGkpO2lmKCFhKXJldHVybiBabihpKTtjb25zdCB1PVFuKGEsbCxzLG4pO2VzKGEsdSk7Y29uc3QgZD1uLnN1YlRyZWUscD1kJiZZbihkKTtsZXQgaD0hMTtjb25zdHtnZXRUcmFuc2l0aW9uS2V5OmZ9PWEudHlwZTtpZihmKXtjb25zdCBlPWYoKTt2b2lkIDA9PT1vP289ZTplIT09byYmKG89ZSxoPSEwKX1pZihwJiZwLnR5cGUhPT1QbyYmKCF6byhhLHApfHxoKSl7Y29uc3QgZT1RbihwLGwscyxuKTtpZihlcyhwLGUpLCJvdXQtaW4iPT09YylyZXR1cm4gcy5pc0xlYXZpbmc9ITAsZS5hZnRlckxlYXZlPSgpPT57cy5pc0xlYXZpbmc9ITEsITEhPT1uLnVwZGF0ZS5hY3RpdmUmJihuLmVmZmVjdC5kaXJ0eT0hMCxuLnVwZGF0ZSgpKX0sWm4oaSk7ImluLW91dCI9PT1jJiZhLnR5cGUhPT1QbyYmKGUuZGVsYXlMZWF2ZT0oZSx0LG4pPT57WG4ocyxwKVtTdHJpbmcocC5rZXkpXT1wLGVbcW5dPSgpPT57dCgpLGVbcW5dPXZvaWQgMCxkZWxldGUgdS5kZWxheWVkTGVhdmV9LHUuZGVsYXllZExlYXZlPW59KX1yZXR1cm4gaX19fTtmdW5jdGlvbiBYbihlLHQpe2NvbnN0e2xlYXZpbmdWTm9kZXM6bn09ZTtsZXQgcz1uLmdldCh0LnR5cGUpO3JldHVybiBzfHwocz1PYmplY3QuY3JlYXRlKG51bGwpLG4uc2V0KHQudHlwZSxzKSksc31mdW5jdGlvbiBRbihlLHQsbixzKXtjb25zdHthcHBlYXI6byxtb2RlOnIscGVyc2lzdGVkOmk9ITEsb25CZWZvcmVFbnRlcjpsLG9uRW50ZXI6YyxvbkFmdGVyRW50ZXI6YSxvbkVudGVyQ2FuY2VsbGVkOnUsb25CZWZvcmVMZWF2ZTpkLG9uTGVhdmU6aCxvbkFmdGVyTGVhdmU6ZixvbkxlYXZlQ2FuY2VsbGVkOm0sb25CZWZvcmVBcHBlYXI6ZyxvbkFwcGVhcjp2LG9uQWZ0ZXJBcHBlYXI6eSxvbkFwcGVhckNhbmNlbGxlZDpifT10LF89U3RyaW5nKGUua2V5KSxTPVhuKG4sZSkseD0oZSx0KT0+e2UmJkh0KGUscyw5LHQpfSxDPShlLHQpPT57Y29uc3Qgbj10WzFdO3goZSx0KSxwKGUpP2UuZXZlcnkoKGU9PmUubGVuZ3RoPD0xKSkmJm4oKTplLmxlbmd0aDw9MSYmbigpfSxrPXttb2RlOnIscGVyc2lzdGVkOmksYmVmb3JlRW50ZXIodCl7bGV0IHM9bDtpZighbi5pc01vdW50ZWQpe2lmKCFvKXJldHVybjtzPWd8fGx9dFtxbl0mJnRbcW5dKCEwKTtjb25zdCByPVNbX107ciYmem8oZSxyKSYmci5lbFtxbl0mJnIuZWxbcW5dKCkseChzLFt0XSl9LGVudGVyKGUpe2xldCB0PWMscz1hLHI9dTtpZighbi5pc01vdW50ZWQpe2lmKCFvKXJldHVybjt0PXZ8fGMscz15fHxhLHI9Ynx8dX1sZXQgaT0hMTtjb25zdCBsPWVbV25dPXQ9PntpfHwoaT0hMCx4KHQ/cjpzLFtlXSksay5kZWxheWVkTGVhdmUmJmsuZGVsYXllZExlYXZlKCksZVtXbl09dm9pZCAwKX07dD9DKHQsW2UsbF0pOmwoKX0sbGVhdmUodCxzKXtjb25zdCBvPVN0cmluZyhlLmtleSk7aWYodFtXbl0mJnRbV25dKCEwKSxuLmlzVW5tb3VudGluZylyZXR1cm4gcygpO3goZCxbdF0pO2xldCByPSExO2NvbnN0IGk9dFtxbl09bj0+e3J8fChyPSEwLHMoKSx4KG4/bTpmLFt0XSksdFtxbl09dm9pZCAwLFNbb109PT1lJiZkZWxldGUgU1tvXSl9O1Nbb109ZSxoP0MoaCxbdCxpXSk6aSgpfSxjbG9uZTplPT5RbihlLHQsbixzKX07cmV0dXJuIGt9ZnVuY3Rpb24gWm4oZSl7aWYocnMoZSkpcmV0dXJuKGU9ZXIoZSkpLmNoaWxkcmVuPW51bGwsZX1mdW5jdGlvbiBZbihlKXtyZXR1cm4gcnMoZSk/ZS5jaGlsZHJlbj9lLmNoaWxkcmVuWzBdOnZvaWQgMDplfWZ1bmN0aW9uIGVzKGUsdCl7NiZlLnNoYXBlRmxhZyYmZS5jb21wb25lbnQ/ZXMoZS5jb21wb25lbnQuc3ViVHJlZSx0KToxMjgmZS5zaGFwZUZsYWc/KGUuc3NDb250ZW50LnRyYW5zaXRpb249dC5jbG9uZShlLnNzQ29udGVudCksZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb249dC5jbG9uZShlLnNzRmFsbGJhY2spKTplLnRyYW5zaXRpb249dH1mdW5jdGlvbiB0cyhlLHQ9ITEsbil7bGV0IHM9W10sbz0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtsZXQgaT1lW3JdO2NvbnN0IGw9bnVsbD09bj9pLmtleTpTdHJpbmcobikrU3RyaW5nKG51bGwhPWkua2V5P2kua2V5OnIpO2kudHlwZT09PUxvPygxMjgmaS5wYXRjaEZsYWcmJm8rKyxzPXMuY29uY2F0KHRzKGkuY2hpbGRyZW4sdCxsKSkpOih0fHxpLnR5cGUhPT1QbykmJnMucHVzaChudWxsIT1sP2VyKGkse2tleTpsfSk6aSl9aWYobz4xKWZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKXNbcl0ucGF0Y2hGbGFnPS0yO3JldHVybiBzfQovKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9mdW5jdGlvbiBucyhlLHQpe3JldHVybiBnKGUpPygoKT0+Yyh7bmFtZTplLm5hbWV9LHQse3NldHVwOmV9KSkoKTplfWNvbnN0IHNzPWU9PiEhZS50eXBlLl9fYXN5bmNMb2FkZXIKLyohICNfX05PX1NJREVfRUZGRUNUU19fICovO2Z1bmN0aW9uIG9zKGUsdCl7Y29uc3R7cmVmOm4scHJvcHM6cyxjaGlsZHJlbjpvLGNlOnJ9PXQudm5vZGUsaT1abyhlLHMsbyk7cmV0dXJuIGkucmVmPW4saS5jZT1yLGRlbGV0ZSB0LnZub2RlLmNlLGl9Y29uc3QgcnM9ZT0+ZS50eXBlLl9faXNLZWVwQWxpdmUsaXM9e25hbWU6IktlZXBBbGl2ZSIsX19pc0tlZXBBbGl2ZTohMCxwcm9wczp7aW5jbHVkZTpbU3RyaW5nLFJlZ0V4cCxBcnJheV0sZXhjbHVkZTpbU3RyaW5nLFJlZ0V4cCxBcnJheV0sbWF4OltTdHJpbmcsTnVtYmVyXX0sc2V0dXAoZSx7c2xvdHM6dH0pe2NvbnN0IG49dXIoKSxzPW4uY3R4LG89bmV3IE1hcCxyPW5ldyBTZXQ7bGV0IGk9bnVsbDtjb25zdCBsPW4uc3VzcGVuc2Use3JlbmRlcmVyOntwOmMsbTphLHVtOnUsbzp7Y3JlYXRlRWxlbWVudDpkfX19PXMscD1kKCJkaXYiKTtmdW5jdGlvbiBoKGUpe3BzKGUpLHUoZSxuLGwsITApfWZ1bmN0aW9uIGYoZSl7by5mb3JFYWNoKCgodCxuKT0+e2NvbnN0IHM9a3IodC50eXBlKTshc3x8ZSYmZShzKXx8bShuKX0pKX1mdW5jdGlvbiBtKGUpe2NvbnN0IHQ9by5nZXQoZSk7aSYmem8odCxpKT9pJiZwcyhpKTpoKHQpLG8uZGVsZXRlKGUpLHIuZGVsZXRlKGUpfXMuYWN0aXZhdGU9KGUsdCxuLHMsbyk9Pntjb25zdCByPWUuY29tcG9uZW50O2EoZSx0LG4sMCxsKSxjKHIudm5vZGUsZSx0LG4scixsLHMsZS5zbG90U2NvcGVJZHMsbykseW8oKCgpPT57ci5pc0RlYWN0aXZhdGVkPSExLHIuYSYmUChyLmEpO2NvbnN0IHQ9ZS5wcm9wcyYmZS5wcm9wcy5vblZub2RlTW91bnRlZDt0JiZpcih0LHIucGFyZW50LGUpfSksbCl9LHMuZGVhY3RpdmF0ZT1lPT57Y29uc3QgdD1lLmNvbXBvbmVudDthKGUscCxudWxsLDEsbCkseW8oKCgpPT57dC5kYSYmUCh0LmRhKTtjb25zdCBuPWUucHJvcHMmJmUucHJvcHMub25Wbm9kZVVubW91bnRlZDtuJiZpcihuLHQucGFyZW50LGUpLHQuaXNEZWFjdGl2YXRlZD0hMH0pLGwpfSxCbigoKCk9PltlLmluY2x1ZGUsZS5leGNsdWRlXSksKChbZSx0XSk9PntlJiZmKCh0PT5scyhlLHQpKSksdCYmZigoZT0+IWxzKHQsZSkpKX0pLHtmbHVzaDoicG9zdCIsZGVlcDohMH0pO2xldCBnPW51bGw7Y29uc3Qgdj0oKT0+e251bGwhPWcmJm8uc2V0KGcsaHMobi5zdWJUcmVlKSl9O3JldHVybiB2cyh2KSxicyh2KSxfcygoKCk9PntvLmZvckVhY2goKGU9Pntjb25zdHtzdWJUcmVlOnQsc3VzcGVuc2U6c309bixvPWhzKHQpO2lmKGUudHlwZSE9PW8udHlwZXx8ZS5rZXkhPT1vLmtleSloKGUpO2Vsc2V7cHMobyk7Y29uc3QgZT1vLmNvbXBvbmVudC5kYTtlJiZ5byhlLHMpfX0pKX0pKSwoKT0+e2lmKGc9bnVsbCwhdC5kZWZhdWx0KXJldHVybiBudWxsO2NvbnN0IG49dC5kZWZhdWx0KCkscz1uWzBdO2lmKG4ubGVuZ3RoPjEpcmV0dXJuIGk9bnVsbCxuO2lmKCEoS28ocykmJig0JnMuc2hhcGVGbGFnfHwxMjgmcy5zaGFwZUZsYWcpKSlyZXR1cm4gaT1udWxsLHM7bGV0IGw9aHMocyk7Y29uc3QgYz1sLnR5cGUsYT1rcihzcyhsKT9sLnR5cGUuX19hc3luY1Jlc29sdmVkfHx7fTpjKSx7aW5jbHVkZTp1LGV4Y2x1ZGU6ZCxtYXg6cH09ZTtpZih1JiYoIWF8fCFscyh1LGEpKXx8ZCYmYSYmbHMoZCxhKSlyZXR1cm4gaT1sLHM7Y29uc3QgaD1udWxsPT1sLmtleT9jOmwua2V5LGY9by5nZXQoaCk7cmV0dXJuIGwuZWwmJihsPWVyKGwpLDEyOCZzLnNoYXBlRmxhZyYmKHMuc3NDb250ZW50PWwpKSxnPWgsZj8obC5lbD1mLmVsLGwuY29tcG9uZW50PWYuY29tcG9uZW50LGwudHJhbnNpdGlvbiYmZXMobCxsLnRyYW5zaXRpb24pLGwuc2hhcGVGbGFnfD01MTIsci5kZWxldGUoaCksci5hZGQoaCkpOihyLmFkZChoKSxwJiZyLnNpemU+cGFyc2VJbnQocCwxMCkmJm0oci52YWx1ZXMoKS5uZXh0KCkudmFsdWUpKSxsLnNoYXBlRmxhZ3w9MjU2LGk9bCx3bihzLnR5cGUpP3M6bH19fTtmdW5jdGlvbiBscyhlLHQpe3JldHVybiBwKGUpP2Uuc29tZSgoZT0+bHMoZSx0KSkpOnYoZSk/ZS5zcGxpdCgiLCIpLmluY2x1ZGVzKHQpOiJbb2JqZWN0IFJlZ0V4cF0iPT09eChlKSYmZS50ZXN0KHQpfWZ1bmN0aW9uIGNzKGUsdCl7dXMoZSwiYSIsdCl9ZnVuY3Rpb24gYXMoZSx0KXt1cyhlLCJkYSIsdCl9ZnVuY3Rpb24gdXMoZSx0LG49YXIpe2NvbnN0IHM9ZS5fX3dkY3x8KGUuX193ZGM9KCk9PntsZXQgdD1uO2Zvcig7dDspe2lmKHQuaXNEZWFjdGl2YXRlZClyZXR1cm47dD10LnBhcmVudH1yZXR1cm4gZSgpfSk7aWYoZnModCxzLG4pLG4pe2xldCBlPW4ucGFyZW50O2Zvcig7ZSYmZS5wYXJlbnQ7KXJzKGUucGFyZW50LnZub2RlKSYmZHMocyx0LG4sZSksZT1lLnBhcmVudH19ZnVuY3Rpb24gZHMoZSx0LG4scyl7Y29uc3Qgbz1mcyh0LGUscywhMCk7U3MoKCgpPT57YShzW3RdLG8pfSksbil9ZnVuY3Rpb24gcHMoZSl7ZS5zaGFwZUZsYWcmPS0yNTcsZS5zaGFwZUZsYWcmPS01MTN9ZnVuY3Rpb24gaHMoZSl7cmV0dXJuIDEyOCZlLnNoYXBlRmxhZz9lLnNzQ29udGVudDplfWZ1bmN0aW9uIGZzKGUsdCxuPWFyLHM9ITEpe2lmKG4pe2NvbnN0IG89bltlXXx8KG5bZV09W10pLHI9dC5fX3dlaHx8KHQuX193ZWg9KC4uLnMpPT57aWYobi5pc1VubW91bnRlZClyZXR1cm47eWUoKTtjb25zdCBvPWhyKG4pLHI9SHQodCxuLGUscyk7cmV0dXJuIG8oKSxiZSgpLHJ9KTtyZXR1cm4gcz9vLnVuc2hpZnQocik6by5wdXNoKHIpLHJ9fWNvbnN0IG1zPWU9Pih0LG49YXIpPT4oIXlyfHwic3AiPT09ZSkmJmZzKGUsKCguLi5lKT0+dCguLi5lKSksbiksZ3M9bXMoImJtIiksdnM9bXMoIm0iKSx5cz1tcygiYnUiKSxicz1tcygidSIpLF9zPW1zKCJidW0iKSxTcz1tcygidW0iKSx4cz1tcygic3AiKSxDcz1tcygicnRnIiksa3M9bXMoInJ0YyIpO2Z1bmN0aW9uIFRzKGUsdD1hcil7ZnMoImVjIixlLHQpfWZ1bmN0aW9uIHdzKGUpe3JldHVybiBlLnNvbWUoKGU9PiFLbyhlKXx8ZS50eXBlIT09UG8mJiEoZS50eXBlPT09TG8mJiF3cyhlLmNoaWxkcmVuKSkpKT9lOm51bGx9Y29uc3QgTnM9ZT0+ZT9tcihlKT9DcihlKXx8ZS5wcm94eTpOcyhlLnBhcmVudCk6bnVsbCxBcz1jKE9iamVjdC5jcmVhdGUobnVsbCkseyQ6ZT0+ZSwkZWw6ZT0+ZS52bm9kZS5lbCwkZGF0YTplPT5lLmRhdGEsJHByb3BzOmU9PmUucHJvcHMsJGF0dHJzOmU9PmUuYXR0cnMsJHNsb3RzOmU9PmUuc2xvdHMsJHJlZnM6ZT0+ZS5yZWZzLCRwYXJlbnQ6ZT0+TnMoZS5wYXJlbnQpLCRyb290OmU9Pk5zKGUucm9vdCksJGVtaXQ6ZT0+ZS5lbWl0LCRvcHRpb25zOmU9PkJzKGUpLCRmb3JjZVVwZGF0ZTplPT5lLmZ8fChlLmY9KCk9PntlLmVmZmVjdC5kaXJ0eT0hMCx0bihlLnVwZGF0ZSl9KSwkbmV4dFRpY2s6ZT0+ZS5ufHwoZS5uPWVuLmJpbmQoZS5wcm94eSkpLCR3YXRjaDplPT5Ebi5iaW5kKGUpfSksRXM9KGUsdCk9PmUhPT1uJiYhZS5fX2lzU2NyaXB0U2V0dXAmJmQoZSx0KSxJcz17Z2V0KHtfOmV9LHQpe2NvbnN0e2N0eDpzLHNldHVwU3RhdGU6byxkYXRhOnIscHJvcHM6aSxhY2Nlc3NDYWNoZTpsLHR5cGU6YyxhcHBDb250ZXh0OmF9PWU7bGV0IHU7aWYoIiQiIT09dFswXSl7Y29uc3QgYz1sW3RdO2lmKHZvaWQgMCE9PWMpc3dpdGNoKGMpe2Nhc2UgMTpyZXR1cm4gb1t0XTtjYXNlIDI6cmV0dXJuIHJbdF07Y2FzZSA0OnJldHVybiBzW3RdO2Nhc2UgMzpyZXR1cm4gaVt0XX1lbHNle2lmKEVzKG8sdCkpcmV0dXJuIGxbdF09MSxvW3RdO2lmKHIhPT1uJiZkKHIsdCkpcmV0dXJuIGxbdF09MixyW3RdO2lmKCh1PWUucHJvcHNPcHRpb25zWzBdKSYmZCh1LHQpKXJldHVybiBsW3RdPTMsaVt0XTtpZihzIT09biYmZChzLHQpKXJldHVybiBsW3RdPTQsc1t0XTtMcyYmKGxbdF09MCl9fWNvbnN0IHA9QXNbdF07bGV0IGgsZjtyZXR1cm4gcD8oIiRhdHRycyI9PT10JiZFZShlLDAsdCkscChlKSk6KGg9Yy5fX2Nzc01vZHVsZXMpJiYoaD1oW3RdKT9oOnMhPT1uJiZkKHMsdCk/KGxbdF09NCxzW3RdKTooZj1hLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLGQoZix0KT9mW3RdOnZvaWQgMCl9LHNldCh7XzplfSx0LHMpe2NvbnN0e2RhdGE6byxzZXR1cFN0YXRlOnIsY3R4Oml9PWU7cmV0dXJuIEVzKHIsdCk/KHJbdF09cywhMCk6byE9PW4mJmQobyx0KT8ob1t0XT1zLCEwKTohZChlLnByb3BzLHQpJiYoKCIkIiE9PXRbMF18fCEodC5zbGljZSgxKWluIGUpKSYmKGlbdF09cywhMCkpfSxoYXMoe186e2RhdGE6ZSxzZXR1cFN0YXRlOnQsYWNjZXNzQ2FjaGU6cyxjdHg6byxhcHBDb250ZXh0OnIscHJvcHNPcHRpb25zOml9fSxsKXtsZXQgYztyZXR1cm4hIXNbbF18fGUhPT1uJiZkKGUsbCl8fEVzKHQsbCl8fChjPWlbMF0pJiZkKGMsbCl8fGQobyxsKXx8ZChBcyxsKXx8ZChyLmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzLGwpfSxkZWZpbmVQcm9wZXJ0eShlLHQsbil7cmV0dXJuIG51bGwhPW4uZ2V0P2UuXy5hY2Nlc3NDYWNoZVt0XT0wOmQobiwidmFsdWUiKSYmdGhpcy5zZXQoZSx0LG4udmFsdWUsbnVsbCksUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbil9fSxScz1jKHt9LElzLHtnZXQoZSx0KXtpZih0IT09U3ltYm9sLnVuc2NvcGFibGVzKXJldHVybiBJcy5nZXQoZSx0LGUpfSxoYXM6KGUsdCk9PiJfIiE9PXRbMF0mJiFqKHQpfSk7ZnVuY3Rpb24gT3MoKXtjb25zdCBlPXVyKCk7cmV0dXJuIGUuc2V0dXBDb250ZXh0fHwoZS5zZXR1cENvbnRleHQ9eHIoZSkpfWZ1bmN0aW9uIEZzKGUpe3JldHVybiBwKGUpP2UucmVkdWNlKCgoZSx0KT0+KGVbdF09bnVsbCxlKSkse30pOmV9bGV0IExzPSEwO2Z1bmN0aW9uIE1zKGUpe2NvbnN0IHQ9QnMoZSksbj1lLnByb3h5LHM9ZS5jdHg7THM9ITEsdC5iZWZvcmVDcmVhdGUmJlBzKHQuYmVmb3JlQ3JlYXRlLGUsImJjIik7Y29uc3R7ZGF0YTpyLGNvbXB1dGVkOmksbWV0aG9kczpsLHdhdGNoOmMscHJvdmlkZTphLGluamVjdDp1LGNyZWF0ZWQ6ZCxiZWZvcmVNb3VudDpoLG1vdW50ZWQ6ZixiZWZvcmVVcGRhdGU6bSx1cGRhdGVkOnYsYWN0aXZhdGVkOnksZGVhY3RpdmF0ZWQ6XyxiZWZvcmVVbm1vdW50OlMsdW5tb3VudGVkOngscmVuZGVyOkMscmVuZGVyVHJhY2tlZDprLHJlbmRlclRyaWdnZXJlZDpULGVycm9yQ2FwdHVyZWQ6dyxzZXJ2ZXJQcmVmZXRjaDpOLGV4cG9zZTpBLGluaGVyaXRBdHRyczpFLGNvbXBvbmVudHM6SSxkaXJlY3RpdmVzOlJ9PXQ7aWYodSYmZnVuY3Rpb24oZSx0LG49byl7cChlKSYmKGU9anMoZSkpO2Zvcihjb25zdCBzIGluIGUpe2NvbnN0IG49ZVtzXTtsZXQgbztvPWIobik/ImRlZmF1bHQiaW4gbj9RcyhuLmZyb218fHMsbi5kZWZhdWx0LCEwKTpRcyhuLmZyb218fHMpOlFzKG4pLEl0KG8pP09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LHMse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDooKT0+by52YWx1ZSxzZXQ6ZT0+by52YWx1ZT1lfSk6dFtzXT1vfX0odSxzLG51bGwpLGwpZm9yKGNvbnN0IG8gaW4gbCl7Y29uc3QgZT1sW29dO2coZSkmJihzW29dPWUuYmluZChuKSl9aWYocil7Y29uc3QgdD1yLmNhbGwobixuKTtiKHQpJiYoZS5kYXRhPW10KHQpKX1pZihMcz0hMCxpKWZvcihjb25zdCBwIGluIGkpe2NvbnN0IGU9aVtwXSx0PWcoZSk/ZS5iaW5kKG4sbik6ZyhlLmdldCk/ZS5nZXQuYmluZChuLG4pOm8scj0hZyhlKSYmZyhlLnNldCk/ZS5zZXQuYmluZChuKTpvLGw9VHIoe2dldDp0LHNldDpyfSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHMscCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OigpPT5sLnZhbHVlLHNldDplPT5sLnZhbHVlPWV9KX1pZihjKWZvcihjb25zdCBvIGluIGMpJHMoY1tvXSxzLG4sbyk7aWYoYSl7Y29uc3QgZT1nKGEpP2EuY2FsbChuKTphO1JlZmxlY3Qub3duS2V5cyhlKS5mb3JFYWNoKCh0PT57WHModCxlW3RdKX0pKX1mdW5jdGlvbiBPKGUsdCl7cCh0KT90LmZvckVhY2goKHQ9PmUodC5iaW5kKG4pKSkpOnQmJmUodC5iaW5kKG4pKX1pZihkJiZQcyhkLGUsImMiKSxPKGdzLGgpLE8odnMsZiksTyh5cyxtKSxPKGJzLHYpLE8oY3MseSksTyhhcyxfKSxPKFRzLHcpLE8oa3MsayksTyhDcyxUKSxPKF9zLFMpLE8oU3MseCksTyh4cyxOKSxwKEEpKWlmKEEubGVuZ3RoKXtjb25zdCB0PWUuZXhwb3NlZHx8KGUuZXhwb3NlZD17fSk7QS5mb3JFYWNoKChlPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsZSx7Z2V0OigpPT5uW2VdLHNldDp0PT5uW2VdPXR9KX0pKX1lbHNlIGUuZXhwb3NlZHx8KGUuZXhwb3NlZD17fSk7QyYmZS5yZW5kZXI9PT1vJiYoZS5yZW5kZXI9QyksbnVsbCE9RSYmKGUuaW5oZXJpdEF0dHJzPUUpLEkmJihlLmNvbXBvbmVudHM9SSksUiYmKGUuZGlyZWN0aXZlcz1SKX1mdW5jdGlvbiBQcyhlLHQsbil7SHQocChlKT9lLm1hcCgoZT0+ZS5iaW5kKHQucHJveHkpKSk6ZS5iaW5kKHQucHJveHkpLHQsbil9ZnVuY3Rpb24gJHMoZSx0LG4scyl7Y29uc3Qgbz1zLmluY2x1ZGVzKCIuIik/VW4obixzKTooKT0+bltzXTtpZih2KGUpKXtjb25zdCBuPXRbZV07ZyhuKSYmQm4obyxuKX1lbHNlIGlmKGcoZSkpQm4obyxlLmJpbmQobikpO2Vsc2UgaWYoYihlKSlpZihwKGUpKWUuZm9yRWFjaCgoZT0+JHMoZSx0LG4scykpKTtlbHNle2NvbnN0IHM9ZyhlLmhhbmRsZXIpP2UuaGFuZGxlci5iaW5kKG4pOnRbZS5oYW5kbGVyXTtnKHMpJiZCbihvLHMsZSl9fWZ1bmN0aW9uIEJzKGUpe2NvbnN0IHQ9ZS50eXBlLHttaXhpbnM6bixleHRlbmRzOnN9PXQse21peGluczpvLG9wdGlvbnNDYWNoZTpyLGNvbmZpZzp7b3B0aW9uTWVyZ2VTdHJhdGVnaWVzOml9fT1lLmFwcENvbnRleHQsbD1yLmdldCh0KTtsZXQgYztyZXR1cm4gbD9jPWw6by5sZW5ndGh8fG58fHM/KGM9e30sby5sZW5ndGgmJm8uZm9yRWFjaCgoZT0+VnMoYyxlLGksITApKSksVnMoYyx0LGkpKTpjPXQsYih0KSYmci5zZXQodCxjKSxjfWZ1bmN0aW9uIFZzKGUsdCxuLHM9ITEpe2NvbnN0e21peGluczpvLGV4dGVuZHM6cn09dDtyJiZWcyhlLHIsbiwhMCksbyYmby5mb3JFYWNoKCh0PT5WcyhlLHQsbiwhMCkpKTtmb3IoY29uc3QgaSBpbiB0KWlmKHMmJiJleHBvc2UiPT09aSk7ZWxzZXtjb25zdCBzPURzW2ldfHxuJiZuW2ldO2VbaV09cz9zKGVbaV0sdFtpXSk6dFtpXX1yZXR1cm4gZX1jb25zdCBEcz17ZGF0YTpVcyxwcm9wczpXcyxlbWl0czpXcyxtZXRob2RzOnFzLGNvbXB1dGVkOnFzLGJlZm9yZUNyZWF0ZTpIcyxjcmVhdGVkOkhzLGJlZm9yZU1vdW50OkhzLG1vdW50ZWQ6SHMsYmVmb3JlVXBkYXRlOkhzLHVwZGF0ZWQ6SHMsYmVmb3JlRGVzdHJveTpIcyxiZWZvcmVVbm1vdW50OkhzLGRlc3Ryb3llZDpIcyx1bm1vdW50ZWQ6SHMsYWN0aXZhdGVkOkhzLGRlYWN0aXZhdGVkOkhzLGVycm9yQ2FwdHVyZWQ6SHMsc2VydmVyUHJlZmV0Y2g6SHMsY29tcG9uZW50czpxcyxkaXJlY3RpdmVzOnFzLHdhdGNoOmZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIGU7Y29uc3Qgbj1jKE9iamVjdC5jcmVhdGUobnVsbCksZSk7Zm9yKGNvbnN0IHMgaW4gdCluW3NdPUhzKGVbc10sdFtzXSk7cmV0dXJuIG59LHByb3ZpZGU6VXMsaW5qZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFzKGpzKGUpLGpzKHQpKX19O2Z1bmN0aW9uIFVzKGUsdCl7cmV0dXJuIHQ/ZT9mdW5jdGlvbigpe3JldHVybiBjKGcoZSk/ZS5jYWxsKHRoaXMsdGhpcyk6ZSxnKHQpP3QuY2FsbCh0aGlzLHRoaXMpOnQpfTp0OmV9ZnVuY3Rpb24ganMoZSl7aWYocChlKSl7Y29uc3QgdD17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl0W2Vbbl1dPWVbbl07cmV0dXJuIHR9cmV0dXJuIGV9ZnVuY3Rpb24gSHMoZSx0KXtyZXR1cm4gZT9bLi4ubmV3IFNldChbXS5jb25jYXQoZSx0KSldOnR9ZnVuY3Rpb24gcXMoZSx0KXtyZXR1cm4gZT9jKE9iamVjdC5jcmVhdGUobnVsbCksZSx0KTp0fWZ1bmN0aW9uIFdzKGUsdCl7cmV0dXJuIGU/cChlKSYmcCh0KT9bLi4ubmV3IFNldChbLi4uZSwuLi50XSldOmMoT2JqZWN0LmNyZWF0ZShudWxsKSxGcyhlKSxGcyhudWxsIT10P3Q6e30pKTp0fWZ1bmN0aW9uIEtzKCl7cmV0dXJue2FwcDpudWxsLGNvbmZpZzp7aXNOYXRpdmVUYWc6cixwZXJmb3JtYW5jZTohMSxnbG9iYWxQcm9wZXJ0aWVzOnt9LG9wdGlvbk1lcmdlU3RyYXRlZ2llczp7fSxlcnJvckhhbmRsZXI6dm9pZCAwLHdhcm5IYW5kbGVyOnZvaWQgMCxjb21waWxlck9wdGlvbnM6e319LG1peGluczpbXSxjb21wb25lbnRzOnt9LGRpcmVjdGl2ZXM6e30scHJvdmlkZXM6T2JqZWN0LmNyZWF0ZShudWxsKSxvcHRpb25zQ2FjaGU6bmV3IFdlYWtNYXAscHJvcHNDYWNoZTpuZXcgV2Vha01hcCxlbWl0c0NhY2hlOm5ldyBXZWFrTWFwfX1sZXQgenM9MDtmdW5jdGlvbiBHcyhlLHQpe3JldHVybiBmdW5jdGlvbihuLHM9bnVsbCl7ZyhuKXx8KG49Yyh7fSxuKSksbnVsbD09c3x8YihzKXx8KHM9bnVsbCk7Y29uc3Qgbz1LcygpLHI9bmV3IFdlYWtTZXQ7bGV0IGk9ITE7Y29uc3QgbD1vLmFwcD17X3VpZDp6cysrLF9jb21wb25lbnQ6bixfcHJvcHM6cyxfY29udGFpbmVyOm51bGwsX2NvbnRleHQ6byxfaW5zdGFuY2U6bnVsbCx2ZXJzaW9uOkFyLGdldCBjb25maWcoKXtyZXR1cm4gby5jb25maWd9LHNldCBjb25maWcoZSl7fSx1c2U6KGUsLi4udCk9PihyLmhhcyhlKXx8KGUmJmcoZS5pbnN0YWxsKT8oci5hZGQoZSksZS5pbnN0YWxsKGwsLi4udCkpOmcoZSkmJihyLmFkZChlKSxlKGwsLi4udCkpKSxsKSxtaXhpbjplPT4oby5taXhpbnMuaW5jbHVkZXMoZSl8fG8ubWl4aW5zLnB1c2goZSksbCksY29tcG9uZW50OihlLHQpPT50PyhvLmNvbXBvbmVudHNbZV09dCxsKTpvLmNvbXBvbmVudHNbZV0sZGlyZWN0aXZlOihlLHQpPT50PyhvLmRpcmVjdGl2ZXNbZV09dCxsKTpvLmRpcmVjdGl2ZXNbZV0sbW91bnQocixjLGEpe2lmKCFpKXtjb25zdCB1PVpvKG4scyk7cmV0dXJuIHUuYXBwQ29udGV4dD1vLCEwPT09YT9hPSJzdmciOiExPT09YSYmKGE9dm9pZCAwKSxjJiZ0P3QodSxyKTplKHUscixhKSxpPSEwLGwuX2NvbnRhaW5lcj1yLHIuX192dWVfYXBwX189bCxDcih1LmNvbXBvbmVudCl8fHUuY29tcG9uZW50LnByb3h5fX0sdW5tb3VudCgpe2kmJihlKG51bGwsbC5fY29udGFpbmVyKSxkZWxldGUgbC5fY29udGFpbmVyLl9fdnVlX2FwcF9fKX0scHJvdmlkZTooZSx0KT0+KG8ucHJvdmlkZXNbZV09dCxsKSxydW5XaXRoQ29udGV4dChlKXtKcz1sO3RyeXtyZXR1cm4gZSgpfWZpbmFsbHl7SnM9bnVsbH19fTtyZXR1cm4gbH19bGV0IEpzPW51bGw7ZnVuY3Rpb24gWHMoZSx0KXtpZihhcil7bGV0IG49YXIucHJvdmlkZXM7Y29uc3Qgcz1hci5wYXJlbnQmJmFyLnBhcmVudC5wcm92aWRlcztzPT09biYmKG49YXIucHJvdmlkZXM9T2JqZWN0LmNyZWF0ZShzKSksbltlXT10fWVsc2U7fWZ1bmN0aW9uIFFzKGUsdCxuPSExKXtjb25zdCBzPWFyfHxobjtpZihzfHxKcyl7Y29uc3Qgbz1zP251bGw9PXMucGFyZW50P3Mudm5vZGUuYXBwQ29udGV4dCYmcy52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzOnMucGFyZW50LnByb3ZpZGVzOkpzLl9jb250ZXh0LnByb3ZpZGVzO2lmKG8mJmUgaW4gbylyZXR1cm4gb1tlXTtpZihhcmd1bWVudHMubGVuZ3RoPjEpcmV0dXJuIG4mJmcodCk/dC5jYWxsKHMmJnMucHJveHkpOnR9fWZ1bmN0aW9uIFpzKGUsdCxzLG8pe2NvbnN0W3IsaV09ZS5wcm9wc09wdGlvbnM7bGV0IGwsYz0hMTtpZih0KWZvcihsZXQgbiBpbiB0KXtpZih3KG4pKWNvbnRpbnVlO2NvbnN0IGE9dFtuXTtsZXQgdTtyJiZkKHIsdT1JKG4pKT9pJiZpLmluY2x1ZGVzKHUpPyhsfHwobD17fSkpW3VdPWE6c1t1XT1hOnBuKGUuZW1pdHNPcHRpb25zLG4pfHxuIGluIG8mJmE9PT1vW25dfHwob1tuXT1hLGM9ITApfWlmKGkpe2NvbnN0IHQ9Q3Qocyksbz1sfHxuO2ZvcihsZXQgbj0wO248aS5sZW5ndGg7bisrKXtjb25zdCBsPWlbbl07c1tsXT1ZcyhyLHQsbCxvW2xdLGUsIWQobyxsKSl9fXJldHVybiBjfWZ1bmN0aW9uIFlzKGUsdCxuLHMsbyxyKXtjb25zdCBpPWVbbl07aWYobnVsbCE9aSl7Y29uc3QgZT1kKGksImRlZmF1bHQiKTtpZihlJiZ2b2lkIDA9PT1zKXtjb25zdCBlPWkuZGVmYXVsdDtpZihpLnR5cGUhPT1GdW5jdGlvbiYmIWkuc2tpcEZhY3RvcnkmJmcoZSkpe2NvbnN0e3Byb3BzRGVmYXVsdHM6cn09bztpZihuIGluIHIpcz1yW25dO2Vsc2V7Y29uc3QgaT1ocihvKTtzPXJbbl09ZS5jYWxsKG51bGwsdCksaSgpfX1lbHNlIHM9ZX1pWzBdJiYociYmIWU/cz0hMTohaVsxXXx8IiIhPT1zJiZzIT09TyhuKXx8KHM9ITApKX1yZXR1cm4gc31mdW5jdGlvbiBlbyhlLHQsbz0hMSl7Y29uc3Qgcj10LnByb3BzQ2FjaGUsaT1yLmdldChlKTtpZihpKXJldHVybiBpO2NvbnN0IGw9ZS5wcm9wcyxhPXt9LHU9W107bGV0IGg9ITE7aWYoIWcoZSkpe2NvbnN0IG49ZT0+e2g9ITA7Y29uc3RbbixzXT1lbyhlLHQsITApO2MoYSxuKSxzJiZ1LnB1c2goLi4ucyl9OyFvJiZ0Lm1peGlucy5sZW5ndGgmJnQubWl4aW5zLmZvckVhY2gobiksZS5leHRlbmRzJiZuKGUuZXh0ZW5kcyksZS5taXhpbnMmJmUubWl4aW5zLmZvckVhY2gobil9aWYoIWwmJiFoKXJldHVybiBiKGUpJiZyLnNldChlLHMpLHM7aWYocChsKSlmb3IobGV0IHM9MDtzPGwubGVuZ3RoO3MrKyl7Y29uc3QgZT1JKGxbc10pO3RvKGUpJiYoYVtlXT1uKX1lbHNlIGlmKGwpZm9yKGNvbnN0IG4gaW4gbCl7Y29uc3QgZT1JKG4pO2lmKHRvKGUpKXtjb25zdCB0PWxbbl0scz1hW2VdPXAodCl8fGcodCk/e3R5cGU6dH06Yyh7fSx0KTtpZihzKXtjb25zdCB0PW9vKEJvb2xlYW4scy50eXBlKSxuPW9vKFN0cmluZyxzLnR5cGUpO3NbMF09dD4tMSxzWzFdPW48MHx8dDxuLCh0Pi0xfHxkKHMsImRlZmF1bHQiKSkmJnUucHVzaChlKX19fWNvbnN0IGY9W2EsdV07cmV0dXJuIGIoZSkmJnIuc2V0KGUsZiksZn1mdW5jdGlvbiB0byhlKXtyZXR1cm4iJCIhPT1lWzBdfWZ1bmN0aW9uIG5vKGUpe2NvbnN0IHQ9ZSYmZS50b1N0cmluZygpLm1hdGNoKC9eXHMqKGZ1bmN0aW9ufGNsYXNzKSAoXHcrKS8pO3JldHVybiB0P3RbMl06bnVsbD09PWU/Im51bGwiOiIifWZ1bmN0aW9uIHNvKGUsdCl7cmV0dXJuIG5vKGUpPT09bm8odCl9ZnVuY3Rpb24gb28oZSx0KXtyZXR1cm4gcCh0KT90LmZpbmRJbmRleCgodD0+c28odCxlKSkpOmcodCkmJnNvKHQsZSk/MDotMX1jb25zdCBybz1lPT4iXyI9PT1lWzBdfHwiJHN0YWJsZSI9PT1lLGlvPWU9PnAoZSk/ZS5tYXAobnIpOltucihlKV0sbG89KGUsdCxuKT0+e2lmKHQuX24pcmV0dXJuIHQ7Y29uc3Qgcz1nbigoKC4uLmUpPT5pbyh0KC4uLmUpKSksbik7cmV0dXJuIHMuX2M9ITEsc30sY289KGUsdCxuKT0+e2NvbnN0IHM9ZS5fY3R4O2Zvcihjb25zdCBvIGluIGUpe2lmKHJvKG8pKWNvbnRpbnVlO2NvbnN0IG49ZVtvXTtpZihnKG4pKXRbb109bG8oMCxuLHMpO2Vsc2UgaWYobnVsbCE9bil7Y29uc3QgZT1pbyhuKTt0W29dPSgpPT5lfX19LGFvPShlLHQpPT57Y29uc3Qgbj1pbyh0KTtlLnNsb3RzLmRlZmF1bHQ9KCk9Pm59LHVvPShlLHQpPT57aWYoMzImZS52bm9kZS5zaGFwZUZsYWcpe2NvbnN0IG49dC5fO24/KGUuc2xvdHM9Q3QodCksJCh0LCJfIixuKSk6Y28odCxlLnNsb3RzPXt9KX1lbHNlIGUuc2xvdHM9e30sdCYmYW8oZSx0KTskKGUuc2xvdHMsR28sMSl9LHBvPShlLHQscyk9Pntjb25zdHt2bm9kZTpvLHNsb3RzOnJ9PWU7bGV0IGk9ITAsbD1uO2lmKDMyJm8uc2hhcGVGbGFnKXtjb25zdCBlPXQuXztlP3MmJjE9PT1lP2k9ITE6KGMocix0KSxzfHwxIT09ZXx8ZGVsZXRlIHIuXyk6KGk9IXQuJHN0YWJsZSxjbyh0LHIpKSxsPXR9ZWxzZSB0JiYoYW8oZSx0KSxsPXtkZWZhdWx0OjF9KTtpZihpKWZvcihjb25zdCBuIGluIHIpcm8obil8fG51bGwhPWxbbl18fGRlbGV0ZSByW25dfTtmdW5jdGlvbiBobyhlLHQscyxvLHI9ITEpe2lmKHAoZSkpcmV0dXJuIHZvaWQgZS5mb3JFYWNoKCgoZSxuKT0+aG8oZSx0JiYocCh0KT90W25dOnQpLHMsbyxyKSkpO2lmKHNzKG8pJiYhcilyZXR1cm47Y29uc3QgaT00Jm8uc2hhcGVGbGFnP0NyKG8uY29tcG9uZW50KXx8by5jb21wb25lbnQucHJveHk6by5lbCxsPXI/bnVsbDppLHtpOmMscjp1fT1lLGg9dCYmdC5yLGY9Yy5yZWZzPT09bj9jLnJlZnM9e306Yy5yZWZzLG09Yy5zZXR1cFN0YXRlO2lmKG51bGwhPWgmJmghPT11JiYodihoKT8oZltoXT1udWxsLGQobSxoKSYmKG1baF09bnVsbCkpOkl0KGgpJiYoaC52YWx1ZT1udWxsKSksZyh1KSlqdCh1LGMsMTIsW2wsZl0pO2Vsc2V7Y29uc3QgdD12KHUpLG49SXQodSk7aWYodHx8bil7Y29uc3Qgbz0oKT0+e2lmKGUuZil7Y29uc3Qgbj10P2QobSx1KT9tW3VdOmZbdV06dS52YWx1ZTtyP3AobikmJmEobixpKTpwKG4pP24uaW5jbHVkZXMoaSl8fG4ucHVzaChpKTp0PyhmW3VdPVtpXSxkKG0sdSkmJihtW3VdPWZbdV0pKToodS52YWx1ZT1baV0sZS5rJiYoZltlLmtdPXUudmFsdWUpKX1lbHNlIHQ/KGZbdV09bCxkKG0sdSkmJihtW3VdPWwpKTpuJiYodS52YWx1ZT1sLGUuayYmKGZbZS5rXT1sKSl9O2w/KG8uaWQ9LTEseW8obyxzKSk6bygpfX19bGV0IGZvPSExO2NvbnN0IG1vPWU9PihlPT5lLm5hbWVzcGFjZVVSSS5pbmNsdWRlcygic3ZnIikmJiJmb3JlaWduT2JqZWN0IiE9PWUudGFnTmFtZSkoZSk/InN2ZyI6KGU9PmUubmFtZXNwYWNlVVJJLmluY2x1ZGVzKCJNYXRoTUwiKSkoZSk/Im1hdGhtbCI6dm9pZCAwLGdvPWU9Pjg9PT1lLm5vZGVUeXBlO2Z1bmN0aW9uIHZvKGUpe2NvbnN0e210OnQscDpuLG86e3BhdGNoUHJvcDpzLGNyZWF0ZVRleHQ6byxuZXh0U2libGluZzpyLHBhcmVudE5vZGU6bCxyZW1vdmU6YyxpbnNlcnQ6YSxjcmVhdGVDb21tZW50OnV9fT1lLGQ9KG4scyxpLGMsdSxiPSExKT0+e2NvbnN0IF89Z28obikmJiJbIj09PW4uZGF0YSxTPSgpPT5tKG4scyxpLGMsdSxfKSx7dHlwZTp4LHJlZjpDLHNoYXBlRmxhZzprLHBhdGNoRmxhZzpUfT1zO2xldCB3PW4ubm9kZVR5cGU7cy5lbD1uLC0yPT09VCYmKGI9ITEscy5keW5hbWljQ2hpbGRyZW49bnVsbCk7bGV0IE49bnVsbDtzd2l0Y2goeCl7Y2FzZSBNbzozIT09dz8iIj09PXMuY2hpbGRyZW4/KGEocy5lbD1vKCIiKSxsKG4pLG4pLE49bik6Tj1TKCk6KG4uZGF0YSE9PXMuY2hpbGRyZW4mJihmbz0hMCxuLmRhdGE9cy5jaGlsZHJlbiksTj1yKG4pKTticmVhaztjYXNlIFBvOnkobik/KE49cihuKSx2KHMuZWw9bi5jb250ZW50LmZpcnN0Q2hpbGQsbixpKSk6Tj04IT09d3x8Xz9TKCk6cihuKTticmVhaztjYXNlICRvOmlmKF8mJih3PShuPXIobikpLm5vZGVUeXBlKSwxPT09d3x8Mz09PXcpe049bjtjb25zdCBlPSFzLmNoaWxkcmVuLmxlbmd0aDtmb3IobGV0IHQ9MDt0PHMuc3RhdGljQ291bnQ7dCsrKWUmJihzLmNoaWxkcmVuKz0xPT09Ti5ub2RlVHlwZT9OLm91dGVySFRNTDpOLmRhdGEpLHQ9PT1zLnN0YXRpY0NvdW50LTEmJihzLmFuY2hvcj1OKSxOPXIoTik7cmV0dXJuIF8/cihOKTpOfVMoKTticmVhaztjYXNlIExvOk49Xz9mKG4scyxpLGMsdSxiKTpTKCk7YnJlYWs7ZGVmYXVsdDppZigxJmspTj0xPT09dyYmcy50eXBlLnRvTG93ZXJDYXNlKCk9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8eShuKT9wKG4scyxpLGMsdSxiKTpTKCk7ZWxzZSBpZig2Jmspe3Muc2xvdFNjb3BlSWRzPXU7Y29uc3QgZT1sKG4pO2lmKE49Xz9nKG4pOmdvKG4pJiYidGVsZXBvcnQgc3RhcnQiPT09bi5kYXRhP2cobixuLmRhdGEsInRlbGVwb3J0IGVuZCIpOnIobiksdChzLGUsbnVsbCxpLGMsbW8oZSksYiksc3Mocykpe2xldCB0O18/KHQ9Wm8oTG8pLHQuYW5jaG9yPU4/Ti5wcmV2aW91c1NpYmxpbmc6ZS5sYXN0Q2hpbGQpOnQ9Mz09PW4ubm9kZVR5cGU/dHIoIiIpOlpvKCJkaXYiKSx0LmVsPW4scy5jb21wb25lbnQuc3ViVHJlZT10fX1lbHNlIDY0Jms/Tj04IT09dz9TKCk6cy50eXBlLmh5ZHJhdGUobixzLGksYyx1LGIsZSxoKToxMjgmayYmKE49cy50eXBlLmh5ZHJhdGUobixzLGksYyxtbyhsKG4pKSx1LGIsZSxkKSl9cmV0dXJuIG51bGwhPUMmJmhvKEMsbnVsbCxjLHMpLE59LHA9KGUsdCxuLG8scixsKT0+e2w9bHx8ISF0LmR5bmFtaWNDaGlsZHJlbjtjb25zdHt0eXBlOmEscHJvcHM6dSxwYXRjaEZsYWc6ZCxzaGFwZUZsYWc6cCxkaXJzOmYsdHJhbnNpdGlvbjptfT10LGc9ImlucHV0Ij09PWF8fCJvcHRpb24iPT09YTtpZihnfHwtMSE9PWQpe2YmJkhuKHQsbnVsbCxuLCJjcmVhdGVkIik7bGV0IGEsYj0hMTtpZih5KGUpKXtiPWtvKG8sbSkmJm4mJm4udm5vZGUucHJvcHMmJm4udm5vZGUucHJvcHMuYXBwZWFyO2NvbnN0IHM9ZS5jb250ZW50LmZpcnN0Q2hpbGQ7YiYmbS5iZWZvcmVFbnRlcihzKSx2KHMsZSxuKSx0LmVsPWU9c31pZigxNiZwJiYoIXV8fCF1LmlubmVySFRNTCYmIXUudGV4dENvbnRlbnQpKXtsZXQgcz1oKGUuZmlyc3RDaGlsZCx0LGUsbixvLHIsbCk7Zm9yKDtzOyl7Zm89ITA7Y29uc3QgZT1zO3M9cy5uZXh0U2libGluZyxjKGUpfX1lbHNlIDgmcCYmZS50ZXh0Q29udGVudCE9PXQuY2hpbGRyZW4mJihmbz0hMCxlLnRleHRDb250ZW50PXQuY2hpbGRyZW4pO2lmKHUpaWYoZ3x8IWx8fDQ4JmQpZm9yKGNvbnN0IHQgaW4gdSkoZyYmKHQuZW5kc1dpdGgoInZhbHVlIil8fCJpbmRldGVybWluYXRlIj09PXQpfHxpKHQpJiYhdyh0KXx8Ii4iPT09dFswXSkmJnMoZSx0LG51bGwsdVt0XSx2b2lkIDAsdm9pZCAwLG4pO2Vsc2UgdS5vbkNsaWNrJiZzKGUsIm9uQ2xpY2siLG51bGwsdS5vbkNsaWNrLHZvaWQgMCx2b2lkIDAsbik7KGE9dSYmdS5vblZub2RlQmVmb3JlTW91bnQpJiZpcihhLG4sdCksZiYmSG4odCxudWxsLG4sImJlZm9yZU1vdW50IiksKChhPXUmJnUub25Wbm9kZU1vdW50ZWQpfHxmfHxiKSYmT24oKCgpPT57YSYmaXIoYSxuLHQpLGImJm0uZW50ZXIoZSksZiYmSG4odCxudWxsLG4sIm1vdW50ZWQiKX0pLG8pfXJldHVybiBlLm5leHRTaWJsaW5nfSxoPShlLHQscyxvLHIsaSxsKT0+e2w9bHx8ISF0LmR5bmFtaWNDaGlsZHJlbjtjb25zdCBjPXQuY2hpbGRyZW4sYT1jLmxlbmd0aDtmb3IobGV0IHU9MDt1PGE7dSsrKXtjb25zdCB0PWw/Y1t1XTpjW3VdPW5yKGNbdV0pO2lmKGUpZT1kKGUsdCxvLHIsaSxsKTtlbHNle2lmKHQudHlwZT09PU1vJiYhdC5jaGlsZHJlbiljb250aW51ZTtmbz0hMCxuKG51bGwsdCxzLG51bGwsbyxyLG1vKHMpLGkpfX1yZXR1cm4gZX0sZj0oZSx0LG4scyxvLGkpPT57Y29uc3R7c2xvdFNjb3BlSWRzOmN9PXQ7YyYmKG89bz9vLmNvbmNhdChjKTpjKTtjb25zdCBkPWwoZSkscD1oKHIoZSksdCxkLG4scyxvLGkpO3JldHVybiBwJiZnbyhwKSYmIl0iPT09cC5kYXRhP3IodC5hbmNob3I9cCk6KGZvPSEwLGEodC5hbmNob3I9dSgiXSIpLGQscCkscCl9LG09KGUsdCxzLG8saSxhKT0+e2lmKGZvPSEwLHQuZWw9bnVsbCxhKXtjb25zdCB0PWcoZSk7Zm9yKDs7KXtjb25zdCBuPXIoZSk7aWYoIW58fG49PT10KWJyZWFrO2Mobil9fWNvbnN0IHU9cihlKSxkPWwoZSk7cmV0dXJuIGMoZSksbihudWxsLHQsZCx1LHMsbyxtbyhkKSxpKSx1fSxnPShlLHQ9IlsiLG49Il0iKT0+e2xldCBzPTA7Zm9yKDtlOylpZigoZT1yKGUpKSYmZ28oZSkmJihlLmRhdGE9PT10JiZzKyssZS5kYXRhPT09bikpe2lmKDA9PT1zKXJldHVybiByKGUpO3MtLX1yZXR1cm4gZX0sdj0oZSx0LG4pPT57Y29uc3Qgcz10LnBhcmVudE5vZGU7cyYmcy5yZXBsYWNlQ2hpbGQoZSx0KTtsZXQgbz1uO2Zvcig7bzspby52bm9kZS5lbD09PXQmJihvLnZub2RlLmVsPW8uc3ViVHJlZS5lbD1lKSxvPW8ucGFyZW50fSx5PWU9PjE9PT1lLm5vZGVUeXBlJiYidGVtcGxhdGUiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuWyhlLHQpPT57aWYoIXQuaGFzQ2hpbGROb2RlcygpKXJldHVybiBuKG51bGwsZSx0KSxybigpLHZvaWQodC5fdm5vZGU9ZSk7Zm89ITEsZCh0LmZpcnN0Q2hpbGQsZSxudWxsLG51bGwsbnVsbCkscm4oKSx0Ll92bm9kZT1lLGZvJiZjb25zb2xlLmVycm9yKCJIeWRyYXRpb24gY29tcGxldGVkIGJ1dCBjb250YWlucyBtaXNtYXRjaGVzLiIpfSxkXX1jb25zdCB5bz1PbjtmdW5jdGlvbiBibyhlKXtyZXR1cm4gU28oZSl9ZnVuY3Rpb24gX28oZSl7cmV0dXJuIFNvKGUsdm8pfWZ1bmN0aW9uIFNvKGUsdCl7VSgpLl9fVlVFX189ITA7Y29uc3R7aW5zZXJ0OnIscmVtb3ZlOmkscGF0Y2hQcm9wOmwsY3JlYXRlRWxlbWVudDpjLGNyZWF0ZVRleHQ6YSxjcmVhdGVDb21tZW50OnUsc2V0VGV4dDpwLHNldEVsZW1lbnRUZXh0OmgscGFyZW50Tm9kZTpmLG5leHRTaWJsaW5nOm0sc2V0U2NvcGVJZDpnPW8saW5zZXJ0U3RhdGljQ29udGVudDp2fT1lLHk9KGUsdCxuLHM9bnVsbCxvPW51bGwscj1udWxsLGk9dm9pZCAwLGw9bnVsbCxjPSEhdC5keW5hbWljQ2hpbGRyZW4pPT57aWYoZT09PXQpcmV0dXJuO2UmJiF6byhlLHQpJiYocz1RKGUpLEsoZSxvLHIsITApLGU9bnVsbCksLTI9PT10LnBhdGNoRmxhZyYmKGM9ITEsdC5keW5hbWljQ2hpbGRyZW49bnVsbCk7Y29uc3R7dHlwZTphLHJlZjp1LHNoYXBlRmxhZzpkfT10O3N3aXRjaChhKXtjYXNlIE1vOmIoZSx0LG4scyk7YnJlYWs7Y2FzZSBQbzpTKGUsdCxuLHMpO2JyZWFrO2Nhc2UgJG86bnVsbD09ZSYmeCh0LG4scyxpKTticmVhaztjYXNlIExvOkYoZSx0LG4scyxvLHIsaSxsLGMpO2JyZWFrO2RlZmF1bHQ6MSZkP0MoZSx0LG4scyxvLHIsaSxsLGMpOjYmZD9MKGUsdCxuLHMsbyxyLGksbCxjKTooNjQmZHx8MTI4JmQpJiZhLnByb2Nlc3MoZSx0LG4scyxvLHIsaSxsLGMsZWUpfW51bGwhPXUmJm8mJmhvKHUsZSYmZS5yZWYscix0fHxlLCF0KX0sYj0oZSx0LG4scyk9PntpZihudWxsPT1lKXIodC5lbD1hKHQuY2hpbGRyZW4pLG4scyk7ZWxzZXtjb25zdCBuPXQuZWw9ZS5lbDt0LmNoaWxkcmVuIT09ZS5jaGlsZHJlbiYmcChuLHQuY2hpbGRyZW4pfX0sUz0oZSx0LG4scyk9PntudWxsPT1lP3IodC5lbD11KHQuY2hpbGRyZW58fCIiKSxuLHMpOnQuZWw9ZS5lbH0seD0oZSx0LG4scyk9PntbZS5lbCxlLmFuY2hvcl09dihlLmNoaWxkcmVuLHQsbixzLGUuZWwsZS5hbmNob3IpfSxDPShlLHQsbixzLG8scixpLGwsYyk9Pnsic3ZnIj09PXQudHlwZT9pPSJzdmciOiJtYXRoIj09PXQudHlwZSYmKGk9Im1hdGhtbCIpLG51bGw9PWU/ayh0LG4scyxvLHIsaSxsLGMpOkEoZSx0LG8scixpLGwsYyl9LGs9KGUsdCxuLHMsbyxpLGEsdSk9PntsZXQgZCxwO2NvbnN0e3Byb3BzOmYsc2hhcGVGbGFnOm0sdHJhbnNpdGlvbjpnLGRpcnM6dn09ZTtpZihkPWUuZWw9YyhlLnR5cGUsaSxmJiZmLmlzLGYpLDgmbT9oKGQsZS5jaGlsZHJlbik6MTYmbSYmTihlLmNoaWxkcmVuLGQsbnVsbCxzLG8seG8oZSxpKSxhLHUpLHYmJkhuKGUsbnVsbCxzLCJjcmVhdGVkIiksVChkLGUsZS5zY29wZUlkLGEscyksZil7Zm9yKGNvbnN0IHQgaW4gZikidmFsdWUiPT09dHx8dyh0KXx8bChkLHQsbnVsbCxmW3RdLGksZS5jaGlsZHJlbixzLG8sWCk7InZhbHVlImluIGYmJmwoZCwidmFsdWUiLG51bGwsZi52YWx1ZSxpKSwocD1mLm9uVm5vZGVCZWZvcmVNb3VudCkmJmlyKHAscyxlKX12JiZIbihlLG51bGwscywiYmVmb3JlTW91bnQiKTtjb25zdCB5PWtvKG8sZyk7eSYmZy5iZWZvcmVFbnRlcihkKSxyKGQsdCxuKSwoKHA9ZiYmZi5vblZub2RlTW91bnRlZCl8fHl8fHYpJiZ5bygoKCk9PntwJiZpcihwLHMsZSkseSYmZy5lbnRlcihkKSx2JiZIbihlLG51bGwscywibW91bnRlZCIpfSksbyl9LFQ9KGUsdCxuLHMsbyk9PntpZihuJiZnKGUsbikscylmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKylnKGUsc1tyXSk7aWYobyl7aWYodD09PW8uc3ViVHJlZSl7Y29uc3QgdD1vLnZub2RlO1QoZSx0LHQuc2NvcGVJZCx0LnNsb3RTY29wZUlkcyxvLnBhcmVudCl9fX0sTj0oZSx0LG4scyxvLHIsaSxsLGM9MCk9Pntmb3IobGV0IGE9YzthPGUubGVuZ3RoO2ErKyl7Y29uc3QgYz1lW2FdPWw/c3IoZVthXSk6bnIoZVthXSk7eShudWxsLGMsdCxuLHMsbyxyLGksbCl9fSxBPShlLHQscyxvLHIsaSxjKT0+e2NvbnN0IGE9dC5lbD1lLmVsO2xldHtwYXRjaEZsYWc6dSxkeW5hbWljQ2hpbGRyZW46ZCxkaXJzOnB9PXQ7dXw9MTYmZS5wYXRjaEZsYWc7Y29uc3QgZj1lLnByb3BzfHxuLG09dC5wcm9wc3x8bjtsZXQgZztpZihzJiZDbyhzLCExKSwoZz1tLm9uVm5vZGVCZWZvcmVVcGRhdGUpJiZpcihnLHMsdCxlKSxwJiZIbih0LGUscywiYmVmb3JlVXBkYXRlIikscyYmQ28ocywhMCksZD9FKGUuZHluYW1pY0NoaWxkcmVuLGQsYSxzLG8seG8odCxyKSxpKTpjfHxqKGUsdCxhLG51bGwscyxvLHhvKHQsciksaSwhMSksdT4wKXtpZigxNiZ1KVIoYSx0LGYsbSxzLG8scik7ZWxzZSBpZigyJnUmJmYuY2xhc3MhPT1tLmNsYXNzJiZsKGEsImNsYXNzIixudWxsLG0uY2xhc3MsciksNCZ1JiZsKGEsInN0eWxlIixmLnN0eWxlLG0uc3R5bGUsciksOCZ1KXtjb25zdCBuPXQuZHluYW1pY1Byb3BzO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBpPW5bdF0sYz1mW2ldLHU9bVtpXTt1PT09YyYmInZhbHVlIiE9PWl8fGwoYSxpLGMsdSxyLGUuY2hpbGRyZW4scyxvLFgpfX0xJnUmJmUuY2hpbGRyZW4hPT10LmNoaWxkcmVuJiZoKGEsdC5jaGlsZHJlbil9ZWxzZSBjfHxudWxsIT1kfHxSKGEsdCxmLG0scyxvLHIpOygoZz1tLm9uVm5vZGVVcGRhdGVkKXx8cCkmJnlvKCgoKT0+e2cmJmlyKGcscyx0LGUpLHAmJkhuKHQsZSxzLCJ1cGRhdGVkIil9KSxvKX0sRT0oZSx0LG4scyxvLHIsaSk9Pntmb3IobGV0IGw9MDtsPHQubGVuZ3RoO2wrKyl7Y29uc3QgYz1lW2xdLGE9dFtsXSx1PWMuZWwmJihjLnR5cGU9PT1Mb3x8IXpvKGMsYSl8fDcwJmMuc2hhcGVGbGFnKT9mKGMuZWwpOm47eShjLGEsdSxudWxsLHMsbyxyLGksITApfX0sUj0oZSx0LHMsbyxyLGksYyk9PntpZihzIT09byl7aWYocyE9PW4pZm9yKGNvbnN0IG4gaW4gcyl3KG4pfHxuIGluIG98fGwoZSxuLHNbbl0sbnVsbCxjLHQuY2hpbGRyZW4scixpLFgpO2Zvcihjb25zdCBuIGluIG8pe2lmKHcobikpY29udGludWU7Y29uc3QgYT1vW25dLHU9c1tuXTthIT09dSYmInZhbHVlIiE9PW4mJmwoZSxuLHUsYSxjLHQuY2hpbGRyZW4scixpLFgpfSJ2YWx1ZSJpbiBvJiZsKGUsInZhbHVlIixzLnZhbHVlLG8udmFsdWUsYyl9fSxGPShlLHQsbixzLG8saSxsLGMsdSk9Pntjb25zdCBkPXQuZWw9ZT9lLmVsOmEoIiIpLHA9dC5hbmNob3I9ZT9lLmFuY2hvcjphKCIiKTtsZXR7cGF0Y2hGbGFnOmgsZHluYW1pY0NoaWxkcmVuOmYsc2xvdFNjb3BlSWRzOm19PXQ7bSYmKGM9Yz9jLmNvbmNhdChtKTptKSxudWxsPT1lPyhyKGQsbixzKSxyKHAsbixzKSxOKHQuY2hpbGRyZW58fFtdLG4scCxvLGksbCxjLHUpKTpoPjAmJjY0JmgmJmYmJmUuZHluYW1pY0NoaWxkcmVuPyhFKGUuZHluYW1pY0NoaWxkcmVuLGYsbixvLGksbCxjKSwobnVsbCE9dC5rZXl8fG8mJnQ9PT1vLnN1YlRyZWUpJiZUbyhlLHQsITApKTpqKGUsdCxuLHAsbyxpLGwsYyx1KX0sTD0oZSx0LG4scyxvLHIsaSxsLGMpPT57dC5zbG90U2NvcGVJZHM9bCxudWxsPT1lPzUxMiZ0LnNoYXBlRmxhZz9vLmN0eC5hY3RpdmF0ZSh0LG4scyxpLGMpOk0odCxuLHMsbyxyLGksYyk6QihlLHQsYyl9LE09KGUsdCxzLG8scixpLGwpPT57Y29uc3QgYz1lLmNvbXBvbmVudD1mdW5jdGlvbihlLHQscyl7Y29uc3Qgbz1lLnR5cGUscj0odD90LmFwcENvbnRleHQ6ZS5hcHBDb250ZXh0KXx8bHIsaT17dWlkOmNyKyssdm5vZGU6ZSx0eXBlOm8scGFyZW50OnQsYXBwQ29udGV4dDpyLHJvb3Q6bnVsbCxuZXh0Om51bGwsc3ViVHJlZTpudWxsLGVmZmVjdDpudWxsLHVwZGF0ZTpudWxsLHNjb3BlOm5ldyBsZSghMCkscmVuZGVyOm51bGwscHJveHk6bnVsbCxleHBvc2VkOm51bGwsZXhwb3NlUHJveHk6bnVsbCx3aXRoUHJveHk6bnVsbCxwcm92aWRlczp0P3QucHJvdmlkZXM6T2JqZWN0LmNyZWF0ZShyLnByb3ZpZGVzKSxhY2Nlc3NDYWNoZTpudWxsLHJlbmRlckNhY2hlOltdLGNvbXBvbmVudHM6bnVsbCxkaXJlY3RpdmVzOm51bGwscHJvcHNPcHRpb25zOmVvKG8sciksZW1pdHNPcHRpb25zOmRuKG8sciksZW1pdDpudWxsLGVtaXR0ZWQ6bnVsbCxwcm9wc0RlZmF1bHRzOm4saW5oZXJpdEF0dHJzOm8uaW5oZXJpdEF0dHJzLGN0eDpuLGRhdGE6bixwcm9wczpuLGF0dHJzOm4sc2xvdHM6bixyZWZzOm4sc2V0dXBTdGF0ZTpuLHNldHVwQ29udGV4dDpudWxsLGF0dHJzUHJveHk6bnVsbCxzbG90c1Byb3h5Om51bGwsc3VzcGVuc2U6cyxzdXNwZW5zZUlkOnM/cy5wZW5kaW5nSWQ6MCxhc3luY0RlcDpudWxsLGFzeW5jUmVzb2x2ZWQ6ITEsaXNNb3VudGVkOiExLGlzVW5tb3VudGVkOiExLGlzRGVhY3RpdmF0ZWQ6ITEsYmM6bnVsbCxjOm51bGwsYm06bnVsbCxtOm51bGwsYnU6bnVsbCx1Om51bGwsdW06bnVsbCxidW06bnVsbCxkYTpudWxsLGE6bnVsbCxydGc6bnVsbCxydGM6bnVsbCxlYzpudWxsLHNwOm51bGx9O2kuY3R4PXtfOml9LGkucm9vdD10P3Qucm9vdDppLGkuZW1pdD11bi5iaW5kKG51bGwsaSksZS5jZSYmZS5jZShpKTtyZXR1cm4gaX0oZSxvLHIpO2lmKHJzKGUpJiYoYy5jdHgucmVuZGVyZXI9ZWUpLGZ1bmN0aW9uKGUsdD0hMSl7dCYmcHIodCk7Y29uc3R7cHJvcHM6bixjaGlsZHJlbjpzfT1lLnZub2RlLG89bXIoZSk7KGZ1bmN0aW9uKGUsdCxuLHM9ITEpe2NvbnN0IG89e30scj17fTskKHIsR28sMSksZS5wcm9wc0RlZmF1bHRzPU9iamVjdC5jcmVhdGUobnVsbCksWnMoZSx0LG8scik7Zm9yKGNvbnN0IGkgaW4gZS5wcm9wc09wdGlvbnNbMF0paSBpbiBvfHwob1tpXT12b2lkIDApO2UucHJvcHM9bj9zP286Z3Qobyk6ZS50eXBlLnByb3BzP286cixlLmF0dHJzPXJ9KShlLG4sbyx0KSx1byhlLHMpO2NvbnN0IHI9bz9mdW5jdGlvbihlLHQpe2NvbnN0IG49ZS50eXBlO2UuYWNjZXNzQ2FjaGU9T2JqZWN0LmNyZWF0ZShudWxsKSxlLnByb3h5PWt0KG5ldyBQcm94eShlLmN0eCxJcykpO2NvbnN0e3NldHVwOnN9PW47aWYocyl7Y29uc3Qgbj1lLnNldHVwQ29udGV4dD1zLmxlbmd0aD4xP3hyKGUpOm51bGwsbz1ocihlKTt5ZSgpO2NvbnN0IHI9anQocyxlLDAsW2UucHJvcHMsbl0pO2lmKGJlKCksbygpLF8ocikpe2lmKHIudGhlbihmcixmciksdClyZXR1cm4gci50aGVuKChuPT57YnIoZSxuLHQpfSkpLmNhdGNoKCh0PT57cXQodCxlLDApfSkpO2UuYXN5bmNEZXA9cn1lbHNlIGJyKGUscix0KX1lbHNlIFNyKGUsdCl9KGUsdCk6dm9pZCAwO3QmJnByKCExKX0oYyksYy5hc3luY0RlcCl7aWYociYmci5yZWdpc3RlckRlcChjLFYpLCFlLmVsKXtjb25zdCBlPWMuc3ViVHJlZT1abyhQbyk7UyhudWxsLGUsdCxzKX19ZWxzZSBWKGMsZSx0LHMscixpLGwpfSxCPShlLHQsbik9Pntjb25zdCBzPXQuY29tcG9uZW50PWUuY29tcG9uZW50O2lmKGZ1bmN0aW9uKGUsdCxuKXtjb25zdHtwcm9wczpzLGNoaWxkcmVuOm8sY29tcG9uZW50OnJ9PWUse3Byb3BzOmksY2hpbGRyZW46bCxwYXRjaEZsYWc6Y309dCxhPXIuZW1pdHNPcHRpb25zO2lmKHQuZGlyc3x8dC50cmFuc2l0aW9uKXJldHVybiEwO2lmKCEobiYmYz49MCkpcmV0dXJuISghbyYmIWx8fGwmJmwuJHN0YWJsZSl8fHMhPT1pJiYocz8haXx8X24ocyxpLGEpOiEhaSk7aWYoMTAyNCZjKXJldHVybiEwO2lmKDE2JmMpcmV0dXJuIHM/X24ocyxpLGEpOiEhaTtpZig4JmMpe2NvbnN0IGU9dC5keW5hbWljUHJvcHM7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XTtpZihpW25dIT09c1tuXSYmIXBuKGEsbikpcmV0dXJuITB9fXJldHVybiExfShlLHQsbikpe2lmKHMuYXN5bmNEZXAmJiFzLmFzeW5jUmVzb2x2ZWQpcmV0dXJuIHZvaWQgRChzLHQsbik7cy5uZXh0PXQsZnVuY3Rpb24oZSl7Y29uc3QgdD16dC5pbmRleE9mKGUpO3Q+R3QmJnp0LnNwbGljZSh0LDEpfShzLnVwZGF0ZSkscy5lZmZlY3QuZGlydHk9ITAscy51cGRhdGUoKX1lbHNlIHQuZWw9ZS5lbCxzLnZub2RlPXR9LFY9KGUsdCxuLHMscixpLGwpPT57Y29uc3QgYz0oKT0+e2lmKGUuaXNNb3VudGVkKXtsZXR7bmV4dDp0LGJ1Om4sdTpzLHBhcmVudDpvLHZub2RlOmF9PWU7e2NvbnN0IG49d28oZSk7aWYobilyZXR1cm4gdCYmKHQuZWw9YS5lbCxEKGUsdCxsKSksdm9pZCBuLmFzeW5jRGVwLnRoZW4oKCgpPT57ZS5pc1VubW91bnRlZHx8YygpfSkpfWxldCB1LGQ9dDtDbyhlLCExKSx0Pyh0LmVsPWEuZWwsRChlLHQsbCkpOnQ9YSxuJiZQKG4pLCh1PXQucHJvcHMmJnQucHJvcHMub25Wbm9kZUJlZm9yZVVwZGF0ZSkmJmlyKHUsbyx0LGEpLENvKGUsITApO2NvbnN0IHA9dm4oZSksaD1lLnN1YlRyZWU7ZS5zdWJUcmVlPXAseShoLHAsZihoLmVsKSxRKGgpLGUscixpKSx0LmVsPXAuZWwsbnVsbD09PWQmJlNuKGUscC5lbCkscyYmeW8ocyxyKSwodT10LnByb3BzJiZ0LnByb3BzLm9uVm5vZGVVcGRhdGVkKSYmeW8oKCgpPT5pcih1LG8sdCxhKSkscil9ZWxzZXtsZXQgbztjb25zdHtlbDpsLHByb3BzOmN9PXQse2JtOmEsbTp1LHBhcmVudDpkfT1lLHA9c3ModCk7aWYoQ28oZSwhMSksYSYmUChhKSwhcCYmKG89YyYmYy5vblZub2RlQmVmb3JlTW91bnQpJiZpcihvLGQsdCksQ28oZSwhMCksbCYmbmUpe2NvbnN0IG49KCk9PntlLnN1YlRyZWU9dm4oZSksbmUobCxlLnN1YlRyZWUsZSxyLG51bGwpfTtwP3QudHlwZS5fX2FzeW5jTG9hZGVyKCkudGhlbigoKCk9PiFlLmlzVW5tb3VudGVkJiZuKCkpKTpuKCl9ZWxzZXtjb25zdCBvPWUuc3ViVHJlZT12bihlKTt5KG51bGwsbyxuLHMsZSxyLGkpLHQuZWw9by5lbH1pZih1JiZ5byh1LHIpLCFwJiYobz1jJiZjLm9uVm5vZGVNb3VudGVkKSl7Y29uc3QgZT10O3lvKCgoKT0+aXIobyxkLGUpKSxyKX0oMjU2JnQuc2hhcGVGbGFnfHxkJiZzcyhkLnZub2RlKSYmMjU2JmQudm5vZGUuc2hhcGVGbGFnKSYmZS5hJiZ5byhlLmEsciksZS5pc01vdW50ZWQ9ITAsdD1uPXM9bnVsbH19LGE9ZS5lZmZlY3Q9bmV3IHVlKGMsbywoKCk9PnRuKHUpKSxlLnNjb3BlKSx1PWUudXBkYXRlPSgpPT57YS5kaXJ0eSYmYS5ydW4oKX07dS5pZD1lLnVpZCxDbyhlLCEwKSx1KCl9LEQ9KGUsdCxuKT0+e3QuY29tcG9uZW50PWU7Y29uc3Qgcz1lLnZub2RlLnByb3BzO2Uudm5vZGU9dCxlLm5leHQ9bnVsbCxmdW5jdGlvbihlLHQsbixzKXtjb25zdHtwcm9wczpvLGF0dHJzOnIsdm5vZGU6e3BhdGNoRmxhZzppfX09ZSxsPUN0KG8pLFtjXT1lLnByb3BzT3B0aW9ucztsZXQgYT0hMTtpZighKHN8fGk+MCl8fDE2Jmkpe2xldCBzO1pzKGUsdCxvLHIpJiYoYT0hMCk7Zm9yKGNvbnN0IHIgaW4gbCl0JiYoZCh0LHIpfHwocz1PKHIpKSE9PXImJmQodCxzKSl8fChjPyFufHx2b2lkIDA9PT1uW3JdJiZ2b2lkIDA9PT1uW3NdfHwob1tyXT1ZcyhjLGwscix2b2lkIDAsZSwhMCkpOmRlbGV0ZSBvW3JdKTtpZihyIT09bClmb3IoY29uc3QgZSBpbiByKXQmJmQodCxlKXx8KGRlbGV0ZSByW2VdLGE9ITApfWVsc2UgaWYoOCZpKXtjb25zdCBuPWUudm5vZGUuZHluYW1pY1Byb3BzO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKXtsZXQgaT1uW3NdO2lmKHBuKGUuZW1pdHNPcHRpb25zLGkpKWNvbnRpbnVlO2NvbnN0IHU9dFtpXTtpZihjKWlmKGQocixpKSl1IT09cltpXSYmKHJbaV09dSxhPSEwKTtlbHNle2NvbnN0IHQ9SShpKTtvW3RdPVlzKGMsbCx0LHUsZSwhMSl9ZWxzZSB1IT09cltpXSYmKHJbaV09dSxhPSEwKX19YSYmSWUoZSwic2V0IiwiJGF0dHJzIil9KGUsdC5wcm9wcyxzLG4pLHBvKGUsdC5jaGlsZHJlbixuKSx5ZSgpLG9uKGUpLGJlKCl9LGo9KGUsdCxuLHMsbyxyLGksbCxjPSExKT0+e2NvbnN0IGE9ZSYmZS5jaGlsZHJlbix1PWU/ZS5zaGFwZUZsYWc6MCxkPXQuY2hpbGRyZW4se3BhdGNoRmxhZzpwLHNoYXBlRmxhZzpmfT10O2lmKHA+MCl7aWYoMTI4JnApcmV0dXJuIHZvaWQgcShhLGQsbixzLG8scixpLGwsYyk7aWYoMjU2JnApcmV0dXJuIHZvaWQgSChhLGQsbixzLG8scixpLGwsYyl9OCZmPygxNiZ1JiZYKGEsbyxyKSxkIT09YSYmaChuLGQpKToxNiZ1PzE2JmY/cShhLGQsbixzLG8scixpLGwsYyk6WChhLG8sciwhMCk6KDgmdSYmaChuLCIiKSwxNiZmJiZOKGQsbixzLG8scixpLGwsYykpfSxIPShlLHQsbixvLHIsaSxsLGMsYSk9Pntjb25zdCB1PShlPWV8fHMpLmxlbmd0aCxkPSh0PXR8fHMpLmxlbmd0aCxwPU1hdGgubWluKHUsZCk7bGV0IGg7Zm9yKGg9MDtoPHA7aCsrKXtjb25zdCBzPXRbaF09YT9zcih0W2hdKTpucih0W2hdKTt5KGVbaF0scyxuLG51bGwscixpLGwsYyxhKX11PmQ/WChlLHIsaSwhMCwhMSxwKTpOKHQsbixvLHIsaSxsLGMsYSxwKX0scT0oZSx0LG4sbyxyLGksbCxjLGEpPT57bGV0IHU9MDtjb25zdCBkPXQubGVuZ3RoO2xldCBwPWUubGVuZ3RoLTEsaD1kLTE7Zm9yKDt1PD1wJiZ1PD1oOyl7Y29uc3Qgcz1lW3VdLG89dFt1XT1hP3NyKHRbdV0pOm5yKHRbdV0pO2lmKCF6byhzLG8pKWJyZWFrO3kocyxvLG4sbnVsbCxyLGksbCxjLGEpLHUrK31mb3IoO3U8PXAmJnU8PWg7KXtjb25zdCBzPWVbcF0sbz10W2hdPWE/c3IodFtoXSk6bnIodFtoXSk7aWYoIXpvKHMsbykpYnJlYWs7eShzLG8sbixudWxsLHIsaSxsLGMsYSkscC0tLGgtLX1pZih1PnApe2lmKHU8PWgpe2NvbnN0IGU9aCsxLHM9ZTxkP3RbZV0uZWw6bztmb3IoO3U8PWg7KXkobnVsbCx0W3VdPWE/c3IodFt1XSk6bnIodFt1XSksbixzLHIsaSxsLGMsYSksdSsrfX1lbHNlIGlmKHU+aClmb3IoO3U8PXA7KUsoZVt1XSxyLGksITApLHUrKztlbHNle2NvbnN0IGY9dSxtPXUsZz1uZXcgTWFwO2Zvcih1PW07dTw9aDt1Kyspe2NvbnN0IGU9dFt1XT1hP3NyKHRbdV0pOm5yKHRbdV0pO251bGwhPWUua2V5JiZnLnNldChlLmtleSx1KX1sZXQgdixiPTA7Y29uc3QgXz1oLW0rMTtsZXQgUz0hMSx4PTA7Y29uc3QgQz1uZXcgQXJyYXkoXyk7Zm9yKHU9MDt1PF87dSsrKUNbdV09MDtmb3IodT1mO3U8PXA7dSsrKXtjb25zdCBzPWVbdV07aWYoYj49Xyl7SyhzLHIsaSwhMCk7Y29udGludWV9bGV0IG87aWYobnVsbCE9cy5rZXkpbz1nLmdldChzLmtleSk7ZWxzZSBmb3Iodj1tO3Y8PWg7disrKWlmKDA9PT1DW3YtbV0mJnpvKHMsdFt2XSkpe289djticmVha312b2lkIDA9PT1vP0socyxyLGksITApOihDW28tbV09dSsxLG8+PXg/eD1vOlM9ITAseShzLHRbb10sbixudWxsLHIsaSxsLGMsYSksYisrKX1jb25zdCBrPVM/ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnNsaWNlKCksbj1bMF07bGV0IHMsbyxyLGksbDtjb25zdCBjPWUubGVuZ3RoO2ZvcihzPTA7czxjO3MrKyl7Y29uc3QgYz1lW3NdO2lmKDAhPT1jKXtpZihvPW5bbi5sZW5ndGgtMV0sZVtvXTxjKXt0W3NdPW8sbi5wdXNoKHMpO2NvbnRpbnVlfWZvcihyPTAsaT1uLmxlbmd0aC0xO3I8aTspbD1yK2k+PjEsZVtuW2xdXTxjP3I9bCsxOmk9bDtjPGVbbltyXV0mJihyPjAmJih0W3NdPW5bci0xXSksbltyXT1zKX19cj1uLmxlbmd0aCxpPW5bci0xXTtmb3IoO3ItLSA+MDspbltyXT1pLGk9dFtpXTtyZXR1cm4gbn0oQyk6cztmb3Iodj1rLmxlbmd0aC0xLHU9Xy0xO3U+PTA7dS0tKXtjb25zdCBlPW0rdSxzPXRbZV0scD1lKzE8ZD90W2UrMV0uZWw6bzswPT09Q1t1XT95KG51bGwscyxuLHAscixpLGwsYyxhKTpTJiYodjwwfHx1IT09a1t2XT9XKHMsbixwLDIpOnYtLSl9fX0sVz0oZSx0LG4scyxvPW51bGwpPT57Y29uc3R7ZWw6aSx0eXBlOmwsdHJhbnNpdGlvbjpjLGNoaWxkcmVuOmEsc2hhcGVGbGFnOnV9PWU7aWYoNiZ1KXJldHVybiB2b2lkIFcoZS5jb21wb25lbnQuc3ViVHJlZSx0LG4scyk7aWYoMTI4JnUpcmV0dXJuIHZvaWQgZS5zdXNwZW5zZS5tb3ZlKHQsbixzKTtpZig2NCZ1KXJldHVybiB2b2lkIGwubW92ZShlLHQsbixlZSk7aWYobD09PUxvKXtyKGksdCxuKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylXKGFbZV0sdCxuLHMpO3JldHVybiB2b2lkIHIoZS5hbmNob3IsdCxuKX1pZihsPT09JG8pcmV0dXJuIHZvaWQoKHtlbDplLGFuY2hvcjp0fSxuLHMpPT57bGV0IG87Zm9yKDtlJiZlIT09dDspbz1tKGUpLHIoZSxuLHMpLGU9bztyKHQsbixzKX0pKGUsdCxuKTtpZigyIT09cyYmMSZ1JiZjKWlmKDA9PT1zKWMuYmVmb3JlRW50ZXIoaSkscihpLHQsbikseW8oKCgpPT5jLmVudGVyKGkpKSxvKTtlbHNle2NvbnN0e2xlYXZlOmUsZGVsYXlMZWF2ZTpzLGFmdGVyTGVhdmU6b309YyxsPSgpPT5yKGksdCxuKSxhPSgpPT57ZShpLCgoKT0+e2woKSxvJiZvKCl9KSl9O3M/cyhpLGwsYSk6YSgpfWVsc2UgcihpLHQsbil9LEs9KGUsdCxuLHM9ITEsbz0hMSk9Pntjb25zdHt0eXBlOnIscHJvcHM6aSxyZWY6bCxjaGlsZHJlbjpjLGR5bmFtaWNDaGlsZHJlbjphLHNoYXBlRmxhZzp1LHBhdGNoRmxhZzpkLGRpcnM6cH09ZTtpZihudWxsIT1sJiZobyhsLG51bGwsbixlLCEwKSwyNTYmdSlyZXR1cm4gdm9pZCB0LmN0eC5kZWFjdGl2YXRlKGUpO2NvbnN0IGg9MSZ1JiZwLGY9IXNzKGUpO2xldCBtO2lmKGYmJihtPWkmJmkub25Wbm9kZUJlZm9yZVVubW91bnQpJiZpcihtLHQsZSksNiZ1KUooZS5jb21wb25lbnQsbixzKTtlbHNle2lmKDEyOCZ1KXJldHVybiB2b2lkIGUuc3VzcGVuc2UudW5tb3VudChuLHMpO2gmJkhuKGUsbnVsbCx0LCJiZWZvcmVVbm1vdW50IiksNjQmdT9lLnR5cGUucmVtb3ZlKGUsdCxuLG8sZWUscyk6YSYmKHIhPT1Mb3x8ZD4wJiY2NCZkKT9YKGEsdCxuLCExLCEwKToocj09PUxvJiYzODQmZHx8IW8mJjE2JnUpJiZYKGMsdCxuKSxzJiZ6KGUpfShmJiYobT1pJiZpLm9uVm5vZGVVbm1vdW50ZWQpfHxoKSYmeW8oKCgpPT57bSYmaXIobSx0LGUpLGgmJkhuKGUsbnVsbCx0LCJ1bm1vdW50ZWQiKX0pLG4pfSx6PWU9Pntjb25zdHt0eXBlOnQsZWw6bixhbmNob3I6cyx0cmFuc2l0aW9uOm99PWU7aWYodD09PUxvKXJldHVybiB2b2lkIEcobixzKTtpZih0PT09JG8pcmV0dXJuIHZvaWQoKHtlbDplLGFuY2hvcjp0fSk9PntsZXQgbjtmb3IoO2UmJmUhPT10OyluPW0oZSksaShlKSxlPW47aSh0KX0pKGUpO2NvbnN0IHI9KCk9PntpKG4pLG8mJiFvLnBlcnNpc3RlZCYmby5hZnRlckxlYXZlJiZvLmFmdGVyTGVhdmUoKX07aWYoMSZlLnNoYXBlRmxhZyYmbyYmIW8ucGVyc2lzdGVkKXtjb25zdHtsZWF2ZTp0LGRlbGF5TGVhdmU6c309byxpPSgpPT50KG4scik7cz9zKGUuZWwscixpKTppKCl9ZWxzZSByKCl9LEc9KGUsdCk9PntsZXQgbjtmb3IoO2UhPT10OyluPW0oZSksaShlKSxlPW47aSh0KX0sSj0oZSx0LG4pPT57Y29uc3R7YnVtOnMsc2NvcGU6byx1cGRhdGU6cixzdWJUcmVlOmksdW06bH09ZTtzJiZQKHMpLG8uc3RvcCgpLHImJihyLmFjdGl2ZT0hMSxLKGksZSx0LG4pKSxsJiZ5byhsLHQpLHlvKCgoKT0+e2UuaXNVbm1vdW50ZWQ9ITB9KSx0KSx0JiZ0LnBlbmRpbmdCcmFuY2gmJiF0LmlzVW5tb3VudGVkJiZlLmFzeW5jRGVwJiYhZS5hc3luY1Jlc29sdmVkJiZlLnN1c3BlbnNlSWQ9PT10LnBlbmRpbmdJZCYmKHQuZGVwcy0tLDA9PT10LmRlcHMmJnQucmVzb2x2ZSgpKX0sWD0oZSx0LG4scz0hMSxvPSExLHI9MCk9Pntmb3IobGV0IGk9cjtpPGUubGVuZ3RoO2krKylLKGVbaV0sdCxuLHMsbyl9LFE9ZT0+NiZlLnNoYXBlRmxhZz9RKGUuY29tcG9uZW50LnN1YlRyZWUpOjEyOCZlLnNoYXBlRmxhZz9lLnN1c3BlbnNlLm5leHQoKTptKGUuYW5jaG9yfHxlLmVsKTtsZXQgWj0hMTtjb25zdCBZPShlLHQsbik9PntudWxsPT1lP3QuX3Zub2RlJiZLKHQuX3Zub2RlLG51bGwsbnVsbCwhMCk6eSh0Ll92bm9kZXx8bnVsbCxlLHQsbnVsbCxudWxsLG51bGwsbiksWnx8KFo9ITAsb24oKSxybigpLFo9ITEpLHQuX3Zub2RlPWV9LGVlPXtwOnksdW06SyxtOlcscjp6LG10Ok0sbWM6TixwYzpqLHBiYzpFLG46USxvOmV9O2xldCB0ZSxuZTtyZXR1cm4gdCYmKFt0ZSxuZV09dChlZSkpLHtyZW5kZXI6WSxoeWRyYXRlOnRlLGNyZWF0ZUFwcDpHcyhZLHRlKX19ZnVuY3Rpb24geG8oe3R5cGU6ZSxwcm9wczp0fSxuKXtyZXR1cm4ic3ZnIj09PW4mJiJmb3JlaWduT2JqZWN0Ij09PWV8fCJtYXRobWwiPT09biYmImFubm90YXRpb24teG1sIj09PWUmJnQmJnQuZW5jb2RpbmcmJnQuZW5jb2RpbmcuaW5jbHVkZXMoImh0bWwiKT92b2lkIDA6bn1mdW5jdGlvbiBDbyh7ZWZmZWN0OmUsdXBkYXRlOnR9LG4pe2UuYWxsb3dSZWN1cnNlPXQuYWxsb3dSZWN1cnNlPW59ZnVuY3Rpb24ga28oZSx0KXtyZXR1cm4oIWV8fGUmJiFlLnBlbmRpbmdCcmFuY2gpJiZ0JiYhdC5wZXJzaXN0ZWR9ZnVuY3Rpb24gVG8oZSx0LG49ITEpe2NvbnN0IHM9ZS5jaGlsZHJlbixvPXQuY2hpbGRyZW47aWYocChzKSYmcChvKSlmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKyl7Y29uc3QgZT1zW3JdO2xldCB0PW9bcl07MSZ0LnNoYXBlRmxhZyYmIXQuZHluYW1pY0NoaWxkcmVuJiYoKHQucGF0Y2hGbGFnPD0wfHwzMj09PXQucGF0Y2hGbGFnKSYmKHQ9b1tyXT1zcihvW3JdKSx0LmVsPWUuZWwpLG58fFRvKGUsdCkpLHQudHlwZT09PU1vJiYodC5lbD1lLmVsKX19ZnVuY3Rpb24gd28oZSl7Y29uc3QgdD1lLnN1YlRyZWUuY29tcG9uZW50O2lmKHQpcmV0dXJuIHQuYXN5bmNEZXAmJiF0LmFzeW5jUmVzb2x2ZWQ/dDp3byh0KX1jb25zdCBObz1lPT5lJiYoZS5kaXNhYmxlZHx8IiI9PT1lLmRpc2FibGVkKSxBbz1lPT4idW5kZWZpbmVkIiE9dHlwZW9mIFNWR0VsZW1lbnQmJmUgaW5zdGFuY2VvZiBTVkdFbGVtZW50LEVvPWU9PiJmdW5jdGlvbiI9PXR5cGVvZiBNYXRoTUxFbGVtZW50JiZlIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudCxJbz0oZSx0KT0+e2NvbnN0IG49ZSYmZS50bztpZih2KG4pKXtpZih0KXtyZXR1cm4gdChuKX1yZXR1cm4gbnVsbH1yZXR1cm4gbn07ZnVuY3Rpb24gUm8oZSx0LG4se286e2luc2VydDpzfSxtOm99LHI9Mil7MD09PXImJnMoZS50YXJnZXRBbmNob3IsdCxuKTtjb25zdHtlbDppLGFuY2hvcjpsLHNoYXBlRmxhZzpjLGNoaWxkcmVuOmEscHJvcHM6dX09ZSxkPTI9PT1yO2lmKGQmJnMoaSx0LG4pLCghZHx8Tm8odSkpJiYxNiZjKWZvcihsZXQgcD0wO3A8YS5sZW5ndGg7cCsrKW8oYVtwXSx0LG4sMik7ZCYmcyhsLHQsbil9Y29uc3QgT289e25hbWU6IlRlbGVwb3J0IixfX2lzVGVsZXBvcnQ6ITAscHJvY2VzcyhlLHQsbixzLG8scixpLGwsYyxhKXtjb25zdHttYzp1LHBjOmQscGJjOnAsbzp7aW5zZXJ0OmgscXVlcnlTZWxlY3RvcjpmLGNyZWF0ZVRleHQ6bX19PWEsZz1Obyh0LnByb3BzKTtsZXR7c2hhcGVGbGFnOnYsY2hpbGRyZW46eSxkeW5hbWljQ2hpbGRyZW46Yn09dDtpZihudWxsPT1lKXtjb25zdCBlPXQuZWw9bSgiIiksYT10LmFuY2hvcj1tKCIiKTtoKGUsbixzKSxoKGEsbixzKTtjb25zdCBkPXQudGFyZ2V0PUlvKHQucHJvcHMsZikscD10LnRhcmdldEFuY2hvcj1tKCIiKTtkJiYoaChwLGQpLCJzdmciPT09aXx8QW8oZCk/aT0ic3ZnIjooIm1hdGhtbCI9PT1pfHxFbyhkKSkmJihpPSJtYXRobWwiKSk7Y29uc3QgYj0oZSx0KT0+ezE2JnYmJnUoeSxlLHQsbyxyLGksbCxjKX07Zz9iKG4sYSk6ZCYmYihkLHApfWVsc2V7dC5lbD1lLmVsO2NvbnN0IHM9dC5hbmNob3I9ZS5hbmNob3IsdT10LnRhcmdldD1lLnRhcmdldCxoPXQudGFyZ2V0QW5jaG9yPWUudGFyZ2V0QW5jaG9yLG09Tm8oZS5wcm9wcyksdj1tP246dSx5PW0/czpoO2lmKCJzdmciPT09aXx8QW8odSk/aT0ic3ZnIjooIm1hdGhtbCI9PT1pfHxFbyh1KSkmJihpPSJtYXRobWwiKSxiPyhwKGUuZHluYW1pY0NoaWxkcmVuLGIsdixvLHIsaSxsKSxUbyhlLHQsITApKTpjfHxkKGUsdCx2LHksbyxyLGksbCwhMSksZyltP3QucHJvcHMmJmUucHJvcHMmJnQucHJvcHMudG8hPT1lLnByb3BzLnRvJiYodC5wcm9wcy50bz1lLnByb3BzLnRvKTpSbyh0LG4scyxhLDEpO2Vsc2UgaWYoKHQucHJvcHMmJnQucHJvcHMudG8pIT09KGUucHJvcHMmJmUucHJvcHMudG8pKXtjb25zdCBlPXQudGFyZ2V0PUlvKHQucHJvcHMsZik7ZSYmUm8odCxlLG51bGwsYSwwKX1lbHNlIG0mJlJvKHQsdSxoLGEsMSl9Rm8odCl9LHJlbW92ZShlLHQsbixzLHt1bTpvLG86e3JlbW92ZTpyfX0saSl7Y29uc3R7c2hhcGVGbGFnOmwsY2hpbGRyZW46YyxhbmNob3I6YSx0YXJnZXRBbmNob3I6dSx0YXJnZXQ6ZCxwcm9wczpwfT1lO2lmKGQmJnIodSksaSYmcihhKSwxNiZsKXtjb25zdCBlPWl8fCFObyhwKTtmb3IobGV0IHM9MDtzPGMubGVuZ3RoO3MrKyl7Y29uc3Qgcj1jW3NdO28ocix0LG4sZSwhIXIuZHluYW1pY0NoaWxkcmVuKX19fSxtb3ZlOlJvLGh5ZHJhdGU6ZnVuY3Rpb24oZSx0LG4scyxvLHIse286e25leHRTaWJsaW5nOmkscGFyZW50Tm9kZTpsLHF1ZXJ5U2VsZWN0b3I6Y319LGEpe2NvbnN0IHU9dC50YXJnZXQ9SW8odC5wcm9wcyxjKTtpZih1KXtjb25zdCBjPXUuX2xwYXx8dS5maXJzdENoaWxkO2lmKDE2JnQuc2hhcGVGbGFnKWlmKE5vKHQucHJvcHMpKXQuYW5jaG9yPWEoaShlKSx0LGwoZSksbixzLG8sciksdC50YXJnZXRBbmNob3I9YztlbHNle3QuYW5jaG9yPWkoZSk7bGV0IGw9Yztmb3IoO2w7KWlmKGw9aShsKSxsJiY4PT09bC5ub2RlVHlwZSYmInRlbGVwb3J0IGFuY2hvciI9PT1sLmRhdGEpe3QudGFyZ2V0QW5jaG9yPWwsdS5fbHBhPXQudGFyZ2V0QW5jaG9yJiZpKHQudGFyZ2V0QW5jaG9yKTticmVha31hKGMsdCx1LG4scyxvLHIpfUZvKHQpfXJldHVybiB0LmFuY2hvciYmaSh0LmFuY2hvcil9fTtmdW5jdGlvbiBGbyhlKXtjb25zdCB0PWUuY3R4O2lmKHQmJnQudXQpe2xldCBuPWUuY2hpbGRyZW5bMF0uZWw7Zm9yKDtuJiZuIT09ZS50YXJnZXRBbmNob3I7KTE9PT1uLm5vZGVUeXBlJiZuLnNldEF0dHJpYnV0ZSgiZGF0YS12LW93bmVyIix0LnVpZCksbj1uLm5leHRTaWJsaW5nO3QudXQoKX19Y29uc3QgTG89U3ltYm9sLmZvcigidi1mZ3QiKSxNbz1TeW1ib2wuZm9yKCJ2LXR4dCIpLFBvPVN5bWJvbC5mb3IoInYtY210IiksJG89U3ltYm9sLmZvcigidi1zdGMiKSxCbz1bXTtsZXQgVm89bnVsbDtmdW5jdGlvbiBEbyhlPSExKXtCby5wdXNoKFZvPWU/bnVsbDpbXSl9ZnVuY3Rpb24gVW8oKXtCby5wb3AoKSxWbz1Cb1tCby5sZW5ndGgtMV18fG51bGx9bGV0IGpvPTE7ZnVuY3Rpb24gSG8oZSl7am8rPWV9ZnVuY3Rpb24gcW8oZSl7cmV0dXJuIGUuZHluYW1pY0NoaWxkcmVuPWpvPjA/Vm98fHM6bnVsbCxVbygpLGpvPjAmJlZvJiZWby5wdXNoKGUpLGV9ZnVuY3Rpb24gV28oZSx0LG4scyxvKXtyZXR1cm4gcW8oWm8oZSx0LG4scyxvLCEwKSl9ZnVuY3Rpb24gS28oZSl7cmV0dXJuISFlJiYhMD09PWUuX192X2lzVk5vZGV9ZnVuY3Rpb24gem8oZSx0KXtyZXR1cm4gZS50eXBlPT09dC50eXBlJiZlLmtleT09PXQua2V5fWNvbnN0IEdvPSJfX3ZJbnRlcm5hbCIsSm89KHtrZXk6ZX0pPT5udWxsIT1lP2U6bnVsbCxYbz0oe3JlZjplLHJlZl9rZXk6dCxyZWZfZm9yOm59KT0+KCJudW1iZXIiPT10eXBlb2YgZSYmKGU9IiIrZSksbnVsbCE9ZT92KGUpfHxJdChlKXx8ZyhlKT97aTpobixyOmUsazp0LGY6ISFufTplOm51bGwpO2Z1bmN0aW9uIFFvKGUsdD1udWxsLG49bnVsbCxzPTAsbz1udWxsLHI9KGU9PT1Mbz8wOjEpLGk9ITEsbD0hMSl7Y29uc3QgYz17X192X2lzVk5vZGU6ITAsX192X3NraXA6ITAsdHlwZTplLHByb3BzOnQsa2V5OnQmJkpvKHQpLHJlZjp0JiZYbyh0KSxzY29wZUlkOmZuLHNsb3RTY29wZUlkczpudWxsLGNoaWxkcmVuOm4sY29tcG9uZW50Om51bGwsc3VzcGVuc2U6bnVsbCxzc0NvbnRlbnQ6bnVsbCxzc0ZhbGxiYWNrOm51bGwsZGlyczpudWxsLHRyYW5zaXRpb246bnVsbCxlbDpudWxsLGFuY2hvcjpudWxsLHRhcmdldDpudWxsLHRhcmdldEFuY2hvcjpudWxsLHN0YXRpY0NvdW50OjAsc2hhcGVGbGFnOnIscGF0Y2hGbGFnOnMsZHluYW1pY1Byb3BzOm8sZHluYW1pY0NoaWxkcmVuOm51bGwsYXBwQ29udGV4dDpudWxsLGN0eDpobn07cmV0dXJuIGw/KG9yKGMsbiksMTI4JnImJmUubm9ybWFsaXplKGMpKTpuJiYoYy5zaGFwZUZsYWd8PXYobik/ODoxNiksam8+MCYmIWkmJlZvJiYoYy5wYXRjaEZsYWc+MHx8NiZyKSYmMzIhPT1jLnBhdGNoRmxhZyYmVm8ucHVzaChjKSxjfWNvbnN0IFpvPWZ1bmN0aW9uKGUsdD1udWxsLG49bnVsbCxzPTAsbz1udWxsLHI9ITEpe2UmJmUhPT1Dbnx8KGU9UG8pO2lmKEtvKGUpKXtjb25zdCBzPWVyKGUsdCwhMCk7cmV0dXJuIG4mJm9yKHMsbiksam8+MCYmIXImJlZvJiYoNiZzLnNoYXBlRmxhZz9Wb1tWby5pbmRleE9mKGUpXT1zOlZvLnB1c2gocykpLHMucGF0Y2hGbGFnfD0tMixzfWk9ZSxnKGkpJiYiX192Y2NPcHRzImluIGkmJihlPWUuX192Y2NPcHRzKTt2YXIgaTtpZih0KXt0PVlvKHQpO2xldHtjbGFzczplLHN0eWxlOm59PXQ7ZSYmIXYoZSkmJih0LmNsYXNzPUcoZSkpLGIobikmJih4dChuKSYmIXAobikmJihuPWMoe30sbikpLHQuc3R5bGU9SChuKSl9Y29uc3QgbD12KGUpPzE6d24oZSk/MTI4OihlPT5lLl9faXNUZWxlcG9ydCkoZSk/NjQ6YihlKT80OmcoZSk/MjowO3JldHVybiBRbyhlLHQsbixzLG8sbCxyLCEwKX07ZnVuY3Rpb24gWW8oZSl7cmV0dXJuIGU/eHQoZSl8fEdvIGluIGU/Yyh7fSxlKTplOm51bGx9ZnVuY3Rpb24gZXIoZSx0LG49ITEpe2NvbnN0e3Byb3BzOnMscmVmOm8scGF0Y2hGbGFnOnIsY2hpbGRyZW46aX09ZSxsPXQ/cnIoc3x8e30sdCk6cztyZXR1cm57X192X2lzVk5vZGU6ITAsX192X3NraXA6ITAsdHlwZTplLnR5cGUscHJvcHM6bCxrZXk6bCYmSm8obCkscmVmOnQmJnQucmVmP24mJm8/cChvKT9vLmNvbmNhdChYbyh0KSk6W28sWG8odCldOlhvKHQpOm8sc2NvcGVJZDplLnNjb3BlSWQsc2xvdFNjb3BlSWRzOmUuc2xvdFNjb3BlSWRzLGNoaWxkcmVuOmksdGFyZ2V0OmUudGFyZ2V0LHRhcmdldEFuY2hvcjplLnRhcmdldEFuY2hvcixzdGF0aWNDb3VudDplLnN0YXRpY0NvdW50LHNoYXBlRmxhZzplLnNoYXBlRmxhZyxwYXRjaEZsYWc6dCYmZS50eXBlIT09TG8/LTE9PT1yPzE2OjE2fHI6cixkeW5hbWljUHJvcHM6ZS5keW5hbWljUHJvcHMsZHluYW1pY0NoaWxkcmVuOmUuZHluYW1pY0NoaWxkcmVuLGFwcENvbnRleHQ6ZS5hcHBDb250ZXh0LGRpcnM6ZS5kaXJzLHRyYW5zaXRpb246ZS50cmFuc2l0aW9uLGNvbXBvbmVudDplLmNvbXBvbmVudCxzdXNwZW5zZTplLnN1c3BlbnNlLHNzQ29udGVudDplLnNzQ29udGVudCYmZXIoZS5zc0NvbnRlbnQpLHNzRmFsbGJhY2s6ZS5zc0ZhbGxiYWNrJiZlcihlLnNzRmFsbGJhY2spLGVsOmUuZWwsYW5jaG9yOmUuYW5jaG9yLGN0eDplLmN0eCxjZTplLmNlfX1mdW5jdGlvbiB0cihlPSIgIix0PTApe3JldHVybiBabyhNbyxudWxsLGUsdCl9ZnVuY3Rpb24gbnIoZSl7cmV0dXJuIG51bGw9PWV8fCJib29sZWFuIj09dHlwZW9mIGU/Wm8oUG8pOnAoZSk/Wm8oTG8sbnVsbCxlLnNsaWNlKCkpOiJvYmplY3QiPT10eXBlb2YgZT9zcihlKTpabyhNbyxudWxsLFN0cmluZyhlKSl9ZnVuY3Rpb24gc3IoZSl7cmV0dXJuIG51bGw9PT1lLmVsJiYtMSE9PWUucGF0Y2hGbGFnfHxlLm1lbW8/ZTplcihlKX1mdW5jdGlvbiBvcihlLHQpe2xldCBuPTA7Y29uc3R7c2hhcGVGbGFnOnN9PWU7aWYobnVsbD09dCl0PW51bGw7ZWxzZSBpZihwKHQpKW49MTY7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHQpe2lmKDY1JnMpe2NvbnN0IG49dC5kZWZhdWx0O3JldHVybiB2b2lkKG4mJihuLl9jJiYobi5fZD0hMSksb3IoZSxuKCkpLG4uX2MmJihuLl9kPSEwKSkpfXtuPTMyO2NvbnN0IHM9dC5fO3N8fEdvIGluIHQ/Mz09PXMmJmhuJiYoMT09PWhuLnNsb3RzLl8/dC5fPTE6KHQuXz0yLGUucGF0Y2hGbGFnfD0xMDI0KSk6dC5fY3R4PWhufX1lbHNlIGcodCk/KHQ9e2RlZmF1bHQ6dCxfY3R4OmhufSxuPTMyKToodD1TdHJpbmcodCksNjQmcz8obj0xNix0PVt0cih0KV0pOm49OCk7ZS5jaGlsZHJlbj10LGUuc2hhcGVGbGFnfD1ufWZ1bmN0aW9uIHJyKC4uLmUpe2NvbnN0IHQ9e307Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHM9ZVtuXTtmb3IoY29uc3QgZSBpbiBzKWlmKCJjbGFzcyI9PT1lKXQuY2xhc3MhPT1zLmNsYXNzJiYodC5jbGFzcz1HKFt0LmNsYXNzLHMuY2xhc3NdKSk7ZWxzZSBpZigic3R5bGUiPT09ZSl0LnN0eWxlPUgoW3Quc3R5bGUscy5zdHlsZV0pO2Vsc2UgaWYoaShlKSl7Y29uc3Qgbj10W2VdLG89c1tlXTshb3x8bj09PW98fHAobikmJm4uaW5jbHVkZXMobyl8fCh0W2VdPW4/W10uY29uY2F0KG4sbyk6byl9ZWxzZSIiIT09ZSYmKHRbZV09c1tlXSl9cmV0dXJuIHR9ZnVuY3Rpb24gaXIoZSx0LG4scz1udWxsKXtIdChlLHQsNyxbbixzXSl9Y29uc3QgbHI9S3MoKTtsZXQgY3I9MDtsZXQgYXI9bnVsbDtjb25zdCB1cj0oKT0+YXJ8fGhuO2xldCBkcixwcjtkcj1lPT57YXI9ZX0scHI9ZT0+e3lyPWV9O2NvbnN0IGhyPWU9Pntjb25zdCB0PWFyO3JldHVybiBkcihlKSxlLnNjb3BlLm9uKCksKCk9PntlLnNjb3BlLm9mZigpLGRyKHQpfX0sZnI9KCk9PnthciYmYXIuc2NvcGUub2ZmKCksZHIobnVsbCl9O2Z1bmN0aW9uIG1yKGUpe3JldHVybiA0JmUudm5vZGUuc2hhcGVGbGFnfWxldCBncix2cix5cj0hMTtmdW5jdGlvbiBicihlLHQsbil7Zyh0KT9lLnJlbmRlcj10OmIodCkmJihlLnNldHVwU3RhdGU9UHQodCkpLFNyKGUsbil9ZnVuY3Rpb24gX3IoZSl7Z3I9ZSx2cj1lPT57ZS5yZW5kZXIuX3JjJiYoZS53aXRoUHJveHk9bmV3IFByb3h5KGUuY3R4LFJzKSl9fWZ1bmN0aW9uIFNyKGUsdCxuKXtjb25zdCBzPWUudHlwZTtpZighZS5yZW5kZXIpe2lmKCF0JiZnciYmIXMucmVuZGVyKXtjb25zdCB0PXMudGVtcGxhdGV8fEJzKGUpLnRlbXBsYXRlO2lmKHQpe2NvbnN0e2lzQ3VzdG9tRWxlbWVudDpuLGNvbXBpbGVyT3B0aW9uczpvfT1lLmFwcENvbnRleHQuY29uZmlnLHtkZWxpbWl0ZXJzOnIsY29tcGlsZXJPcHRpb25zOml9PXMsbD1jKGMoe2lzQ3VzdG9tRWxlbWVudDpuLGRlbGltaXRlcnM6cn0sbyksaSk7cy5yZW5kZXI9Z3IodCxsKX19ZS5yZW5kZXI9cy5yZW5kZXJ8fG8sdnImJnZyKGUpfXtjb25zdCB0PWhyKGUpO3llKCk7dHJ5e01zKGUpfWZpbmFsbHl7YmUoKSx0KCl9fX1mdW5jdGlvbiB4cihlKXtjb25zdCB0PXQ9PntlLmV4cG9zZWQ9dHx8e319O3JldHVybntnZXQgYXR0cnMoKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXR0cnNQcm94eXx8KGUuYXR0cnNQcm94eT1uZXcgUHJveHkoZS5hdHRycyx7Z2V0Oih0LG4pPT4oRWUoZSwwLCIkYXR0cnMiKSx0W25dKX0pKX0oZSl9LHNsb3RzOmUuc2xvdHMsZW1pdDplLmVtaXQsZXhwb3NlOnR9fWZ1bmN0aW9uIENyKGUpe2lmKGUuZXhwb3NlZClyZXR1cm4gZS5leHBvc2VQcm94eXx8KGUuZXhwb3NlUHJveHk9bmV3IFByb3h5KFB0KGt0KGUuZXhwb3NlZCkpLHtnZXQ6KHQsbik9Pm4gaW4gdD90W25dOm4gaW4gQXM/QXNbbl0oZSk6dm9pZCAwLGhhczooZSx0KT0+dCBpbiBlfHx0IGluIEFzfSkpfWZ1bmN0aW9uIGtyKGUsdD0hMCl7cmV0dXJuIGcoZSk/ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lOmUubmFtZXx8dCYmZS5fX25hbWV9Y29uc3QgVHI9KGUsdCk9PmZ1bmN0aW9uKGUsdCxuPSExKXtsZXQgcyxyO2NvbnN0IGk9ZyhlKTtyZXR1cm4gaT8ocz1lLHI9byk6KHM9ZS5nZXQscj1lLnNldCksbmV3IE50KHMscixpfHwhcixuKX0oZSwwLHlyKTtmdW5jdGlvbiB3cihlLHQsbil7Y29uc3Qgcz1hcmd1bWVudHMubGVuZ3RoO3JldHVybiAyPT09cz9iKHQpJiYhcCh0KT9Lbyh0KT9abyhlLG51bGwsW3RdKTpabyhlLHQpOlpvKGUsbnVsbCx0KToocz4zP249QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpOjM9PT1zJiZLbyhuKSYmKG49W25dKSxabyhlLHQsbikpfWZ1bmN0aW9uIE5yKGUsdCl7Y29uc3Qgbj1lLm1lbW87aWYobi5sZW5ndGghPXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKWlmKE0obltzXSx0W3NdKSlyZXR1cm4hMTtyZXR1cm4gam8+MCYmVm8mJlZvLnB1c2goZSksITB9Y29uc3QgQXI9IjMuNC4xNCIsRXI9byxJcj1vLFJyPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6bnVsbCxPcj1SciYmUnIuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxGcj17aW5zZXJ0OihlLHQsbik9Pnt0Lmluc2VydEJlZm9yZShlLG58fG51bGwpfSxyZW1vdmU6ZT0+e2NvbnN0IHQ9ZS5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQoZSl9LGNyZWF0ZUVsZW1lbnQ6KGUsdCxuLHMpPT57Y29uc3Qgbz0ic3ZnIj09PXQ/UnIuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZSk6Im1hdGhtbCI9PT10P1JyLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIsZSk6UnIuY3JlYXRlRWxlbWVudChlLG4/e2lzOm59OnZvaWQgMCk7cmV0dXJuInNlbGVjdCI9PT1lJiZzJiZudWxsIT1zLm11bHRpcGxlJiZvLnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLHMubXVsdGlwbGUpLG99LGNyZWF0ZVRleHQ6ZT0+UnIuY3JlYXRlVGV4dE5vZGUoZSksY3JlYXRlQ29tbWVudDplPT5Sci5jcmVhdGVDb21tZW50KGUpLHNldFRleHQ6KGUsdCk9PntlLm5vZGVWYWx1ZT10fSxzZXRFbGVtZW50VGV4dDooZSx0KT0+e2UudGV4dENvbnRlbnQ9dH0scGFyZW50Tm9kZTplPT5lLnBhcmVudE5vZGUsbmV4dFNpYmxpbmc6ZT0+ZS5uZXh0U2libGluZyxxdWVyeVNlbGVjdG9yOmU9PlJyLnF1ZXJ5U2VsZWN0b3IoZSksc2V0U2NvcGVJZChlLHQpe2Uuc2V0QXR0cmlidXRlKHQsIiIpfSxpbnNlcnRTdGF0aWNDb250ZW50KGUsdCxuLHMsbyxyKXtjb25zdCBpPW4/bi5wcmV2aW91c1NpYmxpbmc6dC5sYXN0Q2hpbGQ7aWYobyYmKG89PT1yfHxvLm5leHRTaWJsaW5nKSlmb3IoO3QuaW5zZXJ0QmVmb3JlKG8uY2xvbmVOb2RlKCEwKSxuKSxvIT09ciYmKG89by5uZXh0U2libGluZyk7KTtlbHNle09yLmlubmVySFRNTD0ic3ZnIj09PXM/YDxzdmc+JHtlfTwvc3ZnPmA6Im1hdGhtbCI9PT1zP2A8bWF0aD4ke2V9PC9tYXRoPmA6ZTtjb25zdCBvPU9yLmNvbnRlbnQ7aWYoInN2ZyI9PT1zfHwibWF0aG1sIj09PXMpe2NvbnN0IGU9by5maXJzdENoaWxkO2Zvcig7ZS5maXJzdENoaWxkOylvLmFwcGVuZENoaWxkKGUuZmlyc3RDaGlsZCk7by5yZW1vdmVDaGlsZChlKX10Lmluc2VydEJlZm9yZShvLG4pfXJldHVybltpP2kubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkLG4/bi5wcmV2aW91c1NpYmxpbmc6dC5sYXN0Q2hpbGRdfX0sTHI9InRyYW5zaXRpb24iLE1yPSJhbmltYXRpb24iLFByPVN5bWJvbCgiX3Z0YyIpLCRyPShlLHtzbG90czp0fSk9PndyKEpuLGpyKGUpLHQpOyRyLmRpc3BsYXlOYW1lPSJUcmFuc2l0aW9uIjtjb25zdCBCcj17bmFtZTpTdHJpbmcsdHlwZTpTdHJpbmcsY3NzOnt0eXBlOkJvb2xlYW4sZGVmYXVsdDohMH0sZHVyYXRpb246W1N0cmluZyxOdW1iZXIsT2JqZWN0XSxlbnRlckZyb21DbGFzczpTdHJpbmcsZW50ZXJBY3RpdmVDbGFzczpTdHJpbmcsZW50ZXJUb0NsYXNzOlN0cmluZyxhcHBlYXJGcm9tQ2xhc3M6U3RyaW5nLGFwcGVhckFjdGl2ZUNsYXNzOlN0cmluZyxhcHBlYXJUb0NsYXNzOlN0cmluZyxsZWF2ZUZyb21DbGFzczpTdHJpbmcsbGVhdmVBY3RpdmVDbGFzczpTdHJpbmcsbGVhdmVUb0NsYXNzOlN0cmluZ30sVnI9JHIucHJvcHM9Yyh7fSxHbixCciksRHI9KGUsdD1bXSk9PntwKGUpP2UuZm9yRWFjaCgoZT0+ZSguLi50KSkpOmUmJmUoLi4udCl9LFVyPWU9PiEhZSYmKHAoZSk/ZS5zb21lKChlPT5lLmxlbmd0aD4xKSk6ZS5sZW5ndGg+MSk7ZnVuY3Rpb24ganIoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgYyBpbiBlKWMgaW4gQnJ8fCh0W2NdPWVbY10pO2lmKCExPT09ZS5jc3MpcmV0dXJuIHQ7Y29uc3R7bmFtZTpuPSJ2Iix0eXBlOnMsZHVyYXRpb246byxlbnRlckZyb21DbGFzczpyPWAke259LWVudGVyLWZyb21gLGVudGVyQWN0aXZlQ2xhc3M6aT1gJHtufS1lbnRlci1hY3RpdmVgLGVudGVyVG9DbGFzczpsPWAke259LWVudGVyLXRvYCxhcHBlYXJGcm9tQ2xhc3M6YT1yLGFwcGVhckFjdGl2ZUNsYXNzOnU9aSxhcHBlYXJUb0NsYXNzOmQ9bCxsZWF2ZUZyb21DbGFzczpwPWAke259LWxlYXZlLWZyb21gLGxlYXZlQWN0aXZlQ2xhc3M6aD1gJHtufS1sZWF2ZS1hY3RpdmVgLGxlYXZlVG9DbGFzczpmPWAke259LWxlYXZlLXRvYH09ZSxtPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoYihlKSlyZXR1cm5bSHIoZS5lbnRlciksSHIoZS5sZWF2ZSldO3tjb25zdCB0PUhyKGUpO3JldHVyblt0LHRdfX0obyksZz1tJiZtWzBdLHY9bSYmbVsxXSx7b25CZWZvcmVFbnRlcjp5LG9uRW50ZXI6XyxvbkVudGVyQ2FuY2VsbGVkOlMsb25MZWF2ZTp4LG9uTGVhdmVDYW5jZWxsZWQ6QyxvbkJlZm9yZUFwcGVhcjprPXksb25BcHBlYXI6VD1fLG9uQXBwZWFyQ2FuY2VsbGVkOnc9U309dCxOPShlLHQsbik9PntXcihlLHQ/ZDpsKSxXcihlLHQ/dTppKSxuJiZuKCl9LEE9KGUsdCk9PntlLl9pc0xlYXZpbmc9ITEsV3IoZSxwKSxXcihlLGYpLFdyKGUsaCksdCYmdCgpfSxFPWU9Pih0LG4pPT57Y29uc3Qgbz1lP1Q6XyxpPSgpPT5OKHQsZSxuKTtEcihvLFt0LGldKSxLcigoKCk9PntXcih0LGU/YTpyKSxxcih0LGU/ZDpsKSxVcihvKXx8R3IodCxzLGcsaSl9KSl9O3JldHVybiBjKHQse29uQmVmb3JlRW50ZXIoZSl7RHIoeSxbZV0pLHFyKGUscikscXIoZSxpKX0sb25CZWZvcmVBcHBlYXIoZSl7RHIoayxbZV0pLHFyKGUsYSkscXIoZSx1KX0sb25FbnRlcjpFKCExKSxvbkFwcGVhcjpFKCEwKSxvbkxlYXZlKGUsdCl7ZS5faXNMZWF2aW5nPSEwO2NvbnN0IG49KCk9PkEoZSx0KTtxcihlLHApLFpyKCkscXIoZSxoKSxLcigoKCk9PntlLl9pc0xlYXZpbmcmJihXcihlLHApLHFyKGUsZiksVXIoeCl8fEdyKGUscyx2LG4pKX0pKSxEcih4LFtlLG5dKX0sb25FbnRlckNhbmNlbGxlZChlKXtOKGUsITEpLERyKFMsW2VdKX0sb25BcHBlYXJDYW5jZWxsZWQoZSl7TihlLCEwKSxEcih3LFtlXSl9LG9uTGVhdmVDYW5jZWxsZWQoZSl7QShlKSxEcihDLFtlXSl9fSl9ZnVuY3Rpb24gSHIoZSl7cmV0dXJuIFYoZSl9ZnVuY3Rpb24gcXIoZSx0KXt0LnNwbGl0KC9ccysvKS5mb3JFYWNoKCh0PT50JiZlLmNsYXNzTGlzdC5hZGQodCkpKSwoZVtQcl18fChlW1ByXT1uZXcgU2V0KSkuYWRkKHQpfWZ1bmN0aW9uIFdyKGUsdCl7dC5zcGxpdCgvXHMrLykuZm9yRWFjaCgodD0+dCYmZS5jbGFzc0xpc3QucmVtb3ZlKHQpKSk7Y29uc3Qgbj1lW1ByXTtuJiYobi5kZWxldGUodCksbi5zaXplfHwoZVtQcl09dm9pZCAwKSl9ZnVuY3Rpb24gS3IoZSl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3JlcXVlc3RBbmltYXRpb25GcmFtZShlKX0pKX1sZXQgenI9MDtmdW5jdGlvbiBHcihlLHQsbixzKXtjb25zdCBvPWUuX2VuZElkPSsrenIscj0oKT0+e289PT1lLl9lbmRJZCYmcygpfTtpZihuKXJldHVybiBzZXRUaW1lb3V0KHIsbik7Y29uc3R7dHlwZTppLHRpbWVvdXQ6bCxwcm9wQ291bnQ6Y309SnIoZSx0KTtpZighaSlyZXR1cm4gcygpO2NvbnN0IGE9aSsiZW5kIjtsZXQgdT0wO2NvbnN0IGQ9KCk9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxwKSxyKCl9LHA9dD0+e3QudGFyZ2V0PT09ZSYmKyt1Pj1jJiZkKCl9O3NldFRpbWVvdXQoKCgpPT57dTxjJiZkKCl9KSxsKzEpLGUuYWRkRXZlbnRMaXN0ZW5lcihhLHApfWZ1bmN0aW9uIEpyKGUsdCl7Y29uc3Qgbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSxzPWU9PihuW2VdfHwiIikuc3BsaXQoIiwgIiksbz1zKGAke0xyfURlbGF5YCkscj1zKGAke0xyfUR1cmF0aW9uYCksaT1YcihvLHIpLGw9cyhgJHtNcn1EZWxheWApLGM9cyhgJHtNcn1EdXJhdGlvbmApLGE9WHIobCxjKTtsZXQgdT1udWxsLGQ9MCxwPTA7dD09PUxyP2k+MCYmKHU9THIsZD1pLHA9ci5sZW5ndGgpOnQ9PT1Ncj9hPjAmJih1PU1yLGQ9YSxwPWMubGVuZ3RoKTooZD1NYXRoLm1heChpLGEpLHU9ZD4wP2k+YT9McjpNcjpudWxsLHA9dT91PT09THI/ci5sZW5ndGg6Yy5sZW5ndGg6MCk7cmV0dXJue3R5cGU6dSx0aW1lb3V0OmQscHJvcENvdW50OnAsaGFzVHJhbnNmb3JtOnU9PT1MciYmL1xiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QocyhgJHtMcn1Qcm9wZXJ0eWApLnRvU3RyaW5nKCkpfX1mdW5jdGlvbiBYcihlLHQpe2Zvcig7ZS5sZW5ndGg8dC5sZW5ndGg7KWU9ZS5jb25jYXQoZSk7cmV0dXJuIE1hdGgubWF4KC4uLnQubWFwKCgodCxuKT0+UXIodCkrUXIoZVtuXSkpKSl9ZnVuY3Rpb24gUXIoZSl7cmV0dXJuImF1dG8iPT09ZT8wOjFlMypOdW1iZXIoZS5zbGljZSgwLC0xKS5yZXBsYWNlKCIsIiwiLiIpKX1mdW5jdGlvbiBacigpe3JldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodH1jb25zdCBZcj1TeW1ib2woIl92b2QiKSxlaT17YmVmb3JlTW91bnQoZSx7dmFsdWU6dH0se3RyYW5zaXRpb246bn0pe2VbWXJdPSJub25lIj09PWUuc3R5bGUuZGlzcGxheT8iIjplLnN0eWxlLmRpc3BsYXksbiYmdD9uLmJlZm9yZUVudGVyKGUpOnRpKGUsdCl9LG1vdW50ZWQoZSx7dmFsdWU6dH0se3RyYW5zaXRpb246bn0pe24mJnQmJm4uZW50ZXIoZSl9LHVwZGF0ZWQoZSx7dmFsdWU6dCxvbGRWYWx1ZTpufSx7dHJhbnNpdGlvbjpzfSl7IXQhPSFuJiYocz90PyhzLmJlZm9yZUVudGVyKGUpLHRpKGUsITApLHMuZW50ZXIoZSkpOnMubGVhdmUoZSwoKCk9Pnt0aShlLCExKX0pKTp0aShlLHQpKX0sYmVmb3JlVW5tb3VudChlLHt2YWx1ZTp0fSl7dGkoZSx0KX19O2Z1bmN0aW9uIHRpKGUsdCl7ZS5zdHlsZS5kaXNwbGF5PXQ/ZVtZcl06Im5vbmUifWNvbnN0IG5pPVN5bWJvbCgiIik7ZnVuY3Rpb24gc2koZSx0KXtpZigxMjgmZS5zaGFwZUZsYWcpe2NvbnN0IG49ZS5zdXNwZW5zZTtlPW4uYWN0aXZlQnJhbmNoLG4ucGVuZGluZ0JyYW5jaCYmIW4uaXNIeWRyYXRpbmcmJm4uZWZmZWN0cy5wdXNoKCgoKT0+e3NpKG4uYWN0aXZlQnJhbmNoLHQpfSkpfWZvcig7ZS5jb21wb25lbnQ7KWU9ZS5jb21wb25lbnQuc3ViVHJlZTtpZigxJmUuc2hhcGVGbGFnJiZlLmVsKW9pKGUuZWwsdCk7ZWxzZSBpZihlLnR5cGU9PT1MbyllLmNoaWxkcmVuLmZvckVhY2goKGU9PnNpKGUsdCkpKTtlbHNlIGlmKGUudHlwZT09PSRvKXtsZXR7ZWw6bixhbmNob3I6c309ZTtmb3IoO24mJihvaShuLHQpLG4hPT1zKTspbj1uLm5leHRTaWJsaW5nfX1mdW5jdGlvbiBvaShlLHQpe2lmKDE9PT1lLm5vZGVUeXBlKXtjb25zdCBuPWUuc3R5bGU7bGV0IHM9IiI7Zm9yKGNvbnN0IGUgaW4gdCluLnNldFByb3BlcnR5KGAtLSR7ZX1gLHRbZV0pLHMrPWAtLSR7ZX06ICR7dFtlXX07YDtuW25pXT1zfX1jb25zdCByaT0vXHMqIWltcG9ydGFudCQvO2Z1bmN0aW9uIGlpKGUsdCxuKXtpZihwKG4pKW4uZm9yRWFjaCgobj0+aWkoZSx0LG4pKSk7ZWxzZSBpZihudWxsPT1uJiYobj0iIiksdC5zdGFydHNXaXRoKCItLSIpKWUuc2V0UHJvcGVydHkodCxuKTtlbHNle2NvbnN0IHM9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWNpW3RdO2lmKG4pcmV0dXJuIG47bGV0IHM9SSh0KTtpZigiZmlsdGVyIiE9PXMmJnMgaW4gZSlyZXR1cm4gY2lbdF09cztzPUYocyk7Zm9yKGxldCBvPTA7bzxsaS5sZW5ndGg7bysrKXtjb25zdCBuPWxpW29dK3M7aWYobiBpbiBlKXJldHVybiBjaVt0XT1ufXJldHVybiB0fShlLHQpO3JpLnRlc3Qobik/ZS5zZXRQcm9wZXJ0eShPKHMpLG4ucmVwbGFjZShyaSwiIiksImltcG9ydGFudCIpOmVbc109bn19Y29uc3QgbGk9WyJXZWJraXQiLCJNb3oiLCJtcyJdLGNpPXt9O2NvbnN0IGFpPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIjtmdW5jdGlvbiB1aShlLHQsbixzKXtlLmFkZEV2ZW50TGlzdGVuZXIodCxuLHMpfWNvbnN0IGRpPVN5bWJvbCgiX3ZlaSIpO2Z1bmN0aW9uIHBpKGUsdCxuLHMsbz1udWxsKXtjb25zdCByPWVbZGldfHwoZVtkaV09e30pLGk9clt0XTtpZihzJiZpKWkudmFsdWU9cztlbHNle2NvbnN0W24sbF09ZnVuY3Rpb24oZSl7bGV0IHQ7aWYoaGkudGVzdChlKSl7bGV0IG47Zm9yKHQ9e307bj1lLm1hdGNoKGhpKTspZT1lLnNsaWNlKDAsZS5sZW5ndGgtblswXS5sZW5ndGgpLHRbblswXS50b0xvd2VyQ2FzZSgpXT0hMH1jb25zdCBuPSI6Ij09PWVbMl0/ZS5zbGljZSgzKTpPKGUuc2xpY2UoMikpO3JldHVybltuLHRdfSh0KTtpZihzKXtjb25zdCBpPXJbdF09ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWU9PntpZihlLl92dHMpe2lmKGUuX3Z0czw9bi5hdHRhY2hlZClyZXR1cm59ZWxzZSBlLl92dHM9RGF0ZS5ub3coKTtIdChmdW5jdGlvbihlLHQpe2lmKHAodCkpe2NvbnN0IG49ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247cmV0dXJuIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uPSgpPT57bi5jYWxsKGUpLGUuX3N0b3BwZWQ9ITB9LHQubWFwKChlPT50PT4hdC5fc3RvcHBlZCYmZSYmZSh0KSkpfXJldHVybiB0fShlLG4udmFsdWUpLHQsNSxbZV0pfTtyZXR1cm4gbi52YWx1ZT1lLG4uYXR0YWNoZWQ9Z2koKSxufShzLG8pO3VpKGUsbixpLGwpfWVsc2UgaSYmKCFmdW5jdGlvbihlLHQsbixzKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLHMpfShlLG4saSxsKSxyW3RdPXZvaWQgMCl9fWNvbnN0IGhpPS8oPzpPbmNlfFBhc3NpdmV8Q2FwdHVyZSkkLztsZXQgZmk9MDtjb25zdCBtaT1Qcm9taXNlLnJlc29sdmUoKSxnaT0oKT0+Zml8fChtaS50aGVuKCgoKT0+Zmk9MCkpLGZpPURhdGUubm93KCkpO2NvbnN0IHZpPWU9PjExMT09PWUuY2hhckNvZGVBdCgwKSYmMTEwPT09ZS5jaGFyQ29kZUF0KDEpJiZlLmNoYXJDb2RlQXQoMik+OTYmJmUuY2hhckNvZGVBdCgyKTwxMjM7Ci8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqLwpmdW5jdGlvbiB5aShlLHQpe2NvbnN0IG49bnMoZSk7Y2xhc3MgcyBleHRlbmRzIF9pe2NvbnN0cnVjdG9yKGUpe3N1cGVyKG4sZSx0KX19cmV0dXJuIHMuZGVmPW4sc30KLyohICNfX05PX1NJREVfRUZGRUNUU19fICovY29uc3QgYmk9InVuZGVmaW5lZCIhPXR5cGVvZiBIVE1MRWxlbWVudD9IVE1MRWxlbWVudDpjbGFzc3t9O2NsYXNzIF9pIGV4dGVuZHMgYml7Y29uc3RydWN0b3IoZSx0PXt9LG4pe3N1cGVyKCksdGhpcy5fZGVmPWUsdGhpcy5fcHJvcHM9dCx0aGlzLl9pbnN0YW5jZT1udWxsLHRoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzLl9yZXNvbHZlZD0hMSx0aGlzLl9udW1iZXJQcm9wcz1udWxsLHRoaXMuX29iPW51bGwsdGhpcy5zaGFkb3dSb290JiZuP24odGhpcy5fY3JlYXRlVk5vZGUoKSx0aGlzLnNoYWRvd1Jvb3QpOih0aGlzLmF0dGFjaFNoYWRvdyh7bW9kZToib3BlbiJ9KSx0aGlzLl9kZWYuX19hc3luY0xvYWRlcnx8dGhpcy5fcmVzb2x2ZVByb3BzKHRoaXMuX2RlZikpfWNvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5fY29ubmVjdGVkPSEwLHRoaXMuX2luc3RhbmNlfHwodGhpcy5fcmVzb2x2ZWQ/dGhpcy5fdXBkYXRlKCk6dGhpcy5fcmVzb2x2ZURlZigpKX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuX2Nvbm5lY3RlZD0hMSx0aGlzLl9vYiYmKHRoaXMuX29iLmRpc2Nvbm5lY3QoKSx0aGlzLl9vYj1udWxsKSxlbigoKCk9Pnt0aGlzLl9jb25uZWN0ZWR8fChaaShudWxsLHRoaXMuc2hhZG93Um9vdCksdGhpcy5faW5zdGFuY2U9bnVsbCl9KSl9X3Jlc29sdmVEZWYoKXt0aGlzLl9yZXNvbHZlZD0hMDtmb3IobGV0IG49MDtuPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7bisrKXRoaXMuX3NldEF0dHIodGhpcy5hdHRyaWJ1dGVzW25dLm5hbWUpO3RoaXMuX29iPW5ldyBNdXRhdGlvbk9ic2VydmVyKChlPT57Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9zZXRBdHRyKHQuYXR0cmlidXRlTmFtZSl9KSksdGhpcy5fb2Iub2JzZXJ2ZSh0aGlzLHthdHRyaWJ1dGVzOiEwfSk7Y29uc3QgZT0oZSx0PSExKT0+e2NvbnN0e3Byb3BzOm4sc3R5bGVzOnN9PWU7bGV0IG87aWYobiYmIXAobikpZm9yKGNvbnN0IHIgaW4gbil7Y29uc3QgZT1uW3JdOyhlPT09TnVtYmVyfHxlJiZlLnR5cGU9PT1OdW1iZXIpJiYociBpbiB0aGlzLl9wcm9wcyYmKHRoaXMuX3Byb3BzW3JdPVYodGhpcy5fcHJvcHNbcl0pKSwob3x8KG89T2JqZWN0LmNyZWF0ZShudWxsKSkpW0kocildPSEwKX10aGlzLl9udW1iZXJQcm9wcz1vLHQmJnRoaXMuX3Jlc29sdmVQcm9wcyhlKSx0aGlzLl9hcHBseVN0eWxlcyhzKSx0aGlzLl91cGRhdGUoKX0sdD10aGlzLl9kZWYuX19hc3luY0xvYWRlcjt0P3QoKS50aGVuKCh0PT5lKHQsITApKSk6ZSh0aGlzLl9kZWYpfV9yZXNvbHZlUHJvcHMoZSl7Y29uc3R7cHJvcHM6dH09ZSxuPXAodCk/dDpPYmplY3Qua2V5cyh0fHx7fSk7Zm9yKGNvbnN0IHMgb2YgT2JqZWN0LmtleXModGhpcykpIl8iIT09c1swXSYmbi5pbmNsdWRlcyhzKSYmdGhpcy5fc2V0UHJvcChzLHRoaXNbc10sITAsITEpO2Zvcihjb25zdCBzIG9mIG4ubWFwKEkpKU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHMse2dldCgpe3JldHVybiB0aGlzLl9nZXRQcm9wKHMpfSxzZXQoZSl7dGhpcy5fc2V0UHJvcChzLGUpfX0pfV9zZXRBdHRyKGUpe2xldCB0PXRoaXMuZ2V0QXR0cmlidXRlKGUpO2NvbnN0IG49SShlKTt0aGlzLl9udW1iZXJQcm9wcyYmdGhpcy5fbnVtYmVyUHJvcHNbbl0mJih0PVYodCkpLHRoaXMuX3NldFByb3Aobix0LCExKX1fZ2V0UHJvcChlKXtyZXR1cm4gdGhpcy5fcHJvcHNbZV19X3NldFByb3AoZSx0LG49ITAscz0hMCl7dCE9PXRoaXMuX3Byb3BzW2VdJiYodGhpcy5fcHJvcHNbZV09dCxzJiZ0aGlzLl9pbnN0YW5jZSYmdGhpcy5fdXBkYXRlKCksbiYmKCEwPT09dD90aGlzLnNldEF0dHJpYnV0ZShPKGUpLCIiKToic3RyaW5nIj09dHlwZW9mIHR8fCJudW1iZXIiPT10eXBlb2YgdD90aGlzLnNldEF0dHJpYnV0ZShPKGUpLHQrIiIpOnR8fHRoaXMucmVtb3ZlQXR0cmlidXRlKE8oZSkpKSl9X3VwZGF0ZSgpe1ppKHRoaXMuX2NyZWF0ZVZOb2RlKCksdGhpcy5zaGFkb3dSb290KX1fY3JlYXRlVk5vZGUoKXtjb25zdCBlPVpvKHRoaXMuX2RlZixjKHt9LHRoaXMuX3Byb3BzKSk7cmV0dXJuIHRoaXMuX2luc3RhbmNlfHwoZS5jZT1lPT57dGhpcy5faW5zdGFuY2U9ZSxlLmlzQ0U9ITA7Y29uc3QgdD0oZSx0KT0+e3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZSx7ZGV0YWlsOnR9KSl9O2UuZW1pdD0oZSwuLi5uKT0+e3QoZSxuKSxPKGUpIT09ZSYmdChPKGUpLG4pfTtsZXQgbj10aGlzO2Zvcig7bj1uJiYobi5wYXJlbnROb2RlfHxuLmhvc3QpOylpZihuIGluc3RhbmNlb2YgX2kpe2UucGFyZW50PW4uX2luc3RhbmNlLGUucHJvdmlkZXM9bi5faW5zdGFuY2UucHJvdmlkZXM7YnJlYWt9fSksZX1fYXBwbHlTdHlsZXMoZSl7ZSYmZS5mb3JFYWNoKChlPT57Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO3QudGV4dENvbnRlbnQ9ZSx0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodCl9KSl9fWNvbnN0IFNpPW5ldyBXZWFrTWFwLHhpPW5ldyBXZWFrTWFwLENpPVN5bWJvbCgiX21vdmVDYiIpLGtpPVN5bWJvbCgiX2VudGVyQ2IiKSxUaT17bmFtZToiVHJhbnNpdGlvbkdyb3VwIixwcm9wczpjKHt9LFZyLHt0YWc6U3RyaW5nLG1vdmVDbGFzczpTdHJpbmd9KSxzZXR1cChlLHtzbG90czp0fSl7Y29uc3Qgbj11cigpLHM9S24oKTtsZXQgbyxyO3JldHVybiBicygoKCk9PntpZighby5sZW5ndGgpcmV0dXJuO2NvbnN0IHQ9ZS5tb3ZlQ2xhc3N8fGAke2UubmFtZXx8InYifS1tb3ZlYDtpZighZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHM9ZS5jbG9uZU5vZGUoKSxvPWVbUHJdO28mJm8uZm9yRWFjaCgoZT0+e2Uuc3BsaXQoL1xzKy8pLmZvckVhY2goKGU9PmUmJnMuY2xhc3NMaXN0LnJlbW92ZShlKSkpfSkpO24uc3BsaXQoL1xzKy8pLmZvckVhY2goKGU9PmUmJnMuY2xhc3NMaXN0LmFkZChlKSkpLHMuc3R5bGUuZGlzcGxheT0ibm9uZSI7Y29uc3Qgcj0xPT09dC5ub2RlVHlwZT90OnQucGFyZW50Tm9kZTtyLmFwcGVuZENoaWxkKHMpO2NvbnN0e2hhc1RyYW5zZm9ybTppfT1KcihzKTtyZXR1cm4gci5yZW1vdmVDaGlsZChzKSxpfShvWzBdLmVsLG4udm5vZGUuZWwsdCkpcmV0dXJuO28uZm9yRWFjaChOaSksby5mb3JFYWNoKEFpKTtjb25zdCBzPW8uZmlsdGVyKEVpKTtacigpLHMuZm9yRWFjaCgoZT0+e2NvbnN0IG49ZS5lbCxzPW4uc3R5bGU7cXIobix0KSxzLnRyYW5zZm9ybT1zLndlYmtpdFRyYW5zZm9ybT1zLnRyYW5zaXRpb25EdXJhdGlvbj0iIjtjb25zdCBvPW5bQ2ldPWU9PntlJiZlLnRhcmdldCE9PW58fGUmJiEvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSl8fChuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLG8pLG5bQ2ldPW51bGwsV3Iobix0KSl9O24uYWRkRXZlbnRMaXN0ZW5lcigidHJhbnNpdGlvbmVuZCIsbyl9KSl9KSksKCk9Pntjb25zdCBpPUN0KGUpLGw9anIoaSk7bGV0IGM9aS50YWd8fExvO289cixyPXQuZGVmYXVsdD90cyh0LmRlZmF1bHQoKSk6W107Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0IHQ9cltlXTtudWxsIT10LmtleSYmZXModCxRbih0LGwscyxuKSl9aWYobylmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3QgdD1vW2VdO2VzKHQsUW4odCxsLHMsbikpLFNpLnNldCh0LHQuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfXJldHVybiBabyhjLG51bGwscil9fX0sd2k9VGk7ZnVuY3Rpb24gTmkoZSl7Y29uc3QgdD1lLmVsO3RbQ2ldJiZ0W0NpXSgpLHRba2ldJiZ0W2tpXSgpfWZ1bmN0aW9uIEFpKGUpe3hpLnNldChlLGUuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpfWZ1bmN0aW9uIEVpKGUpe2NvbnN0IHQ9U2kuZ2V0KGUpLG49eGkuZ2V0KGUpLHM9dC5sZWZ0LW4ubGVmdCxvPXQudG9wLW4udG9wO2lmKHN8fG8pe2NvbnN0IHQ9ZS5lbC5zdHlsZTtyZXR1cm4gdC50cmFuc2Zvcm09dC53ZWJraXRUcmFuc2Zvcm09YHRyYW5zbGF0ZSgke3N9cHgsJHtvfXB4KWAsdC50cmFuc2l0aW9uRHVyYXRpb249IjBzIixlfX1jb25zdCBJaT1lPT57Y29uc3QgdD1lLnByb3BzWyJvblVwZGF0ZTptb2RlbFZhbHVlIl18fCExO3JldHVybiBwKHQpP2U9PlAodCxlKTp0fTtmdW5jdGlvbiBSaShlKXtlLnRhcmdldC5jb21wb3Npbmc9ITB9ZnVuY3Rpb24gT2koZSl7Y29uc3QgdD1lLnRhcmdldDt0LmNvbXBvc2luZyYmKHQuY29tcG9zaW5nPSExLHQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoImlucHV0IikpKX1jb25zdCBGaT1TeW1ib2woIl9hc3NpZ24iKSxMaT17Y3JlYXRlZChlLHttb2RpZmllcnM6e2xhenk6dCx0cmltOm4sbnVtYmVyOnN9fSxvKXtlW0ZpXT1JaShvKTtjb25zdCByPXN8fG8ucHJvcHMmJiJudW1iZXIiPT09by5wcm9wcy50eXBlO3VpKGUsdD8iY2hhbmdlIjoiaW5wdXQiLCh0PT57aWYodC50YXJnZXQuY29tcG9zaW5nKXJldHVybjtsZXQgcz1lLnZhbHVlO24mJihzPXMudHJpbSgpKSxyJiYocz1CKHMpKSxlW0ZpXShzKX0pKSxuJiZ1aShlLCJjaGFuZ2UiLCgoKT0+e2UudmFsdWU9ZS52YWx1ZS50cmltKCl9KSksdHx8KHVpKGUsImNvbXBvc2l0aW9uc3RhcnQiLFJpKSx1aShlLCJjb21wb3NpdGlvbmVuZCIsT2kpLHVpKGUsImNoYW5nZSIsT2kpKX0sbW91bnRlZChlLHt2YWx1ZTp0fSl7ZS52YWx1ZT1udWxsPT10PyIiOnR9LGJlZm9yZVVwZGF0ZShlLHt2YWx1ZTp0LG1vZGlmaWVyczp7bGF6eTpuLHRyaW06cyxudW1iZXI6b319LHIpe2lmKGVbRmldPUlpKHIpLGUuY29tcG9zaW5nKXJldHVybjtjb25zdCBpPW51bGw9PXQ/IiI6dDtpZigob3x8Im51bWJlciI9PT1lLnR5cGU/QihlLnZhbHVlKTplLnZhbHVlKSE9PWkpe2lmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lJiYicmFuZ2UiIT09ZS50eXBlKXtpZihuKXJldHVybjtpZihzJiZlLnZhbHVlLnRyaW0oKT09PWkpcmV0dXJufWUudmFsdWU9aX19fSxNaT17ZGVlcDohMCxjcmVhdGVkKGUsdCxuKXtlW0ZpXT1JaShuKSx1aShlLCJjaGFuZ2UiLCgoKT0+e2NvbnN0IHQ9ZS5fbW9kZWxWYWx1ZSxuPURpKGUpLHM9ZS5jaGVja2VkLG89ZVtGaV07aWYocCh0KSl7Y29uc3QgZT1uZSh0LG4pLHI9LTEhPT1lO2lmKHMmJiFyKW8odC5jb25jYXQobikpO2Vsc2UgaWYoIXMmJnIpe2NvbnN0IG49Wy4uLnRdO24uc3BsaWNlKGUsMSksbyhuKX19ZWxzZSBpZihmKHQpKXtjb25zdCBlPW5ldyBTZXQodCk7cz9lLmFkZChuKTplLmRlbGV0ZShuKSxvKGUpfWVsc2UgbyhVaShlLHMpKX0pKX0sbW91bnRlZDpQaSxiZWZvcmVVcGRhdGUoZSx0LG4pe2VbRmldPUlpKG4pLFBpKGUsdCxuKX19O2Z1bmN0aW9uIFBpKGUse3ZhbHVlOnQsb2xkVmFsdWU6bn0scyl7ZS5fbW9kZWxWYWx1ZT10LHAodCk/ZS5jaGVja2VkPW5lKHQscy5wcm9wcy52YWx1ZSk+LTE6Zih0KT9lLmNoZWNrZWQ9dC5oYXMocy5wcm9wcy52YWx1ZSk6dCE9PW4mJihlLmNoZWNrZWQ9dGUodCxVaShlLCEwKSkpfWNvbnN0ICRpPXtjcmVhdGVkKGUse3ZhbHVlOnR9LG4pe2UuY2hlY2tlZD10ZSh0LG4ucHJvcHMudmFsdWUpLGVbRmldPUlpKG4pLHVpKGUsImNoYW5nZSIsKCgpPT57ZVtGaV0oRGkoZSkpfSkpfSxiZWZvcmVVcGRhdGUoZSx7dmFsdWU6dCxvbGRWYWx1ZTpufSxzKXtlW0ZpXT1JaShzKSx0IT09biYmKGUuY2hlY2tlZD10ZSh0LHMucHJvcHMudmFsdWUpKX19LEJpPXtkZWVwOiEwLGNyZWF0ZWQoZSx7dmFsdWU6dCxtb2RpZmllcnM6e251bWJlcjpufX0scyl7Y29uc3Qgbz1mKHQpO3VpKGUsImNoYW5nZSIsKCgpPT57Y29uc3QgdD1BcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS5vcHRpb25zLChlPT5lLnNlbGVjdGVkKSkubWFwKChlPT5uP0IoRGkoZSkpOkRpKGUpKSk7ZVtGaV0oZS5tdWx0aXBsZT9vP25ldyBTZXQodCk6dDp0WzBdKX0pKSxlW0ZpXT1JaShzKX0sbW91bnRlZChlLHt2YWx1ZTp0fSl7VmkoZSx0KX0sYmVmb3JlVXBkYXRlKGUsdCxuKXtlW0ZpXT1JaShuKX0sdXBkYXRlZChlLHt2YWx1ZTp0fSl7VmkoZSx0KX19O2Z1bmN0aW9uIFZpKGUsdCl7Y29uc3Qgbj1lLm11bHRpcGxlO2lmKCFufHxwKHQpfHxmKHQpKXtmb3IobGV0IHM9MCxvPWUub3B0aW9ucy5sZW5ndGg7czxvO3MrKyl7Y29uc3Qgbz1lLm9wdGlvbnNbc10scj1EaShvKTtpZihuKW8uc2VsZWN0ZWQ9cCh0KT9uZSh0LHIpPi0xOnQuaGFzKHIpO2Vsc2UgaWYodGUoRGkobyksdCkpcmV0dXJuIHZvaWQoZS5zZWxlY3RlZEluZGV4IT09cyYmKGUuc2VsZWN0ZWRJbmRleD1zKSl9bnx8LTE9PT1lLnNlbGVjdGVkSW5kZXh8fChlLnNlbGVjdGVkSW5kZXg9LTEpfX1mdW5jdGlvbiBEaShlKXtyZXR1cm4iX3ZhbHVlImluIGU/ZS5fdmFsdWU6ZS52YWx1ZX1mdW5jdGlvbiBVaShlLHQpe2NvbnN0IG49dD8iX3RydWVWYWx1ZSI6Il9mYWxzZVZhbHVlIjtyZXR1cm4gbiBpbiBlP2Vbbl06dH1jb25zdCBqaT17Y3JlYXRlZChlLHQsbil7SGkoZSx0LG4sbnVsbCwiY3JlYXRlZCIpfSxtb3VudGVkKGUsdCxuKXtIaShlLHQsbixudWxsLCJtb3VudGVkIil9LGJlZm9yZVVwZGF0ZShlLHQsbixzKXtIaShlLHQsbixzLCJiZWZvcmVVcGRhdGUiKX0sdXBkYXRlZChlLHQsbixzKXtIaShlLHQsbixzLCJ1cGRhdGVkIil9fTtmdW5jdGlvbiBIaShlLHQsbixzLG8pe2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSJTRUxFQ1QiOnJldHVybiBCaTtjYXNlIlRFWFRBUkVBIjpyZXR1cm4gTGk7ZGVmYXVsdDpzd2l0Y2godCl7Y2FzZSJjaGVja2JveCI6cmV0dXJuIE1pO2Nhc2UicmFkaW8iOnJldHVybiAkaTtkZWZhdWx0OnJldHVybiBMaX19fShlLnRhZ05hbWUsbi5wcm9wcyYmbi5wcm9wcy50eXBlKVtvXTtyJiZyKGUsdCxuLHMpfWNvbnN0IHFpPVsiY3RybCIsInNoaWZ0IiwiYWx0IiwibWV0YSJdLFdpPXtzdG9wOmU9PmUuc3RvcFByb3BhZ2F0aW9uKCkscHJldmVudDplPT5lLnByZXZlbnREZWZhdWx0KCksc2VsZjplPT5lLnRhcmdldCE9PWUuY3VycmVudFRhcmdldCxjdHJsOmU9PiFlLmN0cmxLZXksc2hpZnQ6ZT0+IWUuc2hpZnRLZXksYWx0OmU9PiFlLmFsdEtleSxtZXRhOmU9PiFlLm1ldGFLZXksbGVmdDplPT4iYnV0dG9uImluIGUmJjAhPT1lLmJ1dHRvbixtaWRkbGU6ZT0+ImJ1dHRvbiJpbiBlJiYxIT09ZS5idXR0b24scmlnaHQ6ZT0+ImJ1dHRvbiJpbiBlJiYyIT09ZS5idXR0b24sZXhhY3Q6KGUsdCk9PnFpLnNvbWUoKG49PmVbYCR7bn1LZXlgXSYmIXQuaW5jbHVkZXMobikpKX0sS2k9e2VzYzoiZXNjYXBlIixzcGFjZToiICIsdXA6ImFycm93LXVwIixsZWZ0OiJhcnJvdy1sZWZ0IixyaWdodDoiYXJyb3ctcmlnaHQiLGRvd246ImFycm93LWRvd24iLGRlbGV0ZToiYmFja3NwYWNlIn0semk9Yyh7cGF0Y2hQcm9wOihlLHQsbixzLG8scixjLGEsdSk9Pntjb25zdCBkPSJzdmciPT09bzsiY2xhc3MiPT09dD9mdW5jdGlvbihlLHQsbil7Y29uc3Qgcz1lW1ByXTtzJiYodD0odD9bdCwuLi5zXTpbLi4uc10pLmpvaW4oIiAiKSksbnVsbD09dD9lLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKTpuP2Uuc2V0QXR0cmlidXRlKCJjbGFzcyIsdCk6ZS5jbGFzc05hbWU9dH0oZSxzLGQpOiJzdHlsZSI9PT10P2Z1bmN0aW9uKGUsdCxuKXtjb25zdCBzPWUuc3R5bGUsbz1zLmRpc3BsYXkscj12KG4pO2lmKG4mJiFyKXtpZih0JiYhdih0KSlmb3IoY29uc3QgZSBpbiB0KW51bGw9PW5bZV0mJmlpKHMsZSwiIik7Zm9yKGNvbnN0IGUgaW4gbilpaShzLGUsbltlXSl9ZWxzZSBpZihyKXtpZih0IT09bil7Y29uc3QgZT1zW25pXTtlJiYobis9IjsiK2UpLHMuY3NzVGV4dD1ufX1lbHNlIHQmJmUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpO1lyIGluIGUmJihzLmRpc3BsYXk9byl9KGUsbixzKTppKHQpP2wodCl8fHBpKGUsdCwwLHMsYyk6KCIuIj09PXRbMF0/KHQ9dC5zbGljZSgxKSwxKToiXiI9PT10WzBdPyh0PXQuc2xpY2UoMSksMCk6ZnVuY3Rpb24oZSx0LG4scyl7aWYocylyZXR1cm4iaW5uZXJIVE1MIj09PXR8fCJ0ZXh0Q29udGVudCI9PT10fHwhISh0IGluIGUmJnZpKHQpJiZnKG4pKTtpZigic3BlbGxjaGVjayI9PT10fHwiZHJhZ2dhYmxlIj09PXR8fCJ0cmFuc2xhdGUiPT09dClyZXR1cm4hMTtpZigiZm9ybSI9PT10KXJldHVybiExO2lmKCJsaXN0Ij09PXQmJiJJTlBVVCI9PT1lLnRhZ05hbWUpcmV0dXJuITE7aWYoInR5cGUiPT09dCYmIlRFWFRBUkVBIj09PWUudGFnTmFtZSlyZXR1cm4hMTtpZigid2lkdGgiPT09dHx8ImhlaWdodCI9PT10KXtjb25zdCB0PWUudGFnTmFtZTtpZigiSU1HIj09PXR8fCJWSURFTyI9PT10fHwiQ0FOVkFTIj09PXR8fCJTT1VSQ0UiPT09dClyZXR1cm4hMX1pZih2aSh0KSYmdihuKSlyZXR1cm4hMTtyZXR1cm4gdCBpbiBlfShlLHQscyxkKSk/ZnVuY3Rpb24oZSx0LG4scyxvLHIsaSl7aWYoImlubmVySFRNTCI9PT10fHwidGV4dENvbnRlbnQiPT09dClyZXR1cm4gcyYmaShzLG8sciksdm9pZChlW3RdPW51bGw9PW4/IiI6bik7Y29uc3QgbD1lLnRhZ05hbWU7aWYoInZhbHVlIj09PXQmJiJQUk9HUkVTUyIhPT1sJiYhbC5pbmNsdWRlcygiLSIpKXtlLl92YWx1ZT1uO2NvbnN0IHM9bnVsbD09bj8iIjpuO3JldHVybigiT1BUSU9OIj09PWw/ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik6ZS52YWx1ZSkhPT1zJiYoZS52YWx1ZT1zKSx2b2lkKG51bGw9PW4mJmUucmVtb3ZlQXR0cmlidXRlKHQpKX1sZXQgYz0hMTtpZigiIj09PW58fG51bGw9PW4pe2NvbnN0IHM9dHlwZW9mIGVbdF07ImJvb2xlYW4iPT09cz9uPWVlKG4pOm51bGw9PW4mJiJzdHJpbmciPT09cz8obj0iIixjPSEwKToibnVtYmVyIj09PXMmJihuPTAsYz0hMCl9dHJ5e2VbdF09bn1jYXRjaChhKXt9YyYmZS5yZW1vdmVBdHRyaWJ1dGUodCl9KGUsdCxzLHIsYyxhLHUpOigidHJ1ZS12YWx1ZSI9PT10P2UuX3RydWVWYWx1ZT1zOiJmYWxzZS12YWx1ZSI9PT10JiYoZS5fZmFsc2VWYWx1ZT1zKSxmdW5jdGlvbihlLHQsbixzLG8pe2lmKHMmJnQuc3RhcnRzV2l0aCgieGxpbms6IikpbnVsbD09bj9lLnJlbW92ZUF0dHJpYnV0ZU5TKGFpLHQuc2xpY2UoNix0Lmxlbmd0aCkpOmUuc2V0QXR0cmlidXRlTlMoYWksdCxuKTtlbHNle2NvbnN0IHM9WSh0KTtudWxsPT1ufHxzJiYhZWUobik/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxzPyIiOm4pfX0oZSx0LHMsZCkpfX0sRnIpO2xldCBHaSxKaT0hMTtmdW5jdGlvbiBYaSgpe3JldHVybiBHaXx8KEdpPWJvKHppKSl9ZnVuY3Rpb24gUWkoKXtyZXR1cm4gR2k9Smk/R2k6X28oemkpLEppPSEwLEdpfWNvbnN0IFppPSguLi5lKT0+e1hpKCkucmVuZGVyKC4uLmUpfSxZaT0oLi4uZSk9PntRaSgpLmh5ZHJhdGUoLi4uZSl9O2Z1bmN0aW9uIGVsKGUpe3JldHVybiBlIGluc3RhbmNlb2YgU1ZHRWxlbWVudD8ic3ZnIjoiZnVuY3Rpb24iPT10eXBlb2YgTWF0aE1MRWxlbWVudCYmZSBpbnN0YW5jZW9mIE1hdGhNTEVsZW1lbnQ/Im1hdGhtbCI6dm9pZCAwfWZ1bmN0aW9uIHRsKGUpe2lmKHYoZSkpe3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpfXJldHVybiBlfWNvbnN0IG5sPW8sc2w9U3ltYm9sKCIiKSxvbD1TeW1ib2woIiIpLHJsPVN5bWJvbCgiIiksaWw9U3ltYm9sKCIiKSxsbD1TeW1ib2woIiIpLGNsPVN5bWJvbCgiIiksYWw9U3ltYm9sKCIiKSx1bD1TeW1ib2woIiIpLGRsPVN5bWJvbCgiIikscGw9U3ltYm9sKCIiKSxobD1TeW1ib2woIiIpLGZsPVN5bWJvbCgiIiksbWw9U3ltYm9sKCIiKSxnbD1TeW1ib2woIiIpLHZsPVN5bWJvbCgiIikseWw9U3ltYm9sKCIiKSxibD1TeW1ib2woIiIpLF9sPVN5bWJvbCgiIiksU2w9U3ltYm9sKCIiKSx4bD1TeW1ib2woIiIpLENsPVN5bWJvbCgiIiksa2w9U3ltYm9sKCIiKSxUbD1TeW1ib2woIiIpLHdsPVN5bWJvbCgiIiksTmw9U3ltYm9sKCIiKSxBbD1TeW1ib2woIiIpLEVsPVN5bWJvbCgiIiksSWw9U3ltYm9sKCIiKSxSbD1TeW1ib2woIiIpLE9sPVN5bWJvbCgiIiksRmw9U3ltYm9sKCIiKSxMbD1TeW1ib2woIiIpLE1sPVN5bWJvbCgiIiksUGw9U3ltYm9sKCIiKSwkbD1TeW1ib2woIiIpLEJsPVN5bWJvbCgiIiksVmw9U3ltYm9sKCIiKSxEbD1TeW1ib2woIiIpLFVsPVN5bWJvbCgiIiksamw9e1tzbF06IkZyYWdtZW50Iixbb2xdOiJUZWxlcG9ydCIsW3JsXToiU3VzcGVuc2UiLFtpbF06IktlZXBBbGl2ZSIsW2xsXToiQmFzZVRyYW5zaXRpb24iLFtjbF06Im9wZW5CbG9jayIsW2FsXToiY3JlYXRlQmxvY2siLFt1bF06ImNyZWF0ZUVsZW1lbnRCbG9jayIsW2RsXToiY3JlYXRlVk5vZGUiLFtwbF06ImNyZWF0ZUVsZW1lbnRWTm9kZSIsW2hsXToiY3JlYXRlQ29tbWVudFZOb2RlIixbZmxdOiJjcmVhdGVUZXh0Vk5vZGUiLFttbF06ImNyZWF0ZVN0YXRpY1ZOb2RlIixbZ2xdOiJyZXNvbHZlQ29tcG9uZW50IixbdmxdOiJyZXNvbHZlRHluYW1pY0NvbXBvbmVudCIsW3lsXToicmVzb2x2ZURpcmVjdGl2ZSIsW2JsXToicmVzb2x2ZUZpbHRlciIsW19sXToid2l0aERpcmVjdGl2ZXMiLFtTbF06InJlbmRlckxpc3QiLFt4bF06InJlbmRlclNsb3QiLFtDbF06ImNyZWF0ZVNsb3RzIixba2xdOiJ0b0Rpc3BsYXlTdHJpbmciLFtUbF06Im1lcmdlUHJvcHMiLFt3bF06Im5vcm1hbGl6ZUNsYXNzIixbTmxdOiJub3JtYWxpemVTdHlsZSIsW0FsXToibm9ybWFsaXplUHJvcHMiLFtFbF06Imd1YXJkUmVhY3RpdmVQcm9wcyIsW0lsXToidG9IYW5kbGVycyIsW1JsXToiY2FtZWxpemUiLFtPbF06ImNhcGl0YWxpemUiLFtGbF06InRvSGFuZGxlcktleSIsW0xsXToic2V0QmxvY2tUcmFja2luZyIsW01sXToicHVzaFNjb3BlSWQiLFtQbF06InBvcFNjb3BlSWQiLFskbF06IndpdGhDdHgiLFtCbF06InVucmVmIixbVmxdOiJpc1JlZiIsW0RsXToid2l0aE1lbW8iLFtVbF06ImlzTWVtb1NhbWUifTtjb25zdCBIbD17c3RhcnQ6e2xpbmU6MSxjb2x1bW46MSxvZmZzZXQ6MH0sZW5kOntsaW5lOjEsY29sdW1uOjEsb2Zmc2V0OjB9LHNvdXJjZToiIn07ZnVuY3Rpb24gcWwoZSx0LG4scyxvLHIsaSxsPSExLGM9ITEsYT0hMSx1PUhsKXtyZXR1cm4gZSYmKGw/KGUuaGVscGVyKGNsKSxlLmhlbHBlcihlYyhlLmluU1NSLGEpKSk6ZS5oZWxwZXIoWWwoZS5pblNTUixhKSksaSYmZS5oZWxwZXIoX2wpKSx7dHlwZToxMyx0YWc6dCxwcm9wczpuLGNoaWxkcmVuOnMscGF0Y2hGbGFnOm8sZHluYW1pY1Byb3BzOnIsZGlyZWN0aXZlczppLGlzQmxvY2s6bCxkaXNhYmxlVHJhY2tpbmc6Yyxpc0NvbXBvbmVudDphLGxvYzp1fX1mdW5jdGlvbiBXbChlLHQ9SGwpe3JldHVybnt0eXBlOjE3LGxvYzp0LGVsZW1lbnRzOmV9fWZ1bmN0aW9uIEtsKGUsdD1IbCl7cmV0dXJue3R5cGU6MTUsbG9jOnQscHJvcGVydGllczplfX1mdW5jdGlvbiB6bChlLHQpe3JldHVybnt0eXBlOjE2LGxvYzpIbCxrZXk6dihlKT9HbChlLCEwKTplLHZhbHVlOnR9fWZ1bmN0aW9uIEdsKGUsdD0hMSxuPUhsLHM9MCl7cmV0dXJue3R5cGU6NCxsb2M6bixjb250ZW50OmUsaXNTdGF0aWM6dCxjb25zdFR5cGU6dD8zOnN9fWZ1bmN0aW9uIEpsKGUsdD1IbCl7cmV0dXJue3R5cGU6OCxsb2M6dCxjaGlsZHJlbjplfX1mdW5jdGlvbiBYbChlLHQ9W10sbj1IbCl7cmV0dXJue3R5cGU6MTQsbG9jOm4sY2FsbGVlOmUsYXJndW1lbnRzOnR9fWZ1bmN0aW9uIFFsKGUsdD12b2lkIDAsbj0hMSxzPSExLG89SGwpe3JldHVybnt0eXBlOjE4LHBhcmFtczplLHJldHVybnM6dCxuZXdsaW5lOm4saXNTbG90OnMsbG9jOm99fWZ1bmN0aW9uIFpsKGUsdCxuLHM9ITApe3JldHVybnt0eXBlOjE5LHRlc3Q6ZSxjb25zZXF1ZW50OnQsYWx0ZXJuYXRlOm4sbmV3bGluZTpzLGxvYzpIbH19ZnVuY3Rpb24gWWwoZSx0KXtyZXR1cm4gZXx8dD9kbDpwbH1mdW5jdGlvbiBlYyhlLHQpe3JldHVybiBlfHx0P2FsOnVsfWZ1bmN0aW9uIHRjKGUse2hlbHBlcjp0LHJlbW92ZUhlbHBlcjpuLGluU1NSOnN9KXtlLmlzQmxvY2t8fChlLmlzQmxvY2s9ITAsbihZbChzLGUuaXNDb21wb25lbnQpKSx0KGNsKSx0KGVjKHMsZS5pc0NvbXBvbmVudCkpKX1jb25zdCBuYz1uZXcgVWludDhBcnJheShbMTIzLDEyM10pLHNjPW5ldyBVaW50OEFycmF5KFsxMjUsMTI1XSk7ZnVuY3Rpb24gb2MoZSl7cmV0dXJuIGU+PTk3JiZlPD0xMjJ8fGU+PTY1JiZlPD05MH1mdW5jdGlvbiByYyhlKXtyZXR1cm4gMzI9PT1lfHwxMD09PWV8fDk9PT1lfHwxMj09PWV8fDEzPT09ZX1mdW5jdGlvbiBpYyhlKXtyZXR1cm4gNDc9PT1lfHw2Mj09PWV8fHJjKGUpfWZ1bmN0aW9uIGxjKGUpe2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXRbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiB0fWNvbnN0IGNjPXtDZGF0YTpuZXcgVWludDhBcnJheShbNjcsNjgsNjUsODQsNjUsOTFdKSxDZGF0YUVuZDpuZXcgVWludDhBcnJheShbOTMsOTMsNjJdKSxDb21tZW50RW5kOm5ldyBVaW50OEFycmF5KFs0NSw0NSw2Ml0pLFNjcmlwdEVuZDpuZXcgVWludDhBcnJheShbNjAsNDcsMTE1LDk5LDExNCwxMDUsMTEyLDExNl0pLFN0eWxlRW5kOm5ldyBVaW50OEFycmF5KFs2MCw0NywxMTUsMTE2LDEyMSwxMDgsMTAxXSksVGl0bGVFbmQ6bmV3IFVpbnQ4QXJyYXkoWzYwLDQ3LDExNiwxMDUsMTE2LDEwOCwxMDFdKSxUZXh0YXJlYUVuZDpuZXcgVWludDhBcnJheShbNjAsNDcsMTE2LDEwMSwxMjAsMTE2LDk3LDExNCwxMDEsOTddKX07ZnVuY3Rpb24gYWMoZSl7dGhyb3cgZX1mdW5jdGlvbiB1YyhlKXt9ZnVuY3Rpb24gZGMoZSx0LG4scyl7Y29uc3Qgbz1uZXcgU3ludGF4RXJyb3IoU3RyaW5nKGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvcnMvI2NvbXBpbGVyLSR7ZX1gKSk7cmV0dXJuIG8uY29kZT1lLG8ubG9jPXQsb31jb25zdCBwYz1lPT40PT09ZS50eXBlJiZlLmlzU3RhdGljO2Z1bmN0aW9uIGhjKGUpe3N3aXRjaChlKXtjYXNlIlRlbGVwb3J0IjpjYXNlInRlbGVwb3J0IjpyZXR1cm4gb2w7Y2FzZSJTdXNwZW5zZSI6Y2FzZSJzdXNwZW5zZSI6cmV0dXJuIHJsO2Nhc2UiS2VlcEFsaXZlIjpjYXNlImtlZXAtYWxpdmUiOnJldHVybiBpbDtjYXNlIkJhc2VUcmFuc2l0aW9uIjpjYXNlImJhc2UtdHJhbnNpdGlvbiI6cmV0dXJuIGxsfX1jb25zdCBmYz0vXlxkfFteXCRcd10vLG1jPWU9PiFmYy50ZXN0KGUpLGdjPS9bQS1aYS16XyRceEEwLVx1RkZGRl0vLHZjPS9bXC5cP1x3JFx4QTAtXHVGRkZGXS8seWM9L1xzK1suW11ccyp8XHMqWy5bXVxzKy9nLGJjPWU9PntlPWUudHJpbSgpLnJlcGxhY2UoeWMsKGU9PmUudHJpbSgpKSk7bGV0IHQ9MCxuPVtdLHM9MCxvPTAscj1udWxsO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBsPWUuY2hhckF0KGkpO3N3aXRjaCh0KXtjYXNlIDA6aWYoIlsiPT09bCluLnB1c2godCksdD0xLHMrKztlbHNlIGlmKCIoIj09PWwpbi5wdXNoKHQpLHQ9MixvKys7ZWxzZSBpZighKDA9PT1pP2djOnZjKS50ZXN0KGwpKXJldHVybiExO2JyZWFrO2Nhc2UgMToiJyI9PT1sfHwnIic9PT1sfHwiYCI9PT1sPyhuLnB1c2godCksdD0zLHI9bCk6IlsiPT09bD9zKys6Il0iPT09bCYmKC0tc3x8KHQ9bi5wb3AoKSkpO2JyZWFrO2Nhc2UgMjppZigiJyI9PT1sfHwnIic9PT1sfHwiYCI9PT1sKW4ucHVzaCh0KSx0PTMscj1sO2Vsc2UgaWYoIigiPT09bClvKys7ZWxzZSBpZigiKSI9PT1sKXtpZihpPT09ZS5sZW5ndGgtMSlyZXR1cm4hMTstLW98fCh0PW4ucG9wKCkpfWJyZWFrO2Nhc2UgMzpsPT09ciYmKHQ9bi5wb3AoKSxyPW51bGwpfX1yZXR1cm4hcyYmIW99O2Z1bmN0aW9uIF9jKGUsdCxuPSExKXtmb3IobGV0IHM9MDtzPGUucHJvcHMubGVuZ3RoO3MrKyl7Y29uc3Qgbz1lLnByb3BzW3NdO2lmKDc9PT1vLnR5cGUmJihufHxvLmV4cCkmJih2KHQpP28ubmFtZT09PXQ6dC50ZXN0KG8ubmFtZSkpKXJldHVybiBvfX1mdW5jdGlvbiBTYyhlLHQsbj0hMSxzPSExKXtmb3IobGV0IG89MDtvPGUucHJvcHMubGVuZ3RoO28rKyl7Y29uc3Qgcj1lLnByb3BzW29dO2lmKDY9PT1yLnR5cGUpe2lmKG4pY29udGludWU7aWYoci5uYW1lPT09dCYmKHIudmFsdWV8fHMpKXJldHVybiByfWVsc2UgaWYoImJpbmQiPT09ci5uYW1lJiYoci5leHB8fHMpJiZ4YyhyLmFyZyx0KSlyZXR1cm4gcn19ZnVuY3Rpb24geGMoZSx0KXtyZXR1cm4hKCFlfHwhcGMoZSl8fGUuY29udGVudCE9PXQpfWZ1bmN0aW9uIENjKGUpe3JldHVybiA1PT09ZS50eXBlfHwyPT09ZS50eXBlfWZ1bmN0aW9uIGtjKGUpe3JldHVybiA3PT09ZS50eXBlJiYic2xvdCI9PT1lLm5hbWV9ZnVuY3Rpb24gVGMoZSl7cmV0dXJuIDE9PT1lLnR5cGUmJjM9PT1lLnRhZ1R5cGV9ZnVuY3Rpb24gd2MoZSl7cmV0dXJuIDE9PT1lLnR5cGUmJjI9PT1lLnRhZ1R5cGV9Y29uc3QgTmM9bmV3IFNldChbQWwsRWxdKTtmdW5jdGlvbiBBYyhlLHQ9W10pe2lmKGUmJiF2KGUpJiYxND09PWUudHlwZSl7Y29uc3Qgbj1lLmNhbGxlZTtpZighdihuKSYmTmMuaGFzKG4pKXJldHVybiBBYyhlLmFyZ3VtZW50c1swXSx0LmNvbmNhdChlKSl9cmV0dXJuW2UsdF19ZnVuY3Rpb24gRWMoZSx0LG4pe2xldCBzLG8scj0xMz09PWUudHlwZT9lLnByb3BzOmUuYXJndW1lbnRzWzJdLGk9W107aWYociYmIXYocikmJjE0PT09ci50eXBlKXtjb25zdCBlPUFjKHIpO3I9ZVswXSxpPWVbMV0sbz1pW2kubGVuZ3RoLTFdfWlmKG51bGw9PXJ8fHYocikpcz1LbChbdF0pO2Vsc2UgaWYoMTQ9PT1yLnR5cGUpe2NvbnN0IGU9ci5hcmd1bWVudHNbMF07dihlKXx8MTUhPT1lLnR5cGU/ci5jYWxsZWU9PT1JbD9zPVhsKG4uaGVscGVyKFRsKSxbS2woW3RdKSxyXSk6ci5hcmd1bWVudHMudW5zaGlmdChLbChbdF0pKTpJYyh0LGUpfHxlLnByb3BlcnRpZXMudW5zaGlmdCh0KSwhcyYmKHM9cil9ZWxzZSAxNT09PXIudHlwZT8oSWModCxyKXx8ci5wcm9wZXJ0aWVzLnVuc2hpZnQodCkscz1yKToocz1YbChuLmhlbHBlcihUbCksW0tsKFt0XSkscl0pLG8mJm8uY2FsbGVlPT09RWwmJihvPWlbaS5sZW5ndGgtMl0pKTsxMz09PWUudHlwZT9vP28uYXJndW1lbnRzWzBdPXM6ZS5wcm9wcz1zOm8/by5hcmd1bWVudHNbMF09czplLmFyZ3VtZW50c1syXT1zfWZ1bmN0aW9uIEljKGUsdCl7bGV0IG49ITE7aWYoND09PWUua2V5LnR5cGUpe2NvbnN0IHM9ZS5rZXkuY29udGVudDtuPXQucHJvcGVydGllcy5zb21lKChlPT40PT09ZS5rZXkudHlwZSYmZS5rZXkuY29udGVudD09PXMpKX1yZXR1cm4gbn1mdW5jdGlvbiBSYyhlLHQpe3JldHVybmBfJHt0fV8ke2UucmVwbGFjZSgvW15cd10vZywoKHQsbik9PiItIj09PXQ/Il8iOmUuY2hhckNvZGVBdChuKS50b1N0cmluZygpKSl9YH1jb25zdCBPYz0vKFtcc1xTXSo/KVxzKyg/OmlufG9mKVxzKyhbXHNcU10qKS8sRmM9e3BhcnNlTW9kZToiYmFzZSIsbnM6MCxkZWxpbWl0ZXJzOlsie3siLCJ9fSJdLGdldE5hbWVzcGFjZTooKT0+MCxpc1ZvaWRUYWc6cixpc1ByZVRhZzpyLGlzQ3VzdG9tRWxlbWVudDpyLG9uRXJyb3I6YWMsb25XYXJuOnVjLGNvbW1lbnRzOiExLHByZWZpeElkZW50aWZpZXJzOiExfTtsZXQgTGM9RmMsTWM9bnVsbCxQYz0iIiwkYz1udWxsLEJjPW51bGwsVmM9IiIsRGM9LTEsVWM9LTEsamM9MCxIYz0hMSxxYz1udWxsO2NvbnN0IFdjPVtdLEtjPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc3RhY2s9ZSx0aGlzLmNicz10LHRoaXMuc3RhdGU9MSx0aGlzLmJ1ZmZlcj0iIix0aGlzLnNlY3Rpb25TdGFydD0wLHRoaXMuaW5kZXg9MCx0aGlzLmVudGl0eVN0YXJ0PTAsdGhpcy5iYXNlU3RhdGU9MSx0aGlzLmluUkNEQVRBPSExLHRoaXMuaW5YTUw9ITEsdGhpcy5pblZQcmU9ITEsdGhpcy5uZXdsaW5lcz1bXSx0aGlzLm1vZGU9MCx0aGlzLmRlbGltaXRlck9wZW49bmMsdGhpcy5kZWxpbWl0ZXJDbG9zZT1zYyx0aGlzLmRlbGltaXRlckluZGV4PS0xLHRoaXMuY3VycmVudFNlcXVlbmNlPXZvaWQgMCx0aGlzLnNlcXVlbmNlSW5kZXg9MH1nZXQgaW5TRkNSb290KCl7cmV0dXJuIDI9PT10aGlzLm1vZGUmJjA9PT10aGlzLnN0YWNrLmxlbmd0aH1yZXNldCgpe3RoaXMuc3RhdGU9MSx0aGlzLm1vZGU9MCx0aGlzLmJ1ZmZlcj0iIix0aGlzLnNlY3Rpb25TdGFydD0wLHRoaXMuaW5kZXg9MCx0aGlzLmJhc2VTdGF0ZT0xLHRoaXMuaW5SQ0RBVEE9ITEsdGhpcy5jdXJyZW50U2VxdWVuY2U9dm9pZCAwLHRoaXMubmV3bGluZXMubGVuZ3RoPTAsdGhpcy5kZWxpbWl0ZXJPcGVuPW5jLHRoaXMuZGVsaW1pdGVyQ2xvc2U9c2N9Z2V0UG9zKGUpe2xldCB0PTEsbj1lKzE7Zm9yKGxldCBzPXRoaXMubmV3bGluZXMubGVuZ3RoLTE7cz49MDtzLS0pe2NvbnN0IG89dGhpcy5uZXdsaW5lc1tzXTtpZihlPm8pe3Q9cysyLG49ZS1vO2JyZWFrfX1yZXR1cm57Y29sdW1uOm4sbGluZTp0LG9mZnNldDplfX1wZWVrKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmNoYXJDb2RlQXQodGhpcy5pbmRleCsxKX1zdGF0ZVRleHQoZSl7NjA9PT1lPyh0aGlzLmluZGV4PnRoaXMuc2VjdGlvblN0YXJ0JiZ0aGlzLmNicy5vbnRleHQodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT01LHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgpOnRoaXMuaW5WUHJlfHxlIT09dGhpcy5kZWxpbWl0ZXJPcGVuWzBdfHwodGhpcy5zdGF0ZT0yLHRoaXMuZGVsaW1pdGVySW5kZXg9MCx0aGlzLnN0YXRlSW50ZXJwb2xhdGlvbk9wZW4oZSkpfXN0YXRlSW50ZXJwb2xhdGlvbk9wZW4oZSl7aWYoZT09PXRoaXMuZGVsaW1pdGVyT3Blblt0aGlzLmRlbGltaXRlckluZGV4XSlpZih0aGlzLmRlbGltaXRlckluZGV4PT09dGhpcy5kZWxpbWl0ZXJPcGVuLmxlbmd0aC0xKXtjb25zdCBlPXRoaXMuaW5kZXgrMS10aGlzLmRlbGltaXRlck9wZW4ubGVuZ3RoO2U+dGhpcy5zZWN0aW9uU3RhcnQmJnRoaXMuY2JzLm9udGV4dCh0aGlzLnNlY3Rpb25TdGFydCxlKSx0aGlzLnN0YXRlPTMsdGhpcy5zZWN0aW9uU3RhcnQ9ZX1lbHNlIHRoaXMuZGVsaW1pdGVySW5kZXgrKztlbHNlIHRoaXMuaW5SQ0RBVEE/KHRoaXMuc3RhdGU9MzIsdGhpcy5zdGF0ZUluUkNEQVRBKGUpKToodGhpcy5zdGF0ZT0xLHRoaXMuc3RhdGVUZXh0KGUpKX1zdGF0ZUludGVycG9sYXRpb24oZSl7ZT09PXRoaXMuZGVsaW1pdGVyQ2xvc2VbMF0mJih0aGlzLnN0YXRlPTQsdGhpcy5kZWxpbWl0ZXJJbmRleD0wLHRoaXMuc3RhdGVJbnRlcnBvbGF0aW9uQ2xvc2UoZSkpfXN0YXRlSW50ZXJwb2xhdGlvbkNsb3NlKGUpe2U9PT10aGlzLmRlbGltaXRlckNsb3NlW3RoaXMuZGVsaW1pdGVySW5kZXhdP3RoaXMuZGVsaW1pdGVySW5kZXg9PT10aGlzLmRlbGltaXRlckNsb3NlLmxlbmd0aC0xPyh0aGlzLmNicy5vbmludGVycG9sYXRpb24odGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCsxKSx0aGlzLnN0YXRlPXRoaXMuaW5SQ0RBVEE/MzI6MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOnRoaXMuZGVsaW1pdGVySW5kZXgrKzoodGhpcy5zdGF0ZT0zLHRoaXMuc3RhdGVJbnRlcnBvbGF0aW9uKGUpKX1zdGF0ZVNwZWNpYWxTdGFydFNlcXVlbmNlKGUpe2NvbnN0IHQ9dGhpcy5zZXF1ZW5jZUluZGV4PT09dGhpcy5jdXJyZW50U2VxdWVuY2UubGVuZ3RoO2lmKHQ/aWMoZSk6KDMyfGUpPT09dGhpcy5jdXJyZW50U2VxdWVuY2VbdGhpcy5zZXF1ZW5jZUluZGV4XSl7aWYoIXQpcmV0dXJuIHZvaWQgdGhpcy5zZXF1ZW5jZUluZGV4Kyt9ZWxzZSB0aGlzLmluUkNEQVRBPSExO3RoaXMuc2VxdWVuY2VJbmRleD0wLHRoaXMuc3RhdGU9Nix0aGlzLnN0YXRlSW5UYWdOYW1lKGUpfXN0YXRlSW5SQ0RBVEEoZSl7aWYodGhpcy5zZXF1ZW5jZUluZGV4PT09dGhpcy5jdXJyZW50U2VxdWVuY2UubGVuZ3RoKXtpZig2Mj09PWV8fHJjKGUpKXtjb25zdCB0PXRoaXMuaW5kZXgtdGhpcy5jdXJyZW50U2VxdWVuY2UubGVuZ3RoO2lmKHRoaXMuc2VjdGlvblN0YXJ0PHQpe2NvbnN0IGU9dGhpcy5pbmRleDt0aGlzLmluZGV4PXQsdGhpcy5jYnMub250ZXh0KHRoaXMuc2VjdGlvblN0YXJ0LHQpLHRoaXMuaW5kZXg9ZX1yZXR1cm4gdGhpcy5zZWN0aW9uU3RhcnQ9dCsyLHRoaXMuc3RhdGVJbkNsb3NpbmdUYWdOYW1lKGUpLHZvaWQodGhpcy5pblJDREFUQT0hMSl9dGhpcy5zZXF1ZW5jZUluZGV4PTB9KDMyfGUpPT09dGhpcy5jdXJyZW50U2VxdWVuY2VbdGhpcy5zZXF1ZW5jZUluZGV4XT90aGlzLnNlcXVlbmNlSW5kZXgrPTE6MD09PXRoaXMuc2VxdWVuY2VJbmRleD90aGlzLmN1cnJlbnRTZXF1ZW5jZT09PWNjLlRpdGxlRW5kfHx0aGlzLmN1cnJlbnRTZXF1ZW5jZT09PWNjLlRleHRhcmVhRW5kJiYhdGhpcy5pblNGQ1Jvb3Q/ZT09PXRoaXMuZGVsaW1pdGVyT3BlblswXSYmKHRoaXMuc3RhdGU9Mix0aGlzLmRlbGltaXRlckluZGV4PTAsdGhpcy5zdGF0ZUludGVycG9sYXRpb25PcGVuKGUpKTp0aGlzLmZhc3RGb3J3YXJkVG8oNjApJiYodGhpcy5zZXF1ZW5jZUluZGV4PTEpOnRoaXMuc2VxdWVuY2VJbmRleD1OdW1iZXIoNjA9PT1lKX1zdGF0ZUNEQVRBU2VxdWVuY2UoZSl7ZT09PWNjLkNkYXRhW3RoaXMuc2VxdWVuY2VJbmRleF0/Kyt0aGlzLnNlcXVlbmNlSW5kZXg9PT1jYy5DZGF0YS5sZW5ndGgmJih0aGlzLnN0YXRlPTI4LHRoaXMuY3VycmVudFNlcXVlbmNlPWNjLkNkYXRhRW5kLHRoaXMuc2VxdWVuY2VJbmRleD0wLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6KHRoaXMuc2VxdWVuY2VJbmRleD0wLHRoaXMuc3RhdGU9MjMsdGhpcy5zdGF0ZUluRGVjbGFyYXRpb24oZSkpfWZhc3RGb3J3YXJkVG8oZSl7Zm9yKDsrK3RoaXMuaW5kZXg8dGhpcy5idWZmZXIubGVuZ3RoOyl7Y29uc3QgdD10aGlzLmJ1ZmZlci5jaGFyQ29kZUF0KHRoaXMuaW5kZXgpO2lmKDEwPT09dCYmdGhpcy5uZXdsaW5lcy5wdXNoKHRoaXMuaW5kZXgpLHQ9PT1lKXJldHVybiEwfXJldHVybiB0aGlzLmluZGV4PXRoaXMuYnVmZmVyLmxlbmd0aC0xLCExfXN0YXRlSW5Db21tZW50TGlrZShlKXtlPT09dGhpcy5jdXJyZW50U2VxdWVuY2VbdGhpcy5zZXF1ZW5jZUluZGV4XT8rK3RoaXMuc2VxdWVuY2VJbmRleD09PXRoaXMuY3VycmVudFNlcXVlbmNlLmxlbmd0aCYmKHRoaXMuY3VycmVudFNlcXVlbmNlPT09Y2MuQ2RhdGFFbmQ/dGhpcy5jYnMub25jZGF0YSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4LTIpOnRoaXMuY2JzLm9uY29tbWVudCh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4LTIpLHRoaXMuc2VxdWVuY2VJbmRleD0wLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSx0aGlzLnN0YXRlPTEpOjA9PT10aGlzLnNlcXVlbmNlSW5kZXg/dGhpcy5mYXN0Rm9yd2FyZFRvKHRoaXMuY3VycmVudFNlcXVlbmNlWzBdKSYmKHRoaXMuc2VxdWVuY2VJbmRleD0xKTplIT09dGhpcy5jdXJyZW50U2VxdWVuY2VbdGhpcy5zZXF1ZW5jZUluZGV4LTFdJiYodGhpcy5zZXF1ZW5jZUluZGV4PTApfXN0YXJ0U3BlY2lhbChlLHQpe3RoaXMuZW50ZXJSQ0RBVEEoZSx0KSx0aGlzLnN0YXRlPTMxfWVudGVyUkNEQVRBKGUsdCl7dGhpcy5pblJDREFUQT0hMCx0aGlzLmN1cnJlbnRTZXF1ZW5jZT1lLHRoaXMuc2VxdWVuY2VJbmRleD10fXN0YXRlQmVmb3JlVGFnTmFtZShlKXtpZigzMz09PWUpdGhpcy5zdGF0ZT0yMix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzE7ZWxzZSBpZig2Mz09PWUpdGhpcy5zdGF0ZT0yNCx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzE7ZWxzZSBpZihvYyhlKSlpZih0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4LDA9PT10aGlzLm1vZGUpdGhpcy5zdGF0ZT02O2Vsc2UgaWYodGhpcy5pblNGQ1Jvb3QpdGhpcy5zdGF0ZT0zNDtlbHNlIGlmKHRoaXMuaW5YTUwpdGhpcy5zdGF0ZT02O2Vsc2V7Y29uc3QgdD0zMnxlO3RoaXMuc3RhdGU9MTE2PT09dD8zMDoxMTU9PT10PzI5OjZ9ZWxzZSA0Nz09PWU/dGhpcy5zdGF0ZT04Oih0aGlzLnN0YXRlPTEsdGhpcy5zdGF0ZVRleHQoZSkpfXN0YXRlSW5UYWdOYW1lKGUpe2ljKGUpJiZ0aGlzLmhhbmRsZVRhZ05hbWUoZSl9c3RhdGVJblNGQ1Jvb3RUYWdOYW1lKGUpe2lmKGljKGUpKXtjb25zdCB0PXRoaXMuYnVmZmVyLnNsaWNlKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpOyJ0ZW1wbGF0ZSIhPT10JiZ0aGlzLmVudGVyUkNEQVRBKGxjKCI8LyIrdCksMCksdGhpcy5oYW5kbGVUYWdOYW1lKGUpfX1oYW5kbGVUYWdOYW1lKGUpe3RoaXMuY2JzLm9ub3BlbnRhZ25hbWUodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zZWN0aW9uU3RhcnQ9LTEsdGhpcy5zdGF0ZT0xMSx0aGlzLnN0YXRlQmVmb3JlQXR0ck5hbWUoZSl9c3RhdGVCZWZvcmVDbG9zaW5nVGFnTmFtZShlKXtyYyhlKXx8KDYyPT09ZT8odGhpcy5zdGF0ZT0xLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6KHRoaXMuc3RhdGU9b2MoZSk/OToyNyx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KSl9c3RhdGVJbkNsb3NpbmdUYWdOYW1lKGUpeyg2Mj09PWV8fHJjKGUpKSYmKHRoaXMuY2JzLm9uY2xvc2V0YWcodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zZWN0aW9uU3RhcnQ9LTEsdGhpcy5zdGF0ZT0xMCx0aGlzLnN0YXRlQWZ0ZXJDbG9zaW5nVGFnTmFtZShlKSl9c3RhdGVBZnRlckNsb3NpbmdUYWdOYW1lKGUpezYyPT09ZSYmKHRoaXMuc3RhdGU9MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfXN0YXRlQmVmb3JlQXR0ck5hbWUoZSl7NjI9PT1lPyh0aGlzLmNicy5vbm9wZW50YWdlbmQodGhpcy5pbmRleCksdGhpcy5zdGF0ZT10aGlzLmluUkNEQVRBPzMyOjEsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKTo0Nz09PWU/dGhpcy5zdGF0ZT03OjYwPT09ZSYmNDc9PT10aGlzLnBlZWsoKT8odGhpcy5jYnMub25vcGVudGFnZW5kKHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9NSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KTpyYyhlKXx8dGhpcy5oYW5kbGVBdHRyU3RhcnQoZSl9aGFuZGxlQXR0clN0YXJ0KGUpezExOD09PWUmJjQ1PT09dGhpcy5wZWVrKCk/KHRoaXMuc3RhdGU9MTMsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCk6NDY9PT1lfHw1OD09PWV8fDY0PT09ZXx8MzU9PT1lPyh0aGlzLmNicy5vbmRpcm5hbWUodGhpcy5pbmRleCx0aGlzLmluZGV4KzEpLHRoaXMuc3RhdGU9MTQsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKToodGhpcy5zdGF0ZT0xMix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KX1zdGF0ZUluU2VsZkNsb3NpbmdUYWcoZSl7NjI9PT1lPyh0aGlzLmNicy5vbnNlbGZjbG9zaW5ndGFnKHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEsdGhpcy5pblJDREFUQT0hMSk6cmMoZSl8fCh0aGlzLnN0YXRlPTExLHRoaXMuc3RhdGVCZWZvcmVBdHRyTmFtZShlKSl9c3RhdGVJbkF0dHJOYW1lKGUpeyg2MT09PWV8fGljKGUpKSYmKHRoaXMuY2JzLm9uYXR0cmlibmFtZSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLmhhbmRsZUF0dHJOYW1lRW5kKGUpKX1zdGF0ZUluRGlyTmFtZShlKXs2MT09PWV8fGljKGUpPyh0aGlzLmNicy5vbmRpcm5hbWUodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5oYW5kbGVBdHRyTmFtZUVuZChlKSk6NTg9PT1lPyh0aGlzLmNicy5vbmRpcm5hbWUodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT0xNCx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOjQ2PT09ZSYmKHRoaXMuY2JzLm9uZGlybmFtZSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTE2LHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9c3RhdGVJbkRpckFyZyhlKXs2MT09PWV8fGljKGUpPyh0aGlzLmNicy5vbmRpcmFyZyh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLmhhbmRsZUF0dHJOYW1lRW5kKGUpKTo5MT09PWU/dGhpcy5zdGF0ZT0xNTo0Nj09PWUmJih0aGlzLmNicy5vbmRpcmFyZyh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTE2LHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9c3RhdGVJbkR5bmFtaWNEaXJBcmcoZSl7OTM9PT1lP3RoaXMuc3RhdGU9MTQ6KDYxPT09ZXx8aWMoZSkpJiYodGhpcy5jYnMub25kaXJhcmcodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCsxKSx0aGlzLmhhbmRsZUF0dHJOYW1lRW5kKGUpKX1zdGF0ZUluRGlyTW9kaWZpZXIoZSl7NjE9PT1lfHxpYyhlKT8odGhpcy5jYnMub25kaXJtb2RpZmllcih0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLmhhbmRsZUF0dHJOYW1lRW5kKGUpKTo0Nj09PWUmJih0aGlzLmNicy5vbmRpcm1vZGlmaWVyKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9aGFuZGxlQXR0ck5hbWVFbmQoZSl7dGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCx0aGlzLnN0YXRlPTE3LHRoaXMuY2JzLm9uYXR0cmlibmFtZWVuZCh0aGlzLmluZGV4KSx0aGlzLnN0YXRlQWZ0ZXJBdHRyTmFtZShlKX1zdGF0ZUFmdGVyQXR0ck5hbWUoZSl7NjE9PT1lP3RoaXMuc3RhdGU9MTg6NDc9PT1lfHw2Mj09PWU/KHRoaXMuY2JzLm9uYXR0cmliZW5kKDAsdGhpcy5zZWN0aW9uU3RhcnQpLHRoaXMuc2VjdGlvblN0YXJ0PS0xLHRoaXMuc3RhdGU9MTEsdGhpcy5zdGF0ZUJlZm9yZUF0dHJOYW1lKGUpKTpyYyhlKXx8KHRoaXMuY2JzLm9uYXR0cmliZW5kKDAsdGhpcy5zZWN0aW9uU3RhcnQpLHRoaXMuaGFuZGxlQXR0clN0YXJ0KGUpKX1zdGF0ZUJlZm9yZUF0dHJWYWx1ZShlKXszND09PWU/KHRoaXMuc3RhdGU9MTksdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKTozOT09PWU/KHRoaXMuc3RhdGU9MjAsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKTpyYyhlKXx8KHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgsdGhpcy5zdGF0ZT0yMSx0aGlzLnN0YXRlSW5BdHRyVmFsdWVOb1F1b3RlcyhlKSl9aGFuZGxlSW5BdHRyVmFsdWUoZSx0KXsoZT09PXR8fHRoaXMuZmFzdEZvcndhcmRUbyh0KSkmJih0aGlzLmNicy5vbmF0dHJpYmRhdGEodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zZWN0aW9uU3RhcnQ9LTEsdGhpcy5jYnMub25hdHRyaWJlbmQoMzQ9PT10PzM6Mix0aGlzLmluZGV4KzEpLHRoaXMuc3RhdGU9MTEpfXN0YXRlSW5BdHRyVmFsdWVEb3VibGVRdW90ZXMoZSl7dGhpcy5oYW5kbGVJbkF0dHJWYWx1ZShlLDM0KX1zdGF0ZUluQXR0clZhbHVlU2luZ2xlUXVvdGVzKGUpe3RoaXMuaGFuZGxlSW5BdHRyVmFsdWUoZSwzOSl9c3RhdGVJbkF0dHJWYWx1ZU5vUXVvdGVzKGUpe3JjKGUpfHw2Mj09PWU/KHRoaXMuY2JzLm9uYXR0cmliZGF0YSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnNlY3Rpb25TdGFydD0tMSx0aGlzLmNicy5vbmF0dHJpYmVuZCgxLHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9MTEsdGhpcy5zdGF0ZUJlZm9yZUF0dHJOYW1lKGUpKTozOSE9PWUmJjYwIT09ZSYmNjEhPT1lJiY5NiE9PWV8fHRoaXMuY2JzLm9uZXJyKDE4LHRoaXMuaW5kZXgpfXN0YXRlQmVmb3JlRGVjbGFyYXRpb24oZSl7OTE9PT1lPyh0aGlzLnN0YXRlPTI2LHRoaXMuc2VxdWVuY2VJbmRleD0wKTp0aGlzLnN0YXRlPTQ1PT09ZT8yNToyM31zdGF0ZUluRGVjbGFyYXRpb24oZSl7KDYyPT09ZXx8dGhpcy5mYXN0Rm9yd2FyZFRvKDYyKSkmJih0aGlzLnN0YXRlPTEsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKX1zdGF0ZUluUHJvY2Vzc2luZ0luc3RydWN0aW9uKGUpeyg2Mj09PWV8fHRoaXMuZmFzdEZvcndhcmRUbyg2MikpJiYodGhpcy5jYnMub25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24odGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT0xLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9c3RhdGVCZWZvcmVDb21tZW50KGUpezQ1PT09ZT8odGhpcy5zdGF0ZT0yOCx0aGlzLmN1cnJlbnRTZXF1ZW5jZT1jYy5Db21tZW50RW5kLHRoaXMuc2VxdWVuY2VJbmRleD0yLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6dGhpcy5zdGF0ZT0yM31zdGF0ZUluU3BlY2lhbENvbW1lbnQoZSl7KDYyPT09ZXx8dGhpcy5mYXN0Rm9yd2FyZFRvKDYyKSkmJih0aGlzLmNicy5vbmNvbW1lbnQodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT0xLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9c3RhdGVCZWZvcmVTcGVjaWFsUyhlKXtjb25zdCB0PTMyfGU7dD09PWNjLlNjcmlwdEVuZFszXT90aGlzLnN0YXJ0U3BlY2lhbChjYy5TY3JpcHRFbmQsNCk6dD09PWNjLlN0eWxlRW5kWzNdP3RoaXMuc3RhcnRTcGVjaWFsKGNjLlN0eWxlRW5kLDQpOih0aGlzLnN0YXRlPTYsdGhpcy5zdGF0ZUluVGFnTmFtZShlKSl9c3RhdGVCZWZvcmVTcGVjaWFsVChlKXtjb25zdCB0PTMyfGU7dD09PWNjLlRpdGxlRW5kWzNdP3RoaXMuc3RhcnRTcGVjaWFsKGNjLlRpdGxlRW5kLDQpOnQ9PT1jYy5UZXh0YXJlYUVuZFszXT90aGlzLnN0YXJ0U3BlY2lhbChjYy5UZXh0YXJlYUVuZCw0KToodGhpcy5zdGF0ZT02LHRoaXMuc3RhdGVJblRhZ05hbWUoZSkpfXN0YXJ0RW50aXR5KCl7fXN0YXRlSW5FbnRpdHkoKXt9cGFyc2UoZSl7Zm9yKHRoaXMuYnVmZmVyPWU7dGhpcy5pbmRleDx0aGlzLmJ1ZmZlci5sZW5ndGg7KXtjb25zdCBlPXRoaXMuYnVmZmVyLmNoYXJDb2RlQXQodGhpcy5pbmRleCk7c3dpdGNoKDEwPT09ZSYmdGhpcy5uZXdsaW5lcy5wdXNoKHRoaXMuaW5kZXgpLHRoaXMuc3RhdGUpe2Nhc2UgMTp0aGlzLnN0YXRlVGV4dChlKTticmVhaztjYXNlIDI6dGhpcy5zdGF0ZUludGVycG9sYXRpb25PcGVuKGUpO2JyZWFrO2Nhc2UgMzp0aGlzLnN0YXRlSW50ZXJwb2xhdGlvbihlKTticmVhaztjYXNlIDQ6dGhpcy5zdGF0ZUludGVycG9sYXRpb25DbG9zZShlKTticmVhaztjYXNlIDMxOnRoaXMuc3RhdGVTcGVjaWFsU3RhcnRTZXF1ZW5jZShlKTticmVhaztjYXNlIDMyOnRoaXMuc3RhdGVJblJDREFUQShlKTticmVhaztjYXNlIDI2OnRoaXMuc3RhdGVDREFUQVNlcXVlbmNlKGUpO2JyZWFrO2Nhc2UgMTk6dGhpcy5zdGF0ZUluQXR0clZhbHVlRG91YmxlUXVvdGVzKGUpO2JyZWFrO2Nhc2UgMTI6dGhpcy5zdGF0ZUluQXR0ck5hbWUoZSk7YnJlYWs7Y2FzZSAxMzp0aGlzLnN0YXRlSW5EaXJOYW1lKGUpO2JyZWFrO2Nhc2UgMTQ6dGhpcy5zdGF0ZUluRGlyQXJnKGUpO2JyZWFrO2Nhc2UgMTU6dGhpcy5zdGF0ZUluRHluYW1pY0RpckFyZyhlKTticmVhaztjYXNlIDE2OnRoaXMuc3RhdGVJbkRpck1vZGlmaWVyKGUpO2JyZWFrO2Nhc2UgMjg6dGhpcy5zdGF0ZUluQ29tbWVudExpa2UoZSk7YnJlYWs7Y2FzZSAyNzp0aGlzLnN0YXRlSW5TcGVjaWFsQ29tbWVudChlKTticmVhaztjYXNlIDExOnRoaXMuc3RhdGVCZWZvcmVBdHRyTmFtZShlKTticmVhaztjYXNlIDY6dGhpcy5zdGF0ZUluVGFnTmFtZShlKTticmVhaztjYXNlIDM0OnRoaXMuc3RhdGVJblNGQ1Jvb3RUYWdOYW1lKGUpO2JyZWFrO2Nhc2UgOTp0aGlzLnN0YXRlSW5DbG9zaW5nVGFnTmFtZShlKTticmVhaztjYXNlIDU6dGhpcy5zdGF0ZUJlZm9yZVRhZ05hbWUoZSk7YnJlYWs7Y2FzZSAxNzp0aGlzLnN0YXRlQWZ0ZXJBdHRyTmFtZShlKTticmVhaztjYXNlIDIwOnRoaXMuc3RhdGVJbkF0dHJWYWx1ZVNpbmdsZVF1b3RlcyhlKTticmVhaztjYXNlIDE4OnRoaXMuc3RhdGVCZWZvcmVBdHRyVmFsdWUoZSk7YnJlYWs7Y2FzZSA4OnRoaXMuc3RhdGVCZWZvcmVDbG9zaW5nVGFnTmFtZShlKTticmVhaztjYXNlIDEwOnRoaXMuc3RhdGVBZnRlckNsb3NpbmdUYWdOYW1lKGUpO2JyZWFrO2Nhc2UgMjk6dGhpcy5zdGF0ZUJlZm9yZVNwZWNpYWxTKGUpO2JyZWFrO2Nhc2UgMzA6dGhpcy5zdGF0ZUJlZm9yZVNwZWNpYWxUKGUpO2JyZWFrO2Nhc2UgMjE6dGhpcy5zdGF0ZUluQXR0clZhbHVlTm9RdW90ZXMoZSk7YnJlYWs7Y2FzZSA3OnRoaXMuc3RhdGVJblNlbGZDbG9zaW5nVGFnKGUpO2JyZWFrO2Nhc2UgMjM6dGhpcy5zdGF0ZUluRGVjbGFyYXRpb24oZSk7YnJlYWs7Y2FzZSAyMjp0aGlzLnN0YXRlQmVmb3JlRGVjbGFyYXRpb24oZSk7YnJlYWs7Y2FzZSAyNTp0aGlzLnN0YXRlQmVmb3JlQ29tbWVudChlKTticmVhaztjYXNlIDI0OnRoaXMuc3RhdGVJblByb2Nlc3NpbmdJbnN0cnVjdGlvbihlKTticmVhaztjYXNlIDMzOnRoaXMuc3RhdGVJbkVudGl0eSgpfXRoaXMuaW5kZXgrK310aGlzLmNsZWFudXAoKSx0aGlzLmZpbmlzaCgpfWNsZWFudXAoKXt0aGlzLnNlY3Rpb25TdGFydCE9PXRoaXMuaW5kZXgmJigxPT09dGhpcy5zdGF0ZXx8MzI9PT10aGlzLnN0YXRlJiYwPT09dGhpcy5zZXF1ZW5jZUluZGV4Pyh0aGlzLmNicy5vbnRleHQodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCk6MTkhPT10aGlzLnN0YXRlJiYyMCE9PXRoaXMuc3RhdGUmJjIxIT09dGhpcy5zdGF0ZXx8KHRoaXMuY2JzLm9uYXR0cmliZGF0YSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KSl9ZmluaXNoKCl7dGhpcy5oYW5kbGVUcmFpbGluZ0RhdGEoKSx0aGlzLmNicy5vbmVuZCgpfWhhbmRsZVRyYWlsaW5nRGF0YSgpe2NvbnN0IGU9dGhpcy5idWZmZXIubGVuZ3RoO3RoaXMuc2VjdGlvblN0YXJ0Pj1lfHwoMjg9PT10aGlzLnN0YXRlP3RoaXMuY3VycmVudFNlcXVlbmNlPT09Y2MuQ2RhdGFFbmQ/dGhpcy5jYnMub25jZGF0YSh0aGlzLnNlY3Rpb25TdGFydCxlKTp0aGlzLmNicy5vbmNvbW1lbnQodGhpcy5zZWN0aW9uU3RhcnQsZSk6Nj09PXRoaXMuc3RhdGV8fDExPT09dGhpcy5zdGF0ZXx8MTg9PT10aGlzLnN0YXRlfHwxNz09PXRoaXMuc3RhdGV8fDEyPT09dGhpcy5zdGF0ZXx8MTM9PT10aGlzLnN0YXRlfHwxND09PXRoaXMuc3RhdGV8fDE1PT09dGhpcy5zdGF0ZXx8MTY9PT10aGlzLnN0YXRlfHwyMD09PXRoaXMuc3RhdGV8fDE5PT09dGhpcy5zdGF0ZXx8MjE9PT10aGlzLnN0YXRlfHw5PT09dGhpcy5zdGF0ZXx8dGhpcy5jYnMub250ZXh0KHRoaXMuc2VjdGlvblN0YXJ0LGUpKX1lbWl0Q29kZVBvaW50KGUsdCl7fX0oV2Mse29uZXJyOmRhLG9udGV4dChlLHQpe1FjKEpjKGUsdCksZSx0KX0sb250ZXh0ZW50aXR5KGUsdCxuKXtRYyhlLHQsbil9LG9uaW50ZXJwb2xhdGlvbihlLHQpe2lmKEhjKXJldHVybiBRYyhKYyhlLHQpLGUsdCk7bGV0IG49ZStLYy5kZWxpbWl0ZXJPcGVuLmxlbmd0aCxzPXQtS2MuZGVsaW1pdGVyQ2xvc2UubGVuZ3RoO2Zvcig7cmMoUGMuY2hhckNvZGVBdChuKSk7KW4rKztmb3IoO3JjKFBjLmNoYXJDb2RlQXQocy0xKSk7KXMtLTtsZXQgbz1KYyhuLHMpO28uaW5jbHVkZXMoIiYiKSYmKG89TGMuZGVjb2RlRW50aXRpZXMobywhMSkpLGlhKHt0eXBlOjUsY29udGVudDp1YShvLCExLGxhKG4scykpLGxvYzpsYShlLHQpfSl9LG9ub3BlbnRhZ25hbWUoZSx0KXtjb25zdCBuPUpjKGUsdCk7JGM9e3R5cGU6MSx0YWc6bixuczpMYy5nZXROYW1lc3BhY2UobixXY1swXSxMYy5ucyksdGFnVHlwZTowLHByb3BzOltdLGNoaWxkcmVuOltdLGxvYzpsYShlLTEsdCksY29kZWdlbk5vZGU6dm9pZCAwfX0sb25vcGVudGFnZW5kKGUpe1hjKGUpfSxvbmNsb3NldGFnKGUsdCl7Y29uc3Qgbj1KYyhlLHQpO2lmKCFMYy5pc1ZvaWRUYWcobikpe2xldCBzPSExO2ZvcihsZXQgZT0wO2U8V2MubGVuZ3RoO2UrKyl7aWYoV2NbZV0udGFnLnRvTG93ZXJDYXNlKCk9PT1uLnRvTG93ZXJDYXNlKCkpe3M9ITA7Zm9yKGxldCBuPTA7bjw9ZTtuKyspe1pjKFdjLnNoaWZ0KCksdCxuPGUpfWJyZWFrfX1zfHxZYyhlLDYwKX19LG9uc2VsZmNsb3Npbmd0YWcoZSl7dmFyIHQ7Y29uc3Qgbj0kYy50YWc7JGMuaXNTZWxmQ2xvc2luZz0hMCxYYyhlKSwobnVsbD09KHQ9V2NbMF0pP3ZvaWQgMDp0LnRhZyk9PT1uJiZaYyhXYy5zaGlmdCgpLGUpfSxvbmF0dHJpYm5hbWUoZSx0KXtCYz17dHlwZTo2LG5hbWU6SmMoZSx0KSxuYW1lTG9jOmxhKGUsdCksdmFsdWU6dm9pZCAwLGxvYzpsYShlKX19LG9uZGlybmFtZShlLHQpe2NvbnN0IG49SmMoZSx0KSxzPSIuIj09PW58fCI6Ij09PW4/ImJpbmQiOiJAIj09PW4/Im9uIjoiIyI9PT1uPyJzbG90IjpuLnNsaWNlKDIpO2lmKEhjfHwiIj09PXMpQmM9e3R5cGU6NixuYW1lOm4sbmFtZUxvYzpsYShlLHQpLHZhbHVlOnZvaWQgMCxsb2M6bGEoZSl9O2Vsc2UgaWYoQmM9e3R5cGU6NyxuYW1lOnMscmF3TmFtZTpuLGV4cDp2b2lkIDAsYXJnOnZvaWQgMCxtb2RpZmllcnM6Ii4iPT09bj9bInByb3AiXTpbXSxsb2M6bGEoZSl9LCJwcmUiPT09cyl7SGM9S2MuaW5WUHJlPSEwLHFjPSRjO2NvbnN0IGU9JGMucHJvcHM7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspNz09PWVbdF0udHlwZSYmKGVbdF09YWEoZVt0XSkpfX0sb25kaXJhcmcoZSx0KXtpZihlPT09dClyZXR1cm47Y29uc3Qgbj1KYyhlLHQpO2lmKEhjKUJjLm5hbWUrPW4sY2EoQmMubmFtZUxvYyx0KTtlbHNle2NvbnN0IHM9IlsiIT09blswXTtCYy5hcmc9dWEocz9uOm4uc2xpY2UoMSwtMSkscyxsYShlLHQpLHM/MzowKX19LG9uZGlybW9kaWZpZXIoZSx0KXtjb25zdCBuPUpjKGUsdCk7aWYoSGMpQmMubmFtZSs9Ii4iK24sY2EoQmMubmFtZUxvYyx0KTtlbHNlIGlmKCJzbG90Ij09PUJjLm5hbWUpe2NvbnN0IGU9QmMuYXJnO2UmJihlLmNvbnRlbnQrPSIuIituLGNhKGUubG9jLHQpKX1lbHNlIEJjLm1vZGlmaWVycy5wdXNoKG4pfSxvbmF0dHJpYmRhdGEoZSx0KXtWYys9SmMoZSx0KSxEYzwwJiYoRGM9ZSksVWM9dH0sb25hdHRyaWJlbnRpdHkoZSx0LG4pe1ZjKz1lLERjPDAmJihEYz10KSxVYz1ufSxvbmF0dHJpYm5hbWVlbmQoZSl7Y29uc3QgdD1KYyhCYy5sb2Muc3RhcnQub2Zmc2V0LGUpOzc9PT1CYy50eXBlJiYoQmMucmF3TmFtZT10KSwkYy5wcm9wcy5zb21lKChlPT4oNz09PWUudHlwZT9lLnJhd05hbWU6ZS5uYW1lKT09PXQpKX0sb25hdHRyaWJlbmQoZSx0KXtpZigkYyYmQmMpe2lmKGNhKEJjLmxvYyx0KSwwIT09ZSlpZihWYy5pbmNsdWRlcygiJiIpJiYoVmM9TGMuZGVjb2RlRW50aXRpZXMoVmMsITApKSw2PT09QmMudHlwZSkiY2xhc3MiPT09QmMubmFtZSYmKFZjPXJhKFZjKS50cmltKCkpLEJjLnZhbHVlPXt0eXBlOjIsY29udGVudDpWYyxsb2M6MT09PWU/bGEoRGMsVWMpOmxhKERjLTEsVWMrMSl9LEtjLmluU0ZDUm9vdCYmInRlbXBsYXRlIj09PSRjLnRhZyYmImxhbmciPT09QmMubmFtZSYmVmMmJiJodG1sIiE9PVZjJiZLYy5lbnRlclJDREFUQShsYygiPC90ZW1wbGF0ZSIpLDApO2Vsc2V7bGV0IGU9MDtCYy5leHA9dWEoVmMsITEsbGEoRGMsVWMpLDAsZSksImZvciI9PT1CYy5uYW1lJiYoQmMuZm9yUGFyc2VSZXN1bHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxvYyxuPWUuY29udGVudCxzPW4ubWF0Y2goT2MpO2lmKCFzKXJldHVybjtjb25zdFssbyxyXT1zLGk9KGUsbixzPSExKT0+e2NvbnN0IG89dC5zdGFydC5vZmZzZXQrbjtyZXR1cm4gdWEoZSwhMSxsYShvLG8rZS5sZW5ndGgpLDAscz8xOjApfSxsPXtzb3VyY2U6aShyLnRyaW0oKSxuLmluZGV4T2YocixvLmxlbmd0aCkpLHZhbHVlOnZvaWQgMCxrZXk6dm9pZCAwLGluZGV4OnZvaWQgMCxmaW5hbGl6ZWQ6ITF9O2xldCBjPW8udHJpbSgpLnJlcGxhY2UoR2MsIiIpLnRyaW0oKTtjb25zdCBhPW8uaW5kZXhPZihjKSx1PWMubWF0Y2goemMpO2lmKHUpe2M9Yy5yZXBsYWNlKHpjLCIiKS50cmltKCk7Y29uc3QgZT11WzFdLnRyaW0oKTtsZXQgdDtpZihlJiYodD1uLmluZGV4T2YoZSxhK2MubGVuZ3RoKSxsLmtleT1pKGUsdCwhMCkpLHVbMl0pe2NvbnN0IHM9dVsyXS50cmltKCk7cyYmKGwuaW5kZXg9aShzLG4uaW5kZXhPZihzLGwua2V5P3QrZS5sZW5ndGg6YStjLmxlbmd0aCksITApKX19YyYmKGwudmFsdWU9aShjLGEsITApKTtyZXR1cm4gbH0oQmMuZXhwKSl9Nz09PUJjLnR5cGUmJiJwcmUiPT09QmMubmFtZXx8JGMucHJvcHMucHVzaChCYyl9VmM9IiIsRGM9VWM9LTF9LG9uY29tbWVudChlLHQpe0xjLmNvbW1lbnRzJiZpYSh7dHlwZTozLGNvbnRlbnQ6SmMoZSx0KSxsb2M6bGEoZS00LHQrMyl9KX0sb25lbmQoKXtjb25zdCBlPVBjLmxlbmd0aDtmb3IobGV0IHQ9MDt0PFdjLmxlbmd0aDt0KyspWmMoV2NbdF0sZS0xKX0sb25jZGF0YShlLHQpezAhPT1XY1swXS5ucyYmUWMoSmMoZSx0KSxlLHQpfSxvbnByb2Nlc3NpbmdpbnN0cnVjdGlvbihlKXswPT09KFdjWzBdP1djWzBdLm5zOkxjLm5zKSYmZGEoMjEsZS0xKX19KSx6Yz0vLChbXixcfVxdXSopKD86LChbXixcfVxdXSopKT8kLyxHYz0vXlwofFwpJC9nO2Z1bmN0aW9uIEpjKGUsdCl7cmV0dXJuIFBjLnNsaWNlKGUsdCl9ZnVuY3Rpb24gWGMoZSl7S2MuaW5TRkNSb290JiYoJGMuaW5uZXJMb2M9bGEoZSsxLGUrMSkpLGlhKCRjKTtjb25zdHt0YWc6dCxuczpufT0kYzswPT09biYmTGMuaXNQcmVUYWcodCkmJmpjKyssTGMuaXNWb2lkVGFnKHQpP1pjKCRjLGUpOihXYy51bnNoaWZ0KCRjKSwxIT09biYmMiE9PW58fChLYy5pblhNTD0hMCkpLCRjPW51bGx9ZnVuY3Rpb24gUWMoZSx0LG4pe3ZhciBzO3tjb25zdCB0PW51bGw9PShzPVdjWzBdKT92b2lkIDA6cy50YWc7InNjcmlwdCIhPT10JiYic3R5bGUiIT09dCYmZS5pbmNsdWRlcygiJiIpJiYoZT1MYy5kZWNvZGVFbnRpdGllcyhlLCExKSl9Y29uc3Qgbz1XY1swXXx8TWMscj1vLmNoaWxkcmVuW28uY2hpbGRyZW4ubGVuZ3RoLTFdOzI9PT0obnVsbD09cj92b2lkIDA6ci50eXBlKT8oci5jb250ZW50Kz1lLGNhKHIubG9jLG4pKTpvLmNoaWxkcmVuLnB1c2goe3R5cGU6Mixjb250ZW50OmUsbG9jOmxhKHQsbil9KX1mdW5jdGlvbiBaYyhlLHQsbj0hMSl7Y2EoZS5sb2Msbj9ZYyh0LDYwKTp0KzEpLEtjLmluU0ZDUm9vdCYmKGUuaW5uZXJMb2MuZW5kPWMoe30sZS5jaGlsZHJlbi5sZW5ndGg/ZS5jaGlsZHJlbltlLmNoaWxkcmVuLmxlbmd0aC0xXS5sb2MuZW5kOmUuaW5uZXJMb2Muc3RhcnQpLGUuaW5uZXJMb2Muc291cmNlPUpjKGUuaW5uZXJMb2Muc3RhcnQub2Zmc2V0LGUuaW5uZXJMb2MuZW5kLm9mZnNldCkpO2NvbnN0e3RhZzpzLG5zOm99PWU7SGN8fCgic2xvdCI9PT1zP2UudGFnVHlwZT0yOiFmdW5jdGlvbih7dGFnOmUscHJvcHM6dH0pe2lmKCJ0ZW1wbGF0ZSI9PT1lKWZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKDc9PT10W25dLnR5cGUmJmVhLmhhcyh0W25dLm5hbWUpKXJldHVybiEwO3JldHVybiExfShlKT9mdW5jdGlvbih7dGFnOmUscHJvcHM6dH0pe3ZhciBuO2lmKExjLmlzQ3VzdG9tRWxlbWVudChlKSlyZXR1cm4hMTtpZigiY29tcG9uZW50Ij09PWV8fChzPWUuY2hhckNvZGVBdCgwKSxzPjY0JiZzPDkxKXx8aGMoZSl8fChudWxsPT0obj1MYy5pc0J1aWx0SW5Db21wb25lbnQpP3ZvaWQgMDpuLmNhbGwoTGMsZSkpfHxMYy5pc05hdGl2ZVRhZyYmIUxjLmlzTmF0aXZlVGFnKGUpKXJldHVybiEwO3ZhciBzO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBlPXRbb107aWYoNj09PWUudHlwZSYmImlzIj09PWUubmFtZSYmZS52YWx1ZSYmZS52YWx1ZS5jb250ZW50LnN0YXJ0c1dpdGgoInZ1ZToiKSlyZXR1cm4hMH1yZXR1cm4hMX0oZSkmJihlLnRhZ1R5cGU9MSk6ZS50YWdUeXBlPTMpLEtjLmluUkNEQVRBfHwoZS5jaGlsZHJlbj1uYShlLmNoaWxkcmVuLGUudGFnKSksMD09PW8mJkxjLmlzUHJlVGFnKHMpJiZqYy0tLHFjPT09ZSYmKEhjPUtjLmluVlByZT0hMSxxYz1udWxsKSxLYy5pblhNTCYmMD09PShXY1swXT9XY1swXS5uczpMYy5ucykmJihLYy5pblhNTD0hMSl9ZnVuY3Rpb24gWWMoZSx0KXtsZXQgbj1lO2Zvcig7UGMuY2hhckNvZGVBdChuKSE9PXQmJm4+PTA7KW4tLTtyZXR1cm4gbn1jb25zdCBlYT1uZXcgU2V0KFsiaWYiLCJlbHNlIiwiZWxzZS1pZiIsImZvciIsInNsb3QiXSk7Y29uc3QgdGE9L1xyXG4vZztmdW5jdGlvbiBuYShlLHQpe3ZhciBuLHM7Y29uc3Qgbz0icHJlc2VydmUiIT09TGMud2hpdGVzcGFjZTtsZXQgcj0hMTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3QgdD1lW2ldO2lmKDI9PT10LnR5cGUpaWYoamMpdC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKHRhLCJcbiIpO2Vsc2UgaWYoc2EodC5jb250ZW50KSl7Y29uc3QgbD1udWxsPT0obj1lW2ktMV0pP3ZvaWQgMDpuLnR5cGUsYz1udWxsPT0ocz1lW2krMV0pP3ZvaWQgMDpzLnR5cGU7IWx8fCFjfHxvJiYoMz09PWwmJigzPT09Y3x8MT09PWMpfHwxPT09bCYmKDM9PT1jfHwxPT09YyYmb2EodC5jb250ZW50KSkpPyhyPSEwLGVbaV09bnVsbCk6dC5jb250ZW50PSIgIn1lbHNlIG8mJih0LmNvbnRlbnQ9cmEodC5jb250ZW50KSl9aWYoamMmJnQmJkxjLmlzUHJlVGFnKHQpKXtjb25zdCB0PWVbMF07dCYmMj09PXQudHlwZSYmKHQuY29udGVudD10LmNvbnRlbnQucmVwbGFjZSgvXlxyP1xuLywiIikpfXJldHVybiByP2UuZmlsdGVyKEJvb2xlYW4pOmV9ZnVuY3Rpb24gc2EoZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaWYoIXJjKGUuY2hhckNvZGVBdCh0KSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gb2EoZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZS5jaGFyQ29kZUF0KHQpO2lmKDEwPT09bnx8MTM9PT1uKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHJhKGUpe2xldCB0PSIiLG49ITE7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspcmMoZS5jaGFyQ29kZUF0KHMpKT9ufHwodCs9IiAiLG49ITApOih0Kz1lW3NdLG49ITEpO3JldHVybiB0fWZ1bmN0aW9uIGlhKGUpeyhXY1swXXx8TWMpLmNoaWxkcmVuLnB1c2goZSl9ZnVuY3Rpb24gbGEoZSx0KXtyZXR1cm57c3RhcnQ6S2MuZ2V0UG9zKGUpLGVuZDpudWxsPT10P3Q6S2MuZ2V0UG9zKHQpLHNvdXJjZTpudWxsPT10P3Q6SmMoZSx0KX19ZnVuY3Rpb24gY2EoZSx0KXtlLmVuZD1LYy5nZXRQb3ModCksZS5zb3VyY2U9SmMoZS5zdGFydC5vZmZzZXQsdCl9ZnVuY3Rpb24gYWEoZSl7Y29uc3QgdD17dHlwZTo2LG5hbWU6ZS5yYXdOYW1lLG5hbWVMb2M6bGEoZS5sb2Muc3RhcnQub2Zmc2V0LGUubG9jLnN0YXJ0Lm9mZnNldCtlLnJhd05hbWUubGVuZ3RoKSx2YWx1ZTp2b2lkIDAsbG9jOmUubG9jfTtpZihlLmV4cCl7Y29uc3Qgbj1lLmV4cC5sb2M7bi5lbmQub2Zmc2V0PGUubG9jLmVuZC5vZmZzZXQmJihuLnN0YXJ0Lm9mZnNldC0tLG4uc3RhcnQuY29sdW1uLS0sbi5lbmQub2Zmc2V0Kyssbi5lbmQuY29sdW1uKyspLHQudmFsdWU9e3R5cGU6Mixjb250ZW50OmUuZXhwLmNvbnRlbnQsbG9jOm59fXJldHVybiB0fWZ1bmN0aW9uIHVhKGUsdD0hMSxuLHM9MCxvPTApe3JldHVybiBHbChlLHQsbixzKX1mdW5jdGlvbiBkYShlLHQsbil7TGMub25FcnJvcihkYyhlLGxhKHQsdCkpKX1mdW5jdGlvbiBwYShlLHQpe2lmKEtjLnJlc2V0KCksJGM9bnVsbCxCYz1udWxsLFZjPSIiLERjPS0xLFVjPS0xLFdjLmxlbmd0aD0wLFBjPWUsTGM9Yyh7fSxGYyksdCl7bGV0IGU7Zm9yKGUgaW4gdCludWxsIT10W2VdJiYoTGNbZV09dFtlXSl9S2MubW9kZT0iaHRtbCI9PT1MYy5wYXJzZU1vZGU/MToic2ZjIj09PUxjLnBhcnNlTW9kZT8yOjAsS2MuaW5YTUw9MT09PUxjLm5zfHwyPT09TGMubnM7Y29uc3Qgbj1udWxsPT10P3ZvaWQgMDp0LmRlbGltaXRlcnM7biYmKEtjLmRlbGltaXRlck9wZW49bGMoblswXSksS2MuZGVsaW1pdGVyQ2xvc2U9bGMoblsxXSkpO2NvbnN0IHM9TWM9ZnVuY3Rpb24oZSx0PSIiKXtyZXR1cm57dHlwZTowLHNvdXJjZTp0LGNoaWxkcmVuOmUsaGVscGVyczpuZXcgU2V0LGNvbXBvbmVudHM6W10sZGlyZWN0aXZlczpbXSxob2lzdHM6W10saW1wb3J0czpbXSxjYWNoZWQ6MCx0ZW1wczowLGNvZGVnZW5Ob2RlOnZvaWQgMCxsb2M6SGx9fShbXSxlKTtyZXR1cm4gS2MucGFyc2UoUGMpLHMubG9jPWxhKDAsZS5sZW5ndGgpLHMuY2hpbGRyZW49bmEocy5jaGlsZHJlbiksTWM9bnVsbCxzfWZ1bmN0aW9uIGhhKGUsdCl7bWEoZSx0LGZhKGUsZS5jaGlsZHJlblswXSkpfWZ1bmN0aW9uIGZhKGUsdCl7Y29uc3R7Y2hpbGRyZW46bn09ZTtyZXR1cm4gMT09PW4ubGVuZ3RoJiYxPT09dC50eXBlJiYhd2ModCl9ZnVuY3Rpb24gbWEoZSx0LG49ITEpe2NvbnN0e2NoaWxkcmVuOnN9PWUsbz1zLmxlbmd0aDtsZXQgcj0wO2ZvcihsZXQgaT0wO2k8cy5sZW5ndGg7aSsrKXtjb25zdCBlPXNbaV07aWYoMT09PWUudHlwZSYmMD09PWUudGFnVHlwZSl7Y29uc3Qgcz1uPzA6Z2EoZSx0KTtpZihzPjApe2lmKHM+PTIpe2UuY29kZWdlbk5vZGUucGF0Y2hGbGFnPSItMSIsZS5jb2RlZ2VuTm9kZT10LmhvaXN0KGUuY29kZWdlbk5vZGUpLHIrKztjb250aW51ZX19ZWxzZXtjb25zdCBuPWUuY29kZWdlbk5vZGU7aWYoMTM9PT1uLnR5cGUpe2NvbnN0IHM9U2Eobik7aWYoKCFzfHw1MTI9PT1zfHwxPT09cykmJmJhKGUsdCk+PTIpe2NvbnN0IHM9X2EoZSk7cyYmKG4ucHJvcHM9dC5ob2lzdChzKSl9bi5keW5hbWljUHJvcHMmJihuLmR5bmFtaWNQcm9wcz10LmhvaXN0KG4uZHluYW1pY1Byb3BzKSl9fX1pZigxPT09ZS50eXBlKXtjb25zdCBuPTE9PT1lLnRhZ1R5cGU7biYmdC5zY29wZXMudlNsb3QrKyxtYShlLHQpLG4mJnQuc2NvcGVzLnZTbG90LS19ZWxzZSBpZigxMT09PWUudHlwZSltYShlLHQsMT09PWUuY2hpbGRyZW4ubGVuZ3RoKTtlbHNlIGlmKDk9PT1lLnR5cGUpZm9yKGxldCBuPTA7bjxlLmJyYW5jaGVzLmxlbmd0aDtuKyspbWEoZS5icmFuY2hlc1tuXSx0LDE9PT1lLmJyYW5jaGVzW25dLmNoaWxkcmVuLmxlbmd0aCl9aWYociYmdC50cmFuc2Zvcm1Ib2lzdCYmdC50cmFuc2Zvcm1Ib2lzdChzLHQsZSksciYmcj09PW8mJjE9PT1lLnR5cGUmJjA9PT1lLnRhZ1R5cGUmJmUuY29kZWdlbk5vZGUmJjEzPT09ZS5jb2RlZ2VuTm9kZS50eXBlJiZwKGUuY29kZWdlbk5vZGUuY2hpbGRyZW4pKXtjb25zdCBuPXQuaG9pc3QoV2woZS5jb2RlZ2VuTm9kZS5jaGlsZHJlbikpO3QuaG1yJiYobi5jb250ZW50PWBbLi4uJHtuLmNvbnRlbnR9XWApLGUuY29kZWdlbk5vZGUuY2hpbGRyZW49bn19ZnVuY3Rpb24gZ2EoZSx0KXtjb25zdHtjb25zdGFudENhY2hlOm59PXQ7c3dpdGNoKGUudHlwZSl7Y2FzZSAxOmlmKDAhPT1lLnRhZ1R5cGUpcmV0dXJuIDA7Y29uc3Qgcz1uLmdldChlKTtpZih2b2lkIDAhPT1zKXJldHVybiBzO2NvbnN0IG89ZS5jb2RlZ2VuTm9kZTtpZigxMyE9PW8udHlwZSlyZXR1cm4gMDtpZihvLmlzQmxvY2smJiJzdmciIT09ZS50YWcmJiJmb3JlaWduT2JqZWN0IiE9PWUudGFnKXJldHVybiAwO2lmKFNhKG8pKXJldHVybiBuLnNldChlLDApLDA7e2xldCBzPTM7Y29uc3Qgcj1iYShlLHQpO2lmKDA9PT1yKXJldHVybiBuLnNldChlLDApLDA7cjxzJiYocz1yKTtmb3IobGV0IG89MDtvPGUuY2hpbGRyZW4ubGVuZ3RoO28rKyl7Y29uc3Qgcj1nYShlLmNoaWxkcmVuW29dLHQpO2lmKDA9PT1yKXJldHVybiBuLnNldChlLDApLDA7cjxzJiYocz1yKX1pZihzPjEpZm9yKGxldCBvPTA7bzxlLnByb3BzLmxlbmd0aDtvKyspe2NvbnN0IHI9ZS5wcm9wc1tvXTtpZig3PT09ci50eXBlJiYiYmluZCI9PT1yLm5hbWUmJnIuZXhwKXtjb25zdCBvPWdhKHIuZXhwLHQpO2lmKDA9PT1vKXJldHVybiBuLnNldChlLDApLDA7bzxzJiYocz1vKX19aWYoby5pc0Jsb2NrKXtmb3IobGV0IHQ9MDt0PGUucHJvcHMubGVuZ3RoO3QrKyl7aWYoNz09PWUucHJvcHNbdF0udHlwZSlyZXR1cm4gbi5zZXQoZSwwKSwwfXQucmVtb3ZlSGVscGVyKGNsKSx0LnJlbW92ZUhlbHBlcihlYyh0LmluU1NSLG8uaXNDb21wb25lbnQpKSxvLmlzQmxvY2s9ITEsdC5oZWxwZXIoWWwodC5pblNTUixvLmlzQ29tcG9uZW50KSl9cmV0dXJuIG4uc2V0KGUscyksc31jYXNlIDI6Y2FzZSAzOnJldHVybiAzO2Nhc2UgOTpjYXNlIDExOmNhc2UgMTA6ZGVmYXVsdDpyZXR1cm4gMDtjYXNlIDU6Y2FzZSAxMjpyZXR1cm4gZ2EoZS5jb250ZW50LHQpO2Nhc2UgNDpyZXR1cm4gZS5jb25zdFR5cGU7Y2FzZSA4OmxldCByPTM7Zm9yKGxldCBuPTA7bjxlLmNoaWxkcmVuLmxlbmd0aDtuKyspe2NvbnN0IHM9ZS5jaGlsZHJlbltuXTtpZih2KHMpfHx5KHMpKWNvbnRpbnVlO2NvbnN0IG89Z2Eocyx0KTtpZigwPT09bylyZXR1cm4gMDtvPHImJihyPW8pfXJldHVybiByfX1jb25zdCB2YT1uZXcgU2V0KFt3bCxObCxBbCxFbF0pO2Z1bmN0aW9uIHlhKGUsdCl7aWYoMTQ9PT1lLnR5cGUmJiF2KGUuY2FsbGVlKSYmdmEuaGFzKGUuY2FsbGVlKSl7Y29uc3Qgbj1lLmFyZ3VtZW50c1swXTtpZig0PT09bi50eXBlKXJldHVybiBnYShuLHQpO2lmKDE0PT09bi50eXBlKXJldHVybiB5YShuLHQpfXJldHVybiAwfWZ1bmN0aW9uIGJhKGUsdCl7bGV0IG49Mztjb25zdCBzPV9hKGUpO2lmKHMmJjE1PT09cy50eXBlKXtjb25zdHtwcm9wZXJ0aWVzOmV9PXM7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0e2tleTpvLHZhbHVlOnJ9PWVbc10saT1nYShvLHQpO2lmKDA9PT1pKXJldHVybiBpO2xldCBsO2lmKGk8biYmKG49aSksbD00PT09ci50eXBlP2dhKHIsdCk6MTQ9PT1yLnR5cGU/eWEocix0KTowLDA9PT1sKXJldHVybiBsO2w8biYmKG49bCl9fXJldHVybiBufWZ1bmN0aW9uIF9hKGUpe2NvbnN0IHQ9ZS5jb2RlZ2VuTm9kZTtpZigxMz09PXQudHlwZSlyZXR1cm4gdC5wcm9wc31mdW5jdGlvbiBTYShlKXtjb25zdCB0PWUucGF0Y2hGbGFnO3JldHVybiB0P3BhcnNlSW50KHQsMTApOnZvaWQgMH1mdW5jdGlvbiB4YShlLHtmaWxlbmFtZTp0PSIiLHByZWZpeElkZW50aWZpZXJzOnM9ITEsaG9pc3RTdGF0aWM6cj0hMSxobXI6aT0hMSxjYWNoZUhhbmRsZXJzOmw9ITEsbm9kZVRyYW5zZm9ybXM6Yz1bXSxkaXJlY3RpdmVUcmFuc2Zvcm1zOmE9e30sdHJhbnNmb3JtSG9pc3Q6dT1udWxsLGlzQnVpbHRJbkNvbXBvbmVudDpkPW8saXNDdXN0b21FbGVtZW50OnA9byxleHByZXNzaW9uUGx1Z2luczpoPVtdLHNjb3BlSWQ6Zj1udWxsLHNsb3R0ZWQ6bT0hMCxzc3I6Zz0hMSxpblNTUjp5PSExLHNzckNzc1ZhcnM6Yj0iIixiaW5kaW5nTWV0YWRhdGE6Xz1uLGlubGluZTpTPSExLGlzVFM6eD0hMSxvbkVycm9yOkM9YWMsb25XYXJuOms9dWMsY29tcGF0Q29uZmlnOlR9KXtjb25zdCB3PXQucmVwbGFjZSgvXD8uKiQvLCIiKS5tYXRjaCgvKFteL1xcXSspXC5cdyskLyksTj17ZmlsZW5hbWU6dCxzZWxmTmFtZTp3JiZGKEkod1sxXSkpLHByZWZpeElkZW50aWZpZXJzOnMsaG9pc3RTdGF0aWM6cixobXI6aSxjYWNoZUhhbmRsZXJzOmwsbm9kZVRyYW5zZm9ybXM6YyxkaXJlY3RpdmVUcmFuc2Zvcm1zOmEsdHJhbnNmb3JtSG9pc3Q6dSxpc0J1aWx0SW5Db21wb25lbnQ6ZCxpc0N1c3RvbUVsZW1lbnQ6cCxleHByZXNzaW9uUGx1Z2luczpoLHNjb3BlSWQ6ZixzbG90dGVkOm0sc3NyOmcsaW5TU1I6eSxzc3JDc3NWYXJzOmIsYmluZGluZ01ldGFkYXRhOl8saW5saW5lOlMsaXNUUzp4LG9uRXJyb3I6Qyxvbldhcm46ayxjb21wYXRDb25maWc6VCxyb290OmUsaGVscGVyczpuZXcgTWFwLGNvbXBvbmVudHM6bmV3IFNldCxkaXJlY3RpdmVzOm5ldyBTZXQsaG9pc3RzOltdLGltcG9ydHM6W10sY29uc3RhbnRDYWNoZTpuZXcgV2Vha01hcCx0ZW1wczowLGNhY2hlZDowLGlkZW50aWZpZXJzOk9iamVjdC5jcmVhdGUobnVsbCksc2NvcGVzOnt2Rm9yOjAsdlNsb3Q6MCx2UHJlOjAsdk9uY2U6MH0scGFyZW50Om51bGwsY3VycmVudE5vZGU6ZSxjaGlsZEluZGV4OjAsaW5WT25jZTohMSxoZWxwZXIoZSl7Y29uc3QgdD1OLmhlbHBlcnMuZ2V0KGUpfHwwO3JldHVybiBOLmhlbHBlcnMuc2V0KGUsdCsxKSxlfSxyZW1vdmVIZWxwZXIoZSl7Y29uc3QgdD1OLmhlbHBlcnMuZ2V0KGUpO2lmKHQpe2NvbnN0IG49dC0xO24/Ti5oZWxwZXJzLnNldChlLG4pOk4uaGVscGVycy5kZWxldGUoZSl9fSxoZWxwZXJTdHJpbmc6ZT0+YF8ke2psW04uaGVscGVyKGUpXX1gLHJlcGxhY2VOb2RlKGUpe04ucGFyZW50LmNoaWxkcmVuW04uY2hpbGRJbmRleF09Ti5jdXJyZW50Tm9kZT1lfSxyZW1vdmVOb2RlKGUpe2NvbnN0IHQ9ZT9OLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGUpOk4uY3VycmVudE5vZGU/Ti5jaGlsZEluZGV4Oi0xO2UmJmUhPT1OLmN1cnJlbnROb2RlP04uY2hpbGRJbmRleD50JiYoTi5jaGlsZEluZGV4LS0sTi5vbk5vZGVSZW1vdmVkKCkpOihOLmN1cnJlbnROb2RlPW51bGwsTi5vbk5vZGVSZW1vdmVkKCkpLE4ucGFyZW50LmNoaWxkcmVuLnNwbGljZSh0LDEpfSxvbk5vZGVSZW1vdmVkOm8sYWRkSWRlbnRpZmllcnMoZSl7fSxyZW1vdmVJZGVudGlmaWVycyhlKXt9LGhvaXN0KGUpe3YoZSkmJihlPUdsKGUpKSxOLmhvaXN0cy5wdXNoKGUpO2NvbnN0IHQ9R2woYF9ob2lzdGVkXyR7Ti5ob2lzdHMubGVuZ3RofWAsITEsZS5sb2MsMik7cmV0dXJuIHQuaG9pc3RlZD1lLHR9LGNhY2hlOihlLHQ9ITEpPT5mdW5jdGlvbihlLHQsbj0hMSl7cmV0dXJue3R5cGU6MjAsaW5kZXg6ZSx2YWx1ZTp0LGlzVk5vZGU6bixsb2M6SGx9fShOLmNhY2hlZCsrLGUsdCl9O3JldHVybiBOfWZ1bmN0aW9uIENhKGUsdCl7Y29uc3Qgbj14YShlLHQpO2thKGUsbiksdC5ob2lzdFN0YXRpYyYmaGEoZSxuKSx0LnNzcnx8ZnVuY3Rpb24oZSx0KXtjb25zdHtoZWxwZXI6bn09dCx7Y2hpbGRyZW46c309ZTtpZigxPT09cy5sZW5ndGgpe2NvbnN0IG49c1swXTtpZihmYShlLG4pJiZuLmNvZGVnZW5Ob2RlKXtjb25zdCBzPW4uY29kZWdlbk5vZGU7MTM9PT1zLnR5cGUmJnRjKHMsdCksZS5jb2RlZ2VuTm9kZT1zfWVsc2UgZS5jb2RlZ2VuTm9kZT1ufWVsc2UgaWYocy5sZW5ndGg+MSl7bGV0IHM9NjQ7ZS5jb2RlZ2VuTm9kZT1xbCh0LG4oc2wpLHZvaWQgMCxlLmNoaWxkcmVuLHMrIiIsdm9pZCAwLHZvaWQgMCwhMCx2b2lkIDAsITEpfX0oZSxuKSxlLmhlbHBlcnM9bmV3IFNldChbLi4ubi5oZWxwZXJzLmtleXMoKV0pLGUuY29tcG9uZW50cz1bLi4ubi5jb21wb25lbnRzXSxlLmRpcmVjdGl2ZXM9Wy4uLm4uZGlyZWN0aXZlc10sZS5pbXBvcnRzPW4uaW1wb3J0cyxlLmhvaXN0cz1uLmhvaXN0cyxlLnRlbXBzPW4udGVtcHMsZS5jYWNoZWQ9bi5jYWNoZWQsZS50cmFuc2Zvcm1lZD0hMH1mdW5jdGlvbiBrYShlLHQpe3QuY3VycmVudE5vZGU9ZTtjb25zdHtub2RlVHJhbnNmb3JtczpufT10LHM9W107Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspe2NvbnN0IG89bltyXShlLHQpO2lmKG8mJihwKG8pP3MucHVzaCguLi5vKTpzLnB1c2gobykpLCF0LmN1cnJlbnROb2RlKXJldHVybjtlPXQuY3VycmVudE5vZGV9c3dpdGNoKGUudHlwZSl7Y2FzZSAzOnQuc3NyfHx0LmhlbHBlcihobCk7YnJlYWs7Y2FzZSA1OnQuc3NyfHx0LmhlbHBlcihrbCk7YnJlYWs7Y2FzZSA5OmZvcihsZXQgbj0wO248ZS5icmFuY2hlcy5sZW5ndGg7bisrKWthKGUuYnJhbmNoZXNbbl0sdCk7YnJlYWs7Y2FzZSAxMDpjYXNlIDExOmNhc2UgMTpjYXNlIDA6IWZ1bmN0aW9uKGUsdCl7bGV0IG49MDtjb25zdCBzPSgpPT57bi0tfTtmb3IoO248ZS5jaGlsZHJlbi5sZW5ndGg7bisrKXtjb25zdCBvPWUuY2hpbGRyZW5bbl07dihvKXx8KHQucGFyZW50PWUsdC5jaGlsZEluZGV4PW4sdC5vbk5vZGVSZW1vdmVkPXMsa2Eobyx0KSl9fShlLHQpfXQuY3VycmVudE5vZGU9ZTtsZXQgbz1zLmxlbmd0aDtmb3IoO28tLTspc1tvXSgpfWZ1bmN0aW9uIFRhKGUsdCl7Y29uc3Qgbj12KGUpP3Q9PnQ9PT1lOnQ9PmUudGVzdCh0KTtyZXR1cm4oZSxzKT0+e2lmKDE9PT1lLnR5cGUpe2NvbnN0e3Byb3BzOm99PWU7aWYoMz09PWUudGFnVHlwZSYmby5zb21lKGtjKSlyZXR1cm47Y29uc3Qgcj1bXTtmb3IobGV0IGk9MDtpPG8ubGVuZ3RoO2krKyl7Y29uc3QgbD1vW2ldO2lmKDc9PT1sLnR5cGUmJm4obC5uYW1lKSl7by5zcGxpY2UoaSwxKSxpLS07Y29uc3Qgbj10KGUsbCxzKTtuJiZyLnB1c2gobil9fXJldHVybiByfX19Y29uc3Qgd2E9Ii8qI19fUFVSRV9fKi8iLE5hPWU9PmAke2psW2VdfTogXyR7amxbZV19YDtmdW5jdGlvbiBBYShlLHttb2RlOnQ9ImZ1bmN0aW9uIixwcmVmaXhJZGVudGlmaWVyczpuPSJtb2R1bGUiPT09dCxzb3VyY2VNYXA6cz0hMSxmaWxlbmFtZTpvPSJ0ZW1wbGF0ZS52dWUuaHRtbCIsc2NvcGVJZDpyPW51bGwsb3B0aW1pemVJbXBvcnRzOmk9ITEscnVudGltZUdsb2JhbE5hbWU6bD0iVnVlIixydW50aW1lTW9kdWxlTmFtZTpjPSJ2dWUiLHNzclJ1bnRpbWVNb2R1bGVOYW1lOmE9InZ1ZS9zZXJ2ZXItcmVuZGVyZXIiLHNzcjp1PSExLGlzVFM6ZD0hMSxpblNTUjpwPSExfSl7Y29uc3QgaD17bW9kZTp0LHByZWZpeElkZW50aWZpZXJzOm4sc291cmNlTWFwOnMsZmlsZW5hbWU6byxzY29wZUlkOnIsb3B0aW1pemVJbXBvcnRzOmkscnVudGltZUdsb2JhbE5hbWU6bCxydW50aW1lTW9kdWxlTmFtZTpjLHNzclJ1bnRpbWVNb2R1bGVOYW1lOmEsc3NyOnUsaXNUUzpkLGluU1NSOnAsc291cmNlOmUuc291cmNlLGNvZGU6IiIsY29sdW1uOjEsbGluZToxLG9mZnNldDowLGluZGVudExldmVsOjAscHVyZTohMSxtYXA6dm9pZCAwLGhlbHBlcjplPT5gXyR7amxbZV19YCxwdXNoKGUsdD0tMixuKXtoLmNvZGUrPWV9LGluZGVudCgpe2YoKytoLmluZGVudExldmVsKX0sZGVpbmRlbnQoZT0hMSl7ZT8tLWguaW5kZW50TGV2ZWw6ZigtLWguaW5kZW50TGV2ZWwpfSxuZXdsaW5lKCl7ZihoLmluZGVudExldmVsKX19O2Z1bmN0aW9uIGYoZSl7aC5wdXNoKCJcbiIrIiAgIi5yZXBlYXQoZSksMCl9cmV0dXJuIGh9ZnVuY3Rpb24gRWEoZSx0PXt9KXtjb25zdCBuPUFhKGUsdCk7dC5vbkNvbnRleHRDcmVhdGVkJiZ0Lm9uQ29udGV4dENyZWF0ZWQobik7Y29uc3R7bW9kZTpzLHB1c2g6byxwcmVmaXhJZGVudGlmaWVyczpyLGluZGVudDppLGRlaW5kZW50OmwsbmV3bGluZTpjLHNzcjphfT1uLHU9QXJyYXkuZnJvbShlLmhlbHBlcnMpLGQ9dS5sZW5ndGg+MCxwPSFyJiYibW9kdWxlIiE9PXMsaD1uOyFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixuZXdsaW5lOnMscnVudGltZUdsb2JhbE5hbWU6b309dCxyPW8saT1BcnJheS5mcm9tKGUuaGVscGVycyk7aWYoaS5sZW5ndGg+MCYmKG4oYGNvbnN0IF9WdWUgPSAke3J9XG5gLC0xKSxlLmhvaXN0cy5sZW5ndGgpKXtuKGBjb25zdCB7ICR7W2RsLHBsLGhsLGZsLG1sXS5maWx0ZXIoKGU9PmkuaW5jbHVkZXMoZSkpKS5tYXAoTmEpLmpvaW4oIiwgIil9IH0gPSBfVnVlXG5gLC0xKX0oZnVuY3Rpb24oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuO3QucHVyZT0hMDtjb25zdHtwdXNoOm4sbmV3bGluZTpzfT10O3MoKTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3Qgcj1lW29dO3ImJihuKGBjb25zdCBfaG9pc3RlZF8ke28rMX0gPSBgKSxGYShyLHQpLHMoKSl9dC5wdXJlPSExfSkoZS5ob2lzdHMsdCkscygpLG4oInJldHVybiAiKX0oZSxoKTtpZihvKGBmdW5jdGlvbiAke2E/InNzclJlbmRlciI6InJlbmRlciJ9KCR7KGE/WyJfY3R4IiwiX3B1c2giLCJfcGFyZW50IiwiX2F0dHJzIl06WyJfY3R4IiwiX2NhY2hlIl0pLmpvaW4oIiwgIil9KSB7YCksaSgpLHAmJihvKCJ3aXRoIChfY3R4KSB7IiksaSgpLGQmJihvKGBjb25zdCB7ICR7dS5tYXAoTmEpLmpvaW4oIiwgIil9IH0gPSBfVnVlXG5gLC0xKSxjKCkpKSxlLmNvbXBvbmVudHMubGVuZ3RoJiYoSWEoZS5jb21wb25lbnRzLCJjb21wb25lbnQiLG4pLChlLmRpcmVjdGl2ZXMubGVuZ3RofHxlLnRlbXBzPjApJiZjKCkpLGUuZGlyZWN0aXZlcy5sZW5ndGgmJihJYShlLmRpcmVjdGl2ZXMsImRpcmVjdGl2ZSIsbiksZS50ZW1wcz4wJiZjKCkpLGUudGVtcHM+MCl7bygibGV0ICIpO2ZvcihsZXQgdD0wO3Q8ZS50ZW1wczt0KyspbyhgJHt0PjA/IiwgIjoiIn1fdGVtcCR7dH1gKX1yZXR1cm4oZS5jb21wb25lbnRzLmxlbmd0aHx8ZS5kaXJlY3RpdmVzLmxlbmd0aHx8ZS50ZW1wcykmJihvKCJcbiIsMCksYygpKSxhfHxvKCJyZXR1cm4gIiksZS5jb2RlZ2VuTm9kZT9GYShlLmNvZGVnZW5Ob2RlLG4pOm8oIm51bGwiKSxwJiYobCgpLG8oIn0iKSksbCgpLG8oIn0iKSx7YXN0OmUsY29kZTpuLmNvZGUscHJlYW1ibGU6IiIsbWFwOm4ubWFwP24ubWFwLnRvSlNPTigpOnZvaWQgMH19ZnVuY3Rpb24gSWEoZSx0LHtoZWxwZXI6bixwdXNoOnMsbmV3bGluZTpvLGlzVFM6cn0pe2NvbnN0IGk9bigiY29tcG9uZW50Ij09PXQ/Z2w6eWwpO2ZvcihsZXQgbD0wO2w8ZS5sZW5ndGg7bCsrKXtsZXQgbj1lW2xdO2NvbnN0IGM9bi5lbmRzV2l0aCgiX19zZWxmIik7YyYmKG49bi5zbGljZSgwLC02KSkscyhgY29uc3QgJHtSYyhuLHQpfSA9ICR7aX0oJHtKU09OLnN0cmluZ2lmeShuKX0ke2M/IiwgdHJ1ZSI6IiJ9KSR7cj8iISI6IiJ9YCksbDxlLmxlbmd0aC0xJiZvKCl9fWZ1bmN0aW9uIFJhKGUsdCl7Y29uc3Qgbj1lLmxlbmd0aD4zfHwhMTt0LnB1c2goIlsiKSxuJiZ0LmluZGVudCgpLE9hKGUsdCxuKSxuJiZ0LmRlaW5kZW50KCksdC5wdXNoKCJdIil9ZnVuY3Rpb24gT2EoZSx0LG49ITEscz0hMCl7Y29uc3R7cHVzaDpvLG5ld2xpbmU6cn09dDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3QgbD1lW2ldO3YobCk/byhsLC0zKTpwKGwpP1JhKGwsdCk6RmEobCx0KSxpPGUubGVuZ3RoLTEmJihuPyhzJiZvKCIsIikscigpKTpzJiZvKCIsICIpKX19ZnVuY3Rpb24gRmEoZSx0KXtpZih2KGUpKXQucHVzaChlLC0zKTtlbHNlIGlmKHkoZSkpdC5wdXNoKHQuaGVscGVyKGUpKTtlbHNlIHN3aXRjaChlLnR5cGUpe2Nhc2UgMTpjYXNlIDk6Y2FzZSAxMTpjYXNlIDEyOkZhKGUuY29kZWdlbk5vZGUsdCk7YnJlYWs7Y2FzZSAyOiFmdW5jdGlvbihlLHQpe3QucHVzaChKU09OLnN0cmluZ2lmeShlLmNvbnRlbnQpLC0zLGUpfShlLHQpO2JyZWFrO2Nhc2UgNDpMYShlLHQpO2JyZWFrO2Nhc2UgNTohZnVuY3Rpb24oZSx0KXtjb25zdHtwdXNoOm4saGVscGVyOnMscHVyZTpvfT10O28mJm4od2EpO24oYCR7cyhrbCl9KGApLEZhKGUuY29udGVudCx0KSxuKCIpIil9KGUsdCk7YnJlYWs7Y2FzZSA4Ok1hKGUsdCk7YnJlYWs7Y2FzZSAzOiFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixoZWxwZXI6cyxwdXJlOm99PXQ7byYmbih3YSk7bihgJHtzKGhsKX0oJHtKU09OLnN0cmluZ2lmeShlLmNvbnRlbnQpfSlgLC0zLGUpfShlLHQpO2JyZWFrO2Nhc2UgMTM6IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLGhlbHBlcjpzLHB1cmU6b309dCx7dGFnOnIscHJvcHM6aSxjaGlsZHJlbjpsLHBhdGNoRmxhZzpjLGR5bmFtaWNQcm9wczphLGRpcmVjdGl2ZXM6dSxpc0Jsb2NrOmQsZGlzYWJsZVRyYWNraW5nOnAsaXNDb21wb25lbnQ6aH09ZTt1JiZuKHMoX2wpKyIoIik7ZCYmbihgKCR7cyhjbCl9KCR7cD8idHJ1ZSI6IiJ9KSwgYCk7byYmbih3YSk7Y29uc3QgZj1kP2VjKHQuaW5TU1IsaCk6WWwodC5pblNTUixoKTtuKHMoZikrIigiLC0yLGUpLE9hKGZ1bmN0aW9uKGUpe2xldCB0PWUubGVuZ3RoO2Zvcig7dC0tJiZudWxsPT1lW3RdOyk7cmV0dXJuIGUuc2xpY2UoMCx0KzEpLm1hcCgoZT0+ZXx8Im51bGwiKSl9KFtyLGksbCxjLGFdKSx0KSxuKCIpIiksZCYmbigiKSIpO3UmJihuKCIsICIpLEZhKHUsdCksbigiKSIpKX0oZSx0KTticmVhaztjYXNlIDE0OiFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixoZWxwZXI6cyxwdXJlOm99PXQscj12KGUuY2FsbGVlKT9lLmNhbGxlZTpzKGUuY2FsbGVlKTtvJiZuKHdhKTtuKHIrIigiLC0yLGUpLE9hKGUuYXJndW1lbnRzLHQpLG4oIikiKX0oZSx0KTticmVhaztjYXNlIDE1OiFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixpbmRlbnQ6cyxkZWluZGVudDpvLG5ld2xpbmU6cn09dCx7cHJvcGVydGllczppfT1lO2lmKCFpLmxlbmd0aClyZXR1cm4gdm9pZCBuKCJ7fSIsLTIsZSk7Y29uc3QgbD1pLmxlbmd0aD4xfHwhMTtuKGw/InsiOiJ7ICIpLGwmJnMoKTtmb3IobGV0IGM9MDtjPGkubGVuZ3RoO2MrKyl7Y29uc3R7a2V5OmUsdmFsdWU6c309aVtjXTtQYShlLHQpLG4oIjogIiksRmEocyx0KSxjPGkubGVuZ3RoLTEmJihuKCIsIikscigpKX1sJiZvKCksbihsPyJ9IjoiIH0iKX0oZSx0KTticmVhaztjYXNlIDE3OiFmdW5jdGlvbihlLHQpe1JhKGUuZWxlbWVudHMsdCl9KGUsdCk7YnJlYWs7Y2FzZSAxODohZnVuY3Rpb24oZSx0KXtjb25zdHtwdXNoOm4saW5kZW50OnMsZGVpbmRlbnQ6b309dCx7cGFyYW1zOnIscmV0dXJuczppLGJvZHk6bCxuZXdsaW5lOmMsaXNTbG90OmF9PWU7YSYmbihgXyR7amxbJGxdfShgKTtuKCIoIiwtMixlKSxwKHIpP09hKHIsdCk6ciYmRmEocix0KTtuKCIpID0+ICIpLChjfHxsKSYmKG4oInsiKSxzKCkpO2k/KGMmJm4oInJldHVybiAiKSxwKGkpP1JhKGksdCk6RmEoaSx0KSk6bCYmRmEobCx0KTsoY3x8bCkmJihvKCksbigifSIpKTthJiZuKCIpIil9KGUsdCk7YnJlYWs7Y2FzZSAxOTohZnVuY3Rpb24oZSx0KXtjb25zdHt0ZXN0Om4sY29uc2VxdWVudDpzLGFsdGVybmF0ZTpvLG5ld2xpbmU6cn09ZSx7cHVzaDppLGluZGVudDpsLGRlaW5kZW50OmMsbmV3bGluZTphfT10O2lmKDQ9PT1uLnR5cGUpe2NvbnN0IGU9IW1jKG4uY29udGVudCk7ZSYmaSgiKCIpLExhKG4sdCksZSYmaSgiKSIpfWVsc2UgaSgiKCIpLEZhKG4sdCksaSgiKSIpO3ImJmwoKSx0LmluZGVudExldmVsKysscnx8aSgiICIpLGkoIj8gIiksRmEocyx0KSx0LmluZGVudExldmVsLS0sciYmYSgpLHJ8fGkoIiAiKSxpKCI6ICIpO2NvbnN0IHU9MTk9PT1vLnR5cGU7dXx8dC5pbmRlbnRMZXZlbCsrO0ZhKG8sdCksdXx8dC5pbmRlbnRMZXZlbC0tO3ImJmMoITApfShlLHQpO2JyZWFrO2Nhc2UgMjA6IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLGhlbHBlcjpzLGluZGVudDpvLGRlaW5kZW50OnIsbmV3bGluZTppfT10O24oYF9jYWNoZVske2UuaW5kZXh9XSB8fCAoYCksZS5pc1ZOb2RlJiYobygpLG4oYCR7cyhMbCl9KC0xKSxgKSxpKCkpO24oYF9jYWNoZVske2UuaW5kZXh9XSA9IGApLEZhKGUudmFsdWUsdCksZS5pc1ZOb2RlJiYobigiLCIpLGkoKSxuKGAke3MoTGwpfSgxKSxgKSxpKCksbihgX2NhY2hlWyR7ZS5pbmRleH1dYCkscigpKTtuKCIpIil9KGUsdCk7YnJlYWs7Y2FzZSAyMTpPYShlLmJvZHksdCwhMCwhMSl9fWZ1bmN0aW9uIExhKGUsdCl7Y29uc3R7Y29udGVudDpuLGlzU3RhdGljOnN9PWU7dC5wdXNoKHM/SlNPTi5zdHJpbmdpZnkobik6biwtMyxlKX1mdW5jdGlvbiBNYShlLHQpe2ZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7bisrKXtjb25zdCBzPWUuY2hpbGRyZW5bbl07dihzKT90LnB1c2gocywtMyk6RmEocyx0KX19ZnVuY3Rpb24gUGEoZSx0KXtjb25zdHtwdXNoOm59PXQ7aWYoOD09PWUudHlwZSluKCJbIiksTWEoZSx0KSxuKCJdIik7ZWxzZSBpZihlLmlzU3RhdGljKXtuKG1jKGUuY29udGVudCk/ZS5jb250ZW50OkpTT04uc3RyaW5naWZ5KGUuY29udGVudCksLTIsZSl9ZWxzZSBuKGBbJHtlLmNvbnRlbnR9XWAsLTMsZSl9Y29uc3QgJGE9VGEoL14oaWZ8ZWxzZXxlbHNlLWlmKSQvLCgoZSx0LG4pPT5mdW5jdGlvbihlLHQsbixzKXtpZighKCJlbHNlIj09PXQubmFtZXx8dC5leHAmJnQuZXhwLmNvbnRlbnQudHJpbSgpKSl7Y29uc3Qgcz10LmV4cD90LmV4cC5sb2M6ZS5sb2M7bi5vbkVycm9yKGRjKDI4LHQubG9jKSksdC5leHA9R2woInRydWUiLCExLHMpfWlmKCJpZiI9PT10Lm5hbWUpe2NvbnN0IG89QmEoZSx0KSxyPXt0eXBlOjksbG9jOmUubG9jLGJyYW5jaGVzOltvXX07aWYobi5yZXBsYWNlTm9kZShyKSxzKXJldHVybiBzKHIsbywhMCl9ZWxzZXtjb25zdCBvPW4ucGFyZW50LmNoaWxkcmVuO2xldCByPW8uaW5kZXhPZihlKTtmb3IoO3ItLSA+PS0xOyl7Y29uc3QgaT1vW3JdO2lmKGkmJjM9PT1pLnR5cGUpbi5yZW1vdmVOb2RlKGkpO2Vsc2V7aWYoIWl8fDIhPT1pLnR5cGV8fGkuY29udGVudC50cmltKCkubGVuZ3RoKXtpZihpJiY5PT09aS50eXBlKXsiZWxzZS1pZiI9PT10Lm5hbWUmJnZvaWQgMD09PWkuYnJhbmNoZXNbaS5icmFuY2hlcy5sZW5ndGgtMV0uY29uZGl0aW9uJiZuLm9uRXJyb3IoZGMoMzAsZS5sb2MpKSxuLnJlbW92ZU5vZGUoKTtjb25zdCBvPUJhKGUsdCk7aS5icmFuY2hlcy5wdXNoKG8pO2NvbnN0IHI9cyYmcyhpLG8sITEpO2thKG8sbiksciYmcigpLG4uY3VycmVudE5vZGU9bnVsbH1lbHNlIG4ub25FcnJvcihkYygzMCxlLmxvYykpO2JyZWFrfW4ucmVtb3ZlTm9kZShpKX19fX0oZSx0LG4sKChlLHQscyk9Pntjb25zdCBvPW4ucGFyZW50LmNoaWxkcmVuO2xldCByPW8uaW5kZXhPZihlKSxpPTA7Zm9yKDtyLS0gPj0wOyl7Y29uc3QgZT1vW3JdO2UmJjk9PT1lLnR5cGUmJihpKz1lLmJyYW5jaGVzLmxlbmd0aCl9cmV0dXJuKCk9PntpZihzKWUuY29kZWdlbk5vZGU9VmEodCxpLG4pO2Vsc2V7Y29uc3Qgcz1mdW5jdGlvbihlKXtmb3IoOzspaWYoMTk9PT1lLnR5cGUpe2lmKDE5IT09ZS5hbHRlcm5hdGUudHlwZSlyZXR1cm4gZTtlPWUuYWx0ZXJuYXRlfWVsc2UgMjA9PT1lLnR5cGUmJihlPWUudmFsdWUpfShlLmNvZGVnZW5Ob2RlKTtzLmFsdGVybmF0ZT1WYSh0LGkrZS5icmFuY2hlcy5sZW5ndGgtMSxuKX19fSkpKSk7ZnVuY3Rpb24gQmEoZSx0KXtjb25zdCBuPTM9PT1lLnRhZ1R5cGU7cmV0dXJue3R5cGU6MTAsbG9jOmUubG9jLGNvbmRpdGlvbjoiZWxzZSI9PT10Lm5hbWU/dm9pZCAwOnQuZXhwLGNoaWxkcmVuOm4mJiFfYyhlLCJmb3IiKT9lLmNoaWxkcmVuOltlXSx1c2VyS2V5OlNjKGUsImtleSIpLGlzVGVtcGxhdGVJZjpufX1mdW5jdGlvbiBWYShlLHQsbil7cmV0dXJuIGUuY29uZGl0aW9uP1psKGUuY29uZGl0aW9uLERhKGUsdCxuKSxYbChuLmhlbHBlcihobCksWyciIicsInRydWUiXSkpOkRhKGUsdCxuKX1mdW5jdGlvbiBEYShlLHQsbil7Y29uc3R7aGVscGVyOnN9PW4sbz16bCgia2V5IixHbChgJHt0fWAsITEsSGwsMikpLHtjaGlsZHJlbjpyfT1lLGk9clswXTtpZigxIT09ci5sZW5ndGh8fDEhPT1pLnR5cGUpe2lmKDE9PT1yLmxlbmd0aCYmMTE9PT1pLnR5cGUpe2NvbnN0IGU9aS5jb2RlZ2VuTm9kZTtyZXR1cm4gRWMoZSxvLG4pLGV9e2xldCB0PTY0O3JldHVybiBxbChuLHMoc2wpLEtsKFtvXSkscix0KyIiLHZvaWQgMCx2b2lkIDAsITAsITEsITEsZS5sb2MpfX17Y29uc3QgZT1pLmNvZGVnZW5Ob2RlLHQ9MTQ9PT0obD1lKS50eXBlJiZsLmNhbGxlZT09PURsP2wuYXJndW1lbnRzWzFdLnJldHVybnM6bDtyZXR1cm4gMTM9PT10LnR5cGUmJnRjKHQsbiksRWModCxvLG4pLGV9dmFyIGx9Y29uc3QgVWE9VGEoImZvciIsKChlLHQsbik9Pntjb25zdHtoZWxwZXI6cyxyZW1vdmVIZWxwZXI6b309bjtyZXR1cm4gZnVuY3Rpb24oZSx0LG4scyl7aWYoIXQuZXhwKXJldHVybiB2b2lkIG4ub25FcnJvcihkYygzMSx0LmxvYykpO2NvbnN0IG89dC5mb3JQYXJzZVJlc3VsdDtpZighbylyZXR1cm4gdm9pZCBuLm9uRXJyb3IoZGMoMzIsdC5sb2MpKTtqYShvKTtjb25zdHtzY29wZXM6cn09bix7c291cmNlOmksdmFsdWU6bCxrZXk6YyxpbmRleDphfT1vLHU9e3R5cGU6MTEsbG9jOnQubG9jLHNvdXJjZTppLHZhbHVlQWxpYXM6bCxrZXlBbGlhczpjLG9iamVjdEluZGV4QWxpYXM6YSxwYXJzZVJlc3VsdDpvLGNoaWxkcmVuOlRjKGUpP2UuY2hpbGRyZW46W2VdfTtuLnJlcGxhY2VOb2RlKHUpLHIudkZvcisrO2NvbnN0IGQ9cyYmcyh1KTtyZXR1cm4oKT0+e3IudkZvci0tLGQmJmQoKX19KGUsdCxuLCh0PT57Y29uc3Qgcj1YbChzKFNsKSxbdC5zb3VyY2VdKSxpPVRjKGUpLGw9X2MoZSwibWVtbyIpLGM9U2MoZSwia2V5IiksYT1jJiYoNj09PWMudHlwZT9HbChjLnZhbHVlLmNvbnRlbnQsITApOmMuZXhwKSx1PWM/emwoImtleSIsYSk6bnVsbCxkPTQ9PT10LnNvdXJjZS50eXBlJiZ0LnNvdXJjZS5jb25zdFR5cGU+MCxwPWQ/NjQ6Yz8xMjg6MjU2O3JldHVybiB0LmNvZGVnZW5Ob2RlPXFsKG4scyhzbCksdm9pZCAwLHIscCsiIix2b2lkIDAsdm9pZCAwLCEwLCFkLCExLGUubG9jKSwoKT0+e2xldCBjO2NvbnN0e2NoaWxkcmVuOnB9PXQsaD0xIT09cC5sZW5ndGh8fDEhPT1wWzBdLnR5cGUsZj13YyhlKT9lOmkmJjE9PT1lLmNoaWxkcmVuLmxlbmd0aCYmd2MoZS5jaGlsZHJlblswXSk/ZS5jaGlsZHJlblswXTpudWxsO2lmKGY/KGM9Zi5jb2RlZ2VuTm9kZSxpJiZ1JiZFYyhjLHUsbikpOmg/Yz1xbChuLHMoc2wpLHU/S2woW3VdKTp2b2lkIDAsZS5jaGlsZHJlbiwiNjQiLHZvaWQgMCx2b2lkIDAsITAsdm9pZCAwLCExKTooYz1wWzBdLmNvZGVnZW5Ob2RlLGkmJnUmJkVjKGMsdSxuKSxjLmlzQmxvY2shPT0hZCYmKGMuaXNCbG9jaz8obyhjbCksbyhlYyhuLmluU1NSLGMuaXNDb21wb25lbnQpKSk6byhZbChuLmluU1NSLGMuaXNDb21wb25lbnQpKSksYy5pc0Jsb2NrPSFkLGMuaXNCbG9jaz8ocyhjbCkscyhlYyhuLmluU1NSLGMuaXNDb21wb25lbnQpKSk6cyhZbChuLmluU1NSLGMuaXNDb21wb25lbnQpKSksbCl7Y29uc3QgZT1RbChIYSh0LnBhcnNlUmVzdWx0LFtHbCgiX2NhY2hlZCIpXSkpO2UuYm9keT17dHlwZToyMSxib2R5OltKbChbImNvbnN0IF9tZW1vID0gKCIsbC5leHAsIikiXSksSmwoWyJpZiAoX2NhY2hlZCIsLi4uYT9bIiAmJiBfY2FjaGVkLmtleSA9PT0gIixhXTpbXSxgICYmICR7bi5oZWxwZXJTdHJpbmcoVWwpfShfY2FjaGVkLCBfbWVtbykpIHJldHVybiBfY2FjaGVkYF0pLEpsKFsiY29uc3QgX2l0ZW0gPSAiLGNdKSxHbCgiX2l0ZW0ubWVtbyA9IF9tZW1vIiksR2woInJldHVybiBfaXRlbSIpXSxsb2M6SGx9LHIuYXJndW1lbnRzLnB1c2goZSxHbCgiX2NhY2hlIiksR2woU3RyaW5nKG4uY2FjaGVkKyspKSl9ZWxzZSByLmFyZ3VtZW50cy5wdXNoKFFsKEhhKHQucGFyc2VSZXN1bHQpLGMsITApKX19KSl9KSk7ZnVuY3Rpb24gamEoZSx0KXtlLmZpbmFsaXplZHx8KGUuZmluYWxpemVkPSEwKX1mdW5jdGlvbiBIYSh7dmFsdWU6ZSxrZXk6dCxpbmRleDpufSxzPVtdKXtyZXR1cm4gZnVuY3Rpb24oZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDt0LS0mJiFlW3RdOyk7cmV0dXJuIGUuc2xpY2UoMCx0KzEpLm1hcCgoKGUsdCk9PmV8fEdsKCJfIi5yZXBlYXQodCsxKSwhMSkpKX0oW2UsdCxuLC4uLnNdKX1jb25zdCBxYT1HbCgidW5kZWZpbmVkIiwhMSksV2E9KGUsdCk9PntpZigxPT09ZS50eXBlJiYoMT09PWUudGFnVHlwZXx8Mz09PWUudGFnVHlwZSkpe2NvbnN0IG49X2MoZSwic2xvdCIpO2lmKG4pcmV0dXJuIHQuc2NvcGVzLnZTbG90KyssKCk9Pnt0LnNjb3Blcy52U2xvdC0tfX19LEthPShlLHQsbixzKT0+UWwoZSxuLCExLCEwLG4ubGVuZ3RoP25bMF0ubG9jOnMpO2Z1bmN0aW9uIHphKGUsdCxuPUthKXt0LmhlbHBlcigkbCk7Y29uc3R7Y2hpbGRyZW46cyxsb2M6b309ZSxyPVtdLGk9W107bGV0IGw9dC5zY29wZXMudlNsb3Q+MHx8dC5zY29wZXMudkZvcj4wO2NvbnN0IGM9X2MoZSwic2xvdCIsITApO2lmKGMpe2NvbnN0e2FyZzplLGV4cDp0fT1jO2UmJiFwYyhlKSYmKGw9ITApLHIucHVzaCh6bChlfHxHbCgiZGVmYXVsdCIsITApLG4odCx2b2lkIDAscyxvKSkpfWxldCBhPSExLHU9ITE7Y29uc3QgZD1bXSxwPW5ldyBTZXQ7bGV0IGg9MDtmb3IobGV0IGc9MDtnPHMubGVuZ3RoO2crKyl7Y29uc3QgZT1zW2ddO2xldCBvO2lmKCFUYyhlKXx8IShvPV9jKGUsInNsb3QiLCEwKSkpezMhPT1lLnR5cGUmJmQucHVzaChlKTtjb250aW51ZX1pZihjKXt0Lm9uRXJyb3IoZGMoMzcsby5sb2MpKTticmVha31hPSEwO2NvbnN0e2NoaWxkcmVuOmYsbG9jOm19PWUse2FyZzp2PUdsKCJkZWZhdWx0IiwhMCksZXhwOnksbG9jOmJ9PW87bGV0IF87cGModik/Xz12P3YuY29udGVudDoiZGVmYXVsdCI6bD0hMDtjb25zdCBTPV9jKGUsImZvciIpLHg9bih5LFMsZixtKTtsZXQgQyxrO2lmKEM9X2MoZSwiaWYiKSlsPSEwLGkucHVzaChabChDLmV4cCxHYSh2LHgsaCsrKSxxYSkpO2Vsc2UgaWYoaz1fYyhlLC9eZWxzZSgtaWYpPyQvLCEwKSl7bGV0IGUsbj1nO2Zvcig7bi0tJiYoZT1zW25dLDM9PT1lLnR5cGUpOyk7aWYoZSYmVGMoZSkmJl9jKGUsImlmIikpe3Muc3BsaWNlKGcsMSksZy0tO2xldCBlPWlbaS5sZW5ndGgtMV07Zm9yKDsxOT09PWUuYWx0ZXJuYXRlLnR5cGU7KWU9ZS5hbHRlcm5hdGU7ZS5hbHRlcm5hdGU9ay5leHA/Wmwoay5leHAsR2Eodix4LGgrKykscWEpOkdhKHYseCxoKyspfWVsc2UgdC5vbkVycm9yKGRjKDMwLGsubG9jKSl9ZWxzZSBpZihTKXtsPSEwO2NvbnN0IGU9Uy5mb3JQYXJzZVJlc3VsdDtlPyhqYShlKSxpLnB1c2goWGwodC5oZWxwZXIoU2wpLFtlLnNvdXJjZSxRbChIYShlKSxHYSh2LHgpLCEwKV0pKSk6dC5vbkVycm9yKGRjKDMyLFMubG9jKSl9ZWxzZXtpZihfKXtpZihwLmhhcyhfKSl7dC5vbkVycm9yKGRjKDM4LGIpKTtjb250aW51ZX1wLmFkZChfKSwiZGVmYXVsdCI9PT1fJiYodT0hMCl9ci5wdXNoKHpsKHYseCkpfX1pZighYyl7Y29uc3QgZT0oZSx0KT0+emwoImRlZmF1bHQiLG4oZSx2b2lkIDAsdCxvKSk7YT9kLmxlbmd0aCYmZC5zb21lKChlPT5YYShlKSkpJiYodT90Lm9uRXJyb3IoZGMoMzksZFswXS5sb2MpKTpyLnB1c2goZSh2b2lkIDAsZCkpKTpyLnB1c2goZSh2b2lkIDAscykpfWNvbnN0IGY9bD8yOkphKGUuY2hpbGRyZW4pPzM6MTtsZXQgbT1LbChyLmNvbmNhdCh6bCgiXyIsR2woZisiIiwhMSkpKSxvKTtyZXR1cm4gaS5sZW5ndGgmJihtPVhsKHQuaGVscGVyKENsKSxbbSxXbChpKV0pKSx7c2xvdHM6bSxoYXNEeW5hbWljU2xvdHM6bH19ZnVuY3Rpb24gR2EoZSx0LG4pe2NvbnN0IHM9W3psKCJuYW1lIixlKSx6bCgiZm4iLHQpXTtyZXR1cm4gbnVsbCE9biYmcy5wdXNoKHpsKCJrZXkiLEdsKFN0cmluZyhuKSwhMCkpKSxLbChzKX1mdW5jdGlvbiBKYShlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO3N3aXRjaChuLnR5cGUpe2Nhc2UgMTppZigyPT09bi50YWdUeXBlfHxKYShuLmNoaWxkcmVuKSlyZXR1cm4hMDticmVhaztjYXNlIDk6aWYoSmEobi5icmFuY2hlcykpcmV0dXJuITA7YnJlYWs7Y2FzZSAxMDpjYXNlIDExOmlmKEphKG4uY2hpbGRyZW4pKXJldHVybiEwfX1yZXR1cm4hMX1mdW5jdGlvbiBYYShlKXtyZXR1cm4gMiE9PWUudHlwZSYmMTIhPT1lLnR5cGV8fCgyPT09ZS50eXBlPyEhZS5jb250ZW50LnRyaW0oKTpYYShlLmNvbnRlbnQpKX1jb25zdCBRYT1uZXcgV2Vha01hcCxaYT0oZSx0KT0+ZnVuY3Rpb24oKXtpZigxIT09KGU9dC5jdXJyZW50Tm9kZSkudHlwZXx8MCE9PWUudGFnVHlwZSYmMSE9PWUudGFnVHlwZSlyZXR1cm47Y29uc3R7dGFnOm4scHJvcHM6c309ZSxvPTE9PT1lLnRhZ1R5cGU7bGV0IHI9bz9mdW5jdGlvbihlLHQsbj0hMSl7bGV0e3RhZzpzfT1lO2NvbnN0IG89bnUocykscj1TYyhlLCJpcyIpO2lmKHIpaWYobyl7Y29uc3QgZT02PT09ci50eXBlP3IudmFsdWUmJkdsKHIudmFsdWUuY29udGVudCwhMCk6ci5leHA7aWYoZSlyZXR1cm4gWGwodC5oZWxwZXIodmwpLFtlXSl9ZWxzZSA2PT09ci50eXBlJiZyLnZhbHVlLmNvbnRlbnQuc3RhcnRzV2l0aCgidnVlOiIpJiYocz1yLnZhbHVlLmNvbnRlbnQuc2xpY2UoNCkpO2NvbnN0IGk9aGMocyl8fHQuaXNCdWlsdEluQ29tcG9uZW50KHMpO2lmKGkpcmV0dXJuIG58fHQuaGVscGVyKGkpLGk7cmV0dXJuIHQuaGVscGVyKGdsKSx0LmNvbXBvbmVudHMuYWRkKHMpLFJjKHMsImNvbXBvbmVudCIpfShlLHQpOmAiJHtufSJgO2NvbnN0IGk9YihyKSYmci5jYWxsZWU9PT12bDtsZXQgbCxjLGEsdSxkLHAsaD0wLGY9aXx8cj09PW9sfHxyPT09cmx8fCFvJiYoInN2ZyI9PT1ufHwiZm9yZWlnbk9iamVjdCI9PT1uKTtpZihzLmxlbmd0aD4wKXtjb25zdCBuPVlhKGUsdCx2b2lkIDAsbyxpKTtsPW4ucHJvcHMsaD1uLnBhdGNoRmxhZyxkPW4uZHluYW1pY1Byb3BOYW1lcztjb25zdCBzPW4uZGlyZWN0aXZlcztwPXMmJnMubGVuZ3RoP1dsKHMubWFwKChlPT5mdW5jdGlvbihlLHQpe2NvbnN0IG49W10scz1RYS5nZXQoZSk7cz9uLnB1c2godC5oZWxwZXJTdHJpbmcocykpOih0LmhlbHBlcih5bCksdC5kaXJlY3RpdmVzLmFkZChlLm5hbWUpLG4ucHVzaChSYyhlLm5hbWUsImRpcmVjdGl2ZSIpKSk7Y29uc3R7bG9jOm99PWU7ZS5leHAmJm4ucHVzaChlLmV4cCk7ZS5hcmcmJihlLmV4cHx8bi5wdXNoKCJ2b2lkIDAiKSxuLnB1c2goZS5hcmcpKTtpZihPYmplY3Qua2V5cyhlLm1vZGlmaWVycykubGVuZ3RoKXtlLmFyZ3x8KGUuZXhwfHxuLnB1c2goInZvaWQgMCIpLG4ucHVzaCgidm9pZCAwIikpO2NvbnN0IHQ9R2woInRydWUiLCExLG8pO24ucHVzaChLbChlLm1vZGlmaWVycy5tYXAoKGU9PnpsKGUsdCkpKSxvKSl9cmV0dXJuIFdsKG4sZS5sb2MpfShlLHQpKSkpOnZvaWQgMCxuLnNob3VsZFVzZUJsb2NrJiYoZj0hMCl9aWYoZS5jaGlsZHJlbi5sZW5ndGg+MCl7cj09PWlsJiYoZj0hMCxofD0xMDI0KTtpZihvJiZyIT09b2wmJnIhPT1pbCl7Y29uc3R7c2xvdHM6bixoYXNEeW5hbWljU2xvdHM6c309emEoZSx0KTtjPW4scyYmKGh8PTEwMjQpfWVsc2UgaWYoMT09PWUuY2hpbGRyZW4ubGVuZ3RoJiZyIT09b2wpe2NvbnN0IG49ZS5jaGlsZHJlblswXSxzPW4udHlwZSxvPTU9PT1zfHw4PT09cztvJiYwPT09Z2Eobix0KSYmKGh8PTEpLGM9b3x8Mj09PXM/bjplLmNoaWxkcmVufWVsc2UgYz1lLmNoaWxkcmVufTAhPT1oJiYoYT1TdHJpbmcoaCksZCYmZC5sZW5ndGgmJih1PWZ1bmN0aW9uKGUpe2xldCB0PSJbIjtmb3IobGV0IG49MCxzPWUubGVuZ3RoO248cztuKyspdCs9SlNPTi5zdHJpbmdpZnkoZVtuXSksbjxzLTEmJih0Kz0iLCAiKTtyZXR1cm4gdCsiXSJ9KGQpKSksZS5jb2RlZ2VuTm9kZT1xbCh0LHIsbCxjLGEsdSxwLCEhZiwhMSxvLGUubG9jKX07ZnVuY3Rpb24gWWEoZSx0LG49ZS5wcm9wcyxzLG8scj0hMSl7Y29uc3R7dGFnOmwsbG9jOmMsY2hpbGRyZW46YX09ZTtsZXQgdT1bXTtjb25zdCBkPVtdLHA9W10saD1hLmxlbmd0aD4wO2xldCBmPSExLG09MCxnPSExLHY9ITEsYj0hMSxfPSExLFM9ITEseD0hMTtjb25zdCBDPVtdLGs9ZT0+e3UubGVuZ3RoJiYoZC5wdXNoKEtsKGV1KHUpLGMpKSx1PVtdKSxlJiZkLnB1c2goZSl9LFQ9KHtrZXk6ZSx2YWx1ZTpufSk9PntpZihwYyhlKSl7Y29uc3Qgcj1lLmNvbnRlbnQsbD1pKHIpO2lmKCFsfHxzJiYhb3x8Im9uY2xpY2siPT09ci50b0xvd2VyQ2FzZSgpfHwib25VcGRhdGU6bW9kZWxWYWx1ZSI9PT1yfHx3KHIpfHwoXz0hMCksbCYmdyhyKSYmKHg9ITApLGwmJjE0PT09bi50eXBlJiYobj1uLmFyZ3VtZW50c1swXSksMjA9PT1uLnR5cGV8fCg0PT09bi50eXBlfHw4PT09bi50eXBlKSYmZ2Eobix0KT4wKXJldHVybjsicmVmIj09PXI/Zz0hMDoiY2xhc3MiPT09cj92PSEwOiJzdHlsZSI9PT1yP2I9ITA6ImtleSI9PT1yfHxDLmluY2x1ZGVzKHIpfHxDLnB1c2gociksIXN8fCJjbGFzcyIhPT1yJiYic3R5bGUiIT09cnx8Qy5pbmNsdWRlcyhyKXx8Qy5wdXNoKHIpfWVsc2UgUz0hMH07Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspe2NvbnN0IG89bltpXTtpZig2PT09by50eXBlKXtjb25zdHtsb2M6ZSxuYW1lOm4sbmFtZUxvYzpzLHZhbHVlOnJ9PW87bGV0IGk9ITA7aWYoInJlZiI9PT1uJiYoZz0hMCx0LnNjb3Blcy52Rm9yPjAmJnUucHVzaCh6bChHbCgicmVmX2ZvciIsITApLEdsKCJ0cnVlIikpKSksImlzIj09PW4mJihudShsKXx8ciYmci5jb250ZW50LnN0YXJ0c1dpdGgoInZ1ZToiKSkpY29udGludWU7dS5wdXNoKHpsKEdsKG4sITAscyksR2wocj9yLmNvbnRlbnQ6IiIsaSxyP3IubG9jOmUpKSl9ZWxzZXtjb25zdHtuYW1lOm4sYXJnOmksZXhwOmEsbG9jOmcsbW9kaWZpZXJzOnZ9PW8sYj0iYmluZCI9PT1uLF89Im9uIj09PW47aWYoInNsb3QiPT09bil7c3x8dC5vbkVycm9yKGRjKDQwLGcpKTtjb250aW51ZX1pZigib25jZSI9PT1ufHwibWVtbyI9PT1uKWNvbnRpbnVlO2lmKCJpcyI9PT1ufHxiJiZ4YyhpLCJpcyIpJiZudShsKSljb250aW51ZTtpZihfJiZyKWNvbnRpbnVlO2lmKChiJiZ4YyhpLCJrZXkiKXx8XyYmaCYmeGMoaSwidnVlOmJlZm9yZS11cGRhdGUiKSkmJihmPSEwKSxiJiZ4YyhpLCJyZWYiKSYmdC5zY29wZXMudkZvcj4wJiZ1LnB1c2goemwoR2woInJlZl9mb3IiLCEwKSxHbCgidHJ1ZSIpKSksIWkmJihifHxfKSl7Uz0hMCxhP2I/KGsoKSxkLnB1c2goYSkpOmsoe3R5cGU6MTQsbG9jOmcsY2FsbGVlOnQuaGVscGVyKElsKSxhcmd1bWVudHM6cz9bYV06W2EsInRydWUiXX0pOnQub25FcnJvcihkYyhiPzM0OjM1LGcpKTtjb250aW51ZX1iJiZ2LmluY2x1ZGVzKCJwcm9wIikmJihtfD0zMik7Y29uc3QgeD10LmRpcmVjdGl2ZVRyYW5zZm9ybXNbbl07aWYoeCl7Y29uc3R7cHJvcHM6bixuZWVkUnVudGltZTpzfT14KG8sZSx0KTshciYmbi5mb3JFYWNoKFQpLF8mJmkmJiFwYyhpKT9rKEtsKG4sYykpOnUucHVzaCguLi5uKSxzJiYocC5wdXNoKG8pLHkocykmJlFhLnNldChvLHMpKX1lbHNlIE4obil8fChwLnB1c2gobyksaCYmKGY9ITApKX19bGV0IEE7aWYoZC5sZW5ndGg/KGsoKSxBPWQubGVuZ3RoPjE/WGwodC5oZWxwZXIoVGwpLGQsYyk6ZFswXSk6dS5sZW5ndGgmJihBPUtsKGV1KHUpLGMpKSxTP218PTE2Oih2JiYhcyYmKG18PTIpLGImJiFzJiYobXw9NCksQy5sZW5ndGgmJihtfD04KSxfJiYobXw9MzIpKSxmfHwwIT09bSYmMzIhPT1tfHwhKGd8fHh8fHAubGVuZ3RoPjApfHwobXw9NTEyKSwhdC5pblNTUiYmQSlzd2l0Y2goQS50eXBlKXtjYXNlIDE1OmxldCBlPS0xLG49LTEscz0hMTtmb3IobGV0IHQ9MDt0PEEucHJvcGVydGllcy5sZW5ndGg7dCsrKXtjb25zdCBvPUEucHJvcGVydGllc1t0XS5rZXk7cGMobyk/ImNsYXNzIj09PW8uY29udGVudD9lPXQ6InN0eWxlIj09PW8uY29udGVudCYmKG49dCk6by5pc0hhbmRsZXJLZXl8fChzPSEwKX1jb25zdCBvPUEucHJvcGVydGllc1tlXSxyPUEucHJvcGVydGllc1tuXTtzP0E9WGwodC5oZWxwZXIoQWwpLFtBXSk6KG8mJiFwYyhvLnZhbHVlKSYmKG8udmFsdWU9WGwodC5oZWxwZXIod2wpLFtvLnZhbHVlXSkpLHImJihifHw0PT09ci52YWx1ZS50eXBlJiYiWyI9PT1yLnZhbHVlLmNvbnRlbnQudHJpbSgpWzBdfHwxNz09PXIudmFsdWUudHlwZSkmJihyLnZhbHVlPVhsKHQuaGVscGVyKE5sKSxbci52YWx1ZV0pKSk7YnJlYWs7Y2FzZSAxNDpicmVhaztkZWZhdWx0OkE9WGwodC5oZWxwZXIoQWwpLFtYbCh0LmhlbHBlcihFbCksW0FdKV0pfXJldHVybntwcm9wczpBLGRpcmVjdGl2ZXM6cCxwYXRjaEZsYWc6bSxkeW5hbWljUHJvcE5hbWVzOkMsc2hvdWxkVXNlQmxvY2s6Zn19ZnVuY3Rpb24gZXUoZSl7Y29uc3QgdD1uZXcgTWFwLG49W107Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IG89ZVtzXTtpZig4PT09by5rZXkudHlwZXx8IW8ua2V5LmlzU3RhdGljKXtuLnB1c2gobyk7Y29udGludWV9Y29uc3Qgcj1vLmtleS5jb250ZW50LGw9dC5nZXQocik7bD8oInN0eWxlIj09PXJ8fCJjbGFzcyI9PT1yfHxpKHIpKSYmdHUobCxvKToodC5zZXQocixvKSxuLnB1c2gobykpfXJldHVybiBufWZ1bmN0aW9uIHR1KGUsdCl7MTc9PT1lLnZhbHVlLnR5cGU/ZS52YWx1ZS5lbGVtZW50cy5wdXNoKHQudmFsdWUpOmUudmFsdWU9V2woW2UudmFsdWUsdC52YWx1ZV0sZS5sb2MpfWZ1bmN0aW9uIG51KGUpe3JldHVybiJjb21wb25lbnQiPT09ZXx8IkNvbXBvbmVudCI9PT1lfWNvbnN0IHN1PShlLHQpPT57aWYod2MoZSkpe2NvbnN0e2NoaWxkcmVuOm4sbG9jOnN9PWUse3Nsb3ROYW1lOm8sc2xvdFByb3BzOnJ9PWZ1bmN0aW9uKGUsdCl7bGV0IG4scz0nImRlZmF1bHQiJztjb25zdCBvPVtdO2ZvcihsZXQgcj0wO3I8ZS5wcm9wcy5sZW5ndGg7cisrKXtjb25zdCB0PWUucHJvcHNbcl07Nj09PXQudHlwZT90LnZhbHVlJiYoIm5hbWUiPT09dC5uYW1lP3M9SlNPTi5zdHJpbmdpZnkodC52YWx1ZS5jb250ZW50KToodC5uYW1lPUkodC5uYW1lKSxvLnB1c2godCkpKToiYmluZCI9PT10Lm5hbWUmJnhjKHQuYXJnLCJuYW1lIik/dC5leHAmJihzPXQuZXhwKTooImJpbmQiPT09dC5uYW1lJiZ0LmFyZyYmcGModC5hcmcpJiYodC5hcmcuY29udGVudD1JKHQuYXJnLmNvbnRlbnQpKSxvLnB1c2godCkpfWlmKG8ubGVuZ3RoPjApe2NvbnN0e3Byb3BzOnMsZGlyZWN0aXZlczpyfT1ZYShlLHQsbywhMSwhMSk7bj1zLHIubGVuZ3RoJiZ0Lm9uRXJyb3IoZGMoMzYsclswXS5sb2MpKX1yZXR1cm57c2xvdE5hbWU6cyxzbG90UHJvcHM6bn19KGUsdCksaT1bdC5wcmVmaXhJZGVudGlmaWVycz8iX2N0eC4kc2xvdHMiOiIkc2xvdHMiLG8sInt9IiwidW5kZWZpbmVkIiwidHJ1ZSJdO2xldCBsPTI7ciYmKGlbMl09cixsPTMpLG4ubGVuZ3RoJiYoaVszXT1RbChbXSxuLCExLCExLHMpLGw9NCksdC5zY29wZUlkJiYhdC5zbG90dGVkJiYobD01KSxpLnNwbGljZShsKSxlLmNvZGVnZW5Ob2RlPVhsKHQuaGVscGVyKHhsKSxpLHMpfX07Y29uc3Qgb3U9L15ccyooW1x3JF9dK3woYXN5bmNccyopP1woW14pXSo/XCkpXHMqKDpbXj1dKyk/PT58XlxzKihhc3luY1xzKyk/ZnVuY3Rpb24oPzpccytbXHckXSspP1xzKlwoLyxydT0oZSx0LG4scyk9Pntjb25zdHtsb2M6byxtb2RpZmllcnM6cixhcmc6aX09ZTtsZXQgbDtpZig0PT09aS50eXBlKWlmKGkuaXNTdGF0aWMpe2xldCBlPWkuY29udGVudDtlLnN0YXJ0c1dpdGgoInZ1ZToiKSYmKGU9YHZub2RlLSR7ZS5zbGljZSg0KX1gKTtsPUdsKDAhPT10LnRhZ1R5cGV8fGUuc3RhcnRzV2l0aCgidm5vZGUiKXx8IS9bQS1aXS8udGVzdChlKT9MKEkoZSkpOmBvbjoke2V9YCwhMCxpLmxvYyl9ZWxzZSBsPUpsKFtgJHtuLmhlbHBlclN0cmluZyhGbCl9KGAsaSwiKSJdKTtlbHNlIGw9aSxsLmNoaWxkcmVuLnVuc2hpZnQoYCR7bi5oZWxwZXJTdHJpbmcoRmwpfShgKSxsLmNoaWxkcmVuLnB1c2goIikiKTtsZXQgYz1lLmV4cDtjJiYhYy5jb250ZW50LnRyaW0oKSYmKGM9dm9pZCAwKTtsZXQgYT1uLmNhY2hlSGFuZGxlcnMmJiFjJiYhbi5pblZPbmNlO2lmKGMpe2NvbnN0IGU9YmMoYy5jb250ZW50KSx0PSEoZXx8b3UudGVzdChjLmNvbnRlbnQpKSxuPWMuY29udGVudC5pbmNsdWRlcygiOyIpOyh0fHxhJiZlKSYmKGM9SmwoW2Ake3Q/IiRldmVudCI6IiguLi5hcmdzKSJ9ID0+ICR7bj8ieyI6IigifWAsYyxuPyJ9IjoiKSJdKSl9bGV0IHU9e3Byb3BzOlt6bChsLGN8fEdsKCIoKSA9PiB7fSIsITEsbykpXX07cmV0dXJuIHMmJih1PXModSkpLGEmJih1LnByb3BzWzBdLnZhbHVlPW4uY2FjaGUodS5wcm9wc1swXS52YWx1ZSkpLHUucHJvcHMuZm9yRWFjaCgoZT0+ZS5rZXkuaXNIYW5kbGVyS2V5PSEwKSksdX0saXU9KGUsdCxuKT0+e2NvbnN0e21vZGlmaWVyczpzLGxvYzpvfT1lLHI9ZS5hcmc7bGV0e2V4cDppfT1lO2lmKCFpJiY0PT09ci50eXBlKXtjb25zdCB0PUkoci5jb250ZW50KTtpPWUuZXhwPUdsKHQsITEsci5sb2MpfXJldHVybiA0IT09ci50eXBlPyhyLmNoaWxkcmVuLnVuc2hpZnQoIigiKSxyLmNoaWxkcmVuLnB1c2goJykgfHwgIiInKSk6ci5pc1N0YXRpY3x8KHIuY29udGVudD1gJHtyLmNvbnRlbnR9IHx8ICIiYCkscy5pbmNsdWRlcygiY2FtZWwiKSYmKDQ9PT1yLnR5cGU/ci5jb250ZW50PXIuaXNTdGF0aWM/SShyLmNvbnRlbnQpOmAke24uaGVscGVyU3RyaW5nKFJsKX0oJHtyLmNvbnRlbnR9KWA6KHIuY2hpbGRyZW4udW5zaGlmdChgJHtuLmhlbHBlclN0cmluZyhSbCl9KGApLHIuY2hpbGRyZW4ucHVzaCgiKSIpKSksbi5pblNTUnx8KHMuaW5jbHVkZXMoInByb3AiKSYmbHUociwiLiIpLHMuaW5jbHVkZXMoImF0dHIiKSYmbHUociwiXiIpKSwhaXx8ND09PWkudHlwZSYmIWkuY29udGVudC50cmltKCk/e3Byb3BzOlt6bChyLEdsKCIiLCEwLG8pKV19Ontwcm9wczpbemwocixpKV19fSxsdT0oZSx0KT0+ezQ9PT1lLnR5cGU/ZS5jb250ZW50PWUuaXNTdGF0aWM/dCtlLmNvbnRlbnQ6YFxgJHt0fVwkeyR7ZS5jb250ZW50fX1cYGA6KGUuY2hpbGRyZW4udW5zaGlmdChgJyR7dH0nICsgKGApLGUuY2hpbGRyZW4ucHVzaCgiKSIpKX0sY3U9KGUsdCk9PntpZigwPT09ZS50eXBlfHwxPT09ZS50eXBlfHwxMT09PWUudHlwZXx8MTA9PT1lLnR5cGUpcmV0dXJuKCk9Pntjb25zdCBuPWUuY2hpbGRyZW47bGV0IHMsbz0hMTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3QgdD1uW2VdO2lmKENjKHQpKXtvPSEwO2ZvcihsZXQgbz1lKzE7bzxuLmxlbmd0aDtvKyspe2NvbnN0IHI9bltvXTtpZighQ2Mocikpe3M9dm9pZCAwO2JyZWFrfXN8fChzPW5bZV09SmwoW3RdLHQubG9jKSkscy5jaGlsZHJlbi5wdXNoKCIgKyAiLHIpLG4uc3BsaWNlKG8sMSksby0tfX19aWYobyYmKDEhPT1uLmxlbmd0aHx8MCE9PWUudHlwZSYmKDEhPT1lLnR5cGV8fDAhPT1lLnRhZ1R5cGV8fGUucHJvcHMuZmluZCgoZT0+Nz09PWUudHlwZSYmIXQuZGlyZWN0aXZlVHJhbnNmb3Jtc1tlLm5hbWVdKSkpKSlmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgcz1uW2VdO2lmKENjKHMpfHw4PT09cy50eXBlKXtjb25zdCBvPVtdOzI9PT1zLnR5cGUmJiIgIj09PXMuY29udGVudHx8by5wdXNoKHMpLHQuc3NyfHwwIT09Z2Eocyx0KXx8by5wdXNoKCIxIiksbltlXT17dHlwZToxMixjb250ZW50OnMsbG9jOnMubG9jLGNvZGVnZW5Ob2RlOlhsKHQuaGVscGVyKGZsKSxvKX19fX19LGF1PW5ldyBXZWFrU2V0LHV1PShlLHQpPT57aWYoMT09PWUudHlwZSYmX2MoZSwib25jZSIsITApKXtpZihhdS5oYXMoZSl8fHQuaW5WT25jZXx8dC5pblNTUilyZXR1cm47cmV0dXJuIGF1LmFkZChlKSx0LmluVk9uY2U9ITAsdC5oZWxwZXIoTGwpLCgpPT57dC5pblZPbmNlPSExO2NvbnN0IGU9dC5jdXJyZW50Tm9kZTtlLmNvZGVnZW5Ob2RlJiYoZS5jb2RlZ2VuTm9kZT10LmNhY2hlKGUuY29kZWdlbk5vZGUsITApKX19fSxkdT0oZSx0LG4pPT57Y29uc3R7ZXhwOnMsYXJnOm99PWU7aWYoIXMpcmV0dXJuIG4ub25FcnJvcihkYyg0MSxlLmxvYykpLHB1KCk7Y29uc3Qgcj1zLmxvYy5zb3VyY2UsaT00PT09cy50eXBlP3MuY29udGVudDpyLGw9bi5iaW5kaW5nTWV0YWRhdGFbcl07aWYoInByb3BzIj09PWx8fCJwcm9wcy1hbGlhc2VkIj09PWwpcmV0dXJuIHB1KCk7aWYoIWkudHJpbSgpfHwhYmMoaSkpcmV0dXJuIG4ub25FcnJvcihkYyg0MixzLmxvYykpLHB1KCk7Y29uc3QgYz1vfHxHbCgibW9kZWxWYWx1ZSIsITApLGE9bz9wYyhvKT9gb25VcGRhdGU6JHtJKG8uY29udGVudCl9YDpKbChbJyJvblVwZGF0ZToiICsgJyxvXSk6Im9uVXBkYXRlOm1vZGVsVmFsdWUiO2xldCB1O3U9SmwoW2Ake24uaXNUUz8iKCRldmVudDogYW55KSI6IiRldmVudCJ9ID0+ICgoYCxzLCIpID0gJGV2ZW50KSJdKTtjb25zdCBkPVt6bChjLGUuZXhwKSx6bChhLHUpXTtpZihlLm1vZGlmaWVycy5sZW5ndGgmJjE9PT10LnRhZ1R5cGUpe2NvbnN0IHQ9ZS5tb2RpZmllcnMubWFwKChlPT4obWMoZSk/ZTpKU09OLnN0cmluZ2lmeShlKSkrIjogdHJ1ZSIpKS5qb2luKCIsICIpLG49bz9wYyhvKT9gJHtvLmNvbnRlbnR9TW9kaWZpZXJzYDpKbChbbywnICsgIk1vZGlmaWVycyInXSk6Im1vZGVsTW9kaWZpZXJzIjtkLnB1c2goemwobixHbChgeyAke3R9IH1gLCExLGUubG9jLDIpKSl9cmV0dXJuIHB1KGQpfTtmdW5jdGlvbiBwdShlPVtdKXtyZXR1cm57cHJvcHM6ZX19Y29uc3QgaHU9bmV3IFdlYWtTZXQsZnU9KGUsdCk9PntpZigxPT09ZS50eXBlKXtjb25zdCBuPV9jKGUsIm1lbW8iKTtpZighbnx8aHUuaGFzKGUpKXJldHVybjtyZXR1cm4gaHUuYWRkKGUpLCgpPT57Y29uc3Qgcz1lLmNvZGVnZW5Ob2RlfHx0LmN1cnJlbnROb2RlLmNvZGVnZW5Ob2RlO3MmJjEzPT09cy50eXBlJiYoMSE9PWUudGFnVHlwZSYmdGMocyx0KSxlLmNvZGVnZW5Ob2RlPVhsKHQuaGVscGVyKERsKSxbbi5leHAsUWwodm9pZCAwLHMpLCJfY2FjaGUiLFN0cmluZyh0LmNhY2hlZCsrKV0pKX19fTtmdW5jdGlvbiBtdShlLHQ9e30pe2NvbnN0IG49dC5vbkVycm9yfHxhYyxzPSJtb2R1bGUiPT09dC5tb2RlOyEwPT09dC5wcmVmaXhJZGVudGlmaWVycz9uKGRjKDQ3KSk6cyYmbihkYyg0OCkpO3QuY2FjaGVIYW5kbGVycyYmbihkYyg0OSkpLHQuc2NvcGVJZCYmIXMmJm4oZGMoNTApKTtjb25zdCBvPWMoe30sdCx7cHJlZml4SWRlbnRpZmllcnM6ITF9KSxyPXYoZSk/cGEoZSxvKTplLFtpLGxdPVtbdXUsJGEsZnUsVWEsc3UsWmEsV2EsY3VdLHtvbjpydSxiaW5kOml1LG1vZGVsOmR1fV07cmV0dXJuIENhKHIsYyh7fSxvLHtub2RlVHJhbnNmb3JtczpbLi4uaSwuLi50Lm5vZGVUcmFuc2Zvcm1zfHxbXV0sZGlyZWN0aXZlVHJhbnNmb3JtczpjKHt9LGwsdC5kaXJlY3RpdmVUcmFuc2Zvcm1zfHx7fSl9KSksRWEocixvKX1jb25zdCBndT1TeW1ib2woIiIpLHZ1PVN5bWJvbCgiIikseXU9U3ltYm9sKCIiKSxidT1TeW1ib2woIiIpLF91PVN5bWJvbCgiIiksU3U9U3ltYm9sKCIiKSx4dT1TeW1ib2woIiIpLEN1PVN5bWJvbCgiIiksa3U9U3ltYm9sKCIiKSxUdT1TeW1ib2woIiIpO3ZhciB3dTtsZXQgTnU7d3U9e1tndV06InZNb2RlbFJhZGlvIixbdnVdOiJ2TW9kZWxDaGVja2JveCIsW3l1XToidk1vZGVsVGV4dCIsW2J1XToidk1vZGVsU2VsZWN0IixbX3VdOiJ2TW9kZWxEeW5hbWljIixbU3VdOiJ3aXRoTW9kaWZpZXJzIixbeHVdOiJ3aXRoS2V5cyIsW0N1XToidlNob3ciLFtrdV06IlRyYW5zaXRpb24iLFtUdV06IlRyYW5zaXRpb25Hcm91cCJ9LE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMod3UpLmZvckVhY2goKGU9PntqbFtlXT13dVtlXX0pKTtjb25zdCBBdT17cGFyc2VNb2RlOiJodG1sIixpc1ZvaWRUYWc6Wixpc05hdGl2ZVRhZzplPT5KKGUpfHxYKGUpfHxRKGUpLGlzUHJlVGFnOmU9PiJwcmUiPT09ZSxkZWNvZGVFbnRpdGllczpmdW5jdGlvbihlLHQ9ITEpe3JldHVybiBOdXx8KE51PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSx0PyhOdS5pbm5lckhUTUw9YDxkaXYgZm9vPSIke2UucmVwbGFjZSgvIi9nLCImcXVvdDsiKX0iPmAsTnUuY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKCJmb28iKSk6KE51LmlubmVySFRNTD1lLE51LnRleHRDb250ZW50KX0saXNCdWlsdEluQ29tcG9uZW50OmU9PiJUcmFuc2l0aW9uIj09PWV8fCJ0cmFuc2l0aW9uIj09PWU/a3U6IlRyYW5zaXRpb25Hcm91cCI9PT1lfHwidHJhbnNpdGlvbi1ncm91cCI9PT1lP1R1OnZvaWQgMCxnZXROYW1lc3BhY2UoZSx0LG4pe2xldCBzPXQ/dC5uczpuO2lmKHQmJjI9PT1zKWlmKCJhbm5vdGF0aW9uLXhtbCI9PT10LnRhZyl7aWYoInN2ZyI9PT1lKXJldHVybiAxO3QucHJvcHMuc29tZSgoZT0+Nj09PWUudHlwZSYmImVuY29kaW5nIj09PWUubmFtZSYmbnVsbCE9ZS52YWx1ZSYmKCJ0ZXh0L2h0bWwiPT09ZS52YWx1ZS5jb250ZW50fHwiYXBwbGljYXRpb24veGh0bWwreG1sIj09PWUudmFsdWUuY29udGVudCkpKSYmKHM9MCl9ZWxzZS9ebSg/Oltpb25zXXx0ZXh0KSQvLnRlc3QodC50YWcpJiYibWdseXBoIiE9PWUmJiJtYWxpZ25tYXJrIiE9PWUmJihzPTApO2Vsc2UgdCYmMT09PXMmJigiZm9yZWlnbk9iamVjdCIhPT10LnRhZyYmImRlc2MiIT09dC50YWcmJiJ0aXRsZSIhPT10LnRhZ3x8KHM9MCkpO2lmKDA9PT1zKXtpZigic3ZnIj09PWUpcmV0dXJuIDE7aWYoIm1hdGgiPT09ZSlyZXR1cm4gMn1yZXR1cm4gc319LEV1PShlLHQpPT57Y29uc3Qgbj16KGUpO3JldHVybiBHbChKU09OLnN0cmluZ2lmeShuKSwhMSx0LDMpfTtmdW5jdGlvbiBJdShlLHQpe3JldHVybiBkYyhlLHQpfWNvbnN0IFJ1PXQoInBhc3NpdmUsb25jZSxjYXB0dXJlIiksT3U9dCgic3RvcCxwcmV2ZW50LHNlbGYsY3RybCxzaGlmdCxhbHQsbWV0YSxleGFjdCxtaWRkbGUiKSxGdT10KCJsZWZ0LHJpZ2h0IiksTHU9dCgib25rZXl1cCxvbmtleWRvd24sb25rZXlwcmVzcyIsITApLE11PShlLHQpPT5wYyhlKSYmIm9uY2xpY2siPT09ZS5jb250ZW50LnRvTG93ZXJDYXNlKCk/R2wodCwhMCk6NCE9PWUudHlwZT9KbChbIigiLGUsYCkgPT09ICJvbkNsaWNrIiA/ICIke3R9IiA6IChgLGUsIikiXSk6ZSxQdT0oZSx0KT0+ezEhPT1lLnR5cGV8fDAhPT1lLnRhZ1R5cGV8fCJzY3JpcHQiIT09ZS50YWcmJiJzdHlsZSIhPT1lLnRhZ3x8dC5yZW1vdmVOb2RlKCl9LCR1PVtlPT57MT09PWUudHlwZSYmZS5wcm9wcy5mb3JFYWNoKCgodCxuKT0+ezY9PT10LnR5cGUmJiJzdHlsZSI9PT10Lm5hbWUmJnQudmFsdWUmJihlLnByb3BzW25dPXt0eXBlOjcsbmFtZToiYmluZCIsYXJnOkdsKCJzdHlsZSIsITAsdC5sb2MpLGV4cDpFdSh0LnZhbHVlLmNvbnRlbnQsdC5sb2MpLG1vZGlmaWVyczpbXSxsb2M6dC5sb2N9KX0pKX1dLEJ1PXtjbG9hazooKT0+KHtwcm9wczpbXX0pLGh0bWw6KGUsdCxuKT0+e2NvbnN0e2V4cDpzLGxvYzpvfT1lO3JldHVybiBzfHxuLm9uRXJyb3IoSXUoNTMsbykpLHQuY2hpbGRyZW4ubGVuZ3RoJiYobi5vbkVycm9yKEl1KDU0LG8pKSx0LmNoaWxkcmVuLmxlbmd0aD0wKSx7cHJvcHM6W3psKEdsKCJpbm5lckhUTUwiLCEwLG8pLHN8fEdsKCIiLCEwKSldfX0sdGV4dDooZSx0LG4pPT57Y29uc3R7ZXhwOnMsbG9jOm99PWU7cmV0dXJuIHN8fG4ub25FcnJvcihJdSg1NSxvKSksdC5jaGlsZHJlbi5sZW5ndGgmJihuLm9uRXJyb3IoSXUoNTYsbykpLHQuY2hpbGRyZW4ubGVuZ3RoPTApLHtwcm9wczpbemwoR2woInRleHRDb250ZW50IiwhMCkscz9nYShzLG4pPjA/czpYbChuLmhlbHBlclN0cmluZyhrbCksW3NdLG8pOkdsKCIiLCEwKSldfX0sbW9kZWw6KGUsdCxuKT0+e2NvbnN0IHM9ZHUoZSx0LG4pO2lmKCFzLnByb3BzLmxlbmd0aHx8MT09PXQudGFnVHlwZSlyZXR1cm4gcztlLmFyZyYmbi5vbkVycm9yKEl1KDU4LGUuYXJnLmxvYykpO2NvbnN0e3RhZzpvfT10LHI9bi5pc0N1c3RvbUVsZW1lbnQobyk7aWYoImlucHV0Ij09PW98fCJ0ZXh0YXJlYSI9PT1vfHwic2VsZWN0Ij09PW98fHIpe2xldCBpPXl1LGw9ITE7aWYoImlucHV0Ij09PW98fHIpe2NvbnN0IHM9U2ModCwidHlwZSIpO2lmKHMpe2lmKDc9PT1zLnR5cGUpaT1fdTtlbHNlIGlmKHMudmFsdWUpc3dpdGNoKHMudmFsdWUuY29udGVudCl7Y2FzZSJyYWRpbyI6aT1ndTticmVhaztjYXNlImNoZWNrYm94IjppPXZ1O2JyZWFrO2Nhc2UiZmlsZSI6bD0hMCxuLm9uRXJyb3IoSXUoNTksZS5sb2MpKX19ZWxzZShmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm9wcy5zb21lKChlPT4hKDchPT1lLnR5cGV8fCJiaW5kIiE9PWUubmFtZXx8ZS5hcmcmJjQ9PT1lLmFyZy50eXBlJiZlLmFyZy5pc1N0YXRpYykpKX0pKHQpJiYoaT1fdSl9ZWxzZSJzZWxlY3QiPT09byYmKGk9YnUpO2x8fChzLm5lZWRSdW50aW1lPW4uaGVscGVyKGkpKX1lbHNlIG4ub25FcnJvcihJdSg1NyxlLmxvYykpO3JldHVybiBzLnByb3BzPXMucHJvcHMuZmlsdGVyKChlPT4hKDQ9PT1lLmtleS50eXBlJiYibW9kZWxWYWx1ZSI9PT1lLmtleS5jb250ZW50KSkpLHN9LG9uOihlLHQsbik9PnJ1KGUsdCxuLCh0PT57Y29uc3R7bW9kaWZpZXJzOnN9PWU7aWYoIXMubGVuZ3RoKXJldHVybiB0O2xldHtrZXk6byx2YWx1ZTpyfT10LnByb3BzWzBdO2NvbnN0e2tleU1vZGlmaWVyczppLG5vbktleU1vZGlmaWVyczpsLGV2ZW50T3B0aW9uTW9kaWZpZXJzOmN9PSgoZSx0LG4scyk9Pntjb25zdCBvPVtdLHI9W10saT1bXTtmb3IobGV0IGw9MDtsPHQubGVuZ3RoO2wrKyl7Y29uc3Qgbj10W2xdO1J1KG4pP2kucHVzaChuKTpGdShuKT9wYyhlKT9MdShlLmNvbnRlbnQpP28ucHVzaChuKTpyLnB1c2gobik6KG8ucHVzaChuKSxyLnB1c2gobikpOk91KG4pP3IucHVzaChuKTpvLnB1c2gobil9cmV0dXJue2tleU1vZGlmaWVyczpvLG5vbktleU1vZGlmaWVyczpyLGV2ZW50T3B0aW9uTW9kaWZpZXJzOml9fSkobyxzKTtpZihsLmluY2x1ZGVzKCJyaWdodCIpJiYobz1NdShvLCJvbkNvbnRleHRtZW51IikpLGwuaW5jbHVkZXMoIm1pZGRsZSIpJiYobz1NdShvLCJvbk1vdXNldXAiKSksbC5sZW5ndGgmJihyPVhsKG4uaGVscGVyKFN1KSxbcixKU09OLnN0cmluZ2lmeShsKV0pKSwhaS5sZW5ndGh8fHBjKG8pJiYhTHUoby5jb250ZW50KXx8KHI9WGwobi5oZWxwZXIoeHUpLFtyLEpTT04uc3RyaW5naWZ5KGkpXSkpLGMubGVuZ3RoKXtjb25zdCBlPWMubWFwKEYpLmpvaW4oIiIpO289cGMobyk/R2woYCR7by5jb250ZW50fSR7ZX1gLCEwKTpKbChbIigiLG8sYCkgKyAiJHtlfSJgXSl9cmV0dXJue3Byb3BzOlt6bChvLHIpXX19KSksc2hvdzooZSx0LG4pPT57Y29uc3R7ZXhwOnMsbG9jOm99PWU7cmV0dXJuIHN8fG4ub25FcnJvcihJdSg2MSxvKSkse3Byb3BzOltdLG5lZWRSdW50aW1lOm4uaGVscGVyKEN1KX19fTtjb25zdCBWdT1uZXcgV2Vha01hcDtmdW5jdGlvbiBEdShlLHQpe2lmKCF2KGUpKXtpZighZS5ub2RlVHlwZSlyZXR1cm4gbztlPWUuaW5uZXJIVE1MfWNvbnN0IHM9ZSxyPWZ1bmN0aW9uKGUpe2xldCB0PVZ1LmdldChudWxsIT1lP2U6bik7cmV0dXJuIHR8fCh0PU9iamVjdC5jcmVhdGUobnVsbCksVnUuc2V0KG51bGwhPWU/ZTpuLHQpKSx0fSh0KSxpPXJbc107aWYoaSlyZXR1cm4gaTtpZigiIyI9PT1lWzBdKXtjb25zdCB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk7ZT10P3QuaW5uZXJIVE1MOiIifWNvbnN0IGw9Yyh7aG9pc3RTdGF0aWM6ITAsb25FcnJvcjp2b2lkIDAsb25XYXJuOm99LHQpO2wuaXNDdXN0b21FbGVtZW50fHwidW5kZWZpbmVkIj09dHlwZW9mIGN1c3RvbUVsZW1lbnRzfHwobC5pc0N1c3RvbUVsZW1lbnQ9ZT0+ISFjdXN0b21FbGVtZW50cy5nZXQoZSkpO2NvbnN0e2NvZGU6YX09ZnVuY3Rpb24oZSx0PXt9KXtyZXR1cm4gbXUoZSxjKHt9LEF1LHQse25vZGVUcmFuc2Zvcm1zOltQdSwuLi4kdSwuLi50Lm5vZGVUcmFuc2Zvcm1zfHxbXV0sZGlyZWN0aXZlVHJhbnNmb3JtczpjKHt9LEJ1LHQuZGlyZWN0aXZlVHJhbnNmb3Jtc3x8e30pLHRyYW5zZm9ybUhvaXN0Om51bGx9KSl9KGUsbCksdT1uZXcgRnVuY3Rpb24oYSkoKTtyZXR1cm4gdS5fcmM9ITAscltzXT11fXJldHVybiBfcihEdSksZS5CYXNlVHJhbnNpdGlvbj1KbixlLkJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzPUduLGUuQ29tbWVudD1QbyxlLkRlcHJlY2F0aW9uVHlwZXM9bnVsbCxlLkVmZmVjdFNjb3BlPWxlLGUuRXJyb3JDb2Rlcz17U0VUVVBfRlVOQ1RJT046MCwwOiJTRVRVUF9GVU5DVElPTiIsUkVOREVSX0ZVTkNUSU9OOjEsMToiUkVOREVSX0ZVTkNUSU9OIixXQVRDSF9HRVRURVI6MiwyOiJXQVRDSF9HRVRURVIiLFdBVENIX0NBTExCQUNLOjMsMzoiV0FUQ0hfQ0FMTEJBQ0siLFdBVENIX0NMRUFOVVA6NCw0OiJXQVRDSF9DTEVBTlVQIixOQVRJVkVfRVZFTlRfSEFORExFUjo1LDU6Ik5BVElWRV9FVkVOVF9IQU5ETEVSIixDT01QT05FTlRfRVZFTlRfSEFORExFUjo2LDY6IkNPTVBPTkVOVF9FVkVOVF9IQU5ETEVSIixWTk9ERV9IT09LOjcsNzoiVk5PREVfSE9PSyIsRElSRUNUSVZFX0hPT0s6OCw4OiJESVJFQ1RJVkVfSE9PSyIsVFJBTlNJVElPTl9IT09LOjksOToiVFJBTlNJVElPTl9IT09LIixBUFBfRVJST1JfSEFORExFUjoxMCwxMDoiQVBQX0VSUk9SX0hBTkRMRVIiLEFQUF9XQVJOX0hBTkRMRVI6MTEsMTE6IkFQUF9XQVJOX0hBTkRMRVIiLEZVTkNUSU9OX1JFRjoxMiwxMjoiRlVOQ1RJT05fUkVGIixBU1lOQ19DT01QT05FTlRfTE9BREVSOjEzLDEzOiJBU1lOQ19DT01QT05FTlRfTE9BREVSIixTQ0hFRFVMRVI6MTQsMTQ6IlNDSEVEVUxFUiJ9LGUuRXJyb3JUeXBlU3RyaW5ncz1udWxsLGUuRnJhZ21lbnQ9TG8sZS5LZWVwQWxpdmU9aXMsZS5SZWFjdGl2ZUVmZmVjdD11ZSxlLlN0YXRpYz0kbyxlLlN1c3BlbnNlPUFuLGUuVGVsZXBvcnQ9T28sZS5UZXh0PU1vLGUuVHJhY2tPcFR5cGVzPXtHRVQ6ImdldCIsSEFTOiJoYXMiLElURVJBVEU6Iml0ZXJhdGUifSxlLlRyYW5zaXRpb249JHIsZS5UcmFuc2l0aW9uR3JvdXA9d2ksZS5UcmlnZ2VyT3BUeXBlcz17U0VUOiJzZXQiLEFERDoiYWRkIixERUxFVEU6ImRlbGV0ZSIsQ0xFQVI6ImNsZWFyIn0sZS5WdWVFbGVtZW50PV9pLGUuYXNzZXJ0TnVtYmVyPWZ1bmN0aW9uKGUsdCl7fSxlLmNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nPUh0LGUuY2FsbFdpdGhFcnJvckhhbmRsaW5nPWp0LGUuY2FtZWxpemU9SSxlLmNhcGl0YWxpemU9RixlLmNsb25lVk5vZGU9ZXIsZS5jb21wYXRVdGlscz1udWxsLGUuY29tcGlsZT1EdSxlLmNvbXB1dGVkPVRyLGUuY3JlYXRlQXBwPSguLi5lKT0+e2NvbnN0IHQ9WGkoKS5jcmVhdGVBcHAoLi4uZSkse21vdW50Om59PXQ7cmV0dXJuIHQubW91bnQ9ZT0+e2NvbnN0IHM9dGwoZSk7aWYoIXMpcmV0dXJuO2NvbnN0IG89dC5fY29tcG9uZW50O2cobyl8fG8ucmVuZGVyfHxvLnRlbXBsYXRlfHwoby50ZW1wbGF0ZT1zLmlubmVySFRNTCkscy5pbm5lckhUTUw9IiI7Y29uc3Qgcj1uKHMsITEsZWwocykpO3JldHVybiBzIGluc3RhbmNlb2YgRWxlbWVudCYmKHMucmVtb3ZlQXR0cmlidXRlKCJ2LWNsb2FrIikscy5zZXRBdHRyaWJ1dGUoImRhdGEtdi1hcHAiLCIiKSkscn0sdH0sZS5jcmVhdGVCbG9jaz1XbyxlLmNyZWF0ZUNvbW1lbnRWTm9kZT1mdW5jdGlvbihlPSIiLHQ9ITEpe3JldHVybiB0PyhEbygpLFdvKFBvLG51bGwsZSkpOlpvKFBvLG51bGwsZSl9LGUuY3JlYXRlRWxlbWVudEJsb2NrPWZ1bmN0aW9uKGUsdCxuLHMsbyxyKXtyZXR1cm4gcW8oUW8oZSx0LG4scyxvLHIsITApKX0sZS5jcmVhdGVFbGVtZW50Vk5vZGU9UW8sZS5jcmVhdGVIeWRyYXRpb25SZW5kZXJlcj1fbyxlLmNyZWF0ZVByb3BzUmVzdFByb3h5PWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj17fTtmb3IoY29uc3QgcyBpbiBlKXQuaW5jbHVkZXMocyl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHMse2VudW1lcmFibGU6ITAsZ2V0OigpPT5lW3NdfSk7cmV0dXJuIG59LGUuY3JlYXRlUmVuZGVyZXI9Ym8sZS5jcmVhdGVTU1JBcHA9KC4uLmUpPT57Y29uc3QgdD1RaSgpLmNyZWF0ZUFwcCguLi5lKSx7bW91bnQ6bn09dDtyZXR1cm4gdC5tb3VudD1lPT57Y29uc3QgdD10bChlKTtpZih0KXJldHVybiBuKHQsITAsZWwodCkpfSx0fSxlLmNyZWF0ZVNsb3RzPWZ1bmN0aW9uKGUsdCl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IHM9dFtuXTtpZihwKHMpKWZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKWVbc1t0XS5uYW1lXT1zW3RdLmZuO2Vsc2UgcyYmKGVbcy5uYW1lXT1zLmtleT8oLi4uZSk9Pntjb25zdCB0PXMuZm4oLi4uZSk7cmV0dXJuIHQmJih0LmtleT1zLmtleSksdH06cy5mbil9cmV0dXJuIGV9LGUuY3JlYXRlU3RhdGljVk5vZGU9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVpvKCRvLG51bGwsZSk7cmV0dXJuIG4uc3RhdGljQ291bnQ9dCxufSxlLmNyZWF0ZVRleHRWTm9kZT10cixlLmNyZWF0ZVZOb2RlPVpvLGUuY3VzdG9tUmVmPUJ0LGUuZGVmaW5lQXN5bmNDb21wb25lbnQ9ZnVuY3Rpb24oZSl7ZyhlKSYmKGU9e2xvYWRlcjplfSk7Y29uc3R7bG9hZGVyOnQsbG9hZGluZ0NvbXBvbmVudDpuLGVycm9yQ29tcG9uZW50OnMsZGVsYXk6bz0yMDAsdGltZW91dDpyLHN1c3BlbnNpYmxlOmk9ITAsb25FcnJvcjpsfT1lO2xldCBjLGE9bnVsbCx1PTA7Y29uc3QgZD0oKT0+e2xldCBlO3JldHVybiBhfHwoZT1hPXQoKS5jYXRjaCgoZT0+e2lmKGU9ZSBpbnN0YW5jZW9mIEVycm9yP2U6bmV3IEVycm9yKFN0cmluZyhlKSksbClyZXR1cm4gbmV3IFByb21pc2UoKCh0LG4pPT57bChlLCgoKT0+dCgodSsrLGE9bnVsbCxkKCkpKSksKCgpPT5uKGUpKSx1KzEpfSkpO3Rocm93IGV9KSkudGhlbigodD0+ZSE9PWEmJmE/YToodCYmKHQuX19lc01vZHVsZXx8Ik1vZHVsZSI9PT10W1N5bWJvbC50b1N0cmluZ1RhZ10pJiYodD10LmRlZmF1bHQpLGM9dCx0KSkpKX07cmV0dXJuIG5zKHtuYW1lOiJBc3luY0NvbXBvbmVudFdyYXBwZXIiLF9fYXN5bmNMb2FkZXI6ZCxnZXQgX19hc3luY1Jlc29sdmVkKCl7cmV0dXJuIGN9LHNldHVwKCl7Y29uc3QgZT1hcjtpZihjKXJldHVybigpPT5vcyhjLGUpO2NvbnN0IHQ9dD0+e2E9bnVsbCxxdCh0LGUsMTMsIXMpfTtpZihpJiZlLnN1c3BlbnNlKXJldHVybiBkKCkudGhlbigodD0+KCk9Pm9zKHQsZSkpKS5jYXRjaCgoZT0+KHQoZSksKCk9PnM/Wm8ocyx7ZXJyb3I6ZX0pOm51bGwpKSk7Y29uc3QgbD1SdCghMSksdT1SdCgpLHA9UnQoISFvKTtyZXR1cm4gbyYmc2V0VGltZW91dCgoKCk9PntwLnZhbHVlPSExfSksbyksbnVsbCE9ciYmc2V0VGltZW91dCgoKCk9PntpZighbC52YWx1ZSYmIXUudmFsdWUpe2NvbnN0IGU9bmV3IEVycm9yKGBBc3luYyBjb21wb25lbnQgdGltZWQgb3V0IGFmdGVyICR7cn1tcy5gKTt0KGUpLHUudmFsdWU9ZX19KSxyKSxkKCkudGhlbigoKCk9PntsLnZhbHVlPSEwLGUucGFyZW50JiZycyhlLnBhcmVudC52bm9kZSkmJihlLnBhcmVudC5lZmZlY3QuZGlydHk9ITAsdG4oZS5wYXJlbnQudXBkYXRlKSl9KSkuY2F0Y2goKGU9Pnt0KGUpLHUudmFsdWU9ZX0pKSwoKT0+bC52YWx1ZSYmYz9vcyhjLGUpOnUudmFsdWUmJnM/Wm8ocyx7ZXJyb3I6dS52YWx1ZX0pOm4mJiFwLnZhbHVlP1pvKG4pOnZvaWQgMH19KX0sZS5kZWZpbmVDb21wb25lbnQ9bnMsZS5kZWZpbmVDdXN0b21FbGVtZW50PXlpLGUuZGVmaW5lRW1pdHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZS5kZWZpbmVFeHBvc2U9ZnVuY3Rpb24oZSl7fSxlLmRlZmluZU1vZGVsPWZ1bmN0aW9uKCl7fSxlLmRlZmluZU9wdGlvbnM9ZnVuY3Rpb24oZSl7fSxlLmRlZmluZVByb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUuZGVmaW5lU1NSQ3VzdG9tRWxlbWVudD1lPT55aShlLFlpKSxlLmRlZmluZVNsb3RzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUuZGV2dG9vbHM9dm9pZCAwLGUuZWZmZWN0PWZ1bmN0aW9uKGUsdCl7ZS5lZmZlY3QgaW5zdGFuY2VvZiB1ZSYmKGU9ZS5lZmZlY3QuZm4pO2NvbnN0IG49bmV3IHVlKGUsbywoKCk9PntuLmRpcnR5JiZuLnJ1bigpfSkpO3QmJihjKG4sdCksdC5zY29wZSYmY2Uobix0LnNjb3BlKSksdCYmdC5sYXp5fHxuLnJ1bigpO2NvbnN0IHM9bi5ydW4uYmluZChuKTtyZXR1cm4gcy5lZmZlY3Q9bixzfSxlLmVmZmVjdFNjb3BlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbGUoZSl9LGUuZ2V0Q3VycmVudEluc3RhbmNlPXVyLGUuZ2V0Q3VycmVudFNjb3BlPWFlLGUuZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuPXRzLGUuZ3VhcmRSZWFjdGl2ZVByb3BzPVlvLGUuaD13cixlLmhhbmRsZUVycm9yPXF0LGUuaGFzSW5qZWN0aW9uQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiEhKGFyfHxobnx8SnMpfSxlLmh5ZHJhdGU9WWksZS5pbml0Q3VzdG9tRm9ybWF0dGVyPWZ1bmN0aW9uKCl7fSxlLmluaXREaXJlY3RpdmVzRm9yU1NSPW5sLGUuaW5qZWN0PVFzLGUuaXNNZW1vU2FtZT1OcixlLmlzUHJveHk9eHQsZS5pc1JlYWN0aXZlPWJ0LGUuaXNSZWFkb25seT1fdCxlLmlzUmVmPUl0LGUuaXNSdW50aW1lT25seT0oKT0+IWdyLGUuaXNTaGFsbG93PVN0LGUuaXNWTm9kZT1LbyxlLm1hcmtSYXc9a3QsZS5tZXJnZURlZmF1bHRzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1GcyhlKTtmb3IoY29uc3QgcyBpbiB0KXtpZihzLnN0YXJ0c1dpdGgoIl9fc2tpcCIpKWNvbnRpbnVlO2xldCBlPW5bc107ZT9wKGUpfHxnKGUpP2U9bltzXT17dHlwZTplLGRlZmF1bHQ6dFtzXX06ZS5kZWZhdWx0PXRbc106bnVsbD09PWUmJihlPW5bc109e2RlZmF1bHQ6dFtzXX0pLGUmJnRbYF9fc2tpcF8ke3N9YF0mJihlLnNraXBGYWN0b3J5PSEwKX1yZXR1cm4gbn0sZS5tZXJnZU1vZGVscz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0P3AoZSkmJnAodCk/ZS5jb25jYXQodCk6Yyh7fSxGcyhlKSxGcyh0KSk6ZXx8dH0sZS5tZXJnZVByb3BzPXJyLGUubmV4dFRpY2s9ZW4sZS5ub3JtYWxpemVDbGFzcz1HLGUubm9ybWFsaXplUHJvcHM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7bGV0e2NsYXNzOnQsc3R5bGU6bn09ZTtyZXR1cm4gdCYmIXYodCkmJihlLmNsYXNzPUcodCkpLG4mJihlLnN0eWxlPUgobikpLGV9LGUubm9ybWFsaXplU3R5bGU9SCxlLm9uQWN0aXZhdGVkPWNzLGUub25CZWZvcmVNb3VudD1ncyxlLm9uQmVmb3JlVW5tb3VudD1fcyxlLm9uQmVmb3JlVXBkYXRlPXlzLGUub25EZWFjdGl2YXRlZD1hcyxlLm9uRXJyb3JDYXB0dXJlZD1UcyxlLm9uTW91bnRlZD12cyxlLm9uUmVuZGVyVHJhY2tlZD1rcyxlLm9uUmVuZGVyVHJpZ2dlcmVkPUNzLGUub25TY29wZURpc3Bvc2U9ZnVuY3Rpb24oZSl7cmUmJnJlLmNsZWFudXBzLnB1c2goZSl9LGUub25TZXJ2ZXJQcmVmZXRjaD14cyxlLm9uVW5tb3VudGVkPVNzLGUub25VcGRhdGVkPWJzLGUub3BlbkJsb2NrPURvLGUucG9wU2NvcGVJZD1mdW5jdGlvbigpe2ZuPW51bGx9LGUucHJvdmlkZT1YcyxlLnByb3h5UmVmcz1QdCxlLnB1c2hTY29wZUlkPWZ1bmN0aW9uKGUpe2ZuPWV9LGUucXVldWVQb3N0Rmx1c2hDYj1zbixlLnJlYWN0aXZlPW10LGUucmVhZG9ubHk9dnQsZS5yZWY9UnQsZS5yZWdpc3RlclJ1bnRpbWVDb21waWxlcj1fcixlLnJlbmRlcj1aaSxlLnJlbmRlckxpc3Q9ZnVuY3Rpb24oZSx0LG4scyl7bGV0IG87Y29uc3Qgcj1uJiZuW3NdO2lmKHAoZSl8fHYoZSkpe289bmV3IEFycmF5KGUubGVuZ3RoKTtmb3IobGV0IG49MCxzPWUubGVuZ3RoO248cztuKyspb1tuXT10KGVbbl0sbix2b2lkIDAsciYmcltuXSl9ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIGUpe289bmV3IEFycmF5KGUpO2ZvcihsZXQgbj0wO248ZTtuKyspb1tuXT10KG4rMSxuLHZvaWQgMCxyJiZyW25dKX1lbHNlIGlmKGIoZSkpaWYoZVtTeW1ib2wuaXRlcmF0b3JdKW89QXJyYXkuZnJvbShlLCgoZSxuKT0+dChlLG4sdm9pZCAwLHImJnJbbl0pKSk7ZWxzZXtjb25zdCBuPU9iamVjdC5rZXlzKGUpO289bmV3IEFycmF5KG4ubGVuZ3RoKTtmb3IobGV0IHM9MCxpPW4ubGVuZ3RoO3M8aTtzKyspe2NvbnN0IGk9bltzXTtvW3NdPXQoZVtpXSxpLHMsciYmcltzXSl9fWVsc2Ugbz1bXTtyZXR1cm4gbiYmKG5bc109byksb30sZS5yZW5kZXJTbG90PWZ1bmN0aW9uKGUsdCxuPXt9LHMsbyl7aWYoaG4uaXNDRXx8aG4ucGFyZW50JiZzcyhobi5wYXJlbnQpJiZobi5wYXJlbnQuaXNDRSlyZXR1cm4iZGVmYXVsdCIhPT10JiYobi5uYW1lPXQpLFpvKCJzbG90IixuLHMmJnMoKSk7bGV0IHI9ZVt0XTtyJiZyLl9jJiYoci5fZD0hMSksRG8oKTtjb25zdCBpPXImJndzKHIobikpLGw9V28oTG8se2tleTpuLmtleXx8aSYmaS5rZXl8fGBfJHt0fWB9LGl8fChzP3MoKTpbXSksaSYmMT09PWUuXz82NDotMik7cmV0dXJuIW8mJmwuc2NvcGVJZCYmKGwuc2xvdFNjb3BlSWRzPVtsLnNjb3BlSWQrIi1zIl0pLHImJnIuX2MmJihyLl9kPSEwKSxsfSxlLnJlc29sdmVDb21wb25lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ga24oeG4sZSwhMCx0KXx8ZX0sZS5yZXNvbHZlRGlyZWN0aXZlPWZ1bmN0aW9uKGUpe3JldHVybiBrbigiZGlyZWN0aXZlcyIsZSl9LGUucmVzb2x2ZUR5bmFtaWNDb21wb25lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSk/a24oeG4sZSwhMSl8fGU6ZXx8Q259LGUucmVzb2x2ZUZpbHRlcj1udWxsLGUucmVzb2x2ZVRyYW5zaXRpb25Ib29rcz1RbixlLnNldEJsb2NrVHJhY2tpbmc9SG8sZS5zZXREZXZ0b29sc0hvb2s9SXIsZS5zZXRUcmFuc2l0aW9uSG9va3M9ZXMsZS5zaGFsbG93UmVhY3RpdmU9Z3QsZS5zaGFsbG93UmVhZG9ubHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHl0KGUsITAsamUsdXQsZnQpfSxlLnNoYWxsb3dSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIE90KGUsITApfSxlLnNzckNvbnRleHRLZXk9TG4sZS5zc3JVdGlscz1udWxsLGUuc3RvcD1mdW5jdGlvbihlKXtlLmVmZmVjdC5zdG9wKCl9LGUudG9EaXNwbGF5U3RyaW5nPWU9PnYoZSk/ZTpudWxsPT1lPyIiOnAoZSl8fGIoZSkmJihlLnRvU3RyaW5nPT09U3x8IWcoZS50b1N0cmluZykpP0pTT04uc3RyaW5naWZ5KGUsc2UsMik6U3RyaW5nKGUpLGUudG9IYW5kbGVyS2V5PUwsZS50b0hhbmRsZXJzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj17fTtmb3IoY29uc3QgcyBpbiBlKW5bdCYmL1tBLVpdLy50ZXN0KHMpP2Bvbjoke3N9YDpMKHMpXT1lW3NdO3JldHVybiBufSxlLnRvUmF3PUN0LGUudG9SZWY9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBJdChlKT9lOmcoZSk/bmV3IER0KGUpOmIoZSkmJmFyZ3VtZW50cy5sZW5ndGg+MT9VdChlLHQsbik6UnQoZSl9LGUudG9SZWZzPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9cChlKT9uZXcgQXJyYXkoZS5sZW5ndGgpOnt9O2Zvcihjb25zdCBuIGluIGUpdFtuXT1VdChlLG4pO3JldHVybiB0fSxlLnRvVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSk/ZSgpOkx0KGUpfSxlLnRyYW5zZm9ybVZOb2RlQXJncz1mdW5jdGlvbihlKXt9LGUudHJpZ2dlclJlZj1mdW5jdGlvbihlKXtFdChlLDIpfSxlLnVucmVmPUx0LGUudXNlQXR0cnM9ZnVuY3Rpb24oKXtyZXR1cm4gT3MoKS5hdHRyc30sZS51c2VDc3NNb2R1bGU9ZnVuY3Rpb24oZT0iJHN0eWxlIil7cmV0dXJuIG59LGUudXNlQ3NzVmFycz1mdW5jdGlvbihlKXtjb25zdCB0PXVyKCk7aWYoIXQpcmV0dXJuO2NvbnN0IG49dC51dD0obj1lKHQucHJveHkpKT0+e0FycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj0iJHt0LnVpZH0iXWApKS5mb3JFYWNoKChlPT5vaShlLG4pKSl9LHM9KCk9Pntjb25zdCBzPWUodC5wcm94eSk7c2kodC5zdWJUcmVlLHMpLG4ocyl9O01uKHMpLHZzKCgoKT0+e2NvbnN0IGU9bmV3IE11dGF0aW9uT2JzZXJ2ZXIocyk7ZS5vYnNlcnZlKHQuc3ViVHJlZS5lbC5wYXJlbnROb2RlLHtjaGlsZExpc3Q6ITB9KSxTcygoKCk9PmUuZGlzY29ubmVjdCgpKSl9KSl9LGUudXNlTW9kZWw9ZnVuY3Rpb24oZSx0LHM9bil7Y29uc3Qgbz11cigpLHI9SSh0KSxpPU8odCksbD1CdCgoKG4sbCk9PntsZXQgYztyZXR1cm4gUG4oKCgpPT57Y29uc3Qgbj1lW3RdO00oYyxuKSYmKGM9bixsKCkpfSkpLHtnZXQ6KCk9PihuKCkscy5nZXQ/cy5nZXQoYyk6Yyksc2V0KGUpe2NvbnN0IG49by52bm9kZS5wcm9wcztuJiYodCBpbiBufHxyIGluIG58fGkgaW4gbikmJihgb25VcGRhdGU6JHt0fWBpbiBufHxgb25VcGRhdGU6JHtyfWBpbiBufHxgb25VcGRhdGU6JHtpfWBpbiBuKXx8IU0oZSxjKXx8KGM9ZSxsKCkpLG8uZW1pdChgdXBkYXRlOiR7dH1gLHMuc2V0P3Muc2V0KGUpOmUpfX19KSksYz0ibW9kZWxWYWx1ZSI9PT10PyJtb2RlbE1vZGlmaWVycyI6YCR7dH1Nb2RpZmllcnNgO3JldHVybiBsW1N5bWJvbC5pdGVyYXRvcl09KCk9PntsZXQgdD0wO3JldHVybntuZXh0OigpPT50PDI/e3ZhbHVlOnQrKz9lW2NdfHx7fTpsLGRvbmU6ITF9Ontkb25lOiEwfX19LGx9LGUudXNlU1NSQ29udGV4dD0oKT0+e30sZS51c2VTbG90cz1mdW5jdGlvbigpe3JldHVybiBPcygpLnNsb3RzfSxlLnVzZVRyYW5zaXRpb25TdGF0ZT1LbixlLnZNb2RlbENoZWNrYm94PU1pLGUudk1vZGVsRHluYW1pYz1qaSxlLnZNb2RlbFJhZGlvPSRpLGUudk1vZGVsU2VsZWN0PUJpLGUudk1vZGVsVGV4dD1MaSxlLnZTaG93PWVpLGUudmVyc2lvbj1BcixlLndhcm49RXIsZS53YXRjaD1CbixlLndhdGNoRWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFZuKGUsbnVsbCx0KX0sZS53YXRjaFBvc3RFZmZlY3Q9TW4sZS53YXRjaFN5bmNFZmZlY3Q9UG4sZS53aXRoQXN5bmNDb250ZXh0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9dXIoKTtsZXQgbj1lKCk7cmV0dXJuIGZyKCksXyhuKSYmKG49bi5jYXRjaCgoZT0+e3Rocm93IGhyKHQpLGV9KSkpLFtuLCgpPT5ocih0KV19LGUud2l0aEN0eD1nbixlLndpdGhEZWZhdWx0cz1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsfSxlLndpdGhEaXJlY3RpdmVzPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09PWhuKXJldHVybiBlO2NvbnN0IHM9Q3IoaG4pfHxobi5wcm94eSxvPWUuZGlyc3x8KGUuZGlycz1bXSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2xldFtlLGksbCxjPW5dPXRbcl07ZSYmKGcoZSkmJihlPXttb3VudGVkOmUsdXBkYXRlZDplfSksZS5kZWVwJiZqbihpKSxvLnB1c2goe2RpcjplLGluc3RhbmNlOnMsdmFsdWU6aSxvbGRWYWx1ZTp2b2lkIDAsYXJnOmwsbW9kaWZpZXJzOmN9KSl9cmV0dXJuIGV9LGUud2l0aEtleXM9KGUsdCk9Pntjb25zdCBuPWUuX3dpdGhLZXlzfHwoZS5fd2l0aEtleXM9e30pLHM9dC5qb2luKCIuIik7cmV0dXJuIG5bc118fChuW3NdPW49PntpZighKCJrZXkiaW4gbikpcmV0dXJuO2NvbnN0IHM9TyhuLmtleSk7cmV0dXJuIHQuc29tZSgoZT0+ZT09PXN8fEtpW2VdPT09cykpP2Uobik6dm9pZCAwfSl9LGUud2l0aE1lbW89ZnVuY3Rpb24oZSx0LG4scyl7Y29uc3Qgbz1uW3NdO2lmKG8mJk5yKG8sZSkpcmV0dXJuIG87Y29uc3Qgcj10KCk7cmV0dXJuIHIubWVtbz1lLnNsaWNlKCksbltzXT1yfSxlLndpdGhNb2RpZmllcnM9KGUsdCk9Pntjb25zdCBuPWUuX3dpdGhNb2RzfHwoZS5fd2l0aE1vZHM9e30pLHM9dC5qb2luKCIuIik7cmV0dXJuIG5bc118fChuW3NdPShuLC4uLnMpPT57Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHM9V2lbdFtlXV07aWYocyYmcyhuLHQpKXJldHVybn1yZXR1cm4gZShuLC4uLnMpfSl9LGUud2l0aFNjb3BlSWQ9ZT0+Z24sZX0oe30pOwo="},{"meta":{"name":"dayjs.min.js","url":"https://cdn.jsdelivr.net/npm/dayjs@1.11.13/dayjs.min.js","ts":1749825460271,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuZGF5anM9ZSgpfSh0aGlzLChmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD0xZTMsZT02ZTQsbj0zNmU1LHI9Im1pbGxpc2Vjb25kIixpPSJzZWNvbmQiLHM9Im1pbnV0ZSIsdT0iaG91ciIsYT0iZGF5IixvPSJ3ZWVrIixjPSJtb250aCIsZj0icXVhcnRlciIsaD0ieWVhciIsZD0iZGF0ZSIsbD0iSW52YWxpZCBEYXRlIiwkPS9eKFxkezR9KVstL10/KFxkezEsMn0pP1stL10/KFxkezAsMn0pW1R0XHNdKihcZHsxLDJ9KT86PyhcZHsxLDJ9KT86PyhcZHsxLDJ9KT9bLjpdPyhcZCspPyQvLHk9L1xbKFteXF1dKyldfFl7MSw0fXxNezEsNH18RHsxLDJ9fGR7MSw0fXxIezEsMn18aHsxLDJ9fGF8QXxtezEsMn18c3sxLDJ9fFp7MSwyfXxTU1MvZyxNPXtuYW1lOiJlbiIsd2Vla2RheXM6IlN1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Ii5zcGxpdCgiXyIpLG1vbnRoczoiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlciIuc3BsaXQoIl8iKSxvcmRpbmFsOmZ1bmN0aW9uKHQpe3ZhciBlPVsidGgiLCJzdCIsIm5kIiwicmQiXSxuPXQlMTAwO3JldHVybiJbIit0KyhlWyhuLTIwKSUxMF18fGVbbl18fGVbMF0pKyJdIn19LG09ZnVuY3Rpb24odCxlLG4pe3ZhciByPVN0cmluZyh0KTtyZXR1cm4hcnx8ci5sZW5ndGg+PWU/dDoiIitBcnJheShlKzEtci5sZW5ndGgpLmpvaW4obikrdH0sdj17czptLHo6ZnVuY3Rpb24odCl7dmFyIGU9LXQudXRjT2Zmc2V0KCksbj1NYXRoLmFicyhlKSxyPU1hdGguZmxvb3Iobi82MCksaT1uJTYwO3JldHVybihlPD0wPyIrIjoiLSIpK20ociwyLCIwIikrIjoiK20oaSwyLCIwIil9LG06ZnVuY3Rpb24gdChlLG4pe2lmKGUuZGF0ZSgpPG4uZGF0ZSgpKXJldHVybi10KG4sZSk7dmFyIHI9MTIqKG4ueWVhcigpLWUueWVhcigpKSsobi5tb250aCgpLWUubW9udGgoKSksaT1lLmNsb25lKCkuYWRkKHIsYykscz1uLWk8MCx1PWUuY2xvbmUoKS5hZGQocisocz8tMToxKSxjKTtyZXR1cm4rKC0ocisobi1pKS8ocz9pLXU6dS1pKSl8fDApfSxhOmZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpfHwwOk1hdGguZmxvb3IodCl9LHA6ZnVuY3Rpb24odCl7cmV0dXJue006Yyx5OmgsdzpvLGQ6YSxEOmQsaDp1LG06cyxzOmksbXM6cixROmZ9W3RdfHxTdHJpbmcodHx8IiIpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvcyQvLCIiKX0sdTpmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dH19LGc9ImVuIixEPXt9O0RbZ109TTt2YXIgcD0iJGlzRGF5anNPYmplY3QiLFM9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBffHwhKCF0fHwhdFtwXSl9LHc9ZnVuY3Rpb24gdChlLG4scil7dmFyIGk7aWYoIWUpcmV0dXJuIGc7aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgcz1lLnRvTG93ZXJDYXNlKCk7RFtzXSYmKGk9cyksbiYmKERbc109bixpPXMpO3ZhciB1PWUuc3BsaXQoIi0iKTtpZighaSYmdS5sZW5ndGg+MSlyZXR1cm4gdCh1WzBdKX1lbHNle3ZhciBhPWUubmFtZTtEW2FdPWUsaT1hfXJldHVybiFyJiZpJiYoZz1pKSxpfHwhciYmZ30sTz1mdW5jdGlvbih0LGUpe2lmKFModCkpcmV0dXJuIHQuY2xvbmUoKTt2YXIgbj0ib2JqZWN0Ij09dHlwZW9mIGU/ZTp7fTtyZXR1cm4gbi5kYXRlPXQsbi5hcmdzPWFyZ3VtZW50cyxuZXcgXyhuKX0sYj12O2IubD13LGIuaT1TLGIudz1mdW5jdGlvbih0LGUpe3JldHVybiBPKHQse2xvY2FsZTplLiRMLHV0YzplLiR1LHg6ZS4keCwkb2Zmc2V0OmUuJG9mZnNldH0pfTt2YXIgXz1mdW5jdGlvbigpe2Z1bmN0aW9uIE0odCl7dGhpcy4kTD13KHQubG9jYWxlLG51bGwsITApLHRoaXMucGFyc2UodCksdGhpcy4keD10aGlzLiR4fHx0Lnh8fHt9LHRoaXNbcF09ITB9dmFyIG09TS5wcm90b3R5cGU7cmV0dXJuIG0ucGFyc2U9ZnVuY3Rpb24odCl7dGhpcy4kZD1mdW5jdGlvbih0KXt2YXIgZT10LmRhdGUsbj10LnV0YztpZihudWxsPT09ZSlyZXR1cm4gbmV3IERhdGUoTmFOKTtpZihiLnUoZSkpcmV0dXJuIG5ldyBEYXRlO2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBuZXcgRGF0ZShlKTtpZigic3RyaW5nIj09dHlwZW9mIGUmJiEvWiQvaS50ZXN0KGUpKXt2YXIgcj1lLm1hdGNoKCQpO2lmKHIpe3ZhciBpPXJbMl0tMXx8MCxzPShyWzddfHwiMCIpLnN1YnN0cmluZygwLDMpO3JldHVybiBuP25ldyBEYXRlKERhdGUuVVRDKHJbMV0saSxyWzNdfHwxLHJbNF18fDAscls1XXx8MCxyWzZdfHwwLHMpKTpuZXcgRGF0ZShyWzFdLGksclszXXx8MSxyWzRdfHwwLHJbNV18fDAscls2XXx8MCxzKX19cmV0dXJuIG5ldyBEYXRlKGUpfSh0KSx0aGlzLmluaXQoKX0sbS5pbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZDt0aGlzLiR5PXQuZ2V0RnVsbFllYXIoKSx0aGlzLiRNPXQuZ2V0TW9udGgoKSx0aGlzLiREPXQuZ2V0RGF0ZSgpLHRoaXMuJFc9dC5nZXREYXkoKSx0aGlzLiRIPXQuZ2V0SG91cnMoKSx0aGlzLiRtPXQuZ2V0TWludXRlcygpLHRoaXMuJHM9dC5nZXRTZWNvbmRzKCksdGhpcy4kbXM9dC5nZXRNaWxsaXNlY29uZHMoKX0sbS4kdXRpbHM9ZnVuY3Rpb24oKXtyZXR1cm4gYn0sbS5pc1ZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLiRkLnRvU3RyaW5nKCk9PT1sKX0sbS5pc1NhbWU9ZnVuY3Rpb24odCxlKXt2YXIgbj1PKHQpO3JldHVybiB0aGlzLnN0YXJ0T2YoZSk8PW4mJm48PXRoaXMuZW5kT2YoZSl9LG0uaXNBZnRlcj1mdW5jdGlvbih0LGUpe3JldHVybiBPKHQpPHRoaXMuc3RhcnRPZihlKX0sbS5pc0JlZm9yZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmVuZE9mKGUpPE8odCl9LG0uJGc9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBiLnUodCk/dGhpc1tlXTp0aGlzLnNldChuLHQpfSxtLnVuaXg9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfSxtLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZC5nZXRUaW1lKCl9LG0uc3RhcnRPZj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj0hIWIudShlKXx8ZSxmPWIucCh0KSxsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9Yi53KG4uJHU/RGF0ZS5VVEMobi4keSxlLHQpOm5ldyBEYXRlKG4uJHksZSx0KSxuKTtyZXR1cm4gcj9pOmkuZW5kT2YoYSl9LCQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYi53KG4udG9EYXRlKClbdF0uYXBwbHkobi50b0RhdGUoInMiKSwocj9bMCwwLDAsMF06WzIzLDU5LDU5LDk5OV0pLnNsaWNlKGUpKSxuKX0seT10aGlzLiRXLE09dGhpcy4kTSxtPXRoaXMuJEQsdj0ic2V0IisodGhpcy4kdT8iVVRDIjoiIik7c3dpdGNoKGYpe2Nhc2UgaDpyZXR1cm4gcj9sKDEsMCk6bCgzMSwxMSk7Y2FzZSBjOnJldHVybiByP2woMSxNKTpsKDAsTSsxKTtjYXNlIG86dmFyIGc9dGhpcy4kbG9jYWxlKCkud2Vla1N0YXJ0fHwwLEQ9KHk8Zz95Kzc6eSktZztyZXR1cm4gbChyP20tRDptKyg2LUQpLE0pO2Nhc2UgYTpjYXNlIGQ6cmV0dXJuICQodisiSG91cnMiLDApO2Nhc2UgdTpyZXR1cm4gJCh2KyJNaW51dGVzIiwxKTtjYXNlIHM6cmV0dXJuICQodisiU2Vjb25kcyIsMik7Y2FzZSBpOnJldHVybiAkKHYrIk1pbGxpc2Vjb25kcyIsMyk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5jbG9uZSgpfX0sbS5lbmRPZj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGFydE9mKHQsITEpfSxtLiRzZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbixvPWIucCh0KSxmPSJzZXQiKyh0aGlzLiR1PyJVVEMiOiIiKSxsPShuPXt9LG5bYV09ZisiRGF0ZSIsbltkXT1mKyJEYXRlIixuW2NdPWYrIk1vbnRoIixuW2hdPWYrIkZ1bGxZZWFyIixuW3VdPWYrIkhvdXJzIixuW3NdPWYrIk1pbnV0ZXMiLG5baV09ZisiU2Vjb25kcyIsbltyXT1mKyJNaWxsaXNlY29uZHMiLG4pW29dLCQ9bz09PWE/dGhpcy4kRCsoZS10aGlzLiRXKTplO2lmKG89PT1jfHxvPT09aCl7dmFyIHk9dGhpcy5jbG9uZSgpLnNldChkLDEpO3kuJGRbbF0oJCkseS5pbml0KCksdGhpcy4kZD15LnNldChkLE1hdGgubWluKHRoaXMuJEQseS5kYXlzSW5Nb250aCgpKSkuJGR9ZWxzZSBsJiZ0aGlzLiRkW2xdKCQpO3JldHVybiB0aGlzLmluaXQoKSx0aGlzfSxtLnNldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmNsb25lKCkuJHNldCh0LGUpfSxtLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1tiLnAodCldKCl9LG0uYWRkPWZ1bmN0aW9uKHIsZil7dmFyIGQsbD10aGlzO3I9TnVtYmVyKHIpO3ZhciAkPWIucChmKSx5PWZ1bmN0aW9uKHQpe3ZhciBlPU8obCk7cmV0dXJuIGIudyhlLmRhdGUoZS5kYXRlKCkrTWF0aC5yb3VuZCh0KnIpKSxsKX07aWYoJD09PWMpcmV0dXJuIHRoaXMuc2V0KGMsdGhpcy4kTStyKTtpZigkPT09aClyZXR1cm4gdGhpcy5zZXQoaCx0aGlzLiR5K3IpO2lmKCQ9PT1hKXJldHVybiB5KDEpO2lmKCQ9PT1vKXJldHVybiB5KDcpO3ZhciBNPShkPXt9LGRbc109ZSxkW3VdPW4sZFtpXT10LGQpWyRdfHwxLG09dGhpcy4kZC5nZXRUaW1lKCkrcipNO3JldHVybiBiLncobSx0aGlzKX0sbS5zdWJ0cmFjdD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZCgtMSp0LGUpfSxtLmZvcm1hdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy4kbG9jYWxlKCk7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBuLmludmFsaWREYXRlfHxsO3ZhciByPXR8fCJZWVlZLU1NLUREVEhIOm1tOnNzWiIsaT1iLnoodGhpcykscz10aGlzLiRILHU9dGhpcy4kbSxhPXRoaXMuJE0sbz1uLndlZWtkYXlzLGM9bi5tb250aHMsZj1uLm1lcmlkaWVtLGg9ZnVuY3Rpb24odCxuLGkscyl7cmV0dXJuIHQmJih0W25dfHx0KGUscikpfHxpW25dLnNsaWNlKDAscyl9LGQ9ZnVuY3Rpb24odCl7cmV0dXJuIGIucyhzJTEyfHwxMix0LCIwIil9LCQ9Znx8ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQ8MTI/IkFNIjoiUE0iO3JldHVybiBuP3IudG9Mb3dlckNhc2UoKTpyfTtyZXR1cm4gci5yZXBsYWNlKHksKGZ1bmN0aW9uKHQscil7cmV0dXJuIHJ8fGZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIllZIjpyZXR1cm4gU3RyaW5nKGUuJHkpLnNsaWNlKC0yKTtjYXNlIllZWVkiOnJldHVybiBiLnMoZS4keSw0LCIwIik7Y2FzZSJNIjpyZXR1cm4gYSsxO2Nhc2UiTU0iOnJldHVybiBiLnMoYSsxLDIsIjAiKTtjYXNlIk1NTSI6cmV0dXJuIGgobi5tb250aHNTaG9ydCxhLGMsMyk7Y2FzZSJNTU1NIjpyZXR1cm4gaChjLGEpO2Nhc2UiRCI6cmV0dXJuIGUuJEQ7Y2FzZSJERCI6cmV0dXJuIGIucyhlLiRELDIsIjAiKTtjYXNlImQiOnJldHVybiBTdHJpbmcoZS4kVyk7Y2FzZSJkZCI6cmV0dXJuIGgobi53ZWVrZGF5c01pbixlLiRXLG8sMik7Y2FzZSJkZGQiOnJldHVybiBoKG4ud2Vla2RheXNTaG9ydCxlLiRXLG8sMyk7Y2FzZSJkZGRkIjpyZXR1cm4gb1tlLiRXXTtjYXNlIkgiOnJldHVybiBTdHJpbmcocyk7Y2FzZSJISCI6cmV0dXJuIGIucyhzLDIsIjAiKTtjYXNlImgiOnJldHVybiBkKDEpO2Nhc2UiaGgiOnJldHVybiBkKDIpO2Nhc2UiYSI6cmV0dXJuICQocyx1LCEwKTtjYXNlIkEiOnJldHVybiAkKHMsdSwhMSk7Y2FzZSJtIjpyZXR1cm4gU3RyaW5nKHUpO2Nhc2UibW0iOnJldHVybiBiLnModSwyLCIwIik7Y2FzZSJzIjpyZXR1cm4gU3RyaW5nKGUuJHMpO2Nhc2Uic3MiOnJldHVybiBiLnMoZS4kcywyLCIwIik7Y2FzZSJTU1MiOnJldHVybiBiLnMoZS4kbXMsMywiMCIpO2Nhc2UiWiI6cmV0dXJuIGl9cmV0dXJuIG51bGx9KHQpfHxpLnJlcGxhY2UoIjoiLCIiKX0pKX0sbS51dGNPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMTUqLU1hdGgucm91bmQodGhpcy4kZC5nZXRUaW1lem9uZU9mZnNldCgpLzE1KX0sbS5kaWZmPWZ1bmN0aW9uKHIsZCxsKXt2YXIgJCx5PXRoaXMsTT1iLnAoZCksbT1PKHIpLHY9KG0udXRjT2Zmc2V0KCktdGhpcy51dGNPZmZzZXQoKSkqZSxnPXRoaXMtbSxEPWZ1bmN0aW9uKCl7cmV0dXJuIGIubSh5LG0pfTtzd2l0Y2goTSl7Y2FzZSBoOiQ9RCgpLzEyO2JyZWFrO2Nhc2UgYzokPUQoKTticmVhaztjYXNlIGY6JD1EKCkvMzticmVhaztjYXNlIG86JD0oZy12KS82MDQ4ZTU7YnJlYWs7Y2FzZSBhOiQ9KGctdikvODY0ZTU7YnJlYWs7Y2FzZSB1OiQ9Zy9uO2JyZWFrO2Nhc2UgczokPWcvZTticmVhaztjYXNlIGk6JD1nL3Q7YnJlYWs7ZGVmYXVsdDokPWd9cmV0dXJuIGw/JDpiLmEoJCl9LG0uZGF5c0luTW9udGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRPZihjKS4kRH0sbS4kbG9jYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIERbdGhpcy4kTF19LG0ubG9jYWxlPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXMuJEw7dmFyIG49dGhpcy5jbG9uZSgpLHI9dyh0LGUsITApO3JldHVybiByJiYobi4kTD1yKSxufSxtLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIGIudyh0aGlzLiRkLHRoaXMpfSxtLnRvRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSl9LG0udG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMudG9JU09TdHJpbmcoKTpudWxsfSxtLnRvSVNPU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGQudG9JU09TdHJpbmcoKX0sbS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRkLnRvVVRDU3RyaW5nKCl9LE19KCksaz1fLnByb3RvdHlwZTtyZXR1cm4gTy5wcm90b3R5cGU9ayxbWyIkbXMiLHJdLFsiJHMiLGldLFsiJG0iLHNdLFsiJEgiLHVdLFsiJFciLGFdLFsiJE0iLGNdLFsiJHkiLGhdLFsiJEQiLGRdXS5mb3JFYWNoKChmdW5jdGlvbih0KXtrW3RbMV1dPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLiRnKGUsdFswXSx0WzFdKX19KSksTy5leHRlbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC4kaXx8KHQoZSxfLE8pLHQuJGk9ITApLE99LE8ubG9jYWxlPXcsTy5pc0RheWpzPVMsTy51bml4PWZ1bmN0aW9uKHQpe3JldHVybiBPKDFlMyp0KX0sTy5lbj1EW2ddLE8uTHM9RCxPLnA9e30sT30pKTs="}]},{"name":"「CSDNGreener」🍃CSDN广告完全过滤|免登录|个性化排版|最强老牌脚本|持续更新","options":{"check_for_updates":true,"comment":null,"compat_foreach":false,"compat_metadata":false,"compat_powerful_this":null,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"merge_connects":true,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_connects":["www.csdn.net"],"orig_excludes":[],"orig_includes":["*://*.csdn.net/*"],"orig_matches":[],"orig_noframes":null,"orig_run_at":"document-idle","orig_run_in":[],"orig_tags":[],"use_blockers":[],"use_connects":[],"use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"run_in":null,"sandbox":null,"tags":[],"unwrap":null,"user_modified":null},"storage":{"ts":1749825499727,"data":{}},"enabled":true,"position":2,"file_url":"https://update.greasyfork.org/scripts/378351/%E3%80%8CCSDNGreener%E3%80%8D%F0%9F%8D%83CSDN%E5%B9%BF%E5%91%8A%E5%AE%8C%E5%85%A8%E8%BF%87%E6%BB%A4%7C%E5%85%8D%E7%99%BB%E5%BD%95%7C%E4%B8%AA%E6%80%A7%E5%8C%96%E6%8E%92%E7%89%88%7C%E6%9C%80%E5%BC%BA%E8%80%81%E7%89%8C%E8%84%9A%E6%9C%AC%7C%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0.user.js","uuid":"c131539b-cabc-4f14-9f11-a6f067f2fa1c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDjgIxDU0ROR3JlZW5lcuOAjfCfjYNDU0RO5bm/5ZGK5a6M5YWo6L+H5rukfOWFjeeZu+W9lXzkuKrmgKfljJbmjpLniYh85pyA5by66ICB54mM6ISa5pysfOaMgee7reabtOaWsAovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkCi8vIEB2ZXJzaW9uICAgICAgNC4yLjQKLy8gQGRlc2NyaXB0aW9uICDimqHvuI/lhajmlrA0LjDniYjmnKzvvIHmi6XmnInmlbDpobnni6zlrrblip/og73nmoTmnIDlvLpDU0RO6ISa5pys77yM5LiN5pyN5q+U5LiA5q+U4pqh77iPfPCflbbml6DpnIDnmbvlvZVDU0RO77yM6I635b6X5q+U5Lya5ZGY5pu05L2z55qE5L2T6aqMfPCflqXoh6rlrprkuYnog4zmma/lm77vvIzliIbovqjnjofoh6rpgILphY3vvIzliIblsY/kuI3nlKjmu5rliqh88J+Svui2hee6p+mihOS8mOWMlnzwn4+35Y6f5Yib5paH56ug5YWN55m75b2V5bGV5byAfPCflIzni6zlrrbmjqjojZDlhoXlrrnoh6rnlLHlvIDlhbN88J+ToOWFjeeZu+W9leWkjeWItnzwn5SX6Ziy5aSW6ZO+6YeN5a6a5ZCRfPCfk53ni6zlrrborrrlnZvmnKrnmbvlvZXoh6rliqjlsZXlvIDmlofnq6DjgIHor4Torrp88J+MteWFqOmdouWHgOWMlnzwn5OI5rKJ5rW46ZiF6K+7fPCfp7Tlh4DljJbliarotLTmnb988J+TleS9nOiAheS/oeaBr+aWh+eroOmhtumDqOWxleekugovLyBAYXV0aG9yICAgICAgIEFkbGVyCi8vIEBjb25uZWN0ICAgICAgd3d3LmNzZG4ubmV0Ci8vIEBpbmNsdWRlICAgICAgKjovLyouY3Nkbi5uZXQvKgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vbGYyNi1jZG4tdG9zLmJ5dGVjZG50cC5jb20vY2RuL2V4cGlyZS0xLU0vanF1ZXJ5LWNvb2tpZS8xLjQuMS9qcXVlcnkuY29va2llLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vbGYyNi1jZG4tdG9zLmJ5dGVjZG50cC5jb20vY2RuL2V4cGlyZS0xLU0vbnByb2dyZXNzLzAuMi4wL25wcm9ncmVzcy5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2xmMjYtY2RuLXRvcy5ieXRlY2RudHAuY29tL2Nkbi9leHBpcmUtMS1NL2NsaXBib2FyZC5qcy8yLjAuMTAvY2xpcGJvYXJkLm1pbi5qcwovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyL2lzc3Vlcy9uZXc/YXNzaWduZWVzPWFkbGVyZWQmbGFiZWxzPWhlbHArd2FudGVkJnRlbXBsYXRlPUlTU1VFX1RFTVBMQVRFLm1kJnRpdGxlPQovLyBAY29udHJpYnV0aW9uVVJMIGh0dHBzOi8vZG9jLnN0YWNrb3ZlcmZsb3cud2lraS93ZWIvIy8yMT9wYWdlX2lkPTEzOAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAbGljZW5zZSAgICAgIEFHUEwtMy4wLW9yLWxhdGVyCi8vIEBhbnRpZmVhdHVyZSAgYWRzIENTRE5HcmVlbmVyIOiEmuacrOS4reW1jOWFpeS6huWPr+S4gOmUruawuOS5heWFs+mXreeahOWwj+W5v+WRiu+8jOS4jeS8muW9seWTjeaCqOeahOS9v+eUqOS9k+mqjDopIOivt+aUvuW/g+Wuieijhe+8gQovLyBAbm90ZSAgICAgICAgIDI0LTA3LTE4IDQuMi40IOaPj+i/sOabtOaUuQovLyBAbm90ZSAgICAgICAgIDI0LTAzLTI4IDQuMi4zIOagh+mimOabtOaUuQovLyBAbm90ZSAgICAgICAgIDIzLTEyLTIxIDQuMi4yIOS/ruWkjeS6huS4gOS6m+W3suefpemXrumimAovLyBAbm90ZSAgICAgICAgIDIzLTEyLTE2IDQuMi4xIOaWh+eroOmhteeJm+earueZo+S8mOWMlgovLyBAbm90ZSAgICAgICAgIDIzLTEyLTE1IDQuMi4wIOS8mOWMlumhtuagj+aYvuekuuWGheWuue+8jOS/ruWkjeS6huiLpeW5sueUseS6jkNTRE7liY3nq6/lj5jljJblr7zoh7TkvJjljJblpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMy0wNS0yNSA0LjEuOSDlho3mrKHkv67lpI3lhY3nmbvlvZXlpI3liLbml6Dms5Xkvb/nlKjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMy0wNS0xMSA0LjEuOCDlvLrmnYDlj5jlvILlnovnmbvlvZXmoYblvLnlh7rvvIjkuI3lvbHlk43oh6rlt7Hngrnlh7vnmbvlvZXkvb/nlKjvvIkKLy8gQG5vdGUgICAgICAgICAyMy0wNS0xMCA0LjEuNyDlop7lvLrlhY3nmbvlvZXlpI3liLblip/og70KLy8gQG5vdGUgICAgICAgICAyMy0wNC0xMSA0LjEuNiDljrvlub/lkYrmm7TmlrAKLy8gQG5vdGUgICAgICAgICAyMy0wNC0wNiA0LjEuNSDmlrDlop46IOi3s+i/hyBDU0ROIOeahCBsaW5rIOmhtemdogovLyBAbm90ZSAgICAgICAgIDIzLTA0LTA0IDQuMS40IOWinuWKoGFkc+agh+ivhgovLyBAbm90ZSAgICAgICAgIDIzLTAzLTMwIDQuMS4zIOenu+mZpOe7n+iuoeS7o+egge+8jOeZu+W9lemXrumimOebuOWFs+S8mOWMlu+8iOWPquWxj+iUveS4gOasoe+8iQovLyBAbm90ZSAgICAgICAgIDIzLTAyLTAzIDQuMS4yIOS/ruWkjeS6huaXoOazleeZu+W9leeahOmXrumimO+8iOivhOiuuuS4jeeZu+W9leaXoOazleWKoOi9veaaguaXoOino+WGs+aWueahiO+8jOaIkeS7rOWcqOaMgee7reWKquWKm+S4re+8iQovLyBAbm90ZSAgICAgICAgIDIyLTA1LTMwIDQuMS4xIOWKn+iDveS/ruWkje+8jOW5v+WRiuWxj+iUvQovLyBAbm90ZSAgICAgICAgIDIyLTAxLTE4IDQuMS4wIOS7o+eggeaKmOWPoOmAgumFjQovLyBAbm90ZSAgICAgICAgIDIyLTAxLTA1IDQuMC45IOabtOaWsOW5v+WRigovLyBAbm90ZSAgICAgICAgIDIxLTEyLTEyIDQuMC44IOWxj+iUveWtpueUn+iupOivgQovLyBAbm90ZSAgICAgICAgIDIxLTEwLTIxIDQuMC43IOWxj+iUvee6ouWMhembqAovLyBAbm90ZSAgICAgICAgIDIxLTA5LTI0IDQuMC42IOS/ruWkjeeZu+W9leW8ueeql+aXoOazleW9u+W6leWOu+mZpOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTA5LTIwIDQuMC41IOWinuWKoOiHquWumuS5ieiDjOaZr+WKn+iDvQovLyBAbm90ZSAgICAgICAgIDIxLTA5LTEzIDQuMC40IOWinuWKoOS4gOS4quayoeacieaUtumSseeahOW5v+WRiu+8iOWcqOiuvue9rumHjO+8jOS4jeW9seWTjeS9k+mqjO+8iQovLyBAbm90ZSAgICAgICAgIDIxLTA5LTAxIDQuMC4zIOWinuWKoOeUqOaIt+S9v+eUqOaDheWGtee7n+iuoeaooeWdlwovLyBAbm90ZSAgICAgICAgIDIxLTA4LTI1IDQuMC4yIOS/ruWkjeWPs+S+p+e9rumhtuagj+aMiemSrua2iOWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIxIDQuMC4xIOWOu+mZpOWPs+S+p+aCrOa1ruagj++8jOS8mOWMluiEmuacrAovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIwIDQuMC4wIOWFqOaWsDQuMOWPkeW4g++8gVVJ576O5YyW77yM5Luj56CB5LyY5YyW77yM5YW85a65RmlyZWZveO+8jOabtOWkmuaOkueJiOaooeW8jwovLyBAbm90ZSAgICAgICAgIDIxLTA4LTIwIDMuNS43IOS/ruWkjeaXoOazleWujOaVtOWkjeWItuOAgeS/neWtmGNzZG7nmoTnvZHpobXkvJrot7PovazpppbpobXnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wOC0xOSAzLjUuNiDoh6rliqjpmpDol4/lupXmoI/lip/og73mlLnkuLrlp4vnu4jpmpDol4/lupXmoI8KLy8gQG5vdGUgICAgICAgICAyMS0wOC0xOCAzLjUuNSDkv67lpI3ml6Dms5XpgInmi6nlpI3liLbnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wNi0xNyAzLjUuNCDljrvpmaTlj7PkvqfnuqLljIXmgqzmta7nqpcKLy8gQG5vdGUgICAgICAgICAyMS0wNC0xOCAzLjUuMyDlop7liqDmmL7npLrlsI/lupfnmoTorr7lrpoKLy8gQG5vdGUgICAgICAgICAyMS0wMy0xMyAzLjUuMiDljrvkuLvpobXlub/lkYrvvIzljrvmlofnq6DpobXpnaLmjqjojZDlhoXlrrlUaXRsZQovLyBAbm90ZSAgICAgICAgIDIxLTAzLTAxIDMuNS4xIOS/ruaUueaWh+ahiAovLyBAbm90ZSAgICAgICAgIDIxLTAyLTA2IDMuNS4wIOS/ruWkjeS4iuS8oOi1hOa6kOeVjOmdouagh+etvumAieaLqea2iOWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIxLTAxLTE3IDMuNC45IOWIoOmZpOaWh+eroOmhteWSjOiuuuWdm+W5v+WRiu+8jOaaguaXtuWBnOeUqOWPs+S+p+agj+a7muWKqOWKn+iDve+8iENTRE7pmZDliLbvvIkKLy8gQG5vdGUgICAgICAgICAyMS0wMS0xNSAzLjQuOCDkv53lrZjmjInpkq7kvJjljJbvvIzkv67lpI3mmL7npLrliJvkvZzkuK3lv4PmjInpkq7lip/og73lpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMS0wMS0xNSAzLjQuNyDmlLnov5vohJrmnKznu4boioLvvIzlop7liqDlub/lkYrlsY/olL3og73lipvvvIzkv67lpI3nu7/ljJbmjInpkq7plJnkvY3nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMi0yNSAzLjQuNiDkuLvpobXpg6jliIbltYzlhaXlvI/lub/lkYrliKDpmaQKLy8gQG5vdGUgICAgICAgICAyMC0xMi0xOCAzLjQuNSDkv67lpI3nu7/ljJborr7lrprmjInpkq7mjpLniYjkuI3mraPnoa7nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMi0xNSAzLjQuNCDkv67lpI3kuobmn5DkupvlrZDpobXmmL7npLrkuI3mraPluLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0xMC0yMyAzLjQuMyDpgILlupTmlrDniYhDU0RO77yM5Y676Zmk5Li76aG15ZKM55m75b2V6aG15bm/5ZGK77yM5Lul5Y+K55m75b2V5o+Q56S677yM5bm256e76Zmk5bqV6YOo5L+h5oGvCi8vIEBub3RlICAgICAgICAgMjAtMTAtMjAgMy40LjIg5Yig6Zmk5Y+z5L6n5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMjAtMDktMjYgMy40LjEg5L+u5pS55o6S54mI6K6+5a6a77yM5L+u5aSN55m75b2V5qGG5by55Ye655qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDktMjQgMy40LjAg57Sn5oCl5L+u5aSN55Sx5LqOQ1NETuWJjeerr+agt+W8j+S/ruaUueWvvOiHtOiuvuWumuW8gOWFs+S4ouWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA4LTI3IDMuMy45IOe0p+aApeS/ruWkjeeUseS6jkNTRE7liY3nq6/moLflvI/kv67mlLnlr7zoh7TohJrmnKzlpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wOC0yNiAzLjMuOCDlkIjms5XohJrmnKzmj5DnpLoKLy8gQG5vdGUgICAgICAgICAyMC0wNy0yMCAzLjMuNyDkv67lpI3oj5zljZXmoI/lnKjliJvkvZzkuK3lv4PmmL7npLrlvILluLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNy0xOCAzLjMuNiDlt6XlhbfnrrHmjInpkq7kvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wNSAzLjMuNSDor4TorrrlpI3liLblip/og73kuqTkupLkvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wNCAzLjMuNCDkv67lpI3lj7PkvqfmoI/mtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNy0wMyAzLjMuMyDmlrDlop7lpI3liLbor4Torrrlip/og73vvIHliKDpmaTpobbpg6jlub/lkYoKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yOCAzLjMuMiDmj5DnpLrkv67mlLkKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNyAzLjMuMSDlvLnnqpfmj5DnpLrpgLvovpHkv67mlLnkuLrku4Xmj5DnpLrkuIDmrKHjgIIKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNyAzLjMuMCDnvZHnq5nmoIfpopjmlrDmtojmga/mj5DphpLljrvpmaQKLy8gQG5vdGUgICAgICAgICAyMC0wNi0yNiAzLjIuOSDmgaLlpI1HcmVhc3lGb3Jr5bmz5Y+w6ISa5pys5pSv5oyBCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4yLjAg6ISa5pys6L+B56e76YCa55+lCi8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4xLjkg5aKe5Yqg6Ieq5Yqo6ZqQ6JeP5bqV5qCP5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMjEgMy4xLjgg5aKe5Yqg6Ieq5Yqo6ZqQ6JeP6aG25qCP5Yqf6IO977yM5L+u5aSN6YCJ6aG556qX5Y+j6KKr54K56LWe6ZW/5p2h5oyh5L2P55qEQnVn77yM6YCJ6aG556qX5Y+j5biD5bGA5L+u5pS5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMjAgMy4xLjcg6K6+572u56qX5Y+j5aSn5bCP5Zu65a6a77yM5aKe5Yqg5omT6LWP5YWl5Y+jCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTkgMy4xLjYg5pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5Zue5b2S77yM5paw5biD5bGA57Sn5oCl5L+u5aSNCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTggMy4xLjUg6Ieq5a6a5LmJ5Yqf6IO95pu05pawCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTYgMy4xLjQg5pSv5oyB5aSn6YOo5YiG5Yqf6IO95qih5Z2X5YyW5pi+56S6Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMTQgMy4xLjMg57u/5YyW6K6+5a6a5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTQgMy4xLjIgSVNTVUXmqKHmnb/osIPmlbRTdXBwb3J0IFVSTAovLyBAbm90ZSAgICAgICAgIDIwLTA2LTE0IDMuMS4xIOWinuWKoOaQnOWNmuS4u+aWh+eroOaooeWdlwovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEzIDMuMS4wIOS/ruWkjeiuvue9rui/h+acn+eahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEyIDMuMC45IOagh+mimOWbnua7mgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTEyIDMuMC44IOS4u+mhteW5v+WRiuWIoOmZpO+8jOe7v+WMluiuvue9ruS7heaYvuekuuWcqOaWh+eroOmhtemdou+8jOWIoOmZpOmhteiEmu+8jOmhtumDqOS8mOWMlu+8jOiLpeW5sue7huiKguS8mOWMlgovLyBAbm90ZSAgICAgICAgIDIwLTA2LTExIDMuMC43IOWinuWKoOWumOaWuVFR5Lqk5rWB576k77yM5aKe5Yqg5YWz6Zet5by65Yi255m96Imy5Li76aKY5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMTEgMy4wLjYg55So5oi35ZCN54mH5Yqf6IO95LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTEgMy4wLjUg5LyY5YyW5Yqg6L296YCf5bqmCi8vIEBub3RlICAgICAgICAgMjAtMDYtMTAgMy4wLjQg5L+u5aSN6K6+572u55WM6Z2i6YGu5oyh55qE6Zeu6aKY77yM5pi+56S65Y2a5Li75aS05YOPCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDkgMy4wLjMg6buY6K6k6K6+5a6a5L+u5pS5Ci8vIEBub3RlICAgICAgICAgMjAtMDYtMDkgMy4wLjIg5L+u5aSN5o6o6I2Q5YaF5a655oyJ6ZKu5Yi35paw5LiN55Sf5pWI55qE6Zeu6aKY77yM5aKe5Yqg5bel5YW3566x5o+Q56S65qGGCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDggMy4wLjEg6K6+572u5Lit5b+D5o6o5Ye677yB5aKe5Yqg5rWP6KeI5pWI5p6c6YCJ6aG5ICYmIEdyZWVuIEJvb2sgSWNvbiBVcGRhdGUKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wOCAzLjAuMCDorr7nva7kuK3lv4Pmjqjlh7rvvIHlop7liqDmtY/op4jmlYjmnpzpgInpobkKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNyAyLjQuMiDorr7nva7op6PogKbvvIzkuIvkuKrniYjmnKzmkJ7phY3nva7kuK3lv4MKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNiAyLjQuMSDkv67lpI3mlofnq6DlhoXlrrnmtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjQuMCDkv67lpI3mjqjojZDmjInpkq7plJnkvY3nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjMuOSDnqoTlsY/pgILphY3kvJjljJYKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wNCAyLjMuOCDpu5HlpJzmqKHlvI/lh7rnjrDpl67popjvvIzntKfmgKXlm57moaPliLAgMi4zLjYKLy8gQG5vdGUgICAgICAgICAyMC0wNi0wMyAyLjMuNyDmhJ/osKIgQEFsZXhMV1Qg5aKe5Yqg6buR5pqX5qih5byPCi8vIEBub3RlICAgICAgICAgMjAtMDYtMDIgMi4zLjYgQWRzQnlHb29nbGUg5Yig6ZmkCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjUgMi4zLjUg5oSf6LCiIEBSeWFuSVBPIOS/ruWkjSBDYW5ub3QgcmVhZCBwcm9wZXJ0eSAncmVwbGFjZScgb2YgdW5kZWZpbmVkIOaKpemUmeeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwLTA1LTI0IDIuMy40IOS/ruWkjeWFjeeZu+W9leWkjeWItuWKn+iDvQovLyBAbm90ZSAgICAgICAgIDIwLTA1LTIyIDIuMy4zIExvZ2/kuI7og4zmma/lkIzmraUKLy8gQG5vdGUgICAgICAgICAyMC0wNS0yMiAyLjMuMiDmt7HluqbliKDpmaTog4zmma8KLy8gQG5vdGUgICAgICAgICAyMC0wNS0yMCAyLjMuMSDpgJrov4dyZXF1aXJl5L2/55SoTlByb2dyZXNzCi8vIEBub3RlICAgICAgICAgMjAtMDUtMjAgMi4zLjAg5pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5qC35byP5YaF572u77yM5YmU6ZmkQ0ROCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjkg6L+b5bqm5p2h5qC35byP5pu05paw77yM5pe26Ze05bu25pe25LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjgg5pu05paw6ISa5pys5o+P6L+w77yM5bGV5byA6K+E6K6655qE5omA5pyJ5Zue5aSN77yM5Yig6Zmk5Yib5L2c5Lit5b+D5oyJ6ZKu77yM5Yqg6L296L+b5bqm5p2hCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTcgMi4yLjcg5pu05paw6ISa5pys5o+P6L+wCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjYg5L+u5aSN56ys5LiA5qyh54K55Ye75pi+56S65o6o6I2Q5YaF5a655peg5Y+N5bqU55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjUg5Yig6Zmk5oqi5rKZ5Y+R6KeS5qCH77yM5L+u5pS55pi+56S65o6o6I2Q5YaF5a655oyJ6ZKu5qC35byPCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjQg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcSGVyb25aaGFuZ+KAneeahElzc3Vl5bu66K6u77yM5Yig6Zmk5omA5pyJ5Y2a5a6i6Iqx6YeM6IOh5ZOo55qE6IOM5pmv77yM5Li76aG15YiG57G75Lit5bm/5ZGK5riF6Zmk77yMQ1NT5qC35byP5o6n5Yi25a695bqm6YCC6YWN5Luj56CB5LyY5YyWCi8vIEBub3RlICAgICAgICAgMjAtMDUtMTYgMi4yLjMg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcUmV0aXJlZFdvcmxk4oCd55qE5Luj56CB6LSh54yu77yM5L2/55SoQ1NT5p2l5o6n5Yi25qC35byP77yM6ICM5LiN5pivSlPvvIzlop7lpKfngbXmtLvmgKfjgIIKLy8gQG5vdGUgICAgICAgICAyMC0wNS0xMyAyLjIuMiDlsY/olL3mgqjnmoTnvKnmlL7kuI3mmK8xMDAl55qE5o+Q56S6Ci8vIEBub3RlICAgICAgICAgMjAtMDQtMjkgMi4yLjEg5oSf6LCi5aSn5a6255qE5pSv5oyB77yM5aKe5Yqg55uu5b2V5pi+56S677yM6Ieq5Yqo5Yik5pat5piv5ZCm5a2Y5Zyo55uu5b2V6LCD5pW06aG16Z2i5a695bqm77yM5bGP6JS95paw5aKe5bm/5ZGK77yM5qyi6L+O5aSn5a625L2T6aqM5bm25o+Q5Ye65oSP6KeB77yBCi8vIEBub3RlICAgICAgICAgMjAtMDQtMTUgMi4yLjAg5LiA5Lqb5bm/5ZGK6KKr5YW25LuW5o+S5Lu25bGP6JS95a+86Ie055qE5byC5bi45peg6KeG5LmLCi8vIEBub3RlICAgICAgICAgMjAtMDMtMzAgMi4xLjkg5bmy5o6J4oCc6K6w5b2V5L2g55qE5Yib5L2c5Y6G56iL4oCd77yM5bmy5o6J5pyq55m75b2V5oOF5Ya15LiL55qE6KeS5qCH5o+Q6YaSCi8vIEBub3RlICAgICAgICAgMjAtMDMtMTMgMi4xLjgg56qE5bGP6YCC6YWN5Yqg5by6Ci8vIEBub3RlICAgICAgICAgMjAtMDMtMTMgMi4xLjcg5pu05paw566A5LuLCi8vIEBub3RlICAgICAgICAgMjAtMDMtMTIgMi4xLjYg5a695bqm6Ieq6YCC5bqU77yI5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+LTGVvbkc355qE5bu66K6u77yJ77yB5L+u5aSN5Ymq6LS05p2/5YeA5YyW5peg5pWI55qE6Zeu6aKY44CCCi8vIEBub3RlICAgICAgICAgMjAtMDMtMDQgMi4xLjUg6YCC6YWNQWRHdWFyZAovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI3IDIuMS40IOS8mOWMluWFjeeZu+W9leWkjeWItgovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI1IDIuMS4zIOWFjeeZu+W9leWkjeWItuabtOaWsO+8jOeOsOW3suWPr+eUqAovLyBAbm90ZSAgICAgICAgIDIwLTAyLTI0IDIuMS4yIEJ5IEdpdGh1YkBKYWxpbldhbmcg5pu05pS55Y676Zmk5Ymq6LS05p2/5Yqr5oyB55qE5pa55byP77yM5L2/5b6X5Y6f5paH5qC85byP5Zyo5aSN5Yi25pe26IO95aSf5L+d55WZCi8vIEBub3RlICAgICAgICAgMjAtMDItMjIgMi4xLjEg57Sn5oCl5L+u5aSN55Sx5LqOIENTRE4g5L+u5pS55YmN56uv57uT5p6E5a+86Ie055qE5paH56ug6ZSZ5L2NCi8vIEBub3RlICAgICAgICAgMjAtMDItMTEgMi4xLjAg6Iul5bmy5Yqo55S75LyY5YyW77yM6KeG6KeJ5L2T6aqM5pu05rWB55WFCi8vIEBub3RlICAgICAgICAgMjAtMDItMDYgMi4wLjkg5q2m5rGJ5Yqg5rK577yB5L+u5pS55o6o6I2Q5YaF5a655YiH5o2i5byA5YWz5L2N572u77yM5YeP5bCR6L+d5ZKM5oSfCi8vIEBub3RlICAgICAgICAgMjAtMDEtMTcgMi4wLjgg5Y676Zmk5Y+z5L6n5bm/5ZGKCi8vIEBub3RlICAgICAgICAgMjAtMDEtMTcgMi4wLjcg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcZ2xlYW5z4oCd55qE5bu66K6u77yM5Y675o6J6aG15aS05bm/5ZGKCi8vIEBub3RlICAgICAgICAgMTktMTItMTIgMi4wLjYg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCceWV4dWVzb25n4oCd55qE5bu66K6u77yM5bCG5L2c6ICF5L+h5oGv5Zyo5paH56ug6aG26YOo5bGV56S6Ci8vIEBub3RlICAgICAgICAgMTktMTAtMzAgMi4wLjUg576O5YyW6ZqQ6JeP5oyJ6ZKu77yM5aKe5Yqg54K55Ye75Yqo55S7Ci8vIEBub3RlICAgICAgICAgMTktMTAtMzAgMi4wLjQg5Yig6ZmkQ1NETuWumOaWueWcqOS4u+mhteaOqOmAgeeahOaWh+eroO+8iOWkp+WkmuaYr+W5v+WRiu+8iQovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC4zIOa3u+WKoOabtOWkmuWxj+iUveiEmuacrAovLyBAbm90ZSAgICAgICAgIDE5LTEwLTMwIDIuMC4wIOelneiHquW3seeUn+aXpeW/q+S5kH7lrozlhajph43lhplDU0ROR3JlZW5lcu+8jOe7n+S4gOS9v+eUqEpRdWVyee+8jOaViOeOh+abtOmrmAovLyBAbm90ZSAgICAgICAgIDE5LTEwLTI3IDEuNS4yIOWIoOmZpOWIhuS6q+a1t+aKpeaPkOekuiYm5oSf6LCiR2l0SHVi55qE5pyL5Y+L4oCcQ0hOLVNUVURFTlTigJ3nmoTlj43ppojvvIzljrvpmaTlupXpg6jor77nqIvmjqjojZAKLy8gQG5vdGUgICAgICAgICAxOS0xMC0yNyAxLjUuMSDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxDSE4tU1RVREVOVOKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOWOu+mZpOS6huW6lemDqOeahOivvueoi+aOqOiNkOW5v+WRigovLyBAbm90ZSAgICAgICAgIDE5LTEwLTA0IDEuNS4wIOenu+mZpOS6huW6lemDqOS4u+mimOS/oeaBr+WSjOaJk+i1jwovLyBAbm90ZSAgICAgICAgIDE5LTA5LTEwIDEuNC45IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnHByb2dyYW1tZXJaZeKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOS/ruWkjeS6huivhOiuuuWMuueCueWHu+afpeeci+WbnuWkjeWQju+8jOW3sue7j+WxleW8gOeahOivhOiuuuS8muaUtui1t+eahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTA5LTA0IDEuNC44IOaEn+iwouadpeiHqkdpdEh1YueahOaci+WPi+KAnGR3ZGN0aOKAneeahOe7huiHtOWkjeeOsOWPjemmiO+8jOeOsOWcqOafpeeci+WOn+WIm+aWh+eroOS4jeS8muaXoOmZkOW8ueeZu+W9leeql+WPo+S6hu+8jOS4lOWKoOW8uuS6huiHquWKqOWxleW8gOWKn+iDvQovLyBAbm90ZSAgICAgICAgIDE5LTA4LTIwIDEuNC43IOaEn+iwouayueWPieeUqOaIt+KAnFN1cHJlbWVTaXLigJ3nmoTlj43ppojvvIzkv67lpI3kuoblj7Pkvqfmgqzmta7moI/pga7mjKHmlofnq6DnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xNCAxLjQuNiDml6Dor63jgILliJrmm7TmlrDnmoTlhY3nmbvlvZXlpI3liLbvvIzlj4jmlLnkuobjgILkv67lpI3vvIEKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xMyAxLjQuNSDmm7TmlrDkuobni6zlrrblip/og73vvJrlhY3nmbvlvZXlpI3liLYKLy8gQG5vdGUgICAgICAgICAxOS0wOC0xMyAxLjQuNCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxpYW1zdW54aW5n4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG6aG26YOo5LiN6LS06L6555qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDgtMDEgMS40LjMg5oSf6LCi5rK55Y+J55So5oi34oCcZGRkZHnigJ3nmoTlj43ppojvvIzljrvpmaTkuobmm7TlpJrmjqjlub/lub/lkYoKLy8gQG5vdGUgICAgICAgICAxOS0wNy0zMCAxLjQuMiDmhJ/osKLmsrnlj4nnlKjmiLfigJzlkajkuYnmnbDigJ3nmoTlj43ppojvvIzlop7liqDkuobpmLJDU0RO5aSW6ZO+6YeN5a6a5ZCR55qE5Yqf6IO977yIQ1NETuiHrea1geawk++8iQovLyBAbm90ZSAgICAgICAgIDE5LTA3LTIwIDEuNC4xIOS/ruWkjeS6huaOqOiNkOWGheWuueW8gOWFs+i3qOaWh+eroOaXoOaViOmXrumimO+8iOW/mOS6humFjee9rkNvb2tpZeS9nOeUqOWfn++8iQovLyBAbm90ZSAgICAgICAgIDE5LTA3LTE5IDEuNC4wIDEuIOaehOaetuWkp+abtOaWsCAyLiDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4sibHVrZW1pbiLnmoTlj43ppojvvIzliqDlhaXkuobkuIvmlrnmjqjojZDlhoXlrrnmmK/lkKbpmpDol4/lvIDlhbPvvIjlrp7nlKjvvIkKLy8gQG5vdGUgICAgICAgICAxOS0wNy0xMyAxLjMuMCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxIb2xhcGxhY2XigJ3nmoTlj43ppojvvIzkv67lpI3kuobmlofnq6Dml6Dms5Xoh6rliqjlsZXlvIDnmoTpl67popjvvIhDU0RO5oC75pS56L+Z5Liq77yM5Luk5Lq65aS055a877yJCi8vIEBub3RlICAgICAgICAgMTktMDYtMDggMS4yLjYg5oSf6LCi5rK55Y+J55So5oi34oCcRGVza3lBa2nigJ3nmoTlj43ppojvvIzkv67lpI3kuobmlofnq6Dml6Dms5Xoh6rliqjlsZXlvIDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNyAxLjIuNCDkv67lpI3kuobnmbvlvZXlkI7or4Torrrml6Dms5XmraPluLjmiZPlvIDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNyAxLjIuMyDmhJ/osKLmsrnlj4nnlKjmiLci5rC46L+c55qE5q6/5LiLIueahOWPjemmiO+8jOWcqOS4gOS4iuWNiOeahOWKquWKm+aUu+WFi+S4i++8jOe7iOS6juWunueOsOS6huacqueZu+W9leWxleW8gOivhOiuuueahOivreWPpQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA1IDEuMi4wIOS/ruWkjeS6huivhOiuuuaXoOazleiHquWKqOWxleW8gOeahEJVRwovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA0IDEuMS45IOS/ruWkjeS6huaXoOazleiHquWKqOWxleW8gOeahEJVR++8iOiHqumXreS6hu+8iQovLyBAbm90ZSAgICAgICAgIDE5LTA2LTA0IDEuMS42IENTRE7lpKrlnY/kuobvvIzmiorigJzmtojmga/igJ3mjInpkq7nmoRDbGFzc+iuvue9ruaIkOS6huKAnEdpdENoYXTigJ3vvIzmiYDku6Xkv67lpI3kuobigJzmtojmga/igJ3mjInpkq7mtojlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuNSAxLiDkvJjljJbkuoborrrlnZvkvZPpqowgMi7nvo7ljJbjgIHkvJjljJbku6PnoIHnu5PmnoQKLy8gQG5vdGUgICAgICAgICAxOS0wNi0wNCAxLjEuNCDmhJ/osKLmnaXoh6pHaXRIdWLnmoTmnIvlj4vigJxpYW1zdW54aW5n4oCd55qE5Y+N6aaI77yM5aKe5Yqg5LqG6K665Z2b5bm/5ZGK5Yy56YWN6KeE5YiZCi8vIEBub3RlICAgICAgICAgMTktMDYtMDMgMS4xLjMg5oSf6LCi5p2l6IeqR2l0SHVi55qE5pyL5Y+L4oCcd2FuZ3dlaTEzNeKAneeahOWPjemmiO+8jOWOu+mZpOS6huivhOiuuuWMuuS4iuaWueeahOW5v+WRigovLyBAbm90ZSAgICAgICAgIDE5LTA1LTI3IDEuMS4yIOaEn+iwouayueWPieeUqOaIt+KAnOWkj+S8n+adsOKAneeahOWPjemmiO+8jOS/ruWkjeS6huWvjOaWh+acrOe8lui+keWZqOaXoOazleS9v+eUqOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDE5LTA1LTI1IDEuMS4wIDEuIOS/ruWkjeS6huS4u+mhteW5v+WRiueahOmXrumimCAyLiDorrrlnZvoh6rliqjlsZXlvIAgMy4g6K665Z2b5bm/5ZGK5raI6ZmkCi8vIEBub3RlICAgICAgICAgMTktMDUtMjUgMS4wLjkg5oSf6LCi5rK55Y+J55So5oi34oCc5rij5rij5LiN5YeG6K+06K+d4oCd55qE5Y+N6aaI77yM5L+u5aSN5LqG5pS26JeP5oyJ6ZKu5raI5aSx55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjMg5re75Yqg6aG16Z2i6YCJ5oup5oCn6L+H5ruk6KeE5YiZCi8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjIg5aKe5Yqg5LqG5YeA5YyW5Ymq6LS05p2/5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMTktMDMtMDEgMS4wLjEg5L+u5aSN5LqG5o6S54mI6Zeu6aKYLCDkvJjljJbkuobku6PnoIHnu5PmnoQKLy8gQG5vdGUgICAgICAgICAxOS0wMi0yNiAxLjAuMCDliJ3niYjlj5HluIMKLy8gQGRvd25sb2FkVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzc4MzUxLyVFMyU4MCU4Q0NTRE5HcmVlbmVyJUUzJTgwJThEJUYwJTlGJThEJTgzQ1NETiVFNSVCOSVCRiVFNSU5MSU4QSVFNSVBRSU4QyVFNSU4NSVBOCVFOCVCRiU4NyVFNiVCQiVBNCU3QyVFNSU4NSU4RCVFNyU5OSVCQiVFNSVCRCU5NSU3QyVFNCVCOCVBQSVFNiU4MCVBNyVFNSU4QyU5NiVFNiU4RSU5MiVFNyU4OSU4OCU3QyVFNiU5QyU4MCVFNSVCQyVCQSVFOCU4MCU4MSVFNyU4OSU4QyVFOCU4NCU5QSVFNiU5QyVBQyU3QyVFNiU4QyU4MSVFNyVCQiVBRCVFNiU5QiVCNCVFNiU5NiVCMC51c2VyLmpzCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zNzgzNTEvJUUzJTgwJThDQ1NETkdyZWVuZXIlRTMlODAlOEQlRjAlOUYlOEQlODNDU0ROJUU1JUI5JUJGJUU1JTkxJThBJUU1JUFFJThDJUU1JTg1JUE4JUU4JUJGJTg3JUU2JUJCJUE0JTdDJUU1JTg1JThEJUU3JTk5JUJCJUU1JUJEJTk1JTdDJUU0JUI4JUFBJUU2JTgwJUE3JUU1JThDJTk2JUU2JThFJTkyJUU3JTg5JTg4JTdDJUU2JTlDJTgwJUU1JUJDJUJBJUU4JTgwJTgxJUU3JTg5JThDJUU4JTg0JTlBJUU2JTlDJUFDJTdDJUU2JThDJTgxJUU3JUJCJUFEJUU2JTlCJUI0JUU2JTk2JUIwLm1ldGEuanMKLy8gPT0vVXNlclNjcmlwdD09CnZhciB2ZXJzaW9uID0gIjQuMi40IjsKdmFyIGN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKaWYgKGN1cnJlbnRVUkwuaW5kZXhPZigiPyIpICE9PSAtMSkgewogICAgY3VycmVudFVSTCA9IGN1cnJlbnRVUkwuc3Vic3RyaW5nKDAsIGN1cnJlbnRVUkwuaW5kZXhPZigiPyIpKTsKfQp2YXIgbGlzdDsKdmFyIHdpbmRvd1RvcCA9IDA7CnZhciBzdGFydFRpbWVNaWxsaSA9IERhdGUubm93KCk7CnZhciBzdG9wVGltZU1pbGxpID0gMDsKLy8g6YWN572u5o6n5Yi257G7CmNsYXNzIENvbmZpZyB7CiAgICBnZXQoa2V5LCB2YWx1ZSkgewogICAgICAgIHZhciBjb29raWUgPSAkLmNvb2tpZShrZXkpOwogICAgICAgIGlmIChjb29raWUgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQoa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIlJlbmV3IGtleTogIiArIGtleSArICIgOiAiICsgdmFsdWUpOwogICAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICAgIGNvbnNvbGUuZGVidWcoIlJlYWQga2V5OiAiICsga2V5ICsgIiA6ICIgKyBjb29raWUpOwogICAgICAgIGlmIChjb29raWUgPT09ICJ0cnVlIikgeyByZXR1cm4gdHJ1ZTsgfQogICAgICAgIGlmIChjb29raWUgPT09ICJmYWxzZSIpIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgICAgcmV0dXJuIGNvb2tpZTsKICAgIH0KCiAgICBnZXRTKGtleSwgdmFsdWUpIHsKICAgICAgICB2YXIgY29va2llID0gJC5jb29raWUoa2V5KTsKICAgICAgICBpZiAoY29va2llID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGtleSwgdmFsdWUpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJSZW5ldyBrZXk6ICIgKyBrZXkgKyAiIDogIiArIHZhbHVlKTsKICAgICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0KICAgICAgICBjb25zb2xlLmRlYnVnKCJSZWFkIGtleTogIiArIGtleSArICIgOiAiICsgY29va2llKTsKICAgICAgICByZXR1cm4gY29va2llOwogICAgfQoKICAgIHNldChzZXRLZXksIHNldFZhbHVlKSB7CiAgICAgICAgJC5jb29raWUoc2V0S2V5LCBzZXRWYWx1ZSwgewogICAgICAgICAgICBwYXRoOiAnLycsCiAgICAgICAgICAgIGV4cGlyZXM6IDM2NQogICAgICAgIH0pOwogICAgICAgIGNvbnNvbGUuZGVidWcoIktleSBzZXQ6ICIgKyBzZXRLZXkgKyAiIDogIiArIHNldFZhbHVlKTsKICAgIH0KCiAgICBsaXN0ZW5CdXR0b24oZWxlbWVudCwgbGlzdGVuS2V5LCB0cnVlQWN0aW9uLCBmYWxzZUFjdGlvbikgewogICAgICAgICQoZWxlbWVudCkuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgc3RhdHVzID0gbmV3IENvbmZpZygpLmdldChsaXN0ZW5LZXksIHRydWUpOwogICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJTdGF0dXM6ICIgKyBzdGF0dXMpOwogICAgICAgICAgICBpZiAoc3RhdHVzID09PSAidHJ1ZSIgfHwgc3RhdHVzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKCJLZXkgc2V0OiAiICsgbGlzdGVuS2V5ICsgIiA6OiAiICsgZmFsc2UpOwogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldChsaXN0ZW5LZXksIGZhbHNlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIktleSBzZXQ6ICIgKyBsaXN0ZW5LZXkgKyAiIDo6ICIgKyB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQobGlzdGVuS2V5LCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKICAgIGxpc3RlbkJ1dHRvbkFuZEFjdGlvbihlbGVtZW50LCBsaXN0ZW5LZXksIHRydWVBY3Rpb24sIGZhbHNlQWN0aW9uKSB7CiAgICAgICAgJChlbGVtZW50KS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxldCBzdGF0dXMgPSBuZXcgQ29uZmlnKCkuZ2V0KGxpc3RlbktleSwgdHJ1ZSk7CiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIlN0YXR1czogIiArIHN0YXR1cyk7CiAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICJ0cnVlIiB8fCBzdGF0dXMpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIktleSBzZXQ6ICIgKyBsaXN0ZW5LZXkgKyAiIDo6ICIgKyBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KGxpc3RlbktleSwgZmFsc2UpOwogICAgICAgICAgICAgICAgZmFsc2VBY3Rpb24oKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoIktleSBzZXQ6ICIgKyBsaXN0ZW5LZXkgKyAiIDo6ICIgKyB0cnVlKTsKICAgICAgICAgICAgICAgIG5ldyBDb25maWcoKS5zZXQobGlzdGVuS2V5LCB0cnVlKTsKICAgICAgICAgICAgICAgIHRydWVBY3Rpb24oKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9CnZhciBjb25maWcgPSBuZXcgQ29uZmlnKCk7CnZhciBwcm9ncmVzcyA9IDA7CmNsYXNzIFByb2dyZXNzIHsKICAgIGluaXQoKSB7CiAgICAgICAgcHJvZ3Jlc3MgPSAwOwogICAgICAgIE5Qcm9ncmVzcy5zdGFydCgpOwogICAgICAgICQoIiNncmVlbmVyUHJvZ3Jlc3MiKS50ZXh0KCLnu7/ljJbkuK0uLi4iKTsKICAgICAgICAkKCIudG9vbGJhci1zZWFyY2giKS5oaWRlKCk7CiAgICB9CgogICAgc2V0UHJvZ3Jlc3MocCkgewogICAgICAgIHByb2dyZXNzID0gcDsKICAgICAgICAkKCIjZ3JlZW5lclByb2dyZXNzIikudGV4dChwcm9ncmVzcyArICIlIik7CiAgICAgICAgTlByb2dyZXNzLnNldChwcm9ncmVzcyAvIDEwMCk7CiAgICAgICAgY29uc29sZS5sb2cocHJvZ3Jlc3MgKyAiJSIpOwogICAgfQoKICAgIGluY1Byb2dyZXNzKHApIHsKICAgICAgICBwcm9ncmVzcyA9IHByb2dyZXNzICsgcDsKICAgICAgICBwcm9ncmVzcyA9IHByb2dyZXNzID4gMTAwID8gMTAwIDogcHJvZ3Jlc3M7CiAgICAgICAgJCgiI2dyZWVuZXJQcm9ncmVzcyIpLnRleHQocHJvZ3Jlc3MgKyAiJSIpOwogICAgICAgIE5Qcm9ncmVzcy5zZXQocHJvZ3Jlc3MgLyAxMDApOwogICAgICAgIGNvbnNvbGUubG9nKHByb2dyZXNzICsgIiUiKTsKICAgIH0KCiAgICBkb25lKCkgewogICAgICAgIHByb2dyZXNzID0gMTAwOwogICAgICAgIE5Qcm9ncmVzcy5kb25lKCk7CiAgICAgICAgJCgiI2dyZWVuZXJQcm9ncmVzcyIpLmh0bWwocHJvdGVjdF9zdmcgKyAnIENTRE5HcmVlbmVyIOato+WcqOWuiOaKpOaCqOeahOa1j+iniOS9k+mqjCcpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICQoIiNncmVlbmVyUHJvZ3Jlc3MiKS5mYWRlT3V0KDUwMCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAkKCIudG9vbGJhci1zZWFyY2giKS5mYWRlSW4oNTAwKTsKICAgICAgICAgICAgICAgIGlmICghaXNGaXJlZm94KCkpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLoKICAgICAgICAgICAgICAgICAgICBsZXQgdGlwc0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNob3dUaXAiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICBpZiAodGlwc0Nvb2tpZSkgewogICAgICAgICAgICAgICAgICAgICAgICBzaG93VGlwcygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjb25maWcuc2V0KCJzaG93VGlwIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0sIDE1MDApOwogICAgfQp9CnZhciBwcm9ncmVzc29yID0gbmV3IFByb2dyZXNzKCk7CgovLyDoh6rlrprkuYkgQ1NTCi8vIOi/m+W6puadoQokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+I25wcm9ncmVzc3twb2ludGVyLWV2ZW50czpub25lfSNucHJvZ3Jlc3MgLmJhcntiYWNrZ3JvdW5kOiNmNDQ0NDQ7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDMxO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoycHh9I25wcm9ncmVzcyAucGVne2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt3aWR0aDoxMDBweDtoZWlnaHQ6MTAwJTtib3gtc2hhZG93OjAgMCAxMHB4ICNmNDQ0NDQsMCAwIDVweCAjZjQ0NDQ0O29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoM2RlZykgdHJhbnNsYXRlKDAsLTRweCk7LW1zLXRyYW5zZm9ybTpyb3RhdGUoM2RlZykgdHJhbnNsYXRlKDAsLTRweCk7dHJhbnNmb3JtOnJvdGF0ZSgzZGVnKSB0cmFuc2xhdGUoMCwtNHB4KX0jbnByb2dyZXNzIC5zcGlubmVye2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246Zml4ZWQ7ei1pbmRleDoxMDMxO3RvcDoxNXB4O3JpZ2h0OjE1cHh9I25wcm9ncmVzcyAuc3Bpbm5lci1pY29ue3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHg7Ym94LXNpemluZzpib3JkZXItYm94O2JvcmRlcjpzb2xpZCAycHggdHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcC1jb2xvcjojZjQ0NDQ0O2JvcmRlci1sZWZ0LWNvbG9yOiNmNDQ0NDQ7Ym9yZGVyLXJhZGl1czo1MCU7LXdlYmtpdC1hbmltYXRpb246bnByb2dyZXNzLXNwaW5uZXIgLjRzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246bnByb2dyZXNzLXNwaW5uZXIgLjRzIGxpbmVhciBpbmZpbml0ZX0ubnByb2dyZXNzLWN1c3RvbS1wYXJlbnR7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlfS5ucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCAjbnByb2dyZXNzIC5iYXIsLm5wcm9ncmVzcy1jdXN0b20tcGFyZW50ICNucHJvZ3Jlc3MgLnNwaW5uZXJ7cG9zaXRpb246YWJzb2x1dGV9QC13ZWJraXQta2V5ZnJhbWVzIG5wcm9ncmVzcy1zcGlubmVyezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwKX0xMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIG5wcm9ncmVzcy1zcGlubmVyezAle3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fTwvc3R5bGU+Iik7Ci8vIOiuvue9rueql+WPowokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LmJsYWNrX292ZXJsYXl7dG9wOjAlO2xlZnQ6MCU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7ei1pbmRleDoxMDAxOy1tb3otb3BhY2l0eTowLjg7b3BhY2l0eTouMTA7ZmlsdGVyOmFscGhhKG9wYWNpdHk9ODgpfS5ibGFja19vdmVybGF5LC53aGl0ZV9jb250ZW50e2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZX0ud2hpdGVfY29udGVudHt6LWluZGV4Ojk5OTkhaW1wb3J0YW50O3RvcDoyNSU7bGVmdDoyNSU7d2lkdGg6NjUwcHg7aGVpZ2h0OjYwJTtwYWRkaW5nOjIwcHg7Ym9yZGVyOjBweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsMC45KTt6LWluZGV4OjEwMDI7b3ZlcmZsb3c6YXV0b308L3N0eWxlPiIpOwovLyDmj5DnpLrmnaEKJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi50cmlwc2NvbntwYWRkaW5nOjEwcHh9PC9zdHlsZT4iKTsKLy8g5oyJ6ZKu77yI5pen77yJCiQoJ2hlYWQnKS5hcHBlbmQoIjxzdHlsZT4jdG9nZ2xlLWJ1dHRvbntkaXNwbGF5Om5vbmV9LmJ1dHRvbi1sYWJlbHtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDo4MnB4O2JhY2tncm91bmQtY29sb3I6I2NjYztib3JkZXI6MXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJhZGl1czozMHB4O2N1cnNvcjpwb2ludGVyfS5jaXJjbGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjMwcHg7aGVpZ2h0OjMwcHg7Ym9yZGVyLXJhZGl1czo1MCU7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5idXR0b24tbGFiZWwgLnRleHR7bGluZS1oZWlnaHQ6MzBweDtmb250LXNpemU6MThweDstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ub257Y29sb3I6I2ZmZjtkaXNwbGF5Om5vbmU7dGV4dC1pbmRlbnQ6MTBweH0ub2Zme2NvbG9yOiNmZmY7ZGlzcGxheTppbmxpbmUtYmxvY2s7dGV4dC1pbmRlbnQ6NTNweH0uYnV0dG9uLWxhYmVsIC5jaXJjbGV7bGVmdDowO3RyYW5zaXRpb246YWxsIC4zc30jdG9nZ2xlLWJ1dHRvbjpjaGVja2VkK2xhYmVsLmJ1dHRvbi1sYWJlbCAuY2lyY2xle2xlZnQ6NTBweH0jdG9nZ2xlLWJ1dHRvbjpjaGVja2VkK2xhYmVsLmJ1dHRvbi1sYWJlbCAub257ZGlzcGxheTppbmxpbmUtYmxvY2t9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWwgLm9mZntkaXNwbGF5Om5vbmV9I3RvZ2dsZS1idXR0b246Y2hlY2tlZCtsYWJlbC5idXR0b24tbGFiZWx7YmFja2dyb3VuZC1jb2xvcjojNzhkNjkwfTwvc3R5bGU+Iik7Ci8vIOS/neWtmOaMiemSrgokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LnNhdmVCdXR0b257YmFja2dyb3VuZC1jb2xvcjojMTlhNGVkO2JvcmRlcjpub25lO2NvbG9yOiNmZmY7cGFkZGluZzo1cHggMTVweDt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZTtkaXNwbGF5OmlubGluZS1ibG9jaztmb250LXNpemU6MTRweDtjdXJzb3I6cG9pbnRlcn08L3N0eWxlPiIpOwovLyBTdGFyIOagt+W8jwokKCdoZWFkJykuYXBwZW5kKCI8c3R5bGU+LmdpdmVNZU9uZVN0YXI6aG92ZXJ7Y29sb3I6I0ZGNjlCNDt9PC9zdHlsZT4iKTsKLy8g6K6+572u56qX5Y+j5paH5a2X5pWI5p6cCmlmIChpc0ZpcmVmb3goKSkgewogICAgJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi5jb25maWdDb250YWluZXIgbGFiZWx7Zm9udC1zaXplOjE1cHh9LmNvbmZpZ0NvbnRhaW5lciBwe2ZvbnQtc2l6ZToxNXB4fS5naXZlTWVPbmVTdGFye2ZvbnQtc2l6ZToxNXB4fS5jb25maWdDb250YWluZXIgLnRpdGxle2ZvbnQtc2l6ZToyMHB4fS5jb25maWdDb250YWluZXIgLmJvbGR7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjVweH08L3N0eWxlPiIpOwp9IGVsc2UgewogICAgJCgnaGVhZCcpLmFwcGVuZCgiPHN0eWxlPi5jb25maWdDb250YWluZXIgbGFiZWx7Zm9udC1zaXplOjEycHh9LmNvbmZpZ0NvbnRhaW5lciBwe2ZvbnQtc2l6ZToxMnB4fS5naXZlTWVPbmVTdGFye2ZvbnQtc2l6ZToxNXB4fS5jb25maWdDb250YWluZXIgLnRpdGxle2ZvbnQtc2l6ZToyMHB4fS5jb25maWdDb250YWluZXIgLmJvbGR7Zm9udC13ZWlnaHQ6Ym9sZDttYXJnaW4tYm90dG9tOjVweH08L3N0eWxlPiIpOwp9Ci8vIFNWRwovL3ZhciBzYXZlX3N2ZyA9ICc8c3ZnIHQ9IjE1OTUwODI2NTAxNzMiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTA3NSAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMjA3OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik03NTMuNzYzOTAyIDY4NS44MzAyNDRhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTItNDguNzAyNDM5YzgxLjQyMDQ4OCAwIDE0MS4xNjIxNDYtNjUuMzg2MTQ2IDE0MS4xNjIxNDctMTQ2LjA1NzM2NiAwLTQzLjUwNzUxMi0xMy4wMzcyNjgtODIuNDE5NTEyLTQzLjQ1NzU2MS0xMDkuMjQzMzE3YTE0Mi4zNjA5NzYgMTQyLjM2MDk3NiAwIDAgMC0yMC4yODAxOTUtMTQuOTM1NDE1IDE1OC4wNDU2NTkgMTU4LjA0NTY1OSAwIDAgMC0xMS4yMzkwMjUtNi4yNDM5MDJsLTIuNzQ3MzE3LTEuMjk4NzMyYTE1NS44NDc4MDUgMTU1Ljg0NzgwNSAwIDAgMC05LjE5MTAyNC0zLjk5NjA5N2MtMS4zNDg2ODMtMC41NDk0NjMtMi42OTczNjYtMC45OTkwMjQtNC4wOTYtMS40OTg1MzdhMTUyLjM1MTIyIDE1Mi4zNTEyMiAwIDAgMC04LjQ5MTcwNy0yLjg0NzIxOWMtMS45NDgwOTgtMC41OTk0MTUtMy44OTYxOTUtMC45OTkwMjQtNS44NDQyOTMtMS40OTg1MzctMi40OTc1NjEtMC41OTk0MTUtNC45NDUxNzEtMS4yNDg3OC03LjQ5MjY4My0xLjc0ODI5My0yLjU5NzQ2My0wLjQ5OTUxMi01LjM0NDc4LTAuODk5MTIyLTguMDQyMTQ2LTEuMjQ4NzgtMS45NDgwOTgtMC4yNDk3NTYtMy44NDYyNDQtMC41OTk0MTUtNS44NDQyOTMtMC43OTkyMmExNTMuMTUwNDM5IDE1My4xNTA0MzkgMCAwIDAtMTQuNDM1OTAzLTAuNzQ5MjY4Yy0xLjQ5ODUzNyAwLTIuOTk3MDczIDAuMTk5ODA1LTQuNTQ1NTYxIDAuMjQ5NzU2YTI2NS4zOTA4MjkgMjY1LjM5MDgyOSAwIDAgMC01LjU5NDUzNi0yNC41MjYwNDljLTAuNDk5NTEyLTEuOTk4MDQ5LTEuMjk4NzMyLTMuODQ2MjQ0LTEuODk4MTQ2LTUuODQ0MjkyYTI2Ny40Mzg4MjkgMjY3LjQzODgyOSAwIDAgMC01Ljk0NDE5Ni0xNy45ODI0MzljLTAuNjQ5MzY2LTEuNzk4MjQ0LTEuNDk4NTM3LTMuNDk2NTg1LTIuMTk3ODUzLTUuMjk0ODNhMjgzLjEyMzUxMiAyODMuMTIzNTEyIDAgMCAwLTcuNzQyNDM5LTE3LjczMjY4M0w3NzIuNzQ1MzY2IDI2OS43MzY1ODVhMjgyLjk3MzY1OSAyODIuOTczNjU5IDAgMCAwLTkuNzkwNDM5LTE3LjgzMjU4NUM3MTQuMzAyNDM5IDE3MS41ODI0MzkgNjI1Ljg4ODc4IDEyNC44NzgwNDkgNTI0LjQ4NzgwNSAxMjQuODc4MDQ5Yy0xMDEuNDAwOTc2IDAtMTg5LjkxNDUzNyA0Ni42NTQ0MzktMjM4LjUxNzA3MyAxMjYuOTc2LTMuNDk2NTg1IDUuNzk0MzQxLTYuNjkzNDYzIDExLjc4ODQ4OC05Ljc5MDQzOSAxNy44MzI1ODVsLTIuMTk3ODU0IDQuMDk2YTI4My41MjMxMjIgMjgzLjUyMzEyMiAwIDAgMC03Ljc0MjQzOSAxNy43MzI2ODNsLTIuMTk3ODU0IDUuMjQ0ODc4Yy0yLjI0NzgwNSA1Ljg5NDI0NC00LjE0NTk1MSAxMS45ODgyOTMtNS45OTQxNDYgMTguMDMyMzktMC41NDk0NjMgMS45OTgwNDktMS4yOTg3MzIgMy44NDYyNDQtMS44NDgxOTUgNS44NDQyOTNhMjY2LjczOTUxMiAyNjYuNzM5NTEyIDAgMCAwLTUuNTk0NTM3IDI0LjQ3NjA5OGMtMS40OTg1MzcgMC0yLjk5NzA3My0wLjE5OTgwNS00LjU0NTU2MS0wLjE5OTgwNS00Ljg5NTIyIDAtOS42OTA1MzcgMC4yOTk3MDctMTQuNDg1ODUzIDAuNzQ5MjY4LTEuOTk4MDQ5IDAuMTk5ODA1LTMuODQ2MjQ0IDAuNDk5NTEyLTUuNzk0MzQyIDAuNzk5MjItMi42OTczNjYgMC4zNDk2NTktNS40NDQ2ODMgMC42OTkzMTctOC4wOTIwOTcgMS4yNDg3OC0yLjQ5NzU2MSAwLjQ5OTUxMi00Ljk5NTEyMiAxLjE0ODg3OC03LjQ5MjY4MyAxLjc0ODI5My0xLjg5ODE0NiAwLjQ5OTUxMi0zLjg0NjI0NCAwLjg5OTEyMi01Ljc5NDM0MiAxLjQ5ODUzNmExNTMuNjQ5OTUxIDE1My42NDk5NTEgMCAwIDAtOC40OTE3MDcgMi43OTcyNjlsLTQuMDk2IDEuNDk4NTM2YTE2NC4yODk1NjEgMTY0LjI4OTU2MSAwIDAgMC05LjI0MDk3NiAzLjk5NjA5OGwtMi42OTczNjYgMS4zNDg2ODNhMTQ1LjU1Nzg1NCAxNDUuNTU3ODU0IDAgMCAwLTMxLjQ2OTI2OCAyMS4xNzkzMTdDMTE3Ljg4NDg3OCA0MDguNjAwOTc2IDEwNC44OTc1NjEgNDQ3LjU2MjkyNyAxMDQuODk3NTYxIDQ5MS4wNzA0MzljMCA4MC42NzEyMiA1OS43NDE2NTkgMTQ2LjA1NzM2NiAxNDEuMTYyMTQ2IDE0Ni4wNTczNjZhNDguOTUyMTk1IDQ4Ljk1MjE5NSAwIDAgMSA0OS4xNTIgNDguNzAyNDM5IDQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTUyIDQ4LjcwMjQzOWMtMTM1LjcxNzQ2MyAwLTI0NS43MTAwNDktMTA4Ljk5MzU2MS0yNDUuNzEwMDQ4LTI0My40NjIyNDQgMC0xMDkuNjkyODc4IDczLjIyODQ4OC0yMDIuNDAyMzQxIDE3My44MzAyNDMtMjMyLjg3MjU4NUEzNzUuODMyOTc2IDM3NS44MzI5NzYgMCAwIDEgNTI0LjQ4NzgwNSAyMC4zMzAxNDZhMzc1Ljg4MjkyNyAzNzUuODgyOTI3IDAgMCAxIDM1MC4zMDc5MDIgMjM3Ljg2NzcwOGMxMDAuNjAxNzU2IDMwLjQ3MDI0NCAxNzMuODMwMjQ0IDEyMy4xNzk3MDcgMTczLjgzMDI0NCAyMzIuODcyNTg1IDAgMTM0LjQ2ODY4My0xMDkuOTkyNTg1IDI0My40NjIyNDQtMjQ1LjcxMDA0OSAyNDMuNDYyMjQ0YTQ4Ljk1MjE5NSA0OC45NTIxOTUgMCAwIDEtNDkuMTAyMDQ4LTQ4LjcwMjQzOXoiIHAtaWQ9IjIwNzkiPjwvcGF0aD48cGF0aCBkPSJNNDg3Ljk3MzQ2MyAzODYuMTIyOTI3YTQ5LjEwMjA0OSA0OS4xMDIwNDkgMCAwIDEgNzIuOTI4NzgxIDAuMDk5OTAybDE0Ny4zNTYwOTcgMTYyLjA0MTc1NmM2Ljk5MzE3MSA3Ljc0MjQzOSAxMS40ODg3OCAxOS40MzEwMjQgMTIuNTM3NzU3IDMwLjEyMDU4NmwwLjI0OTc1NiAxMi45MzczNjZjMCAxOS40ODA5NzYtMjAuNDggMzkuNjYxMjY4LTM5LjIxMTcwOCAzOS42NjEyNjhoLTEwNC44OTc1NjF2MjYyLjk5MzE3MWE1Mi40NDg3OCA1Mi40NDg3OCAwIDEgMS0xMDQuODk3NTYxIDB2LTI2Mi45OTMxNzFoLTEwNC44OTc1NjFjLTEzLjg4NjQzOSAwLTM5LjIxMTcwNy0yMS43Mjg3OC0zOS4yMTE3MDctMzkuNjYxMjY4di0xMi45ODczMTdjMC0xMi40ODc4MDUgNC43OTUzMTctMjEuMjc5MjIgMTIuNjM3NjU5LTI5LjkyMDc4MWwxNDcuMzU2MDk3LTE2Mi4yOTE1MTJ6IiBwLWlkPSIyMDgwIj48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzEgPSAnPHN2ZyB0PSIxNTk1MDgzNjMxNjg1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwNTEgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIxNzMiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTI1LjgzNzgzOCA4NTIuNDEwODExTDE5OS4yNjQ4NjUgMTAwMS44NTk0NTlsNDEuNTEzNTEzLTM1Ny4wMTYyMTZMMCAzODEuOTI0MzI0bDM1MS40ODEwODEtNjkuMTg5MTg5TDUyNS44Mzc4MzggMGwxNzQuMzU2NzU3IDMxMi43MzUxMzVMMTA1MS42NzU2NzYgMzgxLjkyNDMyNGwtMjQwLjc3ODM3OSAyNjIuOTE4OTE5IDQxLjUxMzUxNCAzNTcuMDE2MjE2eiIgZmlsbD0iI0ZGRDU2NiIgcC1pZD0iMjE3NCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2Z18yID0gJyA8c3ZnIHQ9IjE1OTUwODM3MTUzMTIiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iNzg0OCIgd2lkdGg9IjE0MCIgaGVpZ2h0PSIxNDAiPjxwYXRoIGQ9Ik0xMDE0LjAwMTM0NyA4NjYuMDkwMjM2TDgxMC4yMzU2OSA2NjIuMzI0NTc5bDE0NS40OTc2NDMtODQuMTI2NTk5YzExLjM3Nzc3OC02LjU1MDg0MiAxNy45Mjg2Mi0xOC45NjI5NjMgMTYuODk0Mjc2LTMyLjA2NDY0Ny0xLjAzNDM0My0xMy4xMDE2ODQtOS4zMDkwOTEtMjQuNDc5NDYxLTIxLjM3NjQzMS0yOS4zMDYzOTdsLTY0OC4xODg1NTItMjU4LjU4NTg1OWMtMTIuNzU2OTAyLTUuMTcxNzE3LTI3LjIzNzcxLTIuMDY4Njg3LTM2Ljg5MTU4MiA3LjU4NTE4Ni05LjY1Mzg3MiA5LjY1Mzg3Mi0xMi43NTY5MDIgMjQuMTM0NjgtNy41ODUxODUgMzYuODkxNTgybDI1OC41ODU4NTggNjQ4LjUzMzMzM2M0LjgyNjkzNiAxMi4wNjczNCAxNi4yMDQ3MTQgMjAuNjg2ODY5IDI5LjMwNjM5NyAyMS4zNzY0MzEgMTMuMTAxNjg0IDEuMDM0MzQzIDI1LjUxMzgwNS01LjUxNjQ5OCAzMi4wNjQ2NDctMTYuODk0Mjc2bDg0LjEyNjU5OS0xNDUuNDk3NjQzIDIwMy43NjU2NTcgMjAzLjc2NTY1N2M2LjU1MDg0MiA2LjU1MDg0MiAxNS4xNzAzNyA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1MyA4Ljk2NDMxIDAgMTcuOTI4NjItMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsOTkuMjk2OTctOTkuMjk2OTdjMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAxMy40NDY0NjUtMzUuMTY3Njc3IDAtNDguNjE0MTQxek0xNTAuMzI0NTc5IDEwMi4wNTUyMTljLTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwLTEzLjQ0NjQ2NSAxMy40NDY0NjUtMTMuNDQ2NDY1IDM1LjE2NzY3NyAwIDQ4LjI2OTM2bDc2LjE5NjYzMyA3Ni4xOTY2MzNjNi41NTA4NDIgNi41NTA4NDIgMTUuNTE1MTUyIDkuOTk4NjUzIDI0LjEzNDY4IDkuOTk4NjUzczE3LjU4MzgzOC0zLjQ0NzgxMSAyNC4xMzQ2OC05Ljk5ODY1M2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNkwxNTAuMzI0NTc5IDEwMi4wNTUyMTl6TTE3Ni4xODMxNjUgMzM4LjU3NTA4NGMwLTE4Ljk2Mjk2My0xNS4xNzAzNy0zNC4xMzMzMzMtMzQuMTMzMzMzLTM0LjEzMzMzM0gzNC4xMzMzMzNjLTE4Ljk2Mjk2MyAwLTM0LjEzMzMzMyAxNS4xNzAzNy0zNC4xMzMzMzMgMzQuMTMzMzMzczE1LjE3MDM3IDM0LjEzMzMzMyAzNC4xMzMzMzMgMzQuMTMzMzM0aDEwNy41NzE3MThjMTguOTYyOTYzIDAgMzQuNDc4MTE0LTE1LjE3MDM3IDM0LjQ3ODExNC0zNC4xMzMzMzR6TTE2Mi4zOTE5MTkgNDQ0LjQyMjg5NmwtNzYuMTk2NjMzIDc1Ljg1MTg1MWMtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0xMy40NDY0NjUgMzUuMTY3Njc3IDAgNDguMjY5MzYxIDYuNTUwODQyIDYuNTUwODQyIDE1LjUxNTE1MiA5Ljk5ODY1MyAyNC4xMzQ2OCA5Ljk5ODY1M3MxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTNsNzYuMTk2NjMzLTc2LjE5NjYzM2MxMy40NDY0NjUtMTMuNDQ2NDY1IDEzLjQ0NjQ2NS0zNS4xNjc2NzcgMC00OC4yNjkzNjEtMTMuNDQ2NDY1LTEzLjEwMTY4NC0zNS4xNjc2NzctMTMuMTAxNjg0LTQ4LjI2OTM2IDAuMzQ0Nzgyek0zMzguNTc1MDg0IDE3Ni4xODMxNjVjMTguOTYyOTYzIDAgMzQuMTMzMzMzLTE1LjE3MDM3IDM0LjEzMzMzNC0zNC4xMzMzMzNWMzQuMTMzMzMzYzAtMTguOTYyOTYzLTE1LjE3MDM3LTM0LjEzMzMzMy0zNC4xMzMzMzQtMzQuMTMzMzMzcy0zNC4xMzMzMzMgMTUuMTcwMzctMzQuMTMzMzMzIDM0LjEzMzMzM3YxMDcuNTcxNzE4YzAgMTguOTYyOTYzIDE1LjE3MDM3IDM0LjQ3ODExNCAzNC4xMzMzMzMgMzQuNDc4MTE0ek00NjguNTU3NTc2IDIyMC42NTk5MzNjOC42MTk1MjkgMCAxNy41ODM4MzgtMy40NDc4MTEgMjQuMTM0NjgtOS45OTg2NTRMNTY4Ljg4ODg4OSAxMzQuNDY0NjQ2YzEzLjQ0NjQ2NS0xMy40NDY0NjUgMTMuNDQ2NDY1LTM1LjE2NzY3NyAwLTQ4LjI2OTM2LTEzLjQ0NjQ2NS0xMy40NDY0NjUtMzUuMTY3Njc3LTEzLjQ0NjQ2NS00OC4yNjkzNiAwbC03Ni4xOTY2MzMgNzYuMTk2NjMzYy0xMy40NDY0NjUgMTMuNDQ2NDY1LTEzLjQ0NjQ2NSAzNS4xNjc2NzcgMCA0OC4yNjkzNiA2LjU1MDg0MiA2LjU1MDg0MiAxNS41MTUxNTIgOS45OTg2NTMgMjQuMTM0NjggOS45OTg2NTR6IiBmaWxsPSIjMmMyYzJjIiBwLWlkPSI3ODQ5Ij48L3BhdGg+PC9zdmc+JzsKdmFyIHN0YXJfc3ZnXzMgPSAnIDxzdmcgdD0iMTU5NTA4MzkyNTQzOCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMjA0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0ODA5IiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCI+PHBhdGggZD0iTTEwODguODY0MzQ4IDYxOC4xMzcwMWExNTU1LjAwOTM4NCAxNTU1LjAwOTM4NCAwIDAgMS0xNTAuMjczMDA0IDE2Ny4xMzczMDhjLTUyLjg4MTY0MiA1MS4xOTUyMTItMTA3LjkzMTU1MiAxMDEuMTg1ODMtMTYzLjY0Mzk4OSAxNDcuMjYxNTIxLTMzLjg0OTA2OSAyNy41MjQ5NTUtNjAuMjI5NjYxIDQ4LjY2NTU2Ni03Ni4xOTA1MjEgNjAuMjI5NjYxYTE2Mi45ODE0NjIgMTYyLjk4MTQ2MiAwIDAgMS0xOTEuODkxNjk5IDBjLTE1LjUzOTI1My0xMi4wNDU5MzItNDIuMTYwNzYzLTMyLjY0NDQ3Ni03Ni4xOTA1MjEtNjAuODMxOTU3YTI2MzguNDgwNzU0IDI2MzguNDgwNzU0IDAgMCAxLTE2NC4zNjY3NDUtMTQ3LjI2MTUyMSAxNTc5LjEwMTI0OSAxNTc5LjEwMTI0OSAwIDAgMS0xNTAuMjczMDA0LTE2NS44MTIyNTdBNDY4LjEwNDkyNCA0NjguMTA0OTI0IDAgMCAxIDAuMTUyOTk4IDM0NC43NTQ1NzkgMzE1LjU0MzE5MyAzMTUuNTQzMTkzIDAgMCAxIDEwOS4wNDgyMjUgOTYuMzY3NDU3YTM5OS40NDMxMTEgMzk5LjQ0MzExMSAwIDAgMSA0OTMuODgzMjE5LTIwLjQ3ODA4NCAzOTguNjYwMTI1IDM5OC42NjAxMjUgMCAwIDEgNDkzLjg4MzIxOSAyMC40NzgwODRBMzE1LjQ4Mjk2NCAzMTUuNDgyOTY0IDAgMCAxIDEyMDQuNzQ2MjE1IDM0My4zMDkwNjdhNDY2Ljg0MDEwMSA0NjYuODQwMTAxIDAgMCAxLTExNS43MDExNzggMjc0LjY0NzI1NHoiIGZpbGw9IiNGRTRCODMiIHAtaWQ9IjQ4MTAiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc3Rhcl9zdmdfNCA9ICcgPHN2ZyB0PSIxNTk1MDg0MDg5MTE1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjgwMDgiIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cGF0aCBkPSJNNTEyIDQ2LjU0NTQ1NUMyNTYgNDYuNTQ1NDU1IDQ2LjU0NTQ1NSAyNTYgNDYuNTQ1NDU1IDUxMnMyMDkuNDU0NTQ1IDQ2NS40NTQ1NDUgNDY1LjQ1NDU0NSA0NjUuNDU0NTQ1IDQ2NS40NTQ1NDUtMjA5LjQ1NDU0NSA0NjUuNDU0NTQ1LTQ2NS40NTQ1NDVTNzY4IDQ2LjU0NTQ1NSA1MTIgNDYuNTQ1NDU1eiBtMCA4MzcuODE4MTgxYy0yMDQuOCAwLTM3Mi4zNjM2MzYtMTY3LjU2MzYzNi0zNzIuMzYzNjM2LTM3Mi4zNjM2MzZzMTY3LjU2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzYtMzcyLjM2MzYzNiAzNzIuMzYzNjM2IDE2Ny41NjM2MzYgMzcyLjM2MzYzNiAzNzIuMzYzNjM2LTE2Ny41NjM2MzYgMzcyLjM2MzYzNi0zNzIuMzYzNjM2IDM3Mi4zNjM2MzZ6IiBmaWxsPSIjMDBDNUM1IiBwLWlkPSI4MDA5Ij48L3BhdGg+PHBhdGggZD0iTTY1Ni4yOTA5MDkgNTg2LjQ3MjcyN2MtNzkuMTI3MjczIDY5LjgxODE4Mi0yMDkuNDU0NTQ1IDY5LjgxODE4Mi0yODguNTgxODE4IDAtMTguNjE4MTgyLTEzLjk2MzYzNi00MS44OTA5MDktMTMuOTYzNjM2LTYwLjUwOTA5MSA0LjY1NDU0Ni0xMy45NjM2MzYgMTMuOTYzNjM2LTEzLjk2MzYzNiA0MS44OTA5MDkgNC42NTQ1NDUgNjAuNTA5MDkxIDU1Ljg1NDU0NSA1MS4yIDEyNS42NzI3MjcgNzQuNDcyNzI3IDIwMC4xNDU0NTUgNzQuNDcyNzI3czE0NC4yOTA5MDktMjcuOTI3MjczIDIwMC4xNDU0NTUtNzQuNDcyNzI3YzE4LjYxODE4Mi0xMy45NjM2MzYgMTguNjE4MTgyLTQxLjg5MDkwOSA0LjY1NDU0NS02MC41MDkwOTFzLTQxLjg5MDkwOS0xOC42MTgxODItNjAuNTA5MDkxLTQuNjU0NTQ2ek0zNTguNCA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01NS44NTQ1NDUtNTEuMi01NS44NTQ1NDVjLTI3LjkyNzI3MyAwLTUxLjIgMjMuMjcyNzI3LTUxLjIgNTEuMnMyMy4yNzI3MjcgNTUuODU0NTQ1IDUxLjIgNTUuODU0NTQ1ek02NjUuNiA0NjAuOGMyNy45MjcyNzMgMCA1MS4yLTIzLjI3MjcyNyA1MS4yLTUxLjJzLTIzLjI3MjcyNy01MS4yLTUxLjItNTEuMi01MS4yIDIzLjI3MjcyNy01MS4yIDUxLjIgMjMuMjcyNzI3IDUxLjIgNTEuMiA1MS4yeiIgZmlsbD0iIzAwQzVDNSIgcC1pZD0iODAxMCI+PC9wYXRoPjwvc3ZnPic7CnZhciBzdGFyX3N2ZyA9IHN0YXJfc3ZnXzEgKyBzdGFyX3N2Z18yICsgc3Rhcl9zdmdfMyArIHN0YXJfc3ZnXzQ7CnZhciBkb25hdGVfc3ZnID0gJzxzdmcgdD0iMTU5Mjk4MjUwODI1OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSI0MjA3IiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik02NjQuNDggMjM0LjQzMmEzMiAzMiAwIDAgMC00NS4yNDgtMC44bC03Ni4yNTYgNzMuNi03My4zNDQtNzMuMjE2YTMyIDMyIDAgMSAwLTQ1LjI0OCA0NS4zMTJsNzIuMzg0IDcyLjI1NmgtNDkuMjhhMzIgMzIgMCAwIDAgMCA2NGg2My43NzZ2MzJoLTYzLjc3NmEzMiAzMiAwIDAgMCAwIDY0aDYzLjc3NnY2NS42NjRhMzIgMzIgMCAxIDAgNjQgMHYtNjUuNjY0aDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC02NC4yODh2LTMyaDY0LjI4OGEzMiAzMiAwIDEgMCAwLTY0aC01MC4zNjhsNzQuNDY0LTcxLjg3MmEzMi4wMzIgMzIuMDMyIDAgMCAwIDAuODMyLTQ1LjI4eiBtMjc1LjIgNTAzLjU1MmE5MDE3LjU2OCA5MDE3LjU2OCAwIDAgMC0xNDEuNjY0LTU2LjczNiAzNjguNTEyIDM2OC41MTIgMCAwIDAgOTcuNTY4LTI0OC42MDhjMC0yMDIuOTEyLTE2NS4xMi0zNjgtMzY4LjA2NC0zNjhzLTM2OCAxNjUuMDg4LTM2OCAzNjhjMCAxNi4yMjQgMS4wMjQgMzIuMzUyIDMuMDcyIDQ3Ljk2OCAyLjMwNCAxNy41MDQgMTguNDk2IDI5LjY2NCAzNS45MDQgMjcuNTg0YTMyIDMyIDAgMCAwIDI3LjU4NC0zNS45MDQgMzA0LjUxMiAzMDQuNTEyIDAgMCAxLTIuNTYtMzkuNjQ4YzAtMTY3LjYxNiAxMzYuMzg0LTMwNCAzMDQtMzA0IDE2Ny42NDggMCAzMDQuMDY0IDEzNi4zODQgMzA0LjA2NCAzMDRhMzAwLjU0NCAzMDAuNTQ0IDAgMCAxLTk2LjEyOCAyMjEuNDcyYy0wLjc2OCAwLjczNi0xLjA4OCAxLjc2LTEuODI0IDIuNTI4LTQyLjg0OC0xNS45MzYtNzkuMzI4LTI4LjQ4LTkzLjc2LTMwLjY1Ni0yNC44OTYtMy45MDQtNDguNjcyIDcuNjE2LTYzLjEwNCAyOC44OTYtMTIuMDMyIDE3Ljc5Mi0xNS4wNzIgMzguODE2LTguMDk2IDU2LjI1NiA0LjI4OCAxMC42NTYgMjAuNTEyIDMyLjg5NiAzOS43NzYgNTcuMjgtNDYuNDMyLTAuMDY0LTExNy4zMTItNi4zMzYtMTkyLjgzMi0zNS40ODgtMzEuMjY0LTEyLjA2NC02OS40NC01Mi42NC0xMDMuMTM2LTg4LjQxNi00Ny45NjgtNTAuOTc2LTkzLjI4LTk5LjEwNC0xNDIuNTYtOTkuMTA0LTE4LjMzNiAwLTM1Ljc0NCA2Ljg0OC01MC4zMzYgMTkuNzc2LTE4LjI0IDE2LjIyNC0zNS4xMzYgNDguMzItMTIgMTA5LjI0OCA0Mi42MjQgMTEyLjE2IDIwOC41NDQgMjg1LjEyIDM0MS43MjggMjg1LjEyaDQ3OC4xNDRhMzIgMzIgMCAwIDAgMzItMzJ2LTE2MGEzMS44NCAzMS44NCAwIDAgMC0xOS43NzYtMjkuNTY4eiBtLTQ0LjE2IDE1Ny42aC00NDUuMTJsLTEuMDI0IDMydi0zMmMtOTcuNiAwLTI0Ny4wNzItMTUyLjEyOC0yODEuOTItMjQzLjg3Mi0xMC4xMTItMjYuNjU2LTYuNzItMzcuNDA4LTUuMzQ0LTM4LjYyNCA0LjEyOC0zLjY0OCA2LjUyOC0zLjY0OCA3Ljg0LTMuNjQ4IDIxLjYzMiAwIDY0LjYwOCA0NS42MzIgOTUuOTY4IDc4Ljk0NCA0MC4yMjQgNDIuNzUyIDgxLjg1NiA4Ni45NDQgMTI2LjY1NiAxMDQuMjU2IDg1LjIxNiAzMi44OTYgMTY0Ljg5NiAzOS44MDggMjE2LjczNiAzOS44MDggNDEuMzc2IDAgNjcuNTg0LTQuMzUyIDY4LjY3Mi00LjU0NGEzMiAzMiAwIDAgMCAxOS4xMzYtNTIuMTZjLTI3LjAwOC0zMi4wOTYtNTguNTkyLTcxLjgwOC02Ny4yOTYtODUuMzQ0IDAuMjg4LTAuNTc2IDAuNTEyLTEuMDI0IDAuMzUyLTEuMTUyIDIyLjg0OCAzLjQ4OCAxNjIuNDMyIDU3Ljk1MiAyNjUuMjggOTkuODR2MTA2LjQ5NnoiIHAtaWQ9IjQyMDgiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2V0X3N2ZyA9ICc8c3ZnIHQ9IjE1OTI5ODI5NzAzNzUiIGNsYXNzPSJpY29uIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgcC1pZD0iMTAxMTIiIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PHBhdGggZD0iTTI1NiAxMDIuNGg1MTJsMjU2IDI1Ni01MTIgNTYzLjJMMCAzNTguNHoiIGZpbGw9IiMyNkNENjMiIHAtaWQ9IjEwMTEzIj48L3BhdGg+PHBhdGggZD0iTTI1NiAxMDIuNGwyNTYgMjU2SDB6TTc2OCAxMDIuNGwyNTYgMjU2SDUxMnpNNTEyIDkyMS42bDIwNC44LTU2My4ySDMwNy4yeiIgZmlsbD0iIzE0QTM0NSIgcC1pZD0iMTAxMTQiPjwvcGF0aD48L3N2Zz4nOwp2YXIgc2F2ZV9zdmcgPSAnPHN2ZyB0PSIxNjI5NDQ4NTg4MzUxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijc4NDkiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNTEyIDBDMjI5LjIgMCAwIDIyOS4yIDAgNTEyczIyOS4yIDUxMiA1MTIgNTEyIDUxMi0yMjkuMiA1MTItNTEyUzc5NC44IDAgNTEyIDB6IG0wIDk0NS4yQzI3My4xIDk0NS4yIDc4LjggNzUwLjkgNzguOCA1MTJTMjczLjEgNzguOCA1MTIgNzguOCA5NDUuMiAyNzMuMSA5NDUuMiA1MTIgNzUwLjkgOTQ1LjIgNTEyIDk0NS4yeiIgcC1pZD0iNzg1MCIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjxwYXRoIGQ9Ik02ODAuOSAzNTkuNEw0NjEgNTgyLjMgMzQxLjYgNDczLjZjLTE2LTE0LjYtNDEtMTMuNC01NS42IDIuNi0xNC43IDE2LjEtMTMuNSA0MSAyLjYgNTUuNkw0MzYgNjY2LjFjNy41IDYuOCAxNyAxMC4yIDI2LjUgMTAuMiAxMC4yIDAgMjAuMy0zLjkgMjgtMTEuN0w3MzcgNDE0LjdjMTUuMy0xNS41IDE1LjEtNDAuNC0wLjQtNTUuNy0xNS41LTE1LjItNDAuNS0xNS4xLTU1LjcgMC40eiIgcC1pZD0iNzg1MSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPic7CnZhciBzZXR0aW5nc19zdmcgPSAnPHN2ZyB0PSIxNjI5NDMzMzYwNDYyIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI4NzAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4Yy0wLjAzMiAwLTQzMC40My0xMTIuOTY2LTc4MC40NSAyMzcuMDIyLTI4OC45OSAyODkuMDA4LTMzLjUyMiA1NzYuOTY2LTMzLjUyMiA1NzYuOTY2czI4Ny45NTggMjU1LjQ4NCA1NzYuOTUyLTMzLjU1QzExMTkuNDM2IDQ0OC4wMTIgMTAwNi40NjggMTcuNjEyIDEwMDYuNDM4IDE3LjU0OHoiIGZpbGw9IiM5RUQzNkEiIHAtaWQ9IjI4NzEiPjwvcGF0aD48cGF0aCBkPSJNMTAwNi40MzggMTcuNTQ4bC00Mi42NzQtOC4yMTZjMC4wMzIgMC4wNjIgMTEyLjk5OCA0MzguNjc4LTIzNi45OSA3ODguNjUyLTk2LjM0NCA5Ni40MDYtMTkyLjU5OCAxMzIuMjA4LTI3OC4xMDQgMTM3LjE0NCA5NS40MSA1LjUgMjA4LTI0LjM2OCAzMjAuNzQ4LTEzNy4xNDRDMTExOS40MzYgNDQ4LjAxMiAxMDA2LjQ2OCAxNy42MTIgMTAwNi40MzggMTcuNTQ4eiIgZmlsbD0iI0ZGRkZGRiIgb3BhY2l0eT0iLjIiIHAtaWQ9IjI4NzIiPjwvcGF0aD48cGF0aCBkPSJNNjAwLjQwNiA0MjMuNjEyYy04LjMwOC04LjM0LTIxLjgzNi04LjM0LTMwLjE0OCAwTDYuNCA5ODcuNDI2Yy04LjMyNiA4LjM3Mi04LjMyNiAyMS44NjggMCAzMC4xOCA4LjMyNiA4LjMwOCAyMS44MjIgOC4zMDggMzAuMTYyIDBMNjAwLjQwNiA0NTMuNzZjOC4zNC04LjM0MiA4LjM0LTIxLjgzOCAwLTMwLjE0OHoiIGZpbGw9IiM4QUMwNTQiIHAtaWQ9IjI4NzMiPjwvcGF0aD48L3N2Zz4nOwp2YXIgcHJvdGVjdF9zdmcgPSAnPHN2ZyB0PSIxNjI5NTYwNTM4ODA1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMyMTIiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNODAwLjMgMjA1LjFMNTM0LjggMTE2Yy0xNi01LjQtMzMuMy01LjMtNDkuMiAwLjJsLTI2NC41IDkyLjNjLTI5LjMgMTAtNDkgMzcuNS00OS4xIDY4LjRsMS43IDI2NS40YzAuNyA4MSAzMS4xIDE1OC45IDg1LjYgMjE4LjkgMjUgMjcuNyA1Ni45IDUxLjUgOTcuOCA3Mi43bDE0NCA3NC42YzkgNC43IDE5LjcgNC42IDI4LjctMC4yTDY3Mi41IDgzMmM0MC40LTIxLjYgNzIuMi00NS43IDk2LjktNzMuOCA1My42LTYwLjYgODMtMTM4LjkgODIuNi0yMTkuOGwtMS43LTI2NS42Yy0wLjUtMzAuOS0yMC41LTU4LjEtNTAtNjcuN3oiIGZpbGw9IiMwN0MxNjAiIHAtaWQ9IjMyMTMiPjwvcGF0aD48cGF0aCBkPSJNNDc0LjEgNjUyYy03LjEgMC0xMy44LTIuOC0xOC45LTcuOGwtMTUxLTE1MS4xYy0xMC40LTEwLjQtMTAuNC0yNy40IDAtMzcuOHMyNy40LTEwLjQgMzcuOCAwbDEzMi4xIDEzMi4yIDIwNy43LTIwNy43YzEwLjQtMTAuNCAyNy40LTEwLjQgMzcuOCAwIDEwLjQgMTAuNCAxMC40IDI3LjQgMCAzNy44TDQ5MyA2NDQuMmMtNSA1LTExLjggNy44LTE4LjkgNy44eiIgZmlsbD0iI0ZGRkZGRiIgcC1pZD0iMzIxNCI+PC9wYXRoPjwvc3ZnPic7CgovLyBqcXVlcnkuc2hvd3RpcHMuanMKKGZ1bmN0aW9uKGpRdWVyeSkgewoJalF1ZXJ5LmZuLnNob3dUaXBzID0gZnVuY3Rpb24ob3B0aW9ucyxlbGVtKXsKCQl2YXIgY29uZmlnID0gewoJCQlza2luOiJ0cmlwcyIsCgkJCWNvbnRlbnQ6JCh0aGlzKS5hdHRyKCJ0aXBzIil8fCLlvLnlh7rnsbvlnovnmoTmsJTms6Hmj5DnpLrvvIEiLCAgLy/msJTms6Hmj5DnpLrlhoXlrrnph4zpnaLlj6/ku6XmmK9IVE1M77yM6buY6K6k5pi+56S66Ieq5a6a5LmJ55qE5o+Q56S65YaF5a65CgkJCXdpZHRoOiJhdXRvIiwgIC8v6buY6K6k5Li6YXV0b++8jOWPr+S7peWGmeWFt+S9k+WwuuWvuOWmgu+8mjIwMAoJCQlhbGlnblRvOlsicmlnaHQiLCJjZW50ZXIiXSwgIC8v566t5aS05pa55ZCRCgkJCWNvbG9yOlsicmdiKDI0NywgMjA2LCA1NykiLCIjRkZGRUY0Il0sICAvL+i/memHjOaYr+aPkOekuuWxgueahOmjjuagvO+8jOesrOS4gOS4quWPguaVsOS4uuaPkOekuui+ueahhuminOiJsu+8jOesrOS6jOS4quWPguaVsOS4uuaPkOekuuiDjOaZr+minOiJsgoJCQl0eXBlOiJodG1sIiwgICAvL+aYvuekuuWGheWuueexu+WeiwoJCQl0cmlnZ2VyOiJjbGljayIsICAgIC8v6buY6K6k5Li654K55Ye75pi+56S677yMc2hvd+S4uuWIneWni+WMluWwseaYvuekuu+8jGhvdmVy5Li657uP6L+H5pi+56S677yMZm9jdXPnhKbngrnmmL7npLrvvIxtb3VzZei3n+maj+m8oOagh+aYvuekuumakOiXjwoJCQlzcGFjaW5nOjEwLCAgLy/pu5jorqTkuLrnrq3lpLTot53nprvlr7nosaHnmoTlsLrlr7gKCQkJY3VzdG9taWQ6IiIsICAvL+iHquWumuS5iUlECgkJCWlzY2xvc2U6ZmFsc2UsICAgLy/mmK/lkKbmmL7npLrlhbPpl63mjInpkq4KCQkJc3VjY2VzcyA6IG51bGwgICAgLy/miJDlip/lkI7nmoTlm57osIPlh73mlbAKCQl9OwoJCXZhciBvcHRzID0galF1ZXJ5LmV4dGVuZChjb25maWcsIG9wdGlvbnMpOwoJCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsKCQkJdmFyIHRoYXQgPSBqUXVlcnkodGhpcyksdGlwQm94LHRpcElkLHNlbGZILHNlbGZXLGNvbklkLGRvY1csIHNwYSA9IG9wdHMuc3BhY2luZywgc2tpbj1vcHRzLnNraW47CgkJCXZhciBNYXRocmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogOTk5OTk5OSk7CiAgICAgICAgICAgIHZhciBwbXIgPSAob3B0cy5jdXN0b21pZD09IiIpID8gTWF0aHJhbmRvbSA6b3B0cy5jdXN0b21pZC5yZXBsYWNlKC9bIy5dLywgIiIpOwoJCQl2YXIgcG9pbnRlcj1vcHRzLmFsaWduVG8ubGVuZ3RoPT09MSA/ICcnK29wdHMuYWxpZ25Ub1swXSsnJyA6ICcnK29wdHMuYWxpZ25Ub1swXSsnLScrb3B0cy5hbGlnblRvWzFdKycnOwoKCQkJaWYodHlwZW9mIGVsZW0gPT0gJ3N0cmluZycpIHsKCQkJCWlmKGVsZW0gPT0ic2hvdyIpewoJCQkJCWpRdWVyeSgnI3RpcCcrcG1yKS5zaG93KCk7ICBqUXVlcnkoIiNjb24iK3BtcikuaHRtbChvcHRzLmNvbnRlbnQpOwoJCQkJCXNob3dQb3NpdGlvbihwb2ludGVyLGpRdWVyeSgnI3RpcCcrcG1yKSk7CgkJCQkJfTsKCQkJCWlmKGVsZW0gPT0iaGlkZSIpe2pRdWVyeSgnI3RpcCcrcG1yKS5oaWRlKCl9OwoJCQl9OwoJCQlpZih0eXBlb2YgZWxlbSA9PSAnJyB8fCB0eXBlb2YgZWxlbSA9PSB1bmRlZmluZWQpe3JldHVybiB0cnVlfTsKCQkJaWYoalF1ZXJ5KCcjdGlwJytwbXIpLmxlbmd0aD09MSl7cmV0dXJuIGZhbHNlO30KCQkJdGlwQm94PWpRdWVyeSgnPGRpdiBjbGFzcz0iJytza2luKycgJytza2luKyctJytwb2ludGVyKyciIGlkPSJ0aXAnK3BtcisnIj48aT48L2k+PGVtPjwvZW0+PGRpdiBjbGFzcz0iJytza2luKydjb24iIGlkPSJjb24nK3BtcisnIj48L2Rpdj48L2Rpdj4nKS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTsKCQkJdGlwSWQgPSBqUXVlcnkoIiN0aXAiK3Btcik7CgkJCWNvbklkID0galF1ZXJ5KCIjY29uIitwbXIpOwoKCQkJdmFyIGVkZ2Vjb2xvcj0nYm9yZGVyLScrb3B0cy5hbGlnblRvWzBdKyctY29sb3InLCB0Zmk9dGlwSWQuZmluZCgiaSIpLCB0ZmVtPXRpcElkLmZpbmQoImVtIiksIHRmaWVtPXRpcElkLmZpbmQoImksZW0iKTsKCQkJdGlwSWQuY3NzKHsncG9zaXRpb24nOidhYnNvbHV0ZScsYm9yZGVyOicxcHggc29saWQnLCdib3JkZXItY29sb3InOm9wdHMuY29sb3JbMF0sJ2JhY2tncm91bmQtY29sb3InOm9wdHMuY29sb3JbMV19KTsKCQkJaWYob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJyl7IHZhciBvZmZwb3M9NTAscGVyY2VuPSIlIjsgfWVsc2V7IHZhciBvZmZwb3M9NSxwZXJjZW49InB4IjsgfTsKCQkJdGZpZW0uY3NzKHt3aWR0aDowLGhlaWdodDowLGNvbnRlbnQ6JycsJ3Bvc2l0aW9uJzonYWJzb2x1dGUnfSkKCQkJdGZpLmNzcyh7Ym9yZGVyOic4cHggc29saWQgdHJhbnNwYXJlbnQnLCd6LWluZGV4Jzo1fSk7CgkJCXRmZW0uY3NzKHtib3JkZXI6JzdweCBzb2xpZCB0cmFuc3BhcmVudCcsJ3otaW5kZXgnOjEwfSk7CgkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJY2FzZSAndG9wLWNlbnRlcic6CgkJCQljYXNlICdib3R0b20tY2VudGVyJzoKCQkJCWNhc2UgJ3RvcC1sZWZ0JzoKCQkJCWNhc2UgJ2JvdHRvbS1sZWZ0JzoKCQkJCQl2YXIgcG9pPSJsZWZ0IjsKCQkJCQlpZihwb2ludGVyPT0ndG9wLWNlbnRlcicgfHwgcG9pbnRlcj09J2JvdHRvbS1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi1sZWZ0IjoiLThweCJ9KTsKCQkJCQkJdGZlbS5jc3MoeyJtYXJnaW4tbGVmdCI6Ii03cHgifSk7CgkJCQkJfQoJCQkJICAgIGJyZWFrOwoJCQkJY2FzZSAnbGVmdC1jZW50ZXInOgoJCQkJY2FzZSAncmlnaHQtY2VudGVyJzoKCQkJCWNhc2UgJ2xlZnQtdG9wJzoKCQkJCWNhc2UgJ3JpZ2h0LXRvcCc6CgkJCQkJdmFyIHBvaT0idG9wIjsKCQkJCQlpZihwb2ludGVyPT0nbGVmdC1jZW50ZXInIHx8IHBvaW50ZXI9PSdyaWdodC1jZW50ZXInKXsKCQkJCQkJdGZpLmNzcyh7Im1hcmdpbi10b3AiOiItOHB4In0pOwoJCQkJCQl0ZmVtLmNzcyh7Im1hcmdpbi10b3AiOiItN3B4In0pOwoJCQkJCX0KCQkJCSAgICBicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJdmFyIHBvaT0icmlnaHQiOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoKCQkJaWYocG9pbnRlcj09J2ZvbGxvdycpewoJCQkJdGZpLmNzcyh7J2JvcmRlci1ib3R0b20tY29sb3InOm9wdHMuY29sb3JbMF0sbGVmdDonJytvZmZwb3MrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJCXRmZW0uY3NzKHsnYm9yZGVyLWJvdHRvbS1jb2xvcic6b3B0cy5jb2xvclsxXSxsZWZ0OicnKyhvZmZwb3MrKG9wdHMuYWxpZ25Ub1sxXT09J2NlbnRlcic/MDoxKSkrcGVyY2VuKycnLGJvdHRvbTonMTAwJSd9KTsKCQkJfWVsc2V7CgkJCQl0ZmkuY3NzKGVkZ2Vjb2xvcixvcHRzLmNvbG9yWzBdKS5jc3MocG9pLCcnK29mZnBvcytwZXJjZW4rJycpOwoJCQkJdGZlbS5jc3MoZWRnZWNvbG9yLG9wdHMuY29sb3JbMV0pLmNzcyhwb2ksJycrKG9mZnBvcysob3B0cy5hbGlnblRvWzFdPT0nY2VudGVyJz8wOjEpKStwZXJjZW4rJycpOwoJCQkJdGZpZW0uY3NzKG9wdHMuYWxpZ25Ub1swXSwnMTAwJScpOwoJCQl9OwoKCQkJc3dpdGNoIChvcHRzLnR5cGUpIHsKCQkJCWNhc2UgJ2h0bWwnOmNvbklkLmh0bWwob3B0cy5jb250ZW50KTsgYnJlYWs7CgkJCQljYXNlICdpZCcgIDoKCQkJCSAgICB2YXIgdGVtcGlkPWpRdWVyeShvcHRzLmNvbnRlbnQpICx3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgkJCQkJaWYodGVtcGlkLmNzcygiZGlzcGxheSIpID09ICJub25lIil7ICB0ZW1waWQuY3NzKHtkaXNwbGF5OiJibG9jayJ9KTsgfQoJCQkJCWNvbklkLmFwcGVuZCh0ZW1waWQpOwoJCQkJICAgIGJyZWFrOwoJCQl9OwoJCQlpZihvcHRzLmlzY2xvc2UpewoJCQkJalF1ZXJ5KCc8c3BhbiBjbGFzcz0iJytza2luKydjbG9zZSIgaWQ9ImNsb3NlJytwbXIrJyI+JnRpbWVzOzwvc3Bhbj4nKS5hcHBlbmRUbyh0aXBJZCk7CgkJCQl0aXBJZC5maW5kKCIjY2xvc2UiK3BtcisiIikub24oImNsaWNrIixmdW5jdGlvbigpe3RpcElkLmhpZGUoKTt9KTsKCQkJfQoKCQkJaWYodHlwZW9mIG9wdHMud2lkdGggPT09ICdzdHJpbmcnKXsKCQkJCWRvY1cgPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKihvcHRzLndpZHRoLnJlcGxhY2UoJyUnLCcnKS8xMDApKTsKCQkJCSh0eXBlb2Ygb3B0cy53aWR0aCA9PSAnYXV0bycgfHwgdHlwZW9mIG9wdHMud2lkdGggPT0gJycpID8gdGlwQm94LmNzcyh7d2lkdGg6J2F1dG8nfSkgOiB0aXBCb3guY3NzKHt3aWR0aDpkb2NXfSk7CgkJCQl0aXBCb3guaGVpZ2h0KCk7CgkJCX1lbHNlewoJCQkJdGlwQm94LndpZHRoKG9wdHMud2lkdGgpLmhlaWdodCgpOwoJCQl9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3dQb3NpdGlvbihwb2ludGVyLGNlbGwpewoJCQkJdmFyIHNlbGZIID0gdGhhdC5vdXRlckhlaWdodCh0cnVlKSwgc2VsZlcgPSB0aGF0Lm91dGVyV2lkdGgodHJ1ZSk7CgkJCQl2YXIgcG9zdD10aGF0Lm9mZnNldCgpLnRvcCwgcG9zbD10aGF0Lm9mZnNldCgpLmxlZnQ7CgkJCQl2YXIgdGlwQ2VsbD0oY2VsbD09IiIgfHwgY2VsbD09dW5kZWZpbmVkKSA/IHRpcElkIDogY2VsbDsKCQkJICAgIHZhciB0aXBIPXRpcENlbGwub3V0ZXJIZWlnaHQodHJ1ZSksIHRpcFc9dGlwQ2VsbC5vdXRlcldpZHRoKHRydWUpOwoKCQkJCXN3aXRjaCAocG9pbnRlcikgewoJCQkJCWNhc2UgJ3RvcC1sZWZ0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICd0b3AtY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy8yKSsoc2VsZlcvMil9KTsgYnJlYWs7CgkJCQkJY2FzZSAndG9wLXJpZ2h0JzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0LXRpcEgtc3BhLGxlZnQ6cG9zbC0odGlwVy1zZWxmVyl9KTsgYnJlYWs7CgkJCQkJY2FzZSAnYm90dG9tLWxlZnQnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3Qrc2VsZkgrc3BhLGxlZnQ6cG9zbH0pOyBicmVhazsKCQkJCQljYXNlICdib3R0b20tY2VudGVyJzogdGlwQ2VsbC5jc3Moe3RvcDpwb3N0K3NlbGZIK3NwYSxsZWZ0OnBvc2wtKHRpcFcvMikrKHNlbGZXLzIpfSk7IGJyZWFrOwoJCQkJCWNhc2UgJ2JvdHRvbS1yaWdodCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCtzZWxmSCtzcGEsbGVmdDpwb3NsLSh0aXBXLXNlbGZXKX0pOyBicmVhazsKCQkJCQljYXNlICdsZWZ0LXRvcCc6IHRpcENlbGwuY3NzKHt0b3A6cG9zdCxsZWZ0OnBvc2wtdGlwVy1zcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnbGVmdC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbC10aXBXLXNwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC10b3AnOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QsbGVmdDpwb3NsK3NlbGZXK3NwYX0pOyBicmVhazsKCQkJCQljYXNlICdyaWdodC1jZW50ZXInOiB0aXBDZWxsLmNzcyh7dG9wOnBvc3QtKHRpcEgvMikrKHNlbGZILzIpLGxlZnQ6cG9zbCtzZWxmVytzcGF9KTsgYnJlYWs7CgkJCQkJY2FzZSAnZm9sbG93JzogdGhhdC5tb3VzZW1vdmUoZnVuY3Rpb24oZSkgeyB0aXBDZWxsLmNzcyh7dG9wOmUucGFnZVkgKyAzMCxsZWZ0OmUucGFnZVggLSA2fSk7IH0pOyBicmVhazsKCQkJCX07CgkJCX0KCQkJdGlwQm94LmhpZGUoKTsKCQkJc3dpdGNoIChvcHRzLnRyaWdnZXIpewoJCQkJY2FzZSAnc2hvdyc6c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7YnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICdjbGljayc6dGhhdC5jbGljayhmdW5jdGlvbigpe3Nob3dQb3NpdGlvbihwb2ludGVyKTt0aXBCb3guc2hvdygpO30pO2JyZWFrOwoJCQkJY2FzZSAnaG92ZXInOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTsgdGlwQm94Lm9uKCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7alF1ZXJ5KHRoaXMpLnNob3coKX0pLm9uKCJtb3VzZW91dCIsZnVuY3Rpb24oKXtqUXVlcnkodGhpcykuaGlkZSgpfSl9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJCWNhc2UgJ2ZvY3VzJzp0aGF0LmZvY3VzKGZ1bmN0aW9uKCl7c2hvd1Bvc2l0aW9uKHBvaW50ZXIpO3RpcEJveC5zaG93KCk7fSk7ICB0aGF0LmJsdXIoZnVuY3Rpb24oKXt0aXBCb3guaGlkZSgpO30pO2JyZWFrOwoJCQkJY2FzZSAnbW91c2UnOnRoYXQuaG92ZXIoZnVuY3Rpb24oKXtzaG93UG9zaXRpb24ocG9pbnRlcik7dGlwQm94LnNob3coKTt9LGZ1bmN0aW9uKCl7dGlwQm94LmhpZGUoKTt9KTticmVhazsKCQkJfTsKCQkJc2V0VGltZW91dChmdW5jdGlvbigpe29wdHMuc3VjY2VzcyAmJiBvcHRzLnN1Y2Nlc3MoKTt9LCAxKTsKCQl9KTsKCX0KfSkoalF1ZXJ5KTsKCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgbCgiQ1NETkdyZWVuZXIgViIgKyB2ZXJzaW9uKTsKICAgIGlmIChpc0ZpcmVmb3goKSkgewogICAgICAgIGNvbnNvbGUubG9nKCLmgqjmraPlnKjkvb/nlKjngavni5DmtY/op4jlmajvvIzlsIbkvb/nlKjlhbzlrrnmqKHlvI/ov5DooYwgQ1NETkdyZWVuZXLjgIIiKTsKICAgIH0KICAgIHByb2dyZXNzb3IuaW5pdCgpOwoKICAgIC8vIOe7v+WMluiuvuWumuaMiemSrueCueWHu+S6i+S7tgogICAgbGV0IGpzcyA9ICIiOwogICAganNzICs9ICI8c2NyaXB0PmZ1bmN0aW9uIHNob3dDb25maWcoKSB7IjsKICAgIGpzcyArPSAiJCh3aW5kb3cpLnNjcm9sbFRvcCgwKTsiOwogICAganNzICs9ICIkKCcud2hpdGVfY29udGVudCcpLmZhZGVJbig1MDApOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ2ZpbHRlcicsJ2JsdXIoM3B4KScpOyI7CiAgICBqc3MgKz0gIiQoJ2JvZHknKS5jc3MoJ3BvaW50ZXItZXZlbnRzJywnbm9uZScpIjsKICAgIGpzcyArPSAifTwvc2NyaXB0PiI7CiAgICAkKCJib2R5IikuYXBwZW5kKGpzcyk7CgogICAgLy8g5L+d5a2Y5oyJ6ZKu54K55Ye75LqL5Lu2CiAgICBsZXQgc2F2ZUpzcyA9ICIiOwogICAgc2F2ZUpzcyArPSAiPHNjcmlwdD5mdW5jdGlvbiBzYXZlQW5kUmVsb2FkKCkgeyI7CiAgICBzYXZlSnNzICs9ICIkKCcjY29uZmlnQ29udGVudCcpLmZhZGVPdXQoMjAwKTsiOwogICAgc2F2ZUpzcyArPSAic2V0VGltZW91dChmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LDIwMCkiOwogICAgc2F2ZUpzcyArPSAifTwvc2NyaXB0PiI7CiAgICAkKCJib2R5IikuYXBwZW5kKHNhdmVKc3MpOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIGJsb2NrVVJMID0gY3VycmVudFVSTC5zcGxpdCgiLyIpLmxlbmd0aDsKICAgICAgICB2YXIgbWFpbiA9IC8od3d3XC5jc2RuXC5uZXRcLykkLzsKICAgICAgICB2YXIgbWFpbk5hdiA9IC9uYXYvOwogICAgICAgIHZhciBhcnRpY2xlID0gL2FydGljbGUvOwogICAgICAgIHZhciBiYnMgPSAvYmJzXC5jc2RuXC5uZXQvOwogICAgICAgIHZhciBibG9nID0gL2Jsb2dcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIGJsb2cyID0gL1wvYXJ0aWNsZVwvbGlzdFwvLzsKICAgICAgICB2YXIgZG93bmxvYWQgPSAvZG93bmxvYWRcLmNzZG5cLm5ldC87CiAgICAgICAgdmFyIGxvZ2luID0gL3Bhc3Nwb3J0XC5jc2RuXC5uZXQvOwogICAgICAgIHZhciB6b25lID0gL21lXC5jc2RuXC5uZXQvOwogICAgICAgIHZhciBvdGhlciA9IC8od3d3XC5jc2RuXC5uZXRcLykvOwogICAgICAgIHZhciBtcCA9IC9tcFwuY3NkblwubmV0LzsKICAgICAgICB2YXIgYXJ0aWNsZV9tb250aCA9IC9hcnRpY2xlXC9tb250aC87CiAgICAgICAgdmFyIGxpbmsgPSAvbGlua1wuY3NkblwubmV0LzsKICAgICAgICB2YXIgYmxpbmsgPSAvYmxpbmtcLmNzZG5cLm5ldC87CgogICAgICAgIC8vIOaVsOe7hOWIneWni+WMlgogICAgICAgIGxpc3QgPSBbXTsKICAgICAgICAvLyDlpLTpg6jliIYKICAgICAgICAvLyBBUFAKICAgICAgICAvLyBwdXQoIi5hcHAtYXBwIik7CiAgICAgICAgLy8gVklQCiAgICAgICAgcHV0KCIudmlwLWNhaXNlIik7CiAgICAgICAgLy8g6K6w5b2V5L2g55qE5oiQ6ZW/5Y6G56iL77yI6K6w5Liq5q+b77yJCiAgICAgICAgcHV0KCIjd3JpdGVHdWlkZSIpOwogICAgICAgIC8vIOaWsOmAmuefpeWwj+WchueCue+8iOacqueZu+W9leaJjea2iOaOie+8iQogICAgICAgIGlmICgkKCIudXNlcmluZm8gYSIpLnRleHQoKSA9PT0gJ+eZu+W9lS/ms6jlhownKSB7CiAgICAgICAgICAgIHB1dCgiI21zZy1jaXJjbGUiKTsKICAgICAgICB9CiAgICAgICAgLy8g6aG26YOo6LC35q2M5bm/5ZGKCiAgICAgICAgcHV0KCIuYWRzYnlnb29nbGUiKTsKICAgICAgICAvLyDmgqzmta7lnKjpobbmoI/mjInpkq7kuIrlh7rnjrDnmoTkuoznu7TnoIEKICAgICAgICBwdXQoIi5hcHBDb250cm9sIik7CiAgICAgICAgLy8g6aG26YOo5bm/5ZGKCiAgICAgICAgcHV0KCIuYWR2ZXJ0LWJnIik7CgogICAgICAgIGlmIChtYWluLnRlc3QoY3VycmVudFVSTCkgfHwgbWFpbk5hdi50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMluS4u+mhteS9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDluLjop4QKICAgICAgICAgICAgLy8g5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJhbm5lci1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5bWM5YWl5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF8yMTEiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnNsaWRlLW91dGVyIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+ivpuaDhQogICAgICAgICAgICBwdXQoIi5wZXJzaW9uX2FydGljbGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgICQoIi5mZWVkX2NvbXBhbnkiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5bm/5ZGK6L2u5pKtCiAgICAgICAgICAgIHB1dCgiLmVsLWNhcm91c2VsX19jb250YWluZXIiKTsKICAgICAgICAgICAgLy8g6aG26YOo5qiq5bmFCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItYWR2ZXJ0Iik7CiAgICAgICAgICAgIC8vIOmhtuagj1ZJUOmAiemhuQogICAgICAgICAgICAkKCcudG9vbGJhci1zdWJNZW51LWJveCcpLmZpbmQoIltocmVmPSdodHRwczovL21hbGwuY3Nkbi5uZXQvdmlwJ10iKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gQ1NETuW3peWFt+W5v+WRigogICAgICAgICAgICBwdXQoIiNmbG9vci1hZF82NCIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIC8vIGNvbW1vbig1LCAxMCk7CiAgICAgICAgICAgIC8vIOWNmuWuouWPiuS4u+mhteS8mOWMlgogICAgICAgICAgICBjb21tb24oOSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgICAgICBsb29wKDEpOwogICAgICAgIH0gZWxzZSBpZiAoKGJsb2cudGVzdChjdXJyZW50VVJMKSAmJiBibG9ja1VSTCA9PT0gNCkgfHwgYmxvZzIudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbkuKrkurrljZrlrqLkuLvpobXkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIC8vIOWktOmDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5iYW5uZXItYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5zbGlkZS1vdXRlciIpOwogICAgICAgICAgICAvLyDlj7Pkvqfor6bmg4UKICAgICAgICAgICAgcHV0KCIucGVyc2lvbl9hcnRpY2xlIik7CiAgICAgICAgICAgIC8vIOW3puS+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5tYjgiKTsKICAgICAgICAgICAgcHV0KCIja3BfYm94XzUwMyIpOwogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjE0Iik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICAgICAgbG9vcCgxKTsKICAgICAgICB9IGVsc2UgaWYgKGFydGljbGUudGVzdChjdXJyZW50VVJMKSAmJiAhbXAudGVzdChjdXJyZW50VVJMKSAmJiAhYXJ0aWNsZV9tb250aC50ZXN0KGN1cnJlbnRVUkwpKSB7CiAgICAgICAgICAgIGwoIuato+WcqOS8mOWMlumYheivu+S9k+mqjC4uLiIpOwogICAgICAgICAgICAvLyDnu7/ljJborr7lrpoKICAgICAgICAgICAgaWYgKGlzRmlyZWZveCgpKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWNvbnRhaW5lci1taWRkbGUiKS5wcmVwZW5kKCI8ZGl2IGlkPSdncmVlbmVyUHJvZ3Jlc3MnIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48L2Rpdj4iKTsKICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbE9mMCA9ICc8ZGl2IGNsYXNzPSJ0b29sYmFyLWJ0biBjc2RuLXRvb2xiYXItZmwiPjxhIGlkPSJncmVlbmVyU2V0dGluZ3MiIHRpdGxlPSLngrnlh7vmiZPlvIAgQ1NETkdyZWVuZXIg57u/5YyW6K6+5a6aIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIG9uY2xpY2s9InNob3dDb25maWcoKTsiPicgKyBzZXR0aW5nc19zdmcgKyAnPC9hPjwvZGl2Pic7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRucyIpLnByZXBlbmQoaHRtbE9mMCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRmlyZWZveCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaPkOekugogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGlwc0Nvb2tpZSA9IGNvbmZpZy5nZXQoInNob3dUaXAiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpcHNDb29raWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUaXBzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnNldCgic2hvd1RpcCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWNvbnRhaW5lci1taWRkbGUiKS5wcmVwZW5kKCI8ZGl2IGlkPSdncmVlbmVyUHJvZ3Jlc3MnIHN0eWxlPSd0ZXh0LWFsaWduOnJpZ2h0Jz48L2Rpdj4iKTsKICAgICAgICAgICAgICAgIGxldCBodG1sT2YwID0gJzxkaXYgY2xhc3M9InRvb2xiYXItYnRuIGNzZG4tdG9vbGJhci1mbCI+PGEgaWQ9ImdyZWVuZXJTZXR0aW5ncyIgdGl0bGU9IueCueWHu+aJk+W8gCBDU0ROR3JlZW5lciDnu7/ljJborr7lrpoiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgb25jbGljaz0ic2hvd0NvbmZpZygpOyI+JyArIHNldHRpbmdzX3N2ZyArICc8L2E+PC9kaXY+JzsKICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bnMiKS5wcmVwZW5kKGh0bWxPZjApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYrvvIzmlL7liLDnrKzkuIDkuKrmuIXpmaQKICAgICAgICAgICAgLy8gcHV0KCIucmVjb21tZW5kLXJpZ2h0Iik7CiAgICAgICAgICAgIHB1dCgiI2FkZEFkQm94Iik7CiAgICAgICAgICAgIC8vIHB1dCgiLmFzaWRlLWJveC5raW5kX3BlcnNvbi5kLWZsZXguZmxleC1jb2x1bW4iKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyBwdXQoIi5yZWNvbW1lbmQtbGlzdC1ib3guZC1mbGV4LmZsZXgtY29sdW1uLmFzaWRlLWJveCIpOwogICAgICAgICAgICAvLyDlt6bkvqflub/lkYoKICAgICAgICAgICAgLy8gcHV0KCIjY29udGFpbmVyIik7CiAgICAgICAgICAgIC8vIOW/q+adpeWGmeWNmuWuouWQpwogICAgICAgICAgICBwdXQoIi5ibG9nX3RpcF9ib3giKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YWz5rOo55So5oi3CiAgICAgICAgICAgIHB1dCgiLmJsb2ctZXhwZXJ0LXJlY29tbWVuZC1ib3giKTsKICAgICAgICAgICAgLy8g5Y+z5LiL6KeSVklQCiAgICAgICAgICAgIHB1dCgiLm1lYXUtZ290b3AtYm94Iik7CiAgICAgICAgICAgIC8vIOW5v+WRigogICAgICAgICAgICBwdXQoIi5tZWRpYXZfYWQiKTsKICAgICAgICAgICAgcHV0KCIucHVsbGxvZy1ib3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLWFkLWJveCIpOwogICAgICAgICAgICBwdXQoIi5ib3gtc2hhZG93Iik7CiAgICAgICAgICAgIHB1dCgiLnR5cGVfaG90X3dvcmQiKTsKICAgICAgICAgICAgcHV0KCIuZm91cnRoX2NvbHVtbiIpOwogICAgICAgICAgICAvLyDpq5jliIbovqjnjofml7blj7Pkvqfmlofnq6DmjqjojZAKICAgICAgICAgICAgLy8gcHV0KCIucmlnaHQtaXRlbSIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIjYXNpZGVGb290ZXIiKTsKICAgICAgICAgICAgcHV0KCIjYWQtZGl2Iik7CiAgICAgICAgICAgIHB1dCgiIzQ3OSIpOwogICAgICAgICAgICBwdXQoIiM0ODAiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnBvc3RUaW1lIik7CiAgICAgICAgICAgIC8vIOivvueoi+aOqOiNkAogICAgICAgICAgICBwdXQoIi50MCIpOwogICAgICAgICAgICAvLyDliIbkuqvmtbfmiqUKICAgICAgICAgICAgcHV0KCIuc2hhcmVTdWdnZXN0Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOS4u+mimAogICAgICAgICAgICBwdXQoIi50ZW1wbGF0ZS1ib3giKTsKICAgICAgICAgICAgLy8g6K+E6K665Yy65bm/5ZGKCiAgICAgICAgICAgIHB1dCgiZGl2I2RtcF9hZF81OCIpOwogICAgICAgICAgICAvLyDmiZPotY8KICAgICAgICAgICAgcHV0KCIucmV3YXJkLXVzZXItYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aJk+i1j+aMiemSrgogICAgICAgICAgICBwdXQoIi50by1yZXdhcmQiKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YaF5a655bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5pbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOaKouaymeWPkeinkuaghwogICAgICAgICAgICBwdXQoIi5jb21tZW50LXNvZmEtZmxhZyIpOwogICAgICAgICAgICAvLyDpobVqaW8KICAgICAgICAgICAgcHV0KCIuYm90dG9tLXB1Yi1mb290ZXIiKTsKICAgICAgICAgICAgLy8g55m75b2V5p+l55yL5pyq6K+75raI5oGvCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItbm90aWNlLWJ1YmJsZSIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflm5vkuKrlub/lkYoKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjFCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjJCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjNCb3giKTsKICAgICAgICAgICAgcHV0KCIucHJvZ3JhbW1lcjRCb3giKTsKICAgICAgICAgICAgLy8g54K56LWe5rCU5rOhCiAgICAgICAgICAgIHB1dCgiLnRyaXBsZXQtcHJvbXB0Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOaoquW5hQogICAgICAgICAgICBwdXQoIi50b29sYmFyLWFkdmVydCIpOwogICAgICAgICAgICAvLyDlupXpg6jkv6Hmga8KICAgICAgICAgICAgcHV0KCIuYmxvZy1mb290ZXItYm90dG9tIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+agj+W5v+WRigogICAgICAgICAgICBwdXQoIiM2NTI3Iik7CiAgICAgICAgICAgIHB1dCgiI3JlY29tbWVuZEFkQm94Iik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWGheWuuVRpdGxlCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC10aXQtbW9kIik7CiAgICAgICAgICAgIC8vIOe6ouWMheaPkOmGkgogICAgICAgICAgICBwdXQoIi5jc2RuLXJlZHBhY2stbG90dGVyeS1idG4tYm94Iik7CiAgICAgICAgICAgIC8vIOWtpueUn+iupOivgQogICAgICAgICAgICBwdXQoIi5jc2RuLWhpZ2hzY2hvb2wtd2luZG93Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aCrOa1ruagj+mZpOe9rumhtuS7peWklueahOaMiemSrgogICAgICAgICAgICBwdXQoIi5vcHRpb24tYm94W2RhdGEtdHlwZT0nZ3VpZGUnXSwub3B0aW9uLWJveFtkYXRhLXR5cGU9J2NzJ10sLmNzZG4tY29tbW9uLWxvZ28tYWR2ZXJ0Iik7CiAgICAgICAgICAgIC8vIOeZu+W9leWQjuaCqOWPr+S7peS6q+WPl+S7peS4i+adg+ebigogICAgICAgICAgICBwdXQoIi5wYXNzcG9ydC1sb2dpbi10aXAtY29udGFpbmVyIik7CiAgICAgICAgICAgIC8vIOW6leagj+KAnOinieW+l+i/mOS4jemUme+8n+eri+WNs+aUtuiXj+KAneS9oOWcqOaVmeaIkeWBmuS6i++8nwogICAgICAgICAgICBwdXQoIi50b29sLWFjdGl2ZS1saXN0Iik7CiAgICAgICAgICAgIC8vIOaWh+eroOW6lemDqCBhcmNoaXZl5o6o6I2QCiAgICAgICAgICAgIHB1dCgiI3RyZWVTa2lsbCIpOwogICAgICAgICAgICAvLyDmkJzntKLmoYZmaXJlIGVtb2ppCiAgICAgICAgICAgIHB1dCgiLmljb24tZmlyZSIpOwogICAgICAgICAgICBjbGVhbigxMCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgIC8vIOWxleW8gOivhOiuuueahOaJgOacieWbnuWkjQogICAgICAgICAgICAgICAkKCcuYnRuLXJlYWQtcmVwbHknKS5jbGljaygpOwogICAgICAgICAgICAgICAvLyDlj7Pkvqd0b29sYmFyIOWIm+S9nOaPkOekugogICAgICAgICAgICAgICAkKCIuc2lkZXRvb2wtd3JpdGVndWlkZS1ib3giKS5yZW1vdmUoKTsKICAgICAgICAgICAgfSwgMTUwMCk7CiAgICAgICAgICAgIC8vIOS4u+WKqOWKoOWFpeWPs+S+p+agjwogICAgICAgICAgICBpZiAoJCgiLnJlY29tbWVuZC1yaWdodCIpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgJCgiI21haW5Cb3giKS5hZnRlcignPGRpdiBjbGFzcz0icmVjb21tZW5kLXJpZ2h0ICBhbGlnbi1pdGVtcy1zdHJldGNoIGNsZWFyZml4IiBpZD0icmlnaHRBc2lkZSI+PGFzaWRlIGNsYXNzPSJyZWNvbW1lbmQtcmlnaHRfYXNpZGUiPjxkaXYgaWQ9InJlY29tbWVuZC1yaWdodCIgc3R5bGU9ImhlaWdodDogMTAwJTsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDUycHg7IG92ZXJmbG93OiBzY3JvbGw7Ij48L2Rpdj48L2FzaWRlPjwvZGl2PicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOS4iuagj+aMiemSruWIoOmZpAogICAgICAgICAgICAkKCIudG9vbGJhci1tZW51cyA+IGxpID4gYTpjb250YWlucygn5LiT5qCP6K++56iLJykiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgiLnRvb2xiYXItbWVudXMgPiBsaSA+IGE6Y29udGFpbnMoJ+aPkuS7ticpIikucGFyZW50KCkucmVtb3ZlKCk7CiAgICAgICAgICAgICQoIi50b29sYmFyLW1lbnVzID4gbGkgPiBhOmNvbnRhaW5zKCforqTor4EnKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDkv67lpI3ml6Dms5XpgInmi6nlpI3liLYKICAgICAgICAgICAgJCgiY29kZSIpLmNzcygidXNlci1zZWxlY3QiLCJhdXRvIik7CiAgICAgICAgICAgICQoIiNjb250ZW50X3ZpZXdzIikuY3NzKCJ1c2VyLXNlbGVjdCIsImF1dG8iKTsKICAgICAgICAgICAgJCgicHJlIikuY3NzKCJ1c2VyLXNlbGVjdCIsImF1dG8iKTs3CiAgICAgICAgICAgIC8vIOWbvueJh+a3t+aWh+Wtl+aXtu+8jOaXoOazleWujOaVtOWkjeWItu+8jOWbvueJh+S4jeS8muiiq+WkjeWItuS4i+adpSBodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lci9pc3N1ZXMvODcKICAgICAgICAgICAgLy9sZXQgZWwgPSAkKCJtYWluIC5ibG9nLWNvbnRlbnQtYm94IilbMF07CiAgICAgICAgICAgIC8vbGV0IGVsQ2xvbmUgPSBlbC5jbG9uZU5vZGUodHJ1ZSk7CiAgICAgICAgICAgIC8vZWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWxDbG9uZSwgZWwpOwogICAgICAgICAgICAvLyDkv53lrZhjc2Ru55qE572R6aG15YaN5qyh5omT5byA5Lya6Ieq5Yqo6Lez6L2s5Yiw6aaW6aG1IGh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyL2lzc3Vlcy85NwogICAgICAgICAgICAkKCJbb25lcnJvcl0iKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gQ1NETumHjeWumuWQkeWklumTvuS4jeiDveWcqOaWsOeahOeql+WPo+i3s+i9rCBodHRwczovL2dpdGh1Yi5jb20vYWRsZXJlZC9DU0ROR3JlZW5lci9pc3N1ZXMvODAKICAgICAgICAgICAgJCgiI2FydGljbGVfY29udGVudCBhW2hyZWZdIikuYXR0cigidGFyZ2V0IiwgIl9ibGFuayIpOwogICAgICAgICAgICAvLyDmkJzntKLmoYbkvJjljJYKICAgICAgICAgICAgLy8kKCIjdG9vbGJhci1zZWFyY2gtaW5wdXQiKS5jc3MoIndpZHRoIiwgImNhbGMoMTAwJSAtIDQwMHB4KSIpOwogICAgICAgICAgICAvLyDlj5bmtojku6PnoIHmipjlj6AKICAgICAgICAgICAgJCgiLmxvb2stbW9yZS1wcmVDb2RlIikuY2xpY2soKTsKICAgICAgICAgICAgLy8g6K+i6Zeu5o6o6I2Q5piv5ZCm5pyJ5oSP5LmJ55qE6Zeu5Y236LCD5p+lCiAgICAgICAgICAgICQoIiNyZWNvbW1lbmROcHMiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g57u/5YyW6K6+572uCiAgICAgICAgICAgIGNvbW1vbig2LCAxKTsKICAgICAgICAgICAgLy8g5bGP5bmV6YCC6YWNCiAgICAgICAgICAgIGNvbW1vbig0LCAxKTsKICAgICAgICAgICAgLy8g6K+E6K66CiAgICAgICAgICAgIGNvbW1vbigxLCAzMCk7CiAgICAgICAgICAgIC8vIOWFtuWugwogICAgICAgICAgICBjb21tb24oMiwgMjApOwogICAgICAgICAgICAvLyDpobbpg6jmmL7npLrkvZzogIXkv6Hmga8KICAgICAgICAgICAgY29tbW9uKDgsIDEpOwogICAgICAgICAgICAvLyDljZrlrqLlj4rkuLvpobXkvJjljJYKICAgICAgICAgICAgY29tbW9uKDksIDEwKTsKICAgICAgICAgICAgLy8g5b6q546v57q/56iL5byA5aeLCiAgICAgICAgICAgIGxvb3AoMik7CiAgICAgICAgICAgIGxvb3AoMyk7CiAgICAgICAgfSBlbHNlIGlmIChiYnMudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJborrrlnZvkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIC8vIOivhOiuuuW1jOWFpeWwj+W5v+WRigogICAgICAgICAgICBwdXQoIi5wb3N0X3JlY29tbWVuZCIpOwogICAgICAgICAgICAvLyDlupXpg6jmjqjojZAKICAgICAgICAgICAgcHV0KCIjcG9zdF9mZWVkX3dyYXAiKTsKICAgICAgICAgICAgLy8g5bqV6YOo55u45YWz5paH56ug6YeM6Z2i55qE5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJic19mZWVkX2FkX2JveCIpOwogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOebuOWFs+aWh+Wtl+mHjOmdoueahOeDreivjeaPkOekugogICAgICAgICAgICBwdXQoIi50eXBlX2hvdF93b3JkIik7CiAgICAgICAgICAgIC8vIOW6lemDqOiTneiJsmZsZXjlsZ7mgKfnmoTlub/lkYrmoI8r55m75b2V5rOo5YaM5qGGCiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIC8vIOeMnOS9oOWWnOasogogICAgICAgICAgICBwdXQoIi5wZXJzb25hbGl6ZWQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj5HluJblh4/ljYrmj5DnpLoKICAgICAgICAgICAgcHV0KCIudG90YXN0LWJveCIpOwogICAgICAgICAgICAvLyDpobbpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXJpZ2h0Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5hZF90b3AiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmFkXzEiKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgICAgICAvLyDlsZXlvIAKICAgICAgICAgICAgY29tbW9uKDMsIDUwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICB9IGVsc2UgaWYgKGRvd25sb2FkLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW5LiL6L296aG15L2T6aqMLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICBwdXQoIi5maXhlZF9kbCIpOwogICAgICAgICAgICBwdXQoImluZGV4U3VwZXJpc2UiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgIHB1dCgiLmNvbnRlbnRfcmVjb20iKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgICAgICAvLyBjb21tb24oNSwgMTApOwogICAgICAgICAgICBsb29wKDMpOwogICAgICAgIH0gZWxzZSBpZiAobG9naW4udGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbnmbvlvZXpobXkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIC8vIOeZu+W9leeVjOmdouWkp+WbvuW5v+WRigogICAgICAgICAgICBwdXQoIi5tYWluLXR1Iik7CiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICB9IGVsc2UgaWYgKHpvbmUudGVzdChjdXJyZW50VVJMKSkgewogICAgICAgICAgICBsKCLmraPlnKjkvJjljJbkuKrkurrnqbrpl7TkvZPpqowuLi4iKTsKICAgICAgICAgICAgLy8g5bi46KeECiAgICAgICAgICAgIGNsZWFuKDEwKTsKICAgICAgICAgICAgY29tbW9uKDcsIDEwKTsKICAgICAgICAgICAgLy8gY29tbW9uKDUsIDEwKTsKICAgICAgICAgICAgbG9vcCgzKTsKICAgICAgICB9IGVsc2UgaWYgKGJsaW5rLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgbCgi5q2j5Zyo5LyY5YyW5Liq5Lq65Yqo5oCB5L2T6aqMLi4uIik7CiAgICAgICAgfSBlbHNlIGlmIChsaW5rLnRlc3QoY3VycmVudFVSTCkpIHsKICAgICAgICAgICAgLy8g6Lez6L+HIENTRE4g55qEIGxpbmsg6aG16Z2iCiAgICAgICAgICAgIHZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKQogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoJ3RhcmdldCcpCiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbCgi5ZOm6LGB77yM5aW95YGP6Zeo55qE6aG16Z2i77yM5oiR5p2l6K+V552A5LyY5YyW5LiA5LiL5ZOmLi4uIik7CiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlsZXlvIDlhajmlocKICAgICAgICAgICAgJCgnLnJlYWRtb3JlX2J0bicpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vICoqKiBpbmRleCAqKioKICAgICAgICAgICAgLy8g5aS06YOo5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJhbm5lci1hZC1ib3giKTsKICAgICAgICAgICAgLy8g5bWM5YWl5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiI2twX2JveF8yMTEiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnNsaWRlLW91dGVyIik7CiAgICAgICAgICAgIC8vIOWPs+S+p+ivpuaDhQogICAgICAgICAgICBwdXQoIi5wZXJzaW9uX2FydGljbGUiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgICQoIi5mZWVkX2NvbXBhbnkiKS5wYXJlbnQoKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8gKioqIGFydGljbGUgKioqCiAgICAgICAgICAgIC8vIOW4uOinhAogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYrvvIzmlL7liLDnrKzkuIDkuKrmuIXpmaQKICAgICAgICAgICAgcHV0KCIjYWRkQWRCb3giKTsKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlv6vmnaXlhpnljZrlrqLlkKcKICAgICAgICAgICAgcHV0KCIuYmxvZ190aXBfYm94Iik7CiAgICAgICAgICAgIC8vIOaOqOiNkOWFs+azqOeUqOaItwogICAgICAgICAgICBwdXQoIi5ibG9nLWV4cGVydC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S4i+inklZJUAogICAgICAgICAgICBwdXQoIi5tZWF1LWdvdG9wLWJveCIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIubWVkaWF2X2FkIik7CiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1hZC1ib3giKTsKICAgICAgICAgICAgLy9wdXQoIi5ib3gtc2hhZG93Iik7IOafkOS6m+mhtemdouW8guW4uO+8jOS+i+WmgmNsb3VkLmNzZG4ubmV0CiAgICAgICAgICAgIHB1dCgiLnR5cGVfaG90X3dvcmQiKTsKICAgICAgICAgICAgcHV0KCIuZm91cnRoX2NvbHVtbiIpOwogICAgICAgICAgICAvLyBjbG91ZC5jc2RuLm5ldCDlpLTpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIja3BfYm94XzExOCIpOwogICAgICAgICAgICAvLyDlub/lkYoKICAgICAgICAgICAgcHV0KCIjYXNpZGVGb290ZXIiKTsKICAgICAgICAgICAgcHV0KCIjYWQtZGl2Iik7CiAgICAgICAgICAgIHB1dCgiIzQ3OSIpOwogICAgICAgICAgICBwdXQoIiM0ODAiKTsKICAgICAgICAgICAgLy8g5omT6LWPCiAgICAgICAgICAgIHB1dCgiLnBvc3RUaW1lIik7CiAgICAgICAgICAgIC8vIOivvueoi+aOqOiNkAogICAgICAgICAgICBwdXQoIi50MCIpOwogICAgICAgICAgICAvLyDliIbkuqvmtbfmiqUKICAgICAgICAgICAgcHV0KCIuc2hhcmVTdWdnZXN0Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOS4u+mimAogICAgICAgICAgICBwdXQoIi50ZW1wbGF0ZS1ib3giKTsKICAgICAgICAgICAgLy8g6K+E6K665Yy65bm/5ZGKCiAgICAgICAgICAgIHB1dCgiZGl2I2RtcF9hZF81OCIpOwogICAgICAgICAgICAvLyDmiZPotY8KICAgICAgICAgICAgcHV0KCIucmV3YXJkLXVzZXItYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+aJk+i1j+aMiemSrgogICAgICAgICAgICBwdXQoIi50by1yZXdhcmQiKTsKICAgICAgICAgICAgLy8g5o6o6I2Q5YaF5a655bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLnJlY29tbWVuZC1yZWNvbW1lbmQtYm94Iik7CiAgICAgICAgICAgIC8vIOWPs+S+p+W5v+WRigogICAgICAgICAgICBwdXQoIi5pbmRleFN1cGVyaXNlIik7CiAgICAgICAgICAgIC8vIOaKouaymeWPkeinkuaghwogICAgICAgICAgICBwdXQoIi5jb21tZW50LXNvZmEtZmxhZyIpOwogICAgICAgICAgICAvLyDpobVqaW8KICAgICAgICAgICAgcHV0KCIuYm90dG9tLXB1Yi1mb290ZXIiKTsKICAgICAgICAgICAgLy8g55m75b2V5p+l55yL5pyq6K+75raI5oGvCiAgICAgICAgICAgIHB1dCgiLnRvb2xiYXItbm90aWNlLWJ1YmJsZSIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXRvcC1hZGJveCIpOwogICAgICAgICAgICAvLyDlrabpmaLlvLnlh7rlub/lkYoKICAgICAgICAgICAgJCgiLmZvdWNlX2Nsb3NlX2J0biIpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vIOWFtuWugwogICAgICAgICAgICAvLyDlpLTpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIuYmFubmVyLWFkLWJveCIpOwogICAgICAgICAgICAvLyDlj7Pkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIuc2xpZGUtb3V0ZXIiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n6K+m5oOFCiAgICAgICAgICAgIHB1dCgiLnBlcnNpb25fYXJ0aWNsZSIpOwogICAgICAgICAgICAvLyDlt6bkvqflub/lkYoKICAgICAgICAgICAgcHV0KCIja3BfYm94XzUwMyIpOwogICAgICAgICAgICBwdXQoIiNrcF9ib3hfMjE0Iik7CiAgICAgICAgICAgIC8vICoqKiBiYnMgKioqCiAgICAgICAgICAgIC8vIOivhOiuuuW1jOWFpeWwj+W5v+WRigogICAgICAgICAgICBwdXQoIi5wb3N0X3JlY29tbWVuZCIpOwogICAgICAgICAgICAvLyDlupXpg6jmjqjojZAKICAgICAgICAgICAgcHV0KCIjcG9zdF9mZWVkX3dyYXAiKTsKICAgICAgICAgICAgLy8g5bqV6YOo55u45YWz5paH56ug6YeM6Z2i55qE5bm/5ZGKCiAgICAgICAgICAgIHB1dCgiLmJic19mZWVkX2FkX2JveCIpOwogICAgICAgICAgICBwdXQoIi5yZWNvbW1lbmQtYWQtYm94Iik7CiAgICAgICAgICAgIC8vIOW6lemDqOebuOWFs+aWh+Wtl+mHjOmdoueahOeDreivjeaPkOekugogICAgICAgICAgICBwdXQoIi50eXBlX2hvdF93b3JkIik7CiAgICAgICAgICAgIC8vIOW6lemDqOiTneiJsmZsZXjlsZ7mgKfnmoTlub/lkYrmoI8r55m75b2V5rOo5YaM5qGGCiAgICAgICAgICAgIHB1dCgiLnB1bGxsb2ctYm94Iik7CiAgICAgICAgICAgIC8vIOeMnOS9oOWWnOasogogICAgICAgICAgICBwdXQoIi5wZXJzb25hbGl6ZWQtcmVjb21tZW5kLWJveCIpOwogICAgICAgICAgICAvLyDlj5HluJblh4/ljYrmj5DnpLoKICAgICAgICAgICAgcHV0KCIudG90YXN0LWJveCIpOwogICAgICAgICAgICAvLyDpobbpg6jlub/lkYoKICAgICAgICAgICAgcHV0KCIucmVjb21tZW5kLXJpZ2h0Iik7CiAgICAgICAgICAgIC8vIOmhtumDqOW5v+WRigogICAgICAgICAgICBwdXQoIi5hZF90b3AiKTsKICAgICAgICAgICAgLy8gKioqIGRvd25sb2FkICoqKgogICAgICAgICAgICBwdXQoIi5maXhlZF9kbCIpOwogICAgICAgICAgICBwdXQoImluZGV4U3VwZXJpc2UiKTsKICAgICAgICAgICAgLy8g5Y+z5L6n5o6o6I2QCiAgICAgICAgICAgIHB1dCgiLmNvbnRlbnRfcmVjb20iKTsKICAgICAgICAgICAgY2xlYW4oMTApOwogICAgICAgIH0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICBwcm9ncmVzc29yLmRvbmUoKTsKICAgICAgICB9LCAwKTsKICAgICAgICBzdG9wVGltZU1pbGxpID0gRGF0ZS5ub3coKTsKICAgICAgICBsKCLkvJjljJblrozmr5UhIOiAl+aXtiAiICsgKHN0b3BUaW1lTWlsbGkgLSBzdGFydFRpbWVNaWxsaSkgKyAibXMiKTsKICAgIH0sIDApOwp9KSgpOwoKZnVuY3Rpb24gbChsb2cpIHsKICAgIGNvbnNvbGUubG9nKCJbQ1NETkdyZWVuZXJdICIgKyBsb2cpOwp9CgpmdW5jdGlvbiBlKGVycm9yKSB7CiAgICBjb25zb2xlLmVycm9yKCJbQ1NETkdyZWVuZXJdICIgKyBlcnJvcik7Cn0KCmZ1bmN0aW9uIGNsZWFyKCkgewogICAgbGlzdCA9IFtdOwp9CgpmdW5jdGlvbiBwdXQodGFnKSB7CiAgICBsaXN0LnB1c2godGFnKTsKfQoKZnVuY3Rpb24gY2xlYW4odGltZXMpIHsKICAgIHZhciBsb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIC0tdGltZXM7CiAgICAgICAgaWYgKHRpbWVzIDw9IDApIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb29wKTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsaXN0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICQobGlzdFtrXSkucmVtb3ZlKCk7CiAgICAgICAgfQogICAgfSwgMTAwKTsKICAgIHByb2dyZXNzb3IuaW5jUHJvZ3Jlc3MoMTApOwp9Cgp2YXIgZGVsZXRlZExvZ2luID0gZmFsc2U7CgpmdW5jdGlvbiBsb29wKG51bSkgewogICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChudW0gPT09IDEpIHsKICAgICAgICAgICAgLy8g5Li76aG15Lit6Ze055qE5bm/5ZGKCiAgICAgICAgICAgICQoIi5KX2FkdiIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDkuLvpobXmnInmlrDnmoTlhoXlrrnmqKrmnaEKICAgICAgICAgICAgJCgiLmZlZWQtZml4LWJveCIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDkuLvpobXlub/lkYogaWZyYW1lCiAgICAgICAgICAgIGlmIChjdXJyZW50VVJMID09ICJodHRwczovL3d3dy5jc2RuLm5ldC8iKSB7CiAgICAgICAgICAgICAgICAkKCJpZnJhbWUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDliKDpmaQgQ1NETiDlrpjmlrnlnKjkuLvpobXnmoTmlofnq6DvvIjlpKflpJrmmK/lub/lkYrvvIkKICAgICAgICAgICAgJCgibGkuY2xlYXJmaXgiKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbGUpIHsKICAgICAgICAgICAgICAgIHZhciBiYW5uZWQgPSAvY3NkbjxcL2E+LzsKICAgICAgICAgICAgICAgIHZhciBhTWFyayA9ICQoZWxlKS5maW5kKCIubmFtZSIpLmh0bWwoKTsKICAgICAgICAgICAgICAgIGlmIChiYW5uZWQudGVzdChhTWFyaykpIHsKICAgICAgICAgICAgICAgICAgICAkKGVsZSkucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyDkuLvpobXlub/lkYoKICAgICAgICAgICAgJCgibGkiKS5lYWNoKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICBsZXQgZGF0YVR5cGUgPSBzZWxmLmF0dHIoJ2RhdGEtdHlwZScpOwogICAgICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnYWQnKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOS4u+mhteW5v+WRigogICAgICAgICAgICAkKCJsaSA+IGRpdiA+IGRpdiA+IGgyID4gYVtocmVmKj0naHR0cHM6Ly9lZHUuY3Nkbi5uZXQnXSIpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCJsaSA+IGRpdiA+IGRpdiA+IGgyID4gYVtocmVmKj0naHR0cHM6Ly9tYXJrZXRpbmcuY3Nkbi5uZXQnXSIpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDlrpjmlrnohJrmnKzmqKrluYUKICAgICAgICAgICAgJCgiLnRvb2xiYXItYWR2ZXJ0IikucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT09IDIpIHsKICAgICAgICAgICAgLy8g6K+E6K665p+l55yL5pu05aSa5bGV5byA55uR5ZCsCiAgICAgICAgICAgICQoImRpdi5jb21tZW50LWxpc3QtYm94IikuY3NzKCJtYXgtaGVpZ2h0IiwgIm5vbmUiKTsKICAgICAgICAgICAgLy8g5bGP6JS95oKo55qE57yp5pS+5LiN5pivMTAwJeeahOaPkOekugogICAgICAgICAgICAkKCcubGVmdFBvcCcpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDlrpjmlrnohJrmnKzmqKrluYUKICAgICAgICAgICAgJCgiLnRvb2xiYXItYWR2ZXJ0IikucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT0gMykgewogICAgICAgICAgICAvLyDlvqrnjq/liKDpmaTnmbvlvZXmj5DnpLrmoYYKICAgICAgICAgICAgaWYgKCQoJCgiLnBhc3Nwb3J0LWxvZ2luLWNvbnRhaW5lciIpWzBdKS5sZW5ndGggPT0gMSAmJiBkZWxldGVkTG9naW4gPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIGxldCBwYXNzSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcucGFzc3BvcnQtbG9naW4tY29udGFpbmVyJykuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJoaWRlIik7CiAgICAgICAgICAgICAgICB9LCAxMCk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocGFzc0ludGVydmFsKTsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAkKCIjcGFzc3BvcnRib3giKS5maW5kKCJpbWciKS5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0sIDUwMCkKICAgICAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgICAgICAgZGVsZXRlZExvZ2luID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyDnuqLljIXpm6gKICAgICAgICAgICAgJCgiI2NzZG4tcmVkcGFjayIpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sIDUwMCk7Cn0KCmZ1bmN0aW9uIGNvbW1vbihudW0sIHRpbWVzKSB7CiAgICB2YXIgbG9vcCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAtLXRpbWVzOwogICAgICAgIGlmICh0aW1lcyA8PSAwKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobG9vcCk7CiAgICAgICAgfQogICAgICAgIGlmIChudW0gPT09IDEpIHsKICAgICAgICAgICAgLy8g5p+l55yL5pu05aSaCiAgICAgICAgICAgICQoIi5idG4tcmVhZG1vcmUiKS5yZW1vdmVDbGFzcygibm8tbG9naW4iKTsKICAgICAgICAgICAgJCgiLmJ0bi1yZWFkbW9yZSIpLmFkZENsYXNzKCJmYW5zLXJlYWQtbW9yZSIpOwogICAgICAgICAgICAkKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQXR0cigiaHJlZiIpOwogICAgICAgICAgICAkKCIuYnRuLXJlYWRtb3JlIikucmVtb3ZlQXR0cigidGFyZ2V0Iik7CiAgICAgICAgICAgICQoIi5idG4tcmVhZG1vcmUiKS5yZW1vdmVBdHRyKCJyZWwiKTsKICAgICAgICAgICAgJCgiLmJ0bi1yZWFkbW9yZSIpLmNsaWNrKCk7CiAgICAgICAgICAgIC8vIOW3sueZu+W9leeUqOaIt+WxleW8gOivhOiuugogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ0bk1vcmVDb21tZW50IikuY2xpY2soKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgLy8g5Yig6Zmk5p+l55yL5pu05aSa5oyJ6ZKuCiAgICAgICAgICAgICQoIiNidG5Nb3JlQ29tbWVudCIpLnBhcmVudCgiZGl2Lm9wdC1ib3giKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5bGV5byA5YaF5a65CiAgICAgICAgICAgICQoImRpdi5jb21tZW50LWxpc3QtYm94IikuY3NzKCJtYXgtaGVpZ2h0IiwgIm5vbmUiKTsKICAgICAgICAgICAgLy8g5pS55Zue6IOM5pmv6aKc6ImyCiAgICAgICAgICAgICQoIi5sb2dpbi1tYXJrIikucmVtb3ZlKCk7CiAgICAgICAgICAgIC8vIOWIoOmZpOeZu+W9leahhgogICAgICAgICAgICAkKCIubG9naW4tYm94IikucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT09IDIpIHsKICAgICAgICAgICAgLy8g5oyh5L2P6K+E6K6655qE4oCc5Ye65aS05o6o6I2Q4oCdCiAgICAgICAgICAgIGlmICgkKCIucmVjb21tZW5kLWJveCIpLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICQoIi5yZWNvbW1lbmQtYm94IilbMF0ucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5Y676Zmk5o6o5bm/5bm/5ZGKCiAgICAgICAgICAgICQoImxpW2RhdGEtdHlwZT0nYWQnXSIpLnJlbW92ZSgpOwogICAgICAgICAgICAvLyDlhY3nmbvlvZXlpI3liLYKICAgICAgICAgICAgJCgiLmhsanMtYnV0dG9uIikucmVtb3ZlQ2xhc3MoInNpZ25pbiIpOwogICAgICAgICAgICAkKCIuaGxqcy1idXR0b24iKS5hZGRDbGFzcygiezJ9Iik7CiAgICAgICAgICAgICQoIi5obGpzLWJ1dHRvbiIpLmF0dHIoImRhdGEtdGl0bGUiLCAi5YWN55m75b2V5aSN5Yi2Iik7CiAgICAgICAgICAgICQoIi5obGpzLWJ1dHRvbiIpLmF0dHIoIm9uY2xpY2siLCAiaGxqcy5jb3B5Q29kZShldmVudCk7c2V0VGltZW91dChmdW5jdGlvbigpeyQoJy5obGpzLWJ1dHRvbicpLmF0dHIoJ2RhdGEtdGl0bGUnLCAn5YWN55m75b2V5aSN5Yi2Jyk7fSwzNTAwKTsiKTsKICAgICAgICAgICAgJCgiI2NvbnRlbnRfdmlld3MiKS51bmJpbmQoImNvcHkiKTsKICAgICAgICAgICAgLy8g5Y676Zmk5Ymq6LS05p2/5Yqr5oyBCiAgICAgICAgICAgICQoImNvZGUiKS5hdHRyKCJvbmNsaWNrIiwgIm1kY3AuY29weUNvZGUoZXZlbnQpIik7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAvLyDlpI3liLbml7bkv53nlZnljp/mlofmoLzlvI/vvIzlj4LogIMgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9lbi9zY3JpcHRzLzM5MDUwMi1jc2RucmVtb3ZlY29weXJpZ2h0L2NvZGUKICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICJhcnRpY2xlVHlwZSIsIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICB9CiAgICAgICAgICAgIGNzZG4uY29weXJpZ2h0LmluaXQoIiIsICIiLCAiIik7CiAgICAgICAgICAgIC8vIOmhteWktOW5v+WRigogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiY29sdW1uLWFkdmVydC1ib3giKVswXS5zdHlsZS5kaXNwbGF5PSJub25lIjsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgLy8g6Ieq5Yqo5qOA5rWL5piv5ZCm5pyJ55uu5b2V77yM5aaC5p6c5rKh5pyJ5YiZ5Yig6Zmk5Y+z6L655qCP77yM5paH56ug5bGF5LitCiAgICAgICAgICAgIGlmICgkKCIucmVjb21tZW5kLXJpZ2h0X2FzaWRlIikuaHRtbCgpICYmICQoIi5yZWNvbW1lbmQtcmlnaHRfYXNpZGUiKS5odG1sKCkucmVwbGFjZSgvW1xyXG5dL2csICIiKS5yZXBsYWNlKC8oXHMpL2csICIiKSA9PT0gIiIpIHsKICAgICAgICAgICAgICAgICQoIiNyaWdodEFzaWRlIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoJCgiLnJlY29tbWVuZC1yaWdodF9hc2lkZSIpLmh0bWwoKSAmJiAkKCIjcmVjb21tZW5kLXJpZ2h0IikuaHRtbCgpLnJlcGxhY2UoL1tcclxuXS9nLCAiIikucmVwbGFjZSgvKFxzKS9nLCAiIikgPT09ICIiKSB7CiAgICAgICAgICAgICAgICAkKCIjcmlnaHRBc2lkZSIpLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIOeZu+W9leaMiemSruaWh+Wtl+WkquWkmu+8jOS/ruaUuQogICAgICAgICAgICAkKCJhIikuZWFjaChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2hyZWYnKSA9PT0gJ2h0dHBzOi8vcGFzc3BvcnQuY3Nkbi5uZXQvYWNjb3VudC9sb2dpbicpIHsKICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmh0bWwoJ+eZu+WFpScpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g6aG25qCP5bm/5ZGKCiAgICAgICAgICAgICQoImxpIikuZWFjaChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgbGV0IHNlbGYgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgbGV0IGRhdGFUeXBlID0gc2VsZi5hdHRyKCdkYXRhLXN1Yi1tZW51LXR5cGUnKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ3ZpcCcpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IGRhdGFUaXRsZSA9IHNlbGYuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgIGlmIChkYXRhVGl0bGUgPT09ICfpq5jku7flgLzmupDnoIHor77nqIvliIbkuqsnIHx8IGRhdGFUaXRsZSA9PT0gJ+ezu+e7n+WtpuS5oMK36Zeu562Uwrfmr5TotZsnIHx8IGRhdGFUaXRsZSA9PT0gJ+eugOWNlemrmOaViOS8mOaDoOeahOS6keacjeWKoScpIHsKICAgICAgICAgICAgICAgICAgICBzZWxmLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g6aG25qCPVklQ6YCJ6aG5CiAgICAgICAgICAgICQoJy50b29sYmFyLXN1Yk1lbnUtYm94JykuZmluZCgiW2hyZWY9J2h0dHBzOi8vbWFsbC5jc2RuLm5ldC92aXAnXSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09IDMpIHsKICAgICAgICAgICAgLy/orrrlnZvoh6rliqjlsZXlvIAKICAgICAgICAgICAgJCgiLmpzX3Nob3dfdG9waWMiKS5jbGljaygpOwogICAgICAgIH0gZWxzZSBpZiAobnVtID09IDQpIHsKICAgICAgICAgICAgLyoqIOmFjee9ruaOp+WItiAqKi8KICAgICAgICAgICAgbGV0IGNvbmZpZyA9IG5ldyBDb25maWcoKTsKICAgICAgICAgICAgbGV0IHNtQ29va2llID0gY29uZmlnLmdldCgic2NyLXNtIiwgdHJ1ZSk7CiAgICAgICAgICAgIGxldCBtZENvb2tpZSA9IGNvbmZpZy5nZXQoInNjci1tZCIsIGZhbHNlKTsKICAgICAgICAgICAgbGV0IGxnQ29va2llID0gY29uZmlnLmdldCgic2NyLWxnIiwgZmFsc2UpOwogICAgICAgICAgICBsZXQgZm9Db29raWUgPSBjb25maWcuZ2V0KCJzY3ItZm8iLCBmYWxzZSkKCiAgICAgICAgICAgICQoIiNzY3Itc20iKS5wcm9wKCJjaGVja2VkIiwgc21Db29raWUpOwogICAgICAgICAgICAkKCIjc2NyLW1kIikucHJvcCgiY2hlY2tlZCIsIG1kQ29va2llKTsKICAgICAgICAgICAgJCgiI3Njci1sZyIpLnByb3AoImNoZWNrZWQiLCBsZ0Nvb2tpZSk7CiAgICAgICAgICAgICQoIiNzY3ItZm8iKS5wcm9wKCJjaGVja2VkIiwgZm9Db29raWUpOwoKICAgICAgICAgICAgaWYgKHNtQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyBTbWFsbCBTY3JlZW4gTW9kZQogICAgICAgICAgICAgICAgJCgiLm1haW5fZmF0aGVyIikucmVtb3ZlQ2xhc3MoImp1c3RpZnktY29udGVudC1jZW50ZXIiKTsKICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKGAKICAgICAgICAgICAgICAgIG1haW57CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGF1dG8haW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgIGZsb2F0OiBub25lIWltcG9ydGFudDsKICAgICAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDkwdnc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBtYWluIGFydGljbGUgaW1newogICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvOwogICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgJCgiI21haW5Cb3giKS5jc3MoIndpZHRoIiwgIjEwMCUiKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtZENvb2tpZSkgewogICAgICAgICAgICAgICAgLy8gTWlkZGxlIFNjcmVlbiBNb2RlCiAgICAgICAgICAgICAgICAkKCIubWFpbl9mYXRoZXIiKS5yZW1vdmVDbGFzcygianVzdGlmeS1jb250ZW50LWNlbnRlciIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGxnQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyBMYXJnZSBTY3JlZW4gTW9kZQogICAgICAgICAgICAgICAgJCgiLmNvbnRhaW5lciIpLmNzcygibWFyZ2luIiwgIjAgYXV0byIpCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9Db29raWUpIHsKICAgICAgICAgICAgICAgIC8vIEZvY3VzIG1vZGUKICAgICAgICAgICAgICAgICQoIi5yZWNvbW1lbmQtcmlnaHQiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICQoIi5jb250YWluZXIiKS5jc3MoIndpZHRoIiwgIjEwMCUiKTsKICAgICAgICAgICAgICAgICQoIi5jb250YWluZXIgPiBtYWluIikuY3NzKCJ3aWR0aCIsICIxMDAlIik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIOWxj+W5leWwuuWvuOWNlemAieebkeWQrAogICAgICAgICAgICAkKCIjc2NyLXNtIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLXNtIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbWQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbGciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItZm8iLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIjc2NyLW1kIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLW1kIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3Itc20iLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbGciLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItZm8iLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIjc2NyLWxnIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWxnIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3Itc20iLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbWQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItZm8iLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCIjc2NyLWZvIikuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbmV3IENvbmZpZygpLnNldCgic2NyLWZvIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3Itc20iLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbWQiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBuZXcgQ29uZmlnKCkuc2V0KCJzY3ItbGciLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyDliKTmlq3mmK/lkKbkuLrnmbvlvZXnirbmgIEKICAgICAgICAgICAgaWYgKCQoJy50b29sYmFyLWJ0bi1sb2dpbmZ1bicpLnRleHQoKSA9PT0gJ+eZu+W9lScpIHsKICAgICAgICAgICAgICAgICAgICAvLyDmnKrnmbvlvZXliKDpmaTml6DnlKjmjInpkq4KICAgICAgICAgICAgICAgICAgICAkKCJhOmNvbnRhaW5zKCfmtojmga8nKSIpLnBhcmVudCgpLnBhcmVudCgpWzBdLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bi1jb2xsZWN0IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRuLXdyaXRlIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgJCgiLnRvb2xiYXItYnRuLW1wIikucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJCgiYTpjb250YWlucygn5Lya5ZGYMTIuMTInKSIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCIudG9vbGJhci1idG4tdmlwIikucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT0gNSkgewogICAgICAgICAgICAvLyDmlLnlm57og4zmma/popzoibIKICAgICAgICAgICAgJCgiLmxvZ2luLW1hcmsiKS5yZW1vdmUoKTsKICAgICAgICAgICAgLy8g5Yig6Zmk55m75b2V5qGGCiAgICAgICAgICAgICQoIi5sb2dpbi1ib3giKS5yZW1vdmUoKTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PSA2KSB7CiAgICAgICAgICAgIGxldCBkaWQgPSBmYWxzZTsKICAgICAgICAgICAgbGV0IGNvbmZpZ0hUTUwgPSAnJzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGRpdiBjbGFzcz0iY29uZmlnQ29udGFpbmVyIj48cD48YSBjbGFzcz0idGl0bGUiIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9hZGxlcmVkL0NTRE5HcmVlbmVyIiB0YXJnZXQ9Il9ibGFuayI+Q1NETkdyZWVuZXI8L2E+IDxzdXA+VicgKyB2ZXJzaW9uICsgJyAnICsgc2V0dGluZ3Nfc3ZnICsgJzwvc3VwPjwvcD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8cD48YSBocmVmPSIvL3NoYW5nLnFxLmNvbS93cGEvcXVud3BhP2lka2V5PWQ3YWQ2ZWFkM2Y1NzcyMmU3ZjAwYTQyODFhZTc1ZGJhYzIxMzJjNWE4Y2YzMjE5OTJkNTczMDkwMzdmY2FmNjMiIHRhcmdldD0iX2JsYW5rIj7lrpjmlrkgUVEg5Lqk5rWB576k77yaMTA0MjM3MDQ1MzwvYT48L3A+PGJyPic7CgogICAgICAgICAgICAvLyDorr7lrprvvJrmjqjojZDlhoXlrrnmjInpkq4KICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPHAgY2xhc3M9ImJvbGQiPuagueaNruWxj+W5leWwuuWvuO+8jOmAgumFjeeJiOW8jzwvcD48cD7lu7rorq7pgJDkuKrlsJ3or5XlkI7pgInmi6npgILlkIjkvaDnmoTniYjlvI/vvIzlsY/luZXov4flsI/miJbogIXniYjlvI/pgInmi6nkuI3mraPnoa7lj7PkvqfmoI/lj6/og73msqHmnInnqbrpl7TmmL7npLrvvIzlr7zoh7TkvqfmoI/lrprliLbml6DmlYjvvIjor7flsJ3or5XosIPoioLmtY/op4jlmajnvKnmlL7vvIzlv6vmjbfplK4gQ3RybCvpvKDmoIfmu5rova7vvInjgII8L3A+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGxhYmVsPjxpbnB1dCBuYW1lPSJkaXNwbGF5TW9kZSIgdHlwZT0icmFkaW8iIHZhbHVlPSIiIGlkPSJzY3Itc20iIC8+IOW5s+mTuuaooeW8jyjkvJjljJbniYgpIDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGxhYmVsPjxpbnB1dCBuYW1lPSJkaXNwbGF5TW9kZSIgdHlwZT0icmFkaW8iIHZhbHVlPSIiIGlkPSJzY3ItbWQiIC8+IOmAguW6lOaooeW8jyA8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxsYWJlbD48aW5wdXQgbmFtZT0iZGlzcGxheU1vZGUiIHR5cGU9InJhZGlvIiB2YWx1ZT0iIiBpZD0ic2NyLWxnIiAvPiDlsYXkuK3mqKHlvI8gPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8bGFiZWw+PGlucHV0IG5hbWU9ImRpc3BsYXlNb2RlIiB0eXBlPSJyYWRpbyIgdmFsdWU9IiIgaWQ9InNjci1mbyIgLz4g5rKJ5rW45qih5byPKOaXoOS+p+agjyk8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxociBzdHlsZT0iaGVpZ2h0OjFweDtib3JkZXI6bm9uZTtib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjY2NjO21hcmdpbjogNXB4IDBweCA1cHggMHB4OyIgLz4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8cCBjbGFzcz0iYm9sZCI+6YCa55So6K6+5a6aPC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwPuiHquWumuS5ieiDjOaZr+Wbvu+8miA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImJhY2tncm91bmRJbWdVcmwiIHBsYWNlaG9sZGVyPSLlm77niYfmiYDlnKjnvZHlnYDmiJZCYXNlNjQiIHN0eWxlPSJib3JkZXItcmFkaXVzOiAycHg7Ym9yZGVyOiAxcHggc29saWQgI2YwZjBmMDtwYWRkaW5nOjVweDt3aWR0aDoxMDAlO21hcmdpbi1ib3R0b206NXB4OyI+IDxpbnB1dCBzdHlsZT0ibWFyZ2luLWJvdHRvbTo1cHg7IiBhY2NlcHQ9ImltYWdlLyoiIGlkPSJ1cGxvYWRfYmciIHR5cGU9ImZpbGUiPjwvcD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtcmVjb21tZW5kLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmjqjojZDlhoXlrrk8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtc2hvcC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtc2hvcC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuWwj+W6lzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+55m96Imy5Li76aKYJkRhcmsgUmVhZGVy5YW85a655qih5byPPGJyPjxzcGFuIHN0eWxlPSJjb2xvcjogIzgwODA4MDsiPiMg6YCJ6aG55L2c55So77ya5byA5ZCv5ZCO5Y+v6YCa6L+HRGFyayBSZWFkZXLmj5Lku7bngbXmtLvmjqfliLbnmb3oibLkuI7pu5HmmpfmqKHlvI/vvIw8YSBzdHlsZT0iY29sb3I6IGdyZWVuOyIgaHJlZj0iaHR0cHM6Ly9jaHJvbWUuenp6bWguY24vaW5mbz90b2tlbj1laW1hZHBiY2Jmbm1ia29wb29qZmVraG5raGRiaWVlaCIgdGFyZ2V0PSJfYmxhbmsiPuaPkuS7tuS4i+i9veWcsOWdgOeCueaIkTwvYT48L3NwYW4+PC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1hdXRvc2l6ZS1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuWuveW6puiHquWKqOmAguW6lDxicj48c3BhbiBzdHlsZT0iY29sb3I6ICM4MDgwODA7Ij4jIOmAiemhueS9nOeUqO+8muW8gOWQr+atpOmAiemhueWPr+S7peWcqOmhtemdouWuveW6pue8qeWwj+aXtuiHquWKqOWIh+aNouiHs+Wwj+Wxj+aooeW8jzwvc3Bhbj48L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0b2hpZGV0b29sYmFyLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7lkJHkuIvmu5rliqjoh6rliqjpmpDol4/pobbmoI88L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0b2hpZGVib3R0b21iYXItYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWF1dG9oaWRlYm90dG9tYmFyLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5aeL57uI6ZqQ6JeP5bqV5qCPPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLXdyaXRlYmxvZy1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65Y+R5biD5oyJ6ZKuPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGhyIHN0eWxlPSJoZWlnaHQ6MXB4O2JvcmRlcjpub25lO2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2NjY2M7bWFyZ2luOiA1cHggMHB4IDVweCAwcHg7IiAvPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwIGNsYXNzPSJib2xkIj48Yj7lj7PkvqfmoI/lrprliLY8L2I+PC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1hZC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtYWQtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnaXoh6rohJrmnKznmoTlsI/lub/lkYrvvIjmmoLml6DvvIk8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuS9nOiAheWQjeeJhzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65pCc5Y2a5Li75paH56ugPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnIDmlrDmlofnq6A8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuueDremXqOaWh+eroDwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1uZXdjb21tZW50cy1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrmnIDmlrDor4Torro8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUta2luZHBlcnNvbi1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUta2luZHBlcnNvbi1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuWIhuexu+S4k+agjzwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiIgY2xhc3M9Im1vZGVMYWJlbCI+5pi+56S65o6o6I2Q5paH56ugPC9sYWJlbD4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWFyY2hpdmUtYnV0dG9uIj4gPGxhYmVsIGZvcj0idG9nZ2xlLWFyY2hpdmUtYnV0dG9uIiBjbGFzcz0ibW9kZUxhYmVsIj7mmL7npLrlvZLmoaM8L2xhYmVsPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJ0b2dnbGUtY29udGVudC1idXR0b24iPiA8bGFiZWwgZm9yPSJ0b2dnbGUtY29udGVudC1idXR0b24iIGNsYXNzPSJtb2RlTGFiZWwiPuaYvuekuuebruW9lTwvbGFiZWw+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPjxicj4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8ZGl2PjxiPuimgeS4jeimgeadpeeci+eciyA6KTwvYj48cD7vvIjkvZzogIXmnKzkurrlu7rorr7nmoTnpL7ljLrvvZ48L3A+PHA+56S+5Yy65Lit6IGa6ZuG5LqG5ZCM6KGM5Lia55qE5aSn5L2s5bCP55m977yM5qyi6L+O5bCP5LyZ5Ly05Lus5LiA6LW35pG46bG877yBPC9wPjxhIGhyZWY9Imh0dHBzOi8vZmlzaHBpLmNuIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHBzOi8vczIubG9saS5uZXQvMjAyMi8wMS8wNS8xSHBCWlVyYU1jUjhpc3QucG5nIiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTsiLz48L2E+PC9kaXY+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGJyPjxhIGhyZWY9Imh0dHBzOi8vZG9jLnN0YWNrb3ZlcmZsb3cud2lraS93ZWIvIy8yMT9wYWdlX2lkPTEzOCIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJnaXZlTWVPbmVTdGFyIj7imJUg5aaC5p6c5oKo6KeJ5b6X6ISa5pys5aW955So77yM5qyi6L+O6K+35oiR5Zad5p2v5ZKW5ZWh77yM5oiR5bCG5Yqq5Yqb5pu05paw6ISa5pys5Yqf6IO9IOKdpO+4jzwvYT48YnI+JzsKICAgICAgICAgICAgY29uZmlnSFRNTCArPSAnPGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tL2FkbGVyZWQvQ1NETkdyZWVuZXIiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0iZ2l2ZU1lT25lU3RhciI+JyArIHN0YXJfc3ZnICsgJyA8Yj7ngrnmiJF+PC9iPiDliqjliqjlsI/miYvlnKggR2l0SHViIOeCueS4qiBTdGFyIOWSjOWFs+azqO+8jOaUr+aMgeaIkee7p+e7ree7tOaKpOiEmuacrCA6KTwvYT48YnI+PGJyPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxwPueJueWIq+aPkOekuu+8mkNTRE5HcmVlbmVyIOiEmuacrOS4jeaPkOS+m+S7u+S9leS8muWRmOaWh+eroOegtOino+OAgeS8muWRmOi1hOa6kOS4i+i9veWKn+iDve+8jOS7hemAgueUqOS6juWJjeerr+S8mOWMlu+8jOivt+WcqENTRE7lrpjmlrnmuKDpgZPotK3kubBDU0RO5Lya5ZGY5L2T6aqM5LuY6LS55Yqf6IO944CCPC9wPic7CiAgICAgICAgICAgIGNvbmZpZ0hUTUwgKz0gJzxociBzdHlsZT0iaGVpZ2h0OjFweDtib3JkZXI6bm9uZTtib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjY2NjO21hcmdpbjogNXB4IDBweCA1cHggMHB4OyIgLz4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8YnI+JzsKCiAgICAgICAgICAgIC8vIGNvbmZpZ0hUTUwgKz0gJzxhIGhyZWY9Imh0dHBzOi8vZG9jLnN0YWNrb3ZlcmZsb3cud2lraS93ZWIvIy8yMT9wYWdlX2lkPTEzOCIgdGFyZ2V0PSJfYmxhbmsiIHN0eWxlPSJtYXJnaW4tdG9wOiA1cHg7IGRpc3BsYXk6IGJsb2NrOyI+JyArIGRvbmF0ZV9zdmcgKyAnIOaIkeaYr+iAgeadv++8jOaKleW4geaJk+i1jzwvYT4nOwogICAgICAgICAgICBjb25maWdIVE1MICs9ICc8L2Rpdj48L2Rpdj48ZGl2IGlkPSJmYWRlIiBjbGFzcz0iYmxhY2tfb3ZlcmxheSI+PC9kaXY+JzsKICAgICAgICAgICAgbGV0IHNhdmVCdXR0b24gPSAnPGJ1dHRvbiBjbGFzcz0ic2F2ZUJ1dHRvbiIgc3R5bGU9InBvc2l0aW9uOiBzdGlja3k7dG9wOiA1cHg7bGVmdDogY2FsYygxMDAlIC0gODBweCk7IiBvbmNsaWNrPSJzYXZlQW5kUmVsb2FkKCk7Ij4nICsgc2F2ZV9zdmcgKyAnIOW6lOeUqDwvYnV0dG9uPic7CiAgICAgICAgICAgIC8vIOe7v+WMluWZqOiuvuWumgogICAgICAgICAgICAkKCJib2R5IikuYWZ0ZXIoJzxkaXYgaWQ9ImNvbmZpZ0NvbnRlbnQiIGNsYXNzPSJ3aGl0ZV9jb250ZW50Ij4nICsgc2F2ZUJ1dHRvbiArIGNvbmZpZ0hUTUwpOwoKICAgICAgICAgICAgLyoqIOmFjee9ruaOp+WItiAqKi8KICAgICAgICAgICAgLy8g5o6o6I2Q5YaF5a65CiAgICAgICAgICAgICQoIi5ibG9nLWNvbnRlbnQtYm94IikuYXBwZW5kKCI8YnI+PGRpdiBjbGFzcz0nYmxvZy1jb250ZW50LWJveCcgaWQ9J3JlY29tbWVuZFN3aXRjaCcgc3R5bGU9J3RleHQtYWxpZ246IHJpZ2h0Oyc+PC9kaXY+Iik7CiAgICAgICAgICAgICQoIiNyZWNvbW1lbmRTd2l0Y2g6bGFzdCIpLmFwcGVuZCgnPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0idG9nZ2xlLWJ1dHRvbiI+IDxsYWJlbCBmb3I9InRvZ2dsZS1idXR0b24iIGNsYXNzPSJidXR0b24tbGFiZWwiPiA8c3BhbiBjbGFzcz0iY2lyY2xlIj48L3NwYW4+IDxzcGFuIGNsYXNzPSJ0ZXh0IG9uIj4mbmJzcDs8L3NwYW4+IDxzcGFuIGNsYXNzPSJ0ZXh0IG9mZiI+Jm5ic3A7PC9zcGFuPiA8L2xhYmVsPicgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxwIHN0eWxlPSJtYXJnaW4tdG9wOiA1cHg7IGZvbnQtc2l6ZTogMTNweDsiPuaYvuekuuaOqOiNkOWGheWuuTwvcD4nKTsKICAgICAgICAgICAgbGV0IHJlY29tbWVuZENvb2tpZSA9IGNvbmZpZy5nZXQoInJlY29tbWVuZCIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFyZWNvbW1lbmRDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIi5yZWNvbW1lbmQtYm94IikuaGlkZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyZWNvbW1lbmRDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtcmVjb21tZW5kLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1yZWNvbW1lbmQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLXJlY29tbWVuZC1idXR0b24iLCAicmVjb21tZW5kIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyQoIi5yZWNvbW1lbmQtYm94Iikuc2xpZGVEb3duKDIwMCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyQoIi5yZWNvbW1lbmQtYm94Iikuc2xpZGVVcCgyMDApO30pOwogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uQW5kQWN0aW9uKCIjdG9nZ2xlLWJ1dHRvbiIsICJyZWNvbW1lbmQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyQoIi5yZWNvbW1lbmQtYm94Iikuc2xpZGVEb3duKDIwMCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyQoIi5yZWNvbW1lbmQtYm94Iikuc2xpZGVVcCgyMDApO30pOwoKICAgICAgICAgICAgLy8g5pi+56S65bCP5bqXCiAgICAgICAgICAgIGxldCBzaG9wQ29va2llID0gY29uZmlnLmdldCgnc2hvcCcsZmFsc2UpOwogICAgICAgICAgICBpZighc2hvcENvb2tpZSl7CiAgICAgICAgICAgICAgICAkKCIjY3Nkbi1zaG9wLXdpbmRvdyIpLmhpZGUoKTsKICAgICAgICAgICAgICAgICQoIiNjc2RuLXNob3Atd2luZG93LXRvcCIpLmhpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2hvcENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1zaG9wLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtc2hvcC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtc2hvcC1idXR0b24iLCAic2hvcCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKICAgICAgICAgICAgLy8g5L6n5qCP5bCP5bm/5ZGKCiAgICAgICAgICAgIGxldCBhZENvb2tpZSA9IGNvbmZpZy5nZXQoImFkIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChhZENvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAvLyAkKCIjcmVjb21tZW5kLXJpZ2h0IikuYXBwZW5kKCc8ZGl2IGlkPSJhc2lkZUFyY2hpdmUiIGNsYXNzPSJhc2lkZS1ib3giIHN0eWxlPSJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OyI+PGgzIGNsYXNzPSJhc2lkZS10aXRsZSI+5p2l6IeqIENTRE4g6ISa5pys55qE5bCP5bm/5ZGKPC9oMz48ZGl2IGNsYXNzPSJhc2lkZS1jb250ZW50Ij48dWwgY2xhc3M9ImluZl9saXN0IGNsZWFyZml4Ij48bGkgY2xhc3M9ImNsZWFyZml4Ij48Yj7mgqjlj6/lnKggPGEgb25jbGljaz0ic2hvd0NvbmZpZygpIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+6ISa5pys6K6+572uPC9hPiDkuK3msLjkuYXlhbPpl63lsI/lub/lkYo8YnI+5oSf6LCi5oKo55qE5pSv5oyBIOKdpO+4jzwvYj48YnI+PHAgc3R5bGU9ImZvbnQtc2l6ZTogNHB4O21hcmdpbi10b3A6IDEwcHg7Ij48Yj4yOeWFg+avj+aciO+8gTwvYj5DVEdOZXQgR0lBIOWbnueoi+S6lOe9kemrmOerr0NOMiBHSUEvR1TnvZHnu5zvvIzmlK/mjIFWUEPpq5jnuqfnvZHnu5w8YnI+5ouS57ud57uV6Lev77yM5ouS57ud5LiN56iz5a6a77yM5Yqp5Yqb5LyB5Lia5ouT5bGV5YWo55CD5Lia5YqhPGJyPuWuieWFqO+8jOeos+Wumu+8jOmrmOaAp+iDvTwvcD48L2xpPjxsaSBjbGFzcz0iY2xlYXJmaXgiPjxhIGhyZWY9Imh0dHBzOi8vd3d3LnRzeXZwcy5jb20vYWZmL0hFSFRQR1lMIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Imh0dHBzOi8vd3d3LnRzeXZwcy5jb20vaW1nL2dnLnBuZyIgc3R5bGU9IndpZHRoOiAyNjVweDtoZWlnaHQ6MTQ5cHgiPjwvYT48L2xpPjwvdWw+PC9kaXY+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hZC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWFkLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hZC1idXR0b24iLCAiYWQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwogICAgICAgICAgICAvLyDmmL7npLrkvZzogIXlkI3niYcKICAgICAgICAgICAgbGV0IGF1dGhvckNhcmRDb29raWUgPSBjb25maWcuZ2V0KCJhdXRob3JDYXJkIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmIChhdXRob3JDYXJkQ29va2llKSB7CiAgICAgICAgICAgICAgICAvLyDljZrkuLvkv6Hmga8KICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgnI2FzaWRlUHJvZmlsZScpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlUHJvZmlsZScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyIpOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoYXV0aG9yQ2FyZENvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRob3JjYXJkLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbmZpZy5saXN0ZW5CdXR0b24oIiN0b2dnbGUtYXV0aG9yY2FyZC1idXR0b24iLCAiYXV0aG9yQ2FyZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDlvLrliLbnmb3oibLkuLvpopgKICAgICAgICAgICAgbGV0IHdoaXRlVGhlbWVDb29raWUgPSBjb25maWcuZ2V0KCJ3aGl0ZVRoZW1lIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAod2hpdGVUaGVtZUNvb2tpZSkgewogICAgICAgICAgICAgICAgLy8g6IOM5pmv5Yig6ZmkCiAgICAgICAgICAgICAgICAkKCcubWFpbl9mYXRoZXInKS5hdHRyKCdzdHlsZScsICdiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQ7IGJhY2tncm91bmQtY29sb3I6ICNmNWY2Zjc7IGJhY2tncm91bmQ6ICNmNWY2Zjc7Jyk7CiAgICAgICAgICAgICAgICAkKCdbaHJlZl49Imh0dHBzOi8vY3NkbmltZy5jbi9yZWxlYXNlL3Bob2VuaXgvdGVtcGxhdGUvdGhlbWVzX3NraW4vIl0nKS5hdHRyKCdocmVmJywgJ2h0dHBzOi8vY3NkbmltZy5jbi9yZWxlYXNlL3Bob2VuaXgvdGVtcGxhdGUvdGhlbWVzX3NraW4vc2tpbi10ZWNobm9sb2d5L3NraW4tdGVjaG5vbG9neS02MzM2NTQ5NTU3Lm1pbi5jc3MnKTsKICAgICAgICAgICAgICAgICQoJyNjc2RuLXRvb2xiYXInKS5yZW1vdmVDbGFzcygnY3Nkbi10b29sYmFyLXNraW4tYmxhY2snKTsKICAgICAgICAgICAgICAgICQoJy5jc2RuLWxvZ28nKS5hdHRyKCdzcmMnLCAnLy9jc2RuaW1nLmNuL2Nkbi9jb250ZW50LXRvb2xiYXIvY3Nkbi1sb2dvLnBuZz92PTIwMjAwNDE2LjEnKTsKICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2Y1ZjZmNycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh3aGl0ZVRoZW1lQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXdoaXRldGhlbWUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS13aGl0ZXRoZW1lLWJ1dHRvbiIsICJ3aGl0ZVRoZW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOiDjOaZr+WbvgogICAgICAgICAgICBsZXQgYmFja2dyb3VuZEltYWdlID0gR01fZ2V0VmFsdWUoImJhY2tncm91bmRJbWFnZSIsICIiKTsKICAgICAgICAgICAgaWYgKGJhY2tncm91bmRJbWFnZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICQoIiNiYWNrZ3JvdW5kSW1nVXJsIikudmFsKGJhY2tncm91bmRJbWFnZSk7CiAgICAgICAgICAgICAgICAkKCIubWFpbl9mYXRoZXIiKS5hdHRyKCdzdHlsZScsICdiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgYmFja2dyb3VuZEltYWdlICsgJyk7YmFja2dyb3VuZC1hdHRhY2htZW50OmZpeGVkO2JhY2tncm91bmQtc2l6ZToxMDAlOycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICQoJyNiYWNrZ3JvdW5kSW1nVXJsJykub24oJ2lucHV0JywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZSgiYmFja2dyb3VuZEltYWdlIiwgJCgiI2JhY2tncm91bmRJbWdVcmwiKS52YWwoKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCcjYmFja2dyb3VuZEltZ1VybCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCJiYWNrZ3JvdW5kSW1hZ2UiLCAkKCIjYmFja2dyb3VuZEltZ1VybCIpLnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiN1cGxvYWRfYmciKS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBsZXQgZmlsZSA9ICQoIiN1cGxvYWRfYmciKVswXS5maWxlc1swXTsKICAgICAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGJhc2U2NCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAkKCcjYmFja2dyb3VuZEltZ1VybCcpLnZhbChiYXNlNjQpOwogICAgICAgICAgICAgICAgICAgICQoJyNiYWNrZ3JvdW5kSW1nVXJsJykuY2hhbmdlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAvLyDmkJzljZrkuLvmlofnq6AKICAgICAgICAgICAgbGV0IHNlYXJjaEJsb2dDb29raWUgPSBjb25maWcuZ2V0KCJzZWFyY2hCbG9nIiwgZmFsc2UpOwogICAgICAgICAgICBpZihzZWFyY2hCbG9nQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoJyNhc2lkZVNlYXJjaEFydGljbGUnKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZVNlYXJjaEFydGljbGUnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsiKTsKICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICQoIiNzZWFyY2gtYmxvZy13b3JkcyIpCiAgICAgICAgICAgICAgICAgICAgICAsIG4gPSAkKCIuYnRuLXNlYXJjaC1ibG9nIik7CiAgICAgICAgICAgICAgICAgICAgaS5rZXl1cChmdW5jdGlvbih0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdC5rZXlDb2RlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoMTMgPT0gbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBlbmNvZGVVUklDb21wb25lbnQoaS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gIi8vc28uY3Nkbi5uZXQvc28vc2VhcmNoL3MuZG8/cT0iICsgZSArICImdD1ibG9nJnU9IiArIHVzZXJuYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBuLm9uKCJjbGljayIsIGZ1bmN0aW9uKHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBlbmNvZGVVUklDb21wb25lbnQoaS52YWwoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICIvL3NvLmNzZG4ubmV0L3NvL3NlYXJjaC9zLmRvP3E9IiArIG4gKyAiJnQ9YmxvZyZ1PSIgKyB1c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChzZWFyY2hCbG9nQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXNlYXJjaGJsb2ctYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1zZWFyY2hibG9nLWJ1dHRvbiIsICJzZWFyY2hCbG9nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOacgOaWsOaWh+eroAogICAgICAgICAgICBsZXQgbmV3QXJ0aWNsZUNvb2tpZSA9IGNvbmZpZy5nZXQoIm5ld0FydGljbGUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChuZXdBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoJyNhc2lkZU5ld0FydGljbGUnKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZU5ld0FydGljbGUnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsiKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChuZXdBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLW5ld2FydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1uZXdhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1uZXdhcnRpY2xlLWJ1dHRvbiIsICJuZXdBcnRpY2xlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOeDremXqOaWh+eroAogICAgICAgICAgICBsZXQgaG90QXJ0aWNsZUNvb2tpZSA9IGNvbmZpZy5nZXQoImhvdEFydGljbGUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmIChob3RBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCcjcmVjb21tZW5kLXJpZ2h0JykuYXBwZW5kKCQoIiNhc2lkZUhvdEFydGljbGUiKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZUhvdEFydGljbGUnKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsiKTsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVIb3RBcnRpY2xlIGltZycpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGhvdEFydGljbGVDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtaG90YXJ0aWNsZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWhvdGFydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWhvdGFydGljbGUtYnV0dG9uIiwgImhvdEFydGljbGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5pyA5paw6K+E6K66CiAgICAgICAgICAgIGxldCBuZXdDb21tZW50c0Nvb2tpZSA9IGNvbmZpZy5nZXQoIm5ld0NvbW1lbnRzIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAobmV3Q29tbWVudHNDb29raWUpIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgiI2FzaWRlTmV3Q29tbWVudHMiKS5wcm9wKCJvdXRlckhUTUwiKSk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJyNhc2lkZU5ld0NvbW1lbnRzJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7Iik7CiAgICAgICAgICAgICAgICAgICAgJCgiLmNvbW1lbnQuZWxsaXBzaXMiKS5hdHRyKCJzdHlsZSIsICJtYXgtaGVpZ2h0OiBub25lOyIpOwogICAgICAgICAgICAgICAgICAgICQoIi50aXRsZS50ZXh0LXRydW5jYXRlIikuYXR0cigic3R5bGUiLCAicGFkZGluZzogMCIpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG5ld0NvbW1lbnRzQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLW5ld2NvbW1lbnRzLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtbmV3Y29tbWVudHMtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLW5ld2NvbW1lbnRzLWJ1dHRvbiIsICJuZXdDb21tZW50cyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDliIbnsbvkuJPmoI8KICAgICAgICAgICAgbGV0IGtpbmRQZXJzb25Db29raWUgPSBjb25maWcuZ2V0KCJraW5kUGVyc29uIiwgZmFsc2UpOwogICAgICAgICAgICBpZiAoIWtpbmRQZXJzb25Db29raWUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlQ2F0ZWdvcnknKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAkKCcua2luZF9wZXJzb24nKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmFwcGVuZCgkKCIjYXNpZGVDYXRlZ29yeSIpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIGlmICgkKCIjYXNpZGVDYXRlZ29yeSIpLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAkKCcua2luZF9wZXJzb24nKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJCgnLmtpbmRfcGVyc29uJykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7IGhlaWdodDoyNTVweDsiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlQ2F0ZWdvcnknKS5hdHRyKCJzdHlsZSIsICJtYXJnaW4tdG9wOiA4cHg7IHdpZHRoOiAzMDBweDsgZGlzcGxheTpibG9jayAhaW1wb3J0YW50OyIpOwogICAgICAgICAgICAgICAgICAgICQoImEuZmxleGlibGUtYnRuIikuY2xpY2soZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50cygnZGl2LmFzaWRlLWJveCcpLnJlbW92ZUNsYXNzKCdmbGV4aWJsZS1ib3gnKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCJwLnRleHQtY2VudGVyIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGtpbmRQZXJzb25Db29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUta2luZHBlcnNvbi1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWtpbmRwZXJzb24tYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWtpbmRwZXJzb24tYnV0dG9uIiwgImtpbmRQZXJzb24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g55uu5b2VCiAgICAgICAgICAgIGxldCBjb250ZW50Q29va2llID0gY29uZmlnLmdldCgiY29udGVudCIsIHRydWUpOwogICAgICAgICAgICBpZiAoIWNvbnRlbnRDb29raWUpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnLmFsaWduLWl0ZW1zLXN0cmV0Y2guZ3JvdXBfaXRlbScpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNvbnRlbnRDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtY29udGVudC1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWNvbnRlbnQtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWNvbnRlbnQtYnV0dG9uIiwgImNvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5o6o6I2Q5paH56ugCiAgICAgICAgICAgIGxldCByZWNvbW1lbmRBcnRpY2xlQ29va2llID0gY29uZmlnLmdldCgicmVjb21tZW5kQXJ0aWNsZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKCFyZWNvbW1lbmRBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoJy5yZWNvbW1lbmQtbGlzdC1ib3gnKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcucmVjb21tZW5kLWxpc3QtYm94JykuYXR0cigic3R5bGUiLCAibWFyZ2luLXRvcDogOHB4OyB3aWR0aDogMzAwcHg7IGhlaWdodDoyNTVweDsiKTsKICAgICAgICAgICAgICAgIH0sIDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyZWNvbW1lbmRBcnRpY2xlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLXJlY29tbWVuZGFydGljbGUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1yZWNvbW1lbmRhcnRpY2xlLWJ1dHRvbiIsICJyZWNvbW1lbmRBcnRpY2xlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOW9kuahowogICAgICAgICAgICBsZXQgYXJjaGl2ZUNvb2tpZSA9IGNvbmZpZy5nZXQoImFyY2hpdmUiLCBmYWxzZSk7CiAgICAgICAgICAgIGlmICghYXJjaGl2ZUNvb2tpZSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAkKCcjYXNpZGVBcmNoaXZlJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICB9LCAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoJyNyZWNvbW1lbmQtcmlnaHQnKS5hcHBlbmQoJCgiI2FzaWRlQXJjaGl2ZSIpLnByb3AoIm91dGVySFRNTCIpKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI2FzaWRlQXJjaGl2ZScpLmF0dHIoInN0eWxlIiwgIm1hcmdpbi10b3A6IDhweDsgd2lkdGg6IDMwMHB4OyBkaXNwbGF5OmJsb2NrICFpbXBvcnRhbnQ7Iik7CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhcmNoaXZlQ29va2llKSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWFyY2hpdmUtYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hcmNoaXZlLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hcmNoaXZlLWJ1dHRvbiIsICJhcmNoaXZlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOiHquWKqOmdoOW3puW5s+mTugogICAgICAgICAgICBsZXQgYXV0b1NpemVDb29raWUgPSBjb25maWcuZ2V0KCJhdXRvU2l6ZSIsIGZhbHNlKTsKICAgICAgICAgICAgaWYgKGF1dG9TaXplQ29va2llKSB7CiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5paH56ug5a695bqm6Ieq6YCC5bqUCiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDwgMTEwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDliKDpmaTljp/mnInlk43lupTlvI/moLflvI8KICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm1haW5fZmF0aGVyIikucmVtb3ZlQ2xhc3MoImp1c3RpZnktY29udGVudC1jZW50ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiYXJ0aWNsZSIpLndpZHRoKHdpbmRvdy5pbm5lcldpZHRoIC0gMTUwKTsKICAgICAgICAgICAgICAgICAgICAgICAgR01fYWRkU3R5bGUoYAogICAgICAgICAgICAgICAgICAgICAgICBtYWluewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGF1dG8haW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQ6IG5vbmUhaW1wb3J0YW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA5MHZ3OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIG1haW4gYXJ0aWNsZSBpbWd7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGApOwogICAgICAgICAgICAgICAgICAgICAgICBkaWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWQgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoImFydGljbGUiKS5yZW1vdmVBdHRyKCJzdHlsZSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhdXRvU2l6ZUNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvc2l6ZS1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9zaXplLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hdXRvc2l6ZS1idXR0b24iLCAiYXV0b1NpemUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g6Ieq5Yqo6ZqQ6JeP6aG25qCPCiAgICAgICAgICAgIGxldCBhdXRvSGlkZVRvb2xiYXJDb29raWUgPSBjb25maWcuZ2V0KCJhdXRvSGlkZVRvb2xiYXIiLCB0cnVlKTsKICAgICAgICAgICAgaWYgKGF1dG9IaWRlVG9vbGJhckNvb2tpZSkgewogICAgICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA+IDEwMCkgewogICAgICAgICAgICAgICAgCSAgICBsZXQgc2Nyb2xsUyA9ICQodGhpcykuc2Nyb2xsVG9wKCk7CiAgICAgICAgICAgICAgICAJICAgIGlmIChzY3JvbGxTID49IHdpbmRvd1RvcCkgewogICAgICAgICAgICAgICAgCSAgICAJJCgnI2NzZG4tdG9vbGJhcicpLnNsaWRlVXAoMTAwKTsKICAgICAgICAgICAgICAgIAkgICAgCXdpbmRvd1RvcCA9IHNjcm9sbFM7CiAgICAgICAgICAgICAgICAJICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAJICAgIAkkKCcjY3Nkbi10b29sYmFyJykuc2xpZGVEb3duKDEwMCk7CiAgICAgICAgICAgICAgICAJICAgIAl3aW5kb3dUb3AgPSBzY3JvbGxTOwogICAgICAgICAgICAgICAgCSAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGF1dG9IaWRlVG9vbGJhckNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIHRydWUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvaGlkZXRvb2xiYXItYnV0dG9uIikucHJvcCgiY2hlY2tlZCIsIGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25maWcubGlzdGVuQnV0dG9uKCIjdG9nZ2xlLWF1dG9oaWRldG9vbGJhci1idXR0b24iLCAiYXV0b0hpZGVUb29sYmFyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9KTsKCiAgICAgICAgICAgIC8vIOiHquWKqOmakOiXj+W6leagjwogICAgICAgICAgICBsZXQgYXV0b0hpZGVCb3R0b21CYXJDb29raWUgPSBjb25maWcuZ2V0KCJhdXRvSGlkZUJvdHRvbUJhciIsIHRydWUpOwogICAgICAgICAgICBpZiAoYXV0b0hpZGVCb3R0b21CYXJDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b29sQmFyQm94IC5sZWZ0LXRvb2xib3giKS5jc3MoewogICAgICAgICAgICAgICAgCXBvc2l0aW9uOiAicmVsYXRpdmUiLAogICAgICAgICAgICAgICAgCWxlZnQ6ICIwcHgiLAogICAgICAgICAgICAgICAgCWJvdHRvbTogIjAiLAogICAgICAgICAgICAgICAgCXdpZHRoOiAkKCIjdG9vbEJhckJveCIpLndpZHRoKCkgKyAicHgiCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAJJCgiI3Rvb2xCYXJCb3ggLmxlZnQtdG9vbGJveCIpLmNzcyh7CiAgICAgICAgICAgICAgICAJCXBvc2l0aW9uOiAicmVsYXRpdmUiLAogICAgICAgICAgICAgICAgCQlsZWZ0OiAiMHB4IiwKICAgICAgICAgICAgICAgIAkJYm90dG9tOiAiMCIsCiAgICAgICAgICAgICAgICAJCXdpZHRoOiAkKCIjdG9vbEJhckJveCIpLndpZHRoKCkgKyAicHgiCiAgICAgICAgICAgICAgICAJfSkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhdXRvSGlkZUJvdHRvbUJhckNvb2tpZSkgewogICAgICAgICAgICAgICAgJCgiI3RvZ2dsZS1hdXRvaGlkZWJvdHRvbWJhci1idXR0b24iKS5wcm9wKCJjaGVja2VkIiwgdHJ1ZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKCIjdG9nZ2xlLWF1dG9oaWRlYm90dG9tYmFyLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS1hdXRvaGlkZWJvdHRvbWJhci1idXR0b24iLCAiYXV0b0hpZGVCb3R0b21CYXIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge2xvY2F0aW9uLnJlbG9hZCgpO30pOwoKICAgICAgICAgICAgLy8g5Yib5L2c5Lit5b+D5oyJ6ZKuCiAgICAgICAgICAgIGxldCB3cml0ZUJsb2dDb29raWUgPSBjb25maWcuZ2V0KCJ3cml0ZUJsb2ciLCB0cnVlKTsKICAgICAgICAgICAgaWYgKCF3cml0ZUJsb2dDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIi50b29sYmFyLWJ0bi13cml0ZSIpLnJlbW92ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh3cml0ZUJsb2dDb29raWUpIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQoIiN0b2dnbGUtd3JpdGVibG9nLWJ1dHRvbiIpLnByb3AoImNoZWNrZWQiLCBmYWxzZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uZmlnLmxpc3RlbkJ1dHRvbigiI3RvZ2dsZS13cml0ZWJsb2ctYnV0dG9uIiwgIndyaXRlQmxvZyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtsb2NhdGlvbi5yZWxvYWQoKTt9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7bG9jYXRpb24ucmVsb2FkKCk7fSk7CgogICAgICAgICAgICAvLyDlj7Pkvqfmu5rliqjmnaEKICAgICAgICAgICAgLyoqIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbGV0IHJpZ2h0U2lkZUhlaWdodCA9IDA7CiAgICAgICAgICAgICAgICBsZXQgcGFnZUhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgnLmFsaWduLWl0ZW1zLXN0cmV0Y2guZ3JvdXBfaXRlbScpLnBhcmVudCgpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlUHJvZmlsZSIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlU2VhcmNoQXJ0aWNsZSIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlTmV3QXJ0aWNsZSIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlSG90QXJ0aWNsZSIpKTsKICAgICAgICAgICAgICAgIHJpZ2h0U2lkZUhlaWdodCArPSBnZXRIZWlnaHQoJCgiI2FzaWRlTmV3Q29tbWVudHMiKSk7CiAgICAgICAgICAgICAgICByaWdodFNpZGVIZWlnaHQgKz0gZ2V0SGVpZ2h0KCQoIiNhc2lkZUNhdGVnb3J5IikpOwogICAgICAgICAgICAgICAgcmlnaHRTaWRlSGVpZ2h0ICs9IGdldEhlaWdodCgkKCIjYXNpZGVBcmNoaXZlIikpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiUmlnaHQgc2lkZSB0b3RhbCBoZWlnaHQ6ICIgKyByaWdodFNpZGVIZWlnaHQpOwogICAgICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygiUGFnZSBoZWlnaHQ6ICIgKyBwYWdlSGVpZ2h0KTsKICAgICAgICAgICAgICAgIGlmIChyaWdodFNpZGVIZWlnaHQgPiBwYWdlSGVpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgJCgnI3JlY29tbWVuZC1yaWdodCcpLmNzcygib3ZlcmZsb3ciLCAic2Nyb2xsIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDE1MDApOyAqLwogICAgICAgIH0gZWxzZSBpZiAobnVtID09PSA3KSB7CiAgICAgICAgICAgICQoIi5tZV9yIilbMV0ucmVtb3ZlKCk7CiAgICAgICAgfSBlbHNlIGlmIChudW0gPT09IDgpIHsKICAgICAgICAgICAgLyogJCgiLmFydGljbGUtYmFyLXRvcCIpLmFwcGVuZCgiPGJyPiIpOwogICAgICAgICAgICAkKCIuYXJ0aWNsZS1iYXItdG9wIikuYXBwZW5kKCQoIi5hc2lkZS1ib3gtZm9vdGVyQ2xhc3NpZnkiKS5jaGlsZHJlbigiZGQiKS5odG1sKCkpOwogICAgICAgICAgICAkKCJkbCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgICB2YXIga2V5ID0gJCh0aGlzKS5jaGlsZHJlbigiZHQiKTsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9ICQodGhpcykuY2hpbGRyZW4oImRkIikuY2hpbGRyZW4oInNwYW4iKTsKICAgICAgICAgICAgICAgIGlmIChrZXkuaHRtbCgpLmluZGV4T2YoIuWOn+WImyIpICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gJCh0aGlzKS5jaGlsZHJlbigiZHQiKS5jaGlsZHJlbigiYSIpCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAkKHRoaXMpLmNoaWxkcmVuKCJkZCIpLmNoaWxkcmVuKCJhIikuY2hpbGRyZW4oInNwYW4iKTsKICAgICAgICAgICAgICAgICAgICBhZGRJbmZvKGtleSwgdmFsdWUpOwogICAgICAgICAgICAgICAgfSBlbHNlCiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaHRtbCgpICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIGFkZEluZm8oa2V5LCB2YWx1ZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gKTsKICAgICAgICAgICAgZnVuY3Rpb24gYWRkSW5mbyhrZXksIHZhbHVlKSB7CiAgICAgICAgICAgICAgICB2YXIgYmluZCA9IGtleS5odG1sKCkgKyAiJm5ic3A7IiArIHZhbHVlLmh0bWwoKSArICImbmJzcDsmbmJzcDsiOwogICAgICAgICAgICAgICAgJCgiLmFydGljbGUtYmFyLXRvcCIpLmFwcGVuZChiaW5kICsgIiAiKTsKICAgICAgICAgICAgfSAqLwogICAgICAgICAgICAkKCIuYmxvZ19jb250YWluZXJfYXNpZGUiKS5yZW1vdmUoKTsKICAgICAgICAgICAgJCgiLnRvb2xib3gtbGVmdCA+IC5wcm9maWxlLWF0dGVuZCIpLnJlbW92ZSgpOwoKICAgICAgICAgICAgLy8g5qCH6aKY5raI5oGv5o+Q6YaS5Y676ZmkCiAgICAgICAgICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LnRpdGxlLnJlcGxhY2UoL15cKC4qP1wpL2csICIiKTsKICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsKICAgICAgICAgICAgLy8g6K+E6K665aSN5Yi25oyJ6ZKuCiAgICAgICAgICAgICQoJy5jb21tZW50LWJveCcpLnByZXBlbmQoJzxidXR0b24gY2xhc3M9ImNvbW1lbnQtaGlkZGVuLXRleHQiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkNPUFkgQlVUVE9OPC9idXR0b24+Jyk7CiAgICAgICAgICAgICQoJy5uZXctb3B0LWJveC5uZXctb3B0LWJveC1iZycpLnByZXBlbmQoJzxhIGNsYXNzPSJidG4gYnRuLXJlcG9ydCBidG4tY29weSIgb25jbGljaz0iamF2YXNjcmlwdDokKFwnLmNvbW1lbnQtaGlkZGVuLXRleHRcJykuYXR0cihcJ2RhdGEtY2xpcGJvYXJkLXRleHRcJywkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoXCcubmV3LWNvbW1lbnRcJykudGV4dCgpKSI+5aSN5Yi26K+E6K66PC9hPjxzcGFuIGNsYXNzPSJidG4tYmFyIj48L3NwYW4+Jyk7CiAgICAgICAgICAgICQoJy5idG4tY29weScpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygnLmNvbW1lbnQtaGlkZGVuLXRleHQnKTsKICAgICAgICAgICAgICAgIGNsaXBib2FyZC5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ0FjdGlvbjonLCBlLmFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdUZXh0OicsIGUudGV4dCk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdUcmlnZ2VyOicsIGUudHJpZ2dlcik7CiAgICAgICAgICAgICAgICAgICAgZS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+aIkOWKnycpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+WkjeWItuivhOiuuicpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjbGlwYm9hcmQub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0FjdGlvbjonLCBlLmFjdGlvbik7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJpZ2dlcjonLCBlLnRyaWdnZXIpOwogICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+Wksei0pe+8jOivt+aJi+WKqOWkjeWIticpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5idG4tY29weScpLmh0bWwoJ+WkjeWItuivhOiuuicpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCIuY29tbWVudC1oaWRkZW4tdGV4dCIpLmNsaWNrKCk7CiAgICAgICAgICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKG51bSA9PT0gOSkgewogICAgICAgICAgICAvLyDliKDpmaRDU0ROIExPR0/mgqzmta7lkI7nmoTkuoznu7TnoIEKICAgICAgICAgICAgJCgiLnRvb2xiYXItc3ViTWVudSA+IGltZyIpLnBhcmVudCgpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0sIDEwMCk7CiAgICBwcm9ncmVzc29yLmluY1Byb2dyZXNzKDEwKTsKfQoKZnVuY3Rpb24gc2hvd1RpcHMoKSB7Cgl2YXIgY29uZmlnID0gewoJCWNvbnRlbnQ6ICLmrKLov47kvb/nlKggQ1NETkdyZWVuZXLvvIznu7/ljJborr7lrprmjInpkq7lnKjov5nph4zvvIE8YnI+PGEgb25jbGljaz0namF2YXNjcmlwdDokKFwiLnRyaXBzXCIpLnJlbW92ZSgpOyc+5aW955qE77yM5Lul5ZCO5LiN5YaN5o+Q56S65oiRPC9hPiIsCgkJdHlwZTogImh0bWwiLAoJCWFsaWduVG86IFsiYm90dG9tIiwgInJpZ2h0Il0sCgkJdHJpZ2dlcjogInNob3ciLAoJCWlzY2xvc2U6IGZhbHNlLAoJCWNvbG9yOiBbIiNCMkUyODEiLCAiI0IyRTI4MSJdCgl9OwoJJCgiI2dyZWVuZXJTZXR0aW5ncyIpLnNob3dUaXBzKGNvbmZpZyk7Cn0KCmZ1bmN0aW9uIGdldEhlaWdodChlbGVtZW50KSB7CiAgICBsZXQgb3V0ZXJIZWlnaHQgPSBlbGVtZW50Lm91dGVySGVpZ2h0KCk7CiAgICBpZiAob3V0ZXJIZWlnaHQgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gMDsKICAgIH0KICAgIHJldHVybiBvdXRlckhlaWdodDsKfQoKZnVuY3Rpb24gaXNGaXJlZm94KCkgewogICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveCIpID4gMDsKfQo=","requires":[{"meta":{"name":"jquery.cookie.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery-cookie/1.4.1/jquery.cookie.min.js","ts":1749825500750,"mimetype":"text/javascript"},"source":"LyohIGpxdWVyeS5jb29raWUgdjEuNC4xIHwgTUlUICovCiFmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGEpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9hKHJlcXVpcmUoImpxdWVyeSIpKTphKGpRdWVyeSl9KGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGgucmF3P2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGgucmF3P2E6ZGVjb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGIoaC5qc29uP0pTT04uc3RyaW5naWZ5KGEpOlN0cmluZyhhKSl9ZnVuY3Rpb24gZShhKXswPT09YS5pbmRleE9mKCciJykmJihhPWEuc2xpY2UoMSwtMSkucmVwbGFjZSgvXFwiL2csJyInKS5yZXBsYWNlKC9cXFxcL2csIlxcIikpO3RyeXtyZXR1cm4gYT1kZWNvZGVVUklDb21wb25lbnQoYS5yZXBsYWNlKGcsIiAiKSksaC5qc29uP0pTT04ucGFyc2UoYSk6YX1jYXRjaChiKXt9fWZ1bmN0aW9uIGYoYixjKXt2YXIgZD1oLnJhdz9iOmUoYik7cmV0dXJuIGEuaXNGdW5jdGlvbihjKT9jKGQpOmR9dmFyIGc9L1wrL2csaD1hLmNvb2tpZT1mdW5jdGlvbihlLGcsaSl7aWYodm9pZCAwIT09ZyYmIWEuaXNGdW5jdGlvbihnKSl7aWYoaT1hLmV4dGVuZCh7fSxoLmRlZmF1bHRzLGkpLCJudW1iZXIiPT10eXBlb2YgaS5leHBpcmVzKXt2YXIgaj1pLmV4cGlyZXMsaz1pLmV4cGlyZXM9bmV3IERhdGU7ay5zZXRUaW1lKCtrKzg2NGU1KmopfXJldHVybiBkb2N1bWVudC5jb29raWU9W2IoZSksIj0iLGQoZyksaS5leHBpcmVzPyI7IGV4cGlyZXM9IitpLmV4cGlyZXMudG9VVENTdHJpbmcoKToiIixpLnBhdGg/IjsgcGF0aD0iK2kucGF0aDoiIixpLmRvbWFpbj8iOyBkb21haW49IitpLmRvbWFpbjoiIixpLnNlY3VyZT8iOyBzZWN1cmUiOiIiXS5qb2luKCIiKX1mb3IodmFyIGw9ZT92b2lkIDA6e30sbT1kb2N1bWVudC5jb29raWU/ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7ICIpOltdLG49MCxvPW0ubGVuZ3RoO28+bjtuKyspe3ZhciBwPW1bbl0uc3BsaXQoIj0iKSxxPWMocC5zaGlmdCgpKSxyPXAuam9pbigiPSIpO2lmKGUmJmU9PT1xKXtsPWYocixnKTticmVha31lfHx2b2lkIDA9PT0ocj1mKHIpKXx8KGxbcV09cil9cmV0dXJuIGx9O2guZGVmYXVsdHM9e30sYS5yZW1vdmVDb29raWU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdm9pZCAwPT09YS5jb29raWUoYik/ITE6KGEuY29va2llKGIsIiIsYS5leHRlbmQoe30sYyx7ZXhwaXJlczotMX0pKSwhYS5jb29raWUoYikpfX0pOw=="},{"meta":{"name":"nprogress.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/nprogress/0.2.0/nprogress.min.js","ts":1749825500769,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKG4sZSl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUoKTpuLk5Qcm9ncmVzcz1lKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sZSx0KXtyZXR1cm4gZT5uP2U6bj50P3Q6bn1mdW5jdGlvbiBlKG4pe3JldHVybiAxMDAqKC0xK24pfWZ1bmN0aW9uIHQobix0LHIpe3ZhciBpO3JldHVybiBpPSJ0cmFuc2xhdGUzZCI9PT1jLnBvc2l0aW9uVXNpbmc/e3RyYW5zZm9ybToidHJhbnNsYXRlM2QoIitlKG4pKyIlLDAsMCkifToidHJhbnNsYXRlIj09PWMucG9zaXRpb25Vc2luZz97dHJhbnNmb3JtOiJ0cmFuc2xhdGUoIitlKG4pKyIlLDApIn06eyJtYXJnaW4tbGVmdCI6ZShuKSsiJSJ9LGkudHJhbnNpdGlvbj0iYWxsICIrdCsibXMgIityLGl9ZnVuY3Rpb24gcihuLGUpe3ZhciB0PSJzdHJpbmciPT10eXBlb2Ygbj9uOm8obik7cmV0dXJuIHQuaW5kZXhPZigiICIrZSsiICIpPj0wfWZ1bmN0aW9uIGkobixlKXt2YXIgdD1vKG4pLGk9dCtlO3IodCxlKXx8KG4uY2xhc3NOYW1lPWkuc3Vic3RyaW5nKDEpKX1mdW5jdGlvbiBzKG4sZSl7dmFyIHQsaT1vKG4pO3IobixlKSYmKHQ9aS5yZXBsYWNlKCIgIitlKyIgIiwiICIpLG4uY2xhc3NOYW1lPXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSkpfWZ1bmN0aW9uIG8obil7cmV0dXJuKCIgIisobi5jbGFzc05hbWV8fCIiKSsiICIpLnJlcGxhY2UoL1xzKy9naSwiICIpfWZ1bmN0aW9uIGEobil7biYmbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9dmFyIHU9e307dS52ZXJzaW9uPSIwLjIuMCI7dmFyIGM9dS5zZXR0aW5ncz17bWluaW11bTouMDgsZWFzaW5nOiJlYXNlIixwb3NpdGlvblVzaW5nOiIiLHNwZWVkOjIwMCx0cmlja2xlOiEwLHRyaWNrbGVSYXRlOi4wMix0cmlja2xlU3BlZWQ6ODAwLHNob3dTcGlubmVyOiEwLGJhclNlbGVjdG9yOidbcm9sZT0iYmFyIl0nLHNwaW5uZXJTZWxlY3RvcjonW3JvbGU9InNwaW5uZXIiXScscGFyZW50OiJib2R5Iix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0iYmFyIiByb2xlPSJiYXIiPjxkaXYgY2xhc3M9InBlZyI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0ic3Bpbm5lciIgcm9sZT0ic3Bpbm5lciI+PGRpdiBjbGFzcz0ic3Bpbm5lci1pY29uIj48L2Rpdj48L2Rpdj4nfTt1LmNvbmZpZ3VyZT1mdW5jdGlvbihuKXt2YXIgZSx0O2ZvcihlIGluIG4pdD1uW2VdLHZvaWQgMCE9PXQmJm4uaGFzT3duUHJvcGVydHkoZSkmJihjW2VdPXQpO3JldHVybiB0aGlzfSx1LnN0YXR1cz1udWxsLHUuc2V0PWZ1bmN0aW9uKGUpe3ZhciByPXUuaXNTdGFydGVkKCk7ZT1uKGUsYy5taW5pbXVtLDEpLHUuc3RhdHVzPTE9PT1lP251bGw6ZTt2YXIgaT11LnJlbmRlcighcikscz1pLnF1ZXJ5U2VsZWN0b3IoYy5iYXJTZWxlY3Rvciksbz1jLnNwZWVkLGE9Yy5lYXNpbmc7cmV0dXJuIGkub2Zmc2V0V2lkdGgsbChmdW5jdGlvbihuKXsiIj09PWMucG9zaXRpb25Vc2luZyYmKGMucG9zaXRpb25Vc2luZz11LmdldFBvc2l0aW9uaW5nQ1NTKCkpLGYocyx0KGUsbyxhKSksMT09PWU/KGYoaSx7dHJhbnNpdGlvbjoibm9uZSIsb3BhY2l0eToxfSksaS5vZmZzZXRXaWR0aCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihpLHt0cmFuc2l0aW9uOiJhbGwgIitvKyJtcyBsaW5lYXIiLG9wYWNpdHk6MH0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt1LnJlbW92ZSgpLG4oKX0sbyl9LG8pKTpzZXRUaW1lb3V0KG4sbyl9KSx0aGlzfSx1LmlzU3RhcnRlZD1mdW5jdGlvbigpe3JldHVybiJudW1iZXIiPT10eXBlb2YgdS5zdGF0dXN9LHUuc3RhcnQ9ZnVuY3Rpb24oKXt1LnN0YXR1c3x8dS5zZXQoMCk7dmFyIG49ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dS5zdGF0dXMmJih1LnRyaWNrbGUoKSxuKCkpfSxjLnRyaWNrbGVTcGVlZCl9O3JldHVybiBjLnRyaWNrbGUmJm4oKSx0aGlzfSx1LmRvbmU9ZnVuY3Rpb24obil7cmV0dXJuIG58fHUuc3RhdHVzP3UuaW5jKC4zKy41Kk1hdGgucmFuZG9tKCkpLnNldCgxKTp0aGlzfSx1LmluYz1mdW5jdGlvbihlKXt2YXIgdD11LnN0YXR1cztyZXR1cm4gdD8oIm51bWJlciIhPXR5cGVvZiBlJiYoZT0oMS10KSpuKE1hdGgucmFuZG9tKCkqdCwuMSwuOTUpKSx0PW4odCtlLDAsLjk5NCksdS5zZXQodCkpOnUuc3RhcnQoKX0sdS50cmlja2xlPWZ1bmN0aW9uKCl7cmV0dXJuIHUuaW5jKE1hdGgucmFuZG9tKCkqYy50cmlja2xlUmF0ZSl9LGZ1bmN0aW9uKCl7dmFyIG49MCxlPTA7dS5wcm9taXNlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiYicmVzb2x2ZWQiIT09dC5zdGF0ZSgpPygwPT09ZSYmdS5zdGFydCgpLG4rKyxlKyssdC5hbHdheXMoZnVuY3Rpb24oKXtlLS0sMD09PWU/KG49MCx1LmRvbmUoKSk6dS5zZXQoKG4tZSkvbil9KSx0aGlzKTp0aGlzfX0oKSx1LnJlbmRlcj1mdW5jdGlvbihuKXtpZih1LmlzUmVuZGVyZWQoKSlyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5wcm9ncmVzcyIpO2koZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJucHJvZ3Jlc3MtYnVzeSIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuaWQ9Im5wcm9ncmVzcyIsdC5pbm5lckhUTUw9Yy50ZW1wbGF0ZTt2YXIgcixzPXQucXVlcnlTZWxlY3RvcihjLmJhclNlbGVjdG9yKSxvPW4/Ii0xMDAiOmUodS5zdGF0dXN8fDApLGw9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnBhcmVudCk7cmV0dXJuIGYocyx7dHJhbnNpdGlvbjoiYWxsIDAgbGluZWFyIix0cmFuc2Zvcm06InRyYW5zbGF0ZTNkKCIrbysiJSwwLDApIn0pLGMuc2hvd1NwaW5uZXJ8fChyPXQucXVlcnlTZWxlY3RvcihjLnNwaW5uZXJTZWxlY3RvciksciYmYShyKSksbCE9ZG9jdW1lbnQuYm9keSYmaShsLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpLGwuYXBwZW5kQ2hpbGQodCksdH0sdS5yZW1vdmU9ZnVuY3Rpb24oKXtzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibnByb2dyZXNzLWJ1c3kiKSxzKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy5wYXJlbnQpLCJucHJvZ3Jlc3MtY3VzdG9tLXBhcmVudCIpO3ZhciBuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKTtuJiZhKG4pfSx1LmlzUmVuZGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJucHJvZ3Jlc3MiKX0sdS5nZXRQb3NpdGlvbmluZ0NTUz1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmJvZHkuc3R5bGUsZT0iV2Via2l0VHJhbnNmb3JtImluIG4/IldlYmtpdCI6Ik1velRyYW5zZm9ybSJpbiBuPyJNb3oiOiJtc1RyYW5zZm9ybSJpbiBuPyJtcyI6Ik9UcmFuc2Zvcm0iaW4gbj8iTyI6IiI7cmV0dXJuIGUrIlBlcnNwZWN0aXZlImluIG4/InRyYW5zbGF0ZTNkIjplKyJUcmFuc2Zvcm0iaW4gbj8idHJhbnNsYXRlIjoibWFyZ2luIn07dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dmFyIHQ9ZS5zaGlmdCgpO3QmJnQobil9dmFyIGU9W107cmV0dXJuIGZ1bmN0aW9uKHQpe2UucHVzaCh0KSwxPT1lLmxlbmd0aCYmbigpfX0oKSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9eLW1zLS8sIm1zLSIpLnJlcGxhY2UoLy0oW1xkYS16XSkvZ2ksZnVuY3Rpb24obixlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gZShuKXt2YXIgZT1kb2N1bWVudC5ib2R5LnN0eWxlO2lmKG4gaW4gZSlyZXR1cm4gbjtmb3IodmFyIHQscj1pLmxlbmd0aCxzPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKTtyLS07KWlmKHQ9aVtyXStzLHQgaW4gZSlyZXR1cm4gdDtyZXR1cm4gbn1mdW5jdGlvbiB0KHQpe3JldHVybiB0PW4odCksc1t0XXx8KHNbdF09ZSh0KSl9ZnVuY3Rpb24gcihuLGUscil7ZT10KGUpLG4uc3R5bGVbZV09cn12YXIgaT1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdLHM9e307cmV0dXJuIGZ1bmN0aW9uKG4sZSl7dmFyIHQsaSxzPWFyZ3VtZW50cztpZigyPT1zLmxlbmd0aClmb3IodCBpbiBlKWk9ZVt0XSx2b2lkIDAhPT1pJiZlLmhhc093blByb3BlcnR5KHQpJiZyKG4sdCxpKTtlbHNlIHIobixzWzFdLHNbMl0pfX0oKTtyZXR1cm4gdX0pOw=="},{"meta":{"name":"clipboard.min.js","url":"https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/clipboard.js/2.0.10/clipboard.min.js","ts":1749825500749,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2Mi4wLjEwCiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tLwogKgogKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xpcGJvYXJkSlM9ZSgpOnQuQ2xpcGJvYXJkSlM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG49ezY4NjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLHtkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSk7dmFyIGU9bigyNzkpLGk9bi5uKGUpLGU9bigzNzApLHU9bi5uKGUpLGU9big4MTcpLGM9bi5uKGUpO2Z1bmN0aW9uIGEodCl7dHJ5e3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCh0KX1jYXRjaCh0KXtyZXR1cm59fXZhciBmPWZ1bmN0aW9uKHQpe3Q9YygpKHQpO3JldHVybiBhKCJjdXQiKSx0fTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZSxuLG8scj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2NvbnRhaW5lcjpkb2N1bWVudC5ib2R5fSxpPSIiO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8oZT10LG49InJ0bCI9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkaXIiKSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpKS5zdHlsZS5mb250U2l6ZT0iMTJwdCIsby5zdHlsZS5ib3JkZXI9IjAiLG8uc3R5bGUucGFkZGluZz0iMCIsby5zdHlsZS5tYXJnaW49IjAiLG8uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixvLnN0eWxlW24/InJpZ2h0IjoibGVmdCJdPSItOTk5OXB4IixuPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxvLnN0eWxlLnRvcD0iIi5jb25jYXQobiwicHgiKSxvLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSxvLnZhbHVlPWUsbz1vLHIuY29udGFpbmVyLmFwcGVuZENoaWxkKG8pLGk9YygpKG8pLGEoImNvcHkiKSxvLnJlbW92ZSgpKTooaT1jKCkodCksYSgiY29weSIpKSxpfTtmdW5jdGlvbiByKHQpe3JldHVybihyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmFjdGlvbixuPXZvaWQgMD09PWU/ImNvcHkiOmUsbz10LmNvbnRhaW5lcixlPXQudGFyZ2V0LHQ9dC50ZXh0O2lmKCJjb3B5IiE9PW4mJiJjdXQiIT09bil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgImFjdGlvbiIgdmFsdWUsIHVzZSBlaXRoZXIgImNvcHkiIG9yICJjdXQiJyk7aWYodm9pZCAwIT09ZSl7aWYoIWV8fCJvYmplY3QiIT09cihlKXx8MSE9PWUubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7aWYoImNvcHkiPT09biYmZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PW4mJihlLmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKXx8ZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyl9cmV0dXJuIHQ/bCh0LHtjb250YWluZXI6b30pOmU/ImN1dCI9PT1uP2YoZSk6bChlLHtjb250YWluZXI6b30pOnZvaWQgMH07ZnVuY3Rpb24gcCh0KXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuKHk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGgobil7dmFyIG89ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1tKG4pO3JldHVybiB0PW8/KHQ9bSh0aGlzKS5jb25zdHJ1Y3RvcixSZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyx0KSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLCEodD10KXx8Im9iamVjdCIhPT1wKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXJldHVybiB0O3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIil9KGUpOnR9fWZ1bmN0aW9uIG0odCl7cmV0dXJuKG09T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0pKHQpfWZ1bmN0aW9uIHYodCxlKXt0PSJkYXRhLWNsaXBib2FyZC0iLmNvbmNhdCh0KTtpZihlLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9dmFyIG89ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmeSh0LGUpfShyLGkoKSk7dmFyIHQsZSxuLG89aChyKTtmdW5jdGlvbiByKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzKSwobj1vLmNhbGwodGhpcykpLnJlc29sdmVPcHRpb25zKGUpLG4ubGlzdGVuQ2xpY2sodCksbn1yZXR1cm4gdD1yLG49W3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7Y29udGFpbmVyOmRvY3VtZW50LmJvZHl9O3JldHVybiBsKHQsZSl9fSx7a2V5OiJjdXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfX0se2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlsiY29weSIsImN1dCJdLHQ9InN0cmluZyI9PXR5cGVvZiB0P1t0XTp0LGU9ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUmJiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKHQpfSksZX19XSwoZT1be2tleToicmVzb2x2ZU9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuYWN0aW9uPSJmdW5jdGlvbiI9PXR5cGVvZiB0LmFjdGlvbj90LmFjdGlvbjp0aGlzLmRlZmF1bHRBY3Rpb24sdGhpcy50YXJnZXQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGFyZ2V0P3QudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGV4dD90LnRleHQ6dGhpcy5kZWZhdWx0VGV4dCx0aGlzLmNvbnRhaW5lcj0ib2JqZWN0Ij09PXAodC5jb250YWluZXIpP3QuY29udGFpbmVyOmRvY3VtZW50LmJvZHl9fSx7a2V5OiJsaXN0ZW5DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmxpc3RlbmVyPXUoKSh0LCJjbGljayIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25DbGljayh0KX0pfX0se2tleToib25DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxlZ2F0ZVRhcmdldHx8dC5jdXJyZW50VGFyZ2V0LG49dGhpcy5hY3Rpb24oZSl8fCJjb3B5Iix0PXMoe2FjdGlvbjpuLGNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcix0YXJnZXQ6dGhpcy50YXJnZXQoZSksdGV4dDp0aGlzLnRleHQoZSl9KTt0aGlzLmVtaXQodD8ic3VjY2VzcyI6ImVycm9yIix7YWN0aW9uOm4sdGV4dDp0LHRyaWdnZXI6ZSxjbGVhclNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJmUuZm9jdXMoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSl9fSx7a2V5OiJkZWZhdWx0QWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdigiYWN0aW9uIix0KX19LHtrZXk6ImRlZmF1bHRUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9digidGFyZ2V0Iix0KTtpZih0KXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfX0se2tleToiZGVmYXVsdFRleHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2KCJ0ZXh0Iix0KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCl9fV0pJiZkKHQucHJvdG90eXBlLGUpLG4mJmQodCxuKSxyfSgpfSw4Mjg6ZnVuY3Rpb24odCl7dmFyIGU7InVuZGVmaW5lZCI9PXR5cGVvZiBFbGVtZW50fHxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHwoKGU9RWxlbWVudC5wcm90b3R5cGUpLm1hdGNoZXM9ZS5tYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3J8fGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoO3QmJjkhPT10Lm5vZGVUeXBlOyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubWF0Y2hlcyYmdC5tYXRjaGVzKGUpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX19LDQzODpmdW5jdGlvbih0LGUsbil7dmFyIHU9big4MjgpO2Z1bmN0aW9uIGkodCxlLG4sbyxyKXt2YXIgaT1mdW5jdGlvbihlLG4sdCxvKXtyZXR1cm4gZnVuY3Rpb24odCl7dC5kZWxlZ2F0ZVRhcmdldD11KHQudGFyZ2V0LG4pLHQuZGVsZWdhdGVUYXJnZXQmJm8uY2FsbChlLHQpfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIobixpLHIpLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKX19fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI/aS5hcHBseShudWxsLGFyZ3VtZW50cyk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/aS5iaW5kKG51bGwsZG9jdW1lbnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKTooInN0cmluZyI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSxBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LGUsbixvLHIpfSkpfX0sODc5OmZ1bmN0aW9uKHQsbil7bi5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJjE9PT10Lm5vZGVUeXBlfSxuLm5vZGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm4gdm9pZCAwIT09dCYmKCJbb2JqZWN0IE5vZGVMaXN0XSI9PT1lfHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09ZSkmJiJsZW5ndGgiaW4gdCYmKDA9PT10Lmxlbmd0aHx8bi5ub2RlKHRbMF0pKX0sbi5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSwzNzA6ZnVuY3Rpb24odCxlLG4pe3ZhciBmPW4oODc5KSxsPW4oNDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKCF0JiYhZSYmIW4pdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cyIpO2lmKCFmLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZyIpO2lmKCFmLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbiIpO2lmKGYubm9kZSh0KSlyZXR1cm4gYz1lLGE9biwodT10KS5hZGRFdmVudExpc3RlbmVyKGMsYSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt1LnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxhKX19O2lmKGYubm9kZUxpc3QodCkpcmV0dXJuIG89dCxyPWUsaT1uLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobyxmdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIocixpKX0pLHtkZXN0cm95OmZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChvLGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGkpfSl9fTtpZihmLnN0cmluZyh0KSlyZXR1cm4gdD10LGU9ZSxuPW4sbChkb2N1bWVudC5ib2R5LHQsZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Iik7dmFyIG8scixpLHUsYyxhfX0sODE3OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPSJTRUxFQ1QiPT09dC5ub2RlTmFtZT8odC5mb2N1cygpLHQudmFsdWUpOiJJTlBVVCI9PT10Lm5vZGVOYW1lfHwiVEVYVEFSRUEiPT09dC5ub2RlTmFtZT8oKGU9dC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5IikpfHx0LnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSx0LnNlbGVjdCgpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksZXx8dC5yZW1vdmVBdHRyaWJ1dGUoInJlYWRvbmx5IiksdC52YWx1ZSk6KHQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSYmdC5mb2N1cygpLG49d2luZG93LmdldFNlbGVjdGlvbigpLChlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGVDb250ZW50cyh0KSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UoZSksbi50b1N0cmluZygpKTtyZXR1cm4gbn19LDI3OTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fWUucHJvdG90eXBlPXtvbjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4ob1t0XXx8KG9bdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcztmdW5jdGlvbiByKCl7by5vZmYodCxyKSxlLmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5fPWUsdGhpcy5vbih0LHIsbil9LGVtaXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49KCh0aGlzLmV8fCh0aGlzLmU9e30pKVt0XXx8W10pLnNsaWNlKCksbz0wLHI9bi5sZW5ndGg7bzxyO28rKyluW29dLmZuLmFwcGx5KG5bb10uY3R4LGUpO3JldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV8fCh0aGlzLmU9e30pLG89blt0XSxyPVtdO2lmKG8mJmUpZm9yKHZhciBpPTAsdT1vLmxlbmd0aDtpPHU7aSsrKW9baV0uZm4hPT1lJiZvW2ldLmZuLl8hPT1lJiZyLnB1c2gob1tpXSk7cmV0dXJuIHIubGVuZ3RoP25bdF09cjpkZWxldGUgblt0XSx0aGlzfX0sdC5leHBvcnRzPWUsdC5leHBvcnRzLlRpbnlFbWl0dGVyPWV9fSxyPXt9LG8ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gby5kKGUse2E6ZX0pLGV9LG8uZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKW8ubyhlLG4pJiYhby5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sby5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxvKDY4NikuZGVmYXVsdDtmdW5jdGlvbiBvKHQpe2lmKHJbdF0pcmV0dXJuIHJbdF0uZXhwb3J0czt2YXIgZT1yW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gblt0XShlLGUuZXhwb3J0cyxvKSxlLmV4cG9ydHN9dmFyIG4scn0pOw=="}]},{"name":"跳转链接修复（移除重定向外链直达）","options":{"check_for_updates":true,"user_modified":null,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"run_in":null,"tags":[],"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":["*://localhost:*/*","*://127.0.0.1:*/*","*://0.0.0.0*","*://192.168.*"],"merge_excludes":true,"use_connects":[],"orig_connects":["baidu.com","*"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_run_in":[],"orig_noframes":null,"orig_tags":[]}},"storage":{"ts":1749883936672,"data":{}},"enabled":true,"position":3,"file_url":"https://update.greasyfork.org/scripts/395970/%E8%B7%B3%E8%BD%AC%E9%93%BE%E6%8E%A5%E4%BF%AE%E5%A4%8D%EF%BC%88%E7%A7%BB%E9%99%A4%E9%87%8D%E5%AE%9A%E5%90%91%E5%A4%96%E9%93%BE%E7%9B%B4%E8%BE%BE%EF%BC%89.user.js","uuid":"4c3b996a-c446-48d5-aad2-cecae9fc8c99","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOi3s+i9rOmTvuaOpeS/ruWkje+8iOenu+mZpOmHjeWumuWQkeWklumTvuebtOi+vu+8iQovLyBAZGVzY3JpcHRpb24g5o+Q5Y2H55So5oi35L2T6aqM77ya5L+u5aSN6Lez6L2s6ZO+5o6l5Li656uZ5aSW55u06ZO+77yI56e76Zmk6YeN5a6a5ZCR55u05o6l6Lez6L2s77yJ77yM5YWN5Y675oum5oiq6aG16Z2i54K55Ye75q2l6aqk5Y+v55u06L6+56uZ5aSW77yb5oum5oiq6aG16Z2i6Ieq5Yqo6Lez6L2s77yI5peg6aG76aKd5aSW5pON5L2c77yJ77yb5bey6YCC6YWNQUNH55uS5a2Q44CB54ix5Y+R55S144CB55m+5bqm5pCc57Si44CB55m+5bqm6LS05ZCn44CB5ZOU5ZOp5ZOU5ZOp5ri45oiPV0lLSeOAgUJpbmcg5pCc57Si44CB5Lmm562+5Zyw55CD44CB6YW35a6J44CBQ1NETuOAgeixhueTo+OAgUZhY2Vib29r44CB56CB5LqR44CBR29vZ2xlIOaQnOe0ouOAgUdvb2dsZSDph43lrprlkJHpobXjgIHoirHnk6PnvZHjgIFJbmZvUeOAgUluc3RhZ3JhbeOAgeeugOS5puOAgeaOmOmHkeOAgemHkeWxseaWh+aho+OAgemTvua7tOOAgeWKm+aJo++8iExlZXRjb2Rl77yJ44CBNTFDVE8g5Y2a5a6i44CBTkdBIOeOqeWutuekvuWMuuOAgeeJm+Wuoue9keOAgeW8gOa6kOS4reWbveOAgXBpeGl244CB5b6u5L+h44CB5b6u5L+h5byA5pS+56S+5Yy644CBUVEg6YKu566x44CBUEMg54mIIFFR44CB6IW+6K6v5paH5qGj44CB6IW+6K6v5YWU5bCP5bei44CB55+z5aKo5paH5qGj44CBMzYwIOaQnOe0ouOAgeaQnOeLl+aQnOe0ouOAgeWwkeaVsOa0vuOAgVN0ZWFtIOekvuWMuuOAgeiFvuiur+S6keW8gOWPkeiAheekvuWMuuOAgeaOqOeJue+8iFR3aXR0ZXLvvInjgIHlvq7ljZrjgIHlvq7ljZrnn63pk77mjqXjgIFZb3VUdWJl44CB6K+t6ZuA44CB55+l5LmO44CB55+l5LmO5LiT5qCPCi8vIEBuYW1lc3BhY2UgICBtYW9tYW8xOTk2LnJlbW92ZS1yZWRpcmVjdAovLyBAdmVyc2lvbiAgICAgMi4yNC4wCi8vIEBhdXRob3IgICAgICBtYW9tYW8xOTk2Ci8vIEBob21lcGFnZSAgICBodHRwczovL2dpdGh1Yi5jb20vbWFvbWFvMTk5Ni90YW1wZXJtb25rZXktc2NyaXB0cwovLyBAc3VwcG9ydFVSTCAgaHR0cHM6Ly9naXRodWIuY29tL21hb21hbzE5OTYvdGFtcGVybW9ua2V5LXNjcmlwdHMvaXNzdWVzCi8vIEBsaWNlbnNlICAgICBNSVQKLy8gQG1hdGNoICAgICAgICo6Ly8qLyoKLy8gQGV4Y2x1ZGUgICAgICo6Ly9sb2NhbGhvc3Q6Ki8qCi8vIEBleGNsdWRlICAgICAqOi8vMTI3LjAuMC4xOiovKgovLyBAZXhjbHVkZSAgICAgKjovLzAuMC4wLjAqCi8vIEBleGNsdWRlICAgICAqOi8vMTkyLjE2OC4qCi8vIEBjb25uZWN0ICAgICBiYWlkdS5jb20KLy8gQGNvbm5lY3QgICAgICoKLy8gQGdyYW50ICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBkb3dubG9hZFVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzM5NTk3MC8lRTglQjclQjMlRTglQkQlQUMlRTklOTMlQkUlRTYlOEUlQTUlRTQlQkYlQUUlRTUlQTQlOEQlRUYlQkMlODglRTclQTclQkIlRTklOTklQTQlRTklODclOEQlRTUlQUUlOUElRTUlOTAlOTElRTUlQTQlOTYlRTklOTMlQkUlRTclOUIlQjQlRTglQkUlQkUlRUYlQkMlODkudXNlci5qcwovLyBAdXBkYXRlVVJMIGh0dHBzOi8vdXBkYXRlLmdyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzk1OTcwLyVFOCVCNyVCMyVFOCVCRCVBQyVFOSU5MyVCRSVFNiU4RSVBNSVFNCVCRiVBRSVFNSVBNCU4RCVFRiVCQyU4OCVFNyVBNyVCQiVFOSU5OSVBNCVFOSU4NyU4RCVFNSVBRSU5QSVFNSU5MCU5MSVFNSVBNCU5NiVFOSU5MyVCRSVFNyU5QiVCNCVFOCVCRSVCRSVFRiVCQyU4OS5tZXRhLmpzCi8vID09L1VzZXJTY3JpcHQ9PQohZnVuY3Rpb24oKSB7CiAgInVzZSBzdHJpY3QiOwogIHZhciBGRU1NX0FUVFJfS0VZID0gImZlbW0taGVscGVyIiwgbWFwID0gbmV3IFdlYWtNYXA7CiAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5LCBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiB2YWx1ZTsKICB9LCBpc1N0cmluZyA9IGZ1bmN0aW9uKHZhbCkgewogICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB2YWw7CiAgfSwgaXNCcm93c2VyID0gInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdzsKICBmdW5jdGlvbiB2YWxpZGF0ZVVybCh1cmwpIHsKICAgIGlmICghaXNTdHJpbmcodXJsKSkgcmV0dXJuICExOwogICAgdHJ5IHsKICAgICAgcmV0dXJuIG5ldyBVUkwodXJsKSwgITA7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiAhMTsKICAgIH0KICB9CiAgdmFyIHJlcXVlc3RGdW5jdGlvbiwgY2FjaGUsIEdNQ2FjaGVkUmVxdWVzdCA9IChyZXF1ZXN0RnVuY3Rpb24gPSBHTS54bWxIdHRwUmVxdWVzdCwgCiAgY2FjaGUgPSBuZXcgTWFwLCBmdW5jdGlvbihvcHRpb25zKSB7CiAgICBpZiAodm9pZCAwICE9PSBvcHRpb25zLmNhY2hlVGltZSAmJiAoIm51bWJlciIgIT0gdHlwZW9mIG9wdGlvbnMuY2FjaGVUaW1lIHx8IG9wdGlvbnMuY2FjaGVUaW1lIDwgMCkpIHRocm93IG5ldyBFcnJvcigiXHU2NWUwXHU2NTQ4XHU3Njg0IGNhY2hlVGltZSBcdTkwMDlcdTk4NzkiKTsKICAgIHZhciBfb3B0aW9uc19zaG91bGRDYWNoZUVycm9yLCBjYWNoZUtleSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpLCBjYWNoZWREYXRhID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTsKICAgIGlmIChjYWNoZWREYXRhKSB7CiAgICAgIHZhciBfb3B0aW9uc19jYWNoZVRpbWUsIGRhdGEgPSBjYWNoZWREYXRhLmRhdGEsIHRpbWUgPSBjYWNoZWREYXRhLnRpbWUsIGVycm9yID0gY2FjaGVkRGF0YS5lcnJvciwgcmVxdWVzdFByb21pc2UgPSBjYWNoZWREYXRhLnJlcXVlc3RQcm9taXNlOwogICAgICBpZiAocmVxdWVzdFByb21pc2UpIHJldHVybiByZXF1ZXN0UHJvbWlzZTsKICAgICAgdmFyIGNhY2hlVGltZSA9IG51bGwgIT09IChfb3B0aW9uc19jYWNoZVRpbWUgPSBvcHRpb25zLmNhY2hlVGltZSkgJiYgdm9pZCAwICE9PSBfb3B0aW9uc19jYWNoZVRpbWUgPyBfb3B0aW9uc19jYWNoZVRpbWUgOiAwOwogICAgICBpZiAoIWVycm9yICYmIHRpbWUgJiYgY2FjaGVUaW1lICYmIERhdGUubm93KCkgLSB0aW1lIDwgY2FjaGVUaW1lKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpOwogICAgICBjYWNoZS5kZWxldGUoY2FjaGVLZXkpOwogICAgfQogICAgdmFyIHNob3VsZENhY2hlRXJyb3IgPSBudWxsICE9PSAoX29wdGlvbnNfc2hvdWxkQ2FjaGVFcnJvciA9IG9wdGlvbnMuc2hvdWxkQ2FjaGVFcnJvcikgJiYgdm9pZCAwICE9PSBfb3B0aW9uc19zaG91bGRDYWNoZUVycm9yICYmIF9vcHRpb25zX3Nob3VsZENhY2hlRXJyb3IsIHJlcXVlc3RQcm9taXNlMSA9IHJlcXVlc3RGdW5jdGlvbihvcHRpb25zKS50aGVuKChmdW5jdGlvbihkYXRhKSB7CiAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTsKICAgICAgcmV0dXJuIGNhY2hlLnNldChjYWNoZUtleSwgewogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgdGltZTogdGltZQogICAgICB9KSwgZGF0YTsKICAgIH0pKS5jYXRjaCgoZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgaWYgKHNob3VsZENhY2hlRXJyb3IpIHsKICAgICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7CiAgICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCB7CiAgICAgICAgICBlcnJvcjogZXJyb3IsCiAgICAgICAgICB0aW1lOiB0aW1lCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhyb3cgZXJyb3I7CiAgICB9KSk7CiAgICByZXR1cm4gY2FjaGUuc2V0KGNhY2hlS2V5LCB7CiAgICAgIHJlcXVlc3RQcm9taXNlOiByZXF1ZXN0UHJvbWlzZTEKICAgIH0pLCByZXF1ZXN0UHJvbWlzZTE7CiAgfSk7CiAgZnVuY3Rpb24gX2FycmF5X2xpa2VfdG9fYXJyYXkkMShhcnIsIGxlbikgewogICAgKG51bGwgPT0gbGVuIHx8IGxlbiA+IGFyci5sZW5ndGgpICYmIChsZW4gPSBhcnIubGVuZ3RoKTsKICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTsKICAgIHJldHVybiBhcnIyOwogIH0KICBmdW5jdGlvbiBfc2xpY2VkX3RvX2FycmF5JDEoYXJyLCBpKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oYXJyKSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7CiAgICB9KGFycikgfHwgZnVuY3Rpb24oYXJyLCBpKSB7CiAgICAgIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyWyJAQGl0ZXJhdG9yIl07CiAgICAgIGlmIChudWxsICE9IF9pKSB7CiAgICAgICAgdmFyIF9zLCBfZSwgX2FyciA9IFtdLCBfbiA9ICEwLCBfZCA9ICExOwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgIWkgfHwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKSA7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfZCA9ICEwLCBfZSA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX24gfHwgbnVsbCA9PSBfaS5yZXR1cm4gfHwgX2kucmV0dXJuKCk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gX2FycjsKICAgICAgfQogICAgfShhcnIsIGkpIHx8IGZ1bmN0aW9uKG8sIG1pbkxlbikgewogICAgICBpZiAoIW8pIHJldHVybjsKICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBvKSByZXR1cm4gX2FycmF5X2xpa2VfdG9fYXJyYXkkMShvLCBtaW5MZW4pOwogICAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgICAgICJPYmplY3QiID09PSBuICYmIG8uY29uc3RydWN0b3IgJiYgKG4gPSBvLmNvbnN0cnVjdG9yLm5hbWUpOwogICAgICBpZiAoIk1hcCIgPT09IG4gfHwgIlNldCIgPT09IG4pIHJldHVybiBBcnJheS5mcm9tKG4pOwogICAgICBpZiAoIkFyZ3VtZW50cyIgPT09IG4gfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlfbGlrZV90b19hcnJheSQxKG8sIG1pbkxlbik7CiAgICB9KGFyciwgaSkgfHwgZnVuY3Rpb24oKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwogICAgfSgpOwogIH0KICBmdW5jdGlvbiBkZWZpbmVTaXRlKHNpdGVJbmZvLCBkb21haW4sIG9wdGlvbnMpIHsKICAgIHZhciByZWY7CiAgICBBcnJheS5pc0FycmF5KHNpdGVJbmZvKSAmJiAoc2l0ZUluZm8gPSAocmVmID0gX3NsaWNlZF90b19hcnJheSQxKHNpdGVJbmZvLCAzKSlbMF0sIAogICAgZG9tYWluID0gcmVmWzFdLCBvcHRpb25zID0gcmVmWzJdKTsKICAgIHJldHVybiBbIHNpdGVJbmZvLCBkb21haW4sIG9wdGlvbnMgXTsKICB9CiAgZnVuY3Rpb24gZ2V0U2VhcmNoUGFyYW1zVmFsdWUoc2VhcmNoUGFyYW1zLCBxdWVyeU5hbWUpIHsKICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoUGFyYW1zKTsKICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgaWYgKEFycmF5LmlzQXJyYXkocXVlcnlOYW1lKSkgewogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9ICEwLCBfZGlkSXRlcmF0b3JFcnJvciA9ICExLCBfaXRlcmF0b3JFcnJvciA9IHZvaWQgMDsKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHZhciBfc3RlcCwgX2l0ZXJhdG9yID0gcXVlcnlOYW1lW1N5bWJvbC5pdGVyYXRvcl0oKTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAhMCkgewogICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmIChzZWFyY2hQYXJhbXMuaGFzKG5hbWUpKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IHNlYXJjaFBhcmFtcy5nZXQobmFtZSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSAhMCwgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gfHwgbnVsbCA9PSBfaXRlcmF0b3IucmV0dXJuIHx8IF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSByZXN1bHQgPSBzZWFyY2hQYXJhbXMuZ2V0KHF1ZXJ5TmFtZSk7CiAgICByZXR1cm4gcmVzdWx0IHx8ICIiOwogIH0KICBmdW5jdGlvbiByZXF1ZXN0T3JpZ2luYWxMaW5rKGVsZW1lbnQpIHsKICAgICFmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykgewogICAgICBpZiAoIW1hcC5oYXMoZWxlbWVudCkgJiYgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKEZFTU1fQVRUUl9LRVkpKSB7CiAgICAgICAgbWFwLnNldChlbGVtZW50LCAxKTsKICAgICAgICB2YXIgb2IgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKGVudHJpZXMpIHsKICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gITAsIF9kaWRJdGVyYXRvckVycm9yID0gITEsIF9pdGVyYXRvckVycm9yID0gdm9pZCAwOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yICh2YXIgX3N0ZXAsIF9pdGVyYXRvciA9IGVudHJpZXNbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9ICEwKSBfc3RlcC52YWx1ZS5pc0ludGVyc2VjdGluZyAmJiAoZWxlbWVudC5zZXRBdHRyaWJ1dGUoRkVNTV9BVFRSX0tFWSwgIm9ic2VydmVyZWQiKSwgCiAgICAgICAgICAgIGNhbGxiYWNrKCksIG9iLnVub2JzZXJ2ZShlbGVtZW50KSk7CiAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSAhMCwgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gfHwgbnVsbCA9PSBfaXRlcmF0b3IucmV0dXJuIHx8IF9pdGVyYXRvci5yZXR1cm4oKTsKICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHRocm93IF9pdGVyYXRvckVycm9yOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkpOwogICAgICAgIG9iLm9ic2VydmUoZWxlbWVudCk7CiAgICAgIH0KICAgIH0oZWxlbWVudCwgKGZ1bmN0aW9uKCkgewogICAgICBHTUNhY2hlZFJlcXVlc3QoewogICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgdXJsOiBlbGVtZW50LmhyZWYsCiAgICAgICAgYW5vbnltb3VzOiAhMAogICAgICB9KS50aGVuKChmdW5jdGlvbihyZXMpIHsKICAgICAgICByZXMuZmluYWxVcmwgJiYgcmVzLmZpbmFsVXJsICE9PSBlbGVtZW50LmhyZWYgJiYgKGVsZW1lbnQuaHJlZiA9IHJlcy5maW5hbFVybCk7CiAgICAgIH0pKTsKICAgIH0pKTsKICB9CiAgdmFyIHNpdGVzJEEgPSBbIGRlZmluZVNpdGUoWyAiQUNHXHU3NmQyXHU1YjUwIiwgImFjZ2JveC5saW5rIiwgewogICAgdHJhbnNmb3JtOiB7CiAgICAgIHNlbGVjdG9yOiAnYVtocmVmKj0iL2dvLz91cmwiXScsCiAgICAgIGN1c3RvbVRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSkgewogICAgICAgIHZhciBvcmlnaW5VcmwgPSBkZWNvZGVVUklDb21wb25lbnQobm9kZS5ocmVmLnNwbGl0KCI/dXJsPSIpWzFdKTsKICAgICAgICB0cnkgewogICAgICAgICAgdmFsaWRhdGVVcmwob3JpZ2luVXJsID0gYXRvYihvcmlnaW5VcmwpKSAmJiAobm9kZS5ocmVmID0gb3JpZ2luVXJsKTsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICB9LAogICAgYXV0b2p1bXA6IHsKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgIHJldHVybiAiL2dvLyIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICB9LAogICAgICBzZWxlY3RvcjogImEubG9hZGluZy1idG4iCiAgICB9CiAgfSBdKSBdLCBCQUlEVV9SRSA9IC9eKGh0dHA6XC9cL1teLl0rXC5bXi5dK1wuYmFpZHVcLmNvbXxodHRwczpcL1wvYmFpa2VcLmJhaWR1XC5jb20pLywgc2l0ZXMkeSA9IFsgZGVmaW5lU2l0ZShbICJcdTc2N2VcdTVlYTZcdTY0MWNcdTdkMjIiLCAiYmFpZHUuY29tIiwgewogICAgdHJhbnNmb3JtOiB7CiAgICAgIHNlbGVjdG9yOiAiI2NvbnRlbnRfbGVmdCA+IFttdV0iLAogICAgICBmYWxsYmFja1NlbGVjdG9yOiAnYVtocmVmKj0iYmFpZHUuY29tL2xpbms/dXJsPSJdJywKICAgICAgY3VzdG9tVHJhbnNmb3JtOiBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgdmFyIG9yaWdpblVybCA9IG5vZGUuZ2V0QXR0cmlidXRlKCJtdSIpOwogICAgICAgIHZhbGlkYXRlVXJsKG9yaWdpblVybCkgJiYgIUJBSURVX1JFLnRlc3Qob3JpZ2luVXJsKSAmJiBub2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdltoYXMtdHRzXSBhW2hyZWYqPSJiYWlkdS5jb20vbGluaz91cmw9Il0nKS5mb3JFYWNoKChmdW5jdGlvbihhKSB7CiAgICAgICAgICByZXR1cm4gYS5zZXRBdHRyaWJ1dGUoImhyZWYiLCBvcmlnaW5VcmwpOwogICAgICAgIH0pKTsKICAgICAgfQogICAgfQogIH0gXSksIGRlZmluZVNpdGUoWyAiXHU3NjdlXHU1ZWE2XHU4ZDM0XHU1NDI3IiwgL14oanVtcHxqdW1wMilcLmJkaW1nXC5jb20kLywgewogICAgYXV0b2p1bXA6IHsKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgIHJldHVybiAiL3NhZmVjaGVjay9pbmRleCIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICB9LAogICAgICBxdWVyeU5hbWU6ICJ1cmwiLAogICAgICBzZWxlY3RvcjogImEuYnRuLmJ0bi1uZXh0W2hyZWZdIgogICAgfQogIH0gXSksIGRlZmluZVNpdGUoWyAsICJ0aWViYS5iYWlkdS5jb20iLCB7CiAgICBhdXRvanVtcDogewogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuICIvbW8vcS9jaGVja3VybCIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICB9LAogICAgICBxdWVyeU5hbWU6ICJ1cmwiLAogICAgICBzZWxlY3RvcjogIi5idG5zIHNwYW4ual9uZXh0IgogICAgfQogIH0gXSkgXSwgdXJsTWFwID0gbmV3IE1hcCwgc2l0ZXMkdyA9IFsgZGVmaW5lU2l0ZShbICJCaW5nIFx1NjQxY1x1N2QyMiIsIC9eKD86XHcrXC4pP2JpbmdcLmNvbSQvLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICcjYl9yZXN1bHRzIGFbdGFyZ2V0PSJfYmxhbmsiXVtocmVmKj0id3d3LmJpbmcuY29tL2NrL2EiXVtocmVmKj0iJnU9YTEiXScsCiAgICAgIGN1c3RvbVRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSkgewogICAgICAgIHZhciB1ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhub2RlLmhyZWYpLmdldCgidSIpOwogICAgICAgIGlmICh1cmxNYXAuaGFzKHUpKSBub2RlLmhyZWYgPSB1cmxNYXAuZ2V0KHUpOyBlbHNlIHsKICAgICAgICAgIHZhciBvcmlnaW5VcmwgPSBhdG9iKHUucmVwbGFjZSgvXmExLywgIiIpLnJlcGxhY2UoL1stX10vZywgKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgcmV0dXJuICItIiA9PSBlID8gIisiIDogIi8iOwogICAgICAgICAgfSkpLnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXS9nLCAiIikpOwogICAgICAgICAgdmFsaWRhdGVVcmwob3JpZ2luVXJsKSAmJiAobm9kZS5ocmVmID0gb3JpZ2luVXJsLCB1cmxNYXAuc2V0KHUsIG9yaWdpblVybCkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0gXSkgXSwgc2l0ZXMkdiA9IFsgZGVmaW5lU2l0ZShbICJcdTRlNjZcdTdiN2VcdTU3MzBcdTc0MDMiLCAiYm9va21hcmtlYXJ0aC5jbiIsIHsKICAgIHRyYW5zZm9ybTogewogICAgICBzZWxlY3RvcjogJ2FbaHJlZio9Ii92aWV3LyJdW2RhdGEtZXh0XScsCiAgICAgIGF0dHJpYnV0ZTogImRhdGEtZXh0IgogICAgfSwKICAgIGF1dG9qdW1wOiB7CiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICB2YXIgcGF0aG5hbWUgPSBwYXJhbS5wYXRobmFtZTsKICAgICAgICByZXR1cm4gL15cL3ZpZXdcLy8udGVzdChwYXRobmFtZSkgJiYgISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuanVtcC10YXJnZXQtdXJsIik7CiAgICAgIH0sCiAgICAgIGdldE9yaWdpbmFsVXJsOiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmp1bXAtdGFyZ2V0LXVybCIpLmdldEF0dHJpYnV0ZSgiZGF0YS11cmwiKTsKICAgICAgfQogICAgfQogIH0gXSkgXSwgc2l0ZXMkcCA9IFsgZGVmaW5lU2l0ZShbICJHb29nbGUgXHU2NDFjXHU3ZDIyXHUzMDAxR29vZ2xlIFx1OTFjZFx1NWI5YVx1NTQxMVx1OTg3NSIsIC9eZ29vZ2xlXC4oY29tfGNvbT9cLlthLXpdezJ9fFthLXpdezJ9KSQvLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6IFsgImFbanNuYW1lXVtocmVmXVtkYXRhLWpzYXJ3dF0iLCAiYVtqc25hbWVdW2hyZWZdW3BpbmddIiwgIltkYXRhLXJ3XVtkYXRhLWFsXSIgXS5qb2luKCIsIiksCiAgICAgIGN1c3RvbVRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSkgewogICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJkYXRhLWpyd3QiLCAiMSIpLCBub2RlLnJlbW92ZUF0dHJpYnV0ZSgicGluZyIpLCBub2RlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1ydyIpOwogICAgICAgIHZhciBtYXRjaCA9IChub2RlLmdldEF0dHJpYnV0ZSgiaHJlZiIpIHx8ICIiKS5tYXRjaCgvXD8oLiopLyk7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICB2YXIgdXJsID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhtYXRjaFsxXSkuZ2V0KCJ1cmwiKTsKICAgICAgICAgIHVybCAmJiB2YWxpZGF0ZVVybCh1cmwpICYmIG5vZGUuc2V0QXR0cmlidXRlKCJocmVmIiwgdXJsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhdXRvanVtcDogewogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuICIvdXJsIiA9PT0gcGFyYW0ucGF0aG5hbWU7CiAgICAgIH0sCiAgICAgIHF1ZXJ5TmFtZTogInEiCiAgICB9CiAgfSBdKSBdLCBSRU1PVkVfQVRUUlMgPSBbICJvbmNsaWNrIiwgIm9ubW91c2VvdmVyIiwgIm9ubW91c2VvdXQiIF0sIHNpdGVzJGcgPSBbIGRlZmluZVNpdGUoWyAiTkdBIFx1NzNhOVx1NWJiNlx1NzkzZVx1NTMzYSIsIC9eKGJic1wubmdhXC5jbnxuZ2FiYnNcLmNvbXxnXC5uZ2FcLmNuKSQvLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICdhW3RhcmdldD0iX2JsYW5rIl1bb25jbGljayo9InNob3dVcmxBbGVydCJdJywKICAgICAgY3VzdG9tVHJhbnNmb3JtOiBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgUkVNT1ZFX0FUVFJTLmZvckVhY2goKGZ1bmN0aW9uKGF0dHIpIHsKICAgICAgICAgIHJldHVybiBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTsKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0KICB9IF0pIF0sIHNpdGVzJGYgPSBbIFsgIlx1NzI1Ylx1NWJhMlx1N2Y1MSIsICJub3djb2Rlci5jb20iLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6IFsgJ1tocmVmKj0iZ3ctYy5ub3djb2Rlci5jb20vYXBpL3NwYXJ0YS9qdW1wL2xpbms/bGluaz0iXScsICdbaHJlZio9ImhkLm5vd2NvZGVyLmNvbS9saW5rLmh0bWw/dGFyZ2V0PSJdJyBdLmpvaW4oIiwiKSwKICAgICAgc2VwYXJhdG9yOiAvXD90YXJnZXR8bGlua1w9LwogICAgfQogIH0gXSwgWyAsICJoZC5ub3djb2Rlci5jb20iLCB7CiAgICBhdXRvanVtcDoge30KICB9IF0gXSwgc2l0ZXMkYyA9IFsgWyAiXHU1ZmFlXHU0ZmUxIiwgIndlaXhpbjExMC5xcS5jb20iLCB7CiAgICBhdXRvanVtcDogewogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuICIvY2dpLWJpbi9tbXNwYW1zdXBwb3J0LWJpbi9uZXdyZWRpcmVjdGNvbmZpcm1jZ2kiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgfSwKICAgICAgZ2V0T3JpZ2luYWxVcmw6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud2V1aS1tc2cgcC53ZXVpLW1zZ19fZGVzYyIpLnRleHRDb250ZW50OwogICAgICB9LAogICAgICBzZWxlY3RvcjogImEud2V1aS1idG4ud2V1aS1idG5fZGVmYXVsdCIKICAgIH0KICB9IF0sIFsgIlx1NWZhZVx1NGZlMVx1NWYwMFx1NjUzZVx1NzkzZVx1NTMzYSIsICJkZXZlbG9wZXJzLndlaXhpbi5xcS5jb20iLCB7CiAgICByZXdyaXRlV2luZG93T3BlbjogewogICAgICB2YWxpZGF0aW9uUnVsZTogIi9jb21tdW5pdHkvbWlkZGxlcGFnZS9ocmVmP2hyZWY9IiwKICAgICAgcXVlcnlOYW1lOiAiaHJlZiIKICAgIH0sCiAgICBhdXRvanVtcDogewogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgcmV0dXJuICIvY29tbXVuaXR5L21pZGRsZXBhZ2UvaHJlZiIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICB9LAogICAgICBxdWVyeU5hbWU6ICJocmVmIgogICAgfQogIH0gXSwgWyAiUVEgXHU5MGFlXHU3YmIxIiwgIm1haWwucXEuY29tIiwgewogICAgcmV3cml0ZVdpbmRvd09wZW46IHsKICAgICAgdmFsaWRhdGlvblJ1bGU6ICJ1cmw9IiwKICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgfSwKICAgIGF1dG9qdW1wOiB7CiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICByZXR1cm4gIi9jZ2ktYmluL3JlYWR0ZW1wbGF0ZSIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICB9LAogICAgICBzZWxlY3RvcjogImRpdi5jLWZvb3RlciBhLmMtZm9vdGVyLWExIiwKICAgICAgcXVlcnlOYW1lOiAiZ291cmwiCiAgICB9CiAgfSBdLCBbICJQQyBcdTcyNDggUVEiLCAiYy5wYy5xcS5jb20iLCB7CiAgICBhdXRvanVtcDogewogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGFyYW0ucGF0aG5hbWU7CiAgICAgICAgcmV0dXJuIC9eXC9bYS16XStcLmh0bWwkLy50ZXN0KHBhdGhuYW1lKTsKICAgICAgfSwKICAgICAgcXVlcnlOYW1lOiBbICJwZnVybCIsICJ1cmwiIF0KICAgIH0KICB9IF0sIFsgIlx1ODE3ZVx1OGJhZlx1NjU4N1x1Njg2MyIsICJkb2NzLnFxLmNvbSIsIHsKICAgIGF1dG9qdW1wOiB7CiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICByZXR1cm4gIi9zY2VuYXJpby9saW5rLmh0bWwiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgfSwKICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgfQogIH0gXSwgWyAiXHU4MTdlXHU4YmFmXHU1MTU0XHU1YzBmXHU1ZGUyIiwgLyh0eGN8c3VwcG9ydClcLnFxXC5jb20vLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICdhW2hyZWYqPSIvbGluay1qdW1wP2p1bXA9Il0nLAogICAgICBxdWVyeU5hbWU6ICJqdW1wIgogICAgfSwKICAgIGF1dG9qdW1wOiB7CiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICB2YXIgcGF0aG5hbWUgPSBwYXJhbS5wYXRobmFtZTsKICAgICAgICByZXR1cm4gL1wvbGluay1qdW1wJC8udGVzdChwYXRobmFtZSk7CiAgICAgIH0sCiAgICAgIHF1ZXJ5TmFtZTogImp1bXAiCiAgICB9CiAgfSBdIF0sIHNpdGVzJGEgPSBbIGRlZmluZVNpdGUoWyAiMzYwIFx1NjQxY1x1N2QyMiIsICJzby5jb20iLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICdhW2hyZWYqPSJzby5jb20vbGluaz8iXVtkYXRhLW1kdXJsXScsCiAgICAgIGF0dHJpYnV0ZTogImRhdGEtbWR1cmwiCiAgICB9CiAgfSBdKSBdLCBzaXRlcyQ5ID0gWyBkZWZpbmVTaXRlKFsgIlx1NjQxY1x1NzJkN1x1NjQxY1x1N2QyMiIsICJzb2dvdS5jb20iLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICIucmVzdWx0cyAudnJ3cmFwIiwKICAgICAgY3VzdG9tVHJhbnNmb3JtOiBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgdmFyIGRhdGFOb2RlID0gbm9kZS5xdWVyeVNlbGVjdG9yKCJbZGF0YS11cmxdIik7CiAgICAgICAgaWYgKGRhdGFOb2RlKSB7CiAgICAgICAgICB2YXIgb3JpZ2luVXJsID0gZGF0YU5vZGUuZGF0YXNldC51cmw7CiAgICAgICAgICB2YWxpZGF0ZVVybChvcmlnaW5VcmwpICYmIG5vZGUucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmKj0iL2xpbms/dXJsPSJdJykuZm9yRWFjaCgoZnVuY3Rpb24oYSkgewogICAgICAgICAgICByZXR1cm4gYS5zZXRBdHRyaWJ1dGUoImhyZWYiLCBvcmlnaW5VcmwpOwogICAgICAgICAgfSkpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0gXSksIGRlZmluZVNpdGUoWyAsICJtLnNvZ291LmNvbSIsIHsKICAgIHRyYW5zZm9ybTogewogICAgICBzZWxlY3RvcjogJ2FbaHJlZl49Ii4vaWQ9Il0nLAogICAgICBxdWVyeU5hbWU6ICJ1cmwiCiAgICB9CiAgfSBdKSBdLCBzaXRlcyQ1ID0gWyBkZWZpbmVTaXRlKFsgIlx1NjNhOFx1NzI3OVx1ZmYwOFR3aXR0ZXJcdWZmMDkiLCAvXih0d2l0dGVyfHgpXC5jb20kLywgewogICAgdHJhbnNmb3JtOiB7CiAgICAgIHNlbGVjdG9yOiAnYVtocmVmKj0iOi8vdC5jby8iXScsCiAgICAgIGN1c3RvbVRyYW5zZm9ybTogZnVuY3Rpb24obm9kZSkgewogICAgICAgIHZhciBvcmlnaW5VcmwgPSBub2RlLmlubmVyVGV4dC5yZXBsYWNlKCJcdTIwMjYiLCAiIik7CiAgICAgICAgdmFsaWRhdGVVcmwob3JpZ2luVXJsKSAmJiBub2RlLnNldEF0dHJpYnV0ZSgiaHJlZiIsIG9yaWdpblVybCk7CiAgICAgIH0KICAgIH0KICB9IF0pIF0sIHNpdGVzJDQgPSBbIFsgIlx1NWZhZVx1NTM1YSIsICJ3ZWliby5jb20iLCB7CiAgICB0cmFuc2Zvcm06IHsKICAgICAgc2VsZWN0b3I6ICdbaHJlZio9IndlaWJvLmNuL3NpbmF1cmw/dT0iXScsCiAgICAgIHF1ZXJ5TmFtZTogInUiCiAgICB9CiAgfSBdLCBbICwgIndlaWJvLmNuIiwgewogICAgYXV0b2p1bXA6IHsKICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgIHJldHVybiAiL3NpbmF1cmwiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgfSwKICAgICAgcXVlcnlOYW1lOiAidSIKICAgIH0KICB9IF0sIFsgIlx1NWZhZVx1NTM1YVx1NzdlZFx1OTRmZVx1NjNhNSIsICJ0LmNuIiwgewogICAgYXV0b2p1bXA6IHsKICAgICAgZ2V0T3JpZ2luYWxVcmw6IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBfZG9jdW1lbnRfcXVlcnlTZWxlY3RvcjsKICAgICAgICByZXR1cm4gbnVsbCA9PT0gKF9kb2N1bWVudF9xdWVyeVNlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3RleHRsaW5lIikpIHx8IHZvaWQgMCA9PT0gX2RvY3VtZW50X3F1ZXJ5U2VsZWN0b3IgPyB2b2lkIDAgOiBfZG9jdW1lbnRfcXVlcnlTZWxlY3Rvci5pbm5lclRleHQ7CiAgICAgIH0sCiAgICAgIHNlbGVjdG9yOiAiLm9wZW4tdXJsIGEiCiAgICB9CiAgfSBdIF0sIHNpdGVzID0gT2JqZWN0LmZyZWV6ZSh7CiAgICBfX3Byb3RvX186IG51bGwsCiAgICBhY2dib3hMaW5rOiBzaXRlcyRBLAogICAgYWZkaWFuQ29tOiBbIFsgIlx1NzIzMVx1NTNkMVx1NzUzNSIsICJhZmRpYW4uY29tIiwgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ1tocmVmKj0iYWZkaWFuLmNvbS9saW5rP3RhcmdldD0iXScKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9saW5rIiA9PT0gcGFyYW0ucGF0aG5hbWU7CiAgICAgICAgfQogICAgICB9CiAgICB9IF0gXSwKICAgIGJhaWR1Q29tOiBzaXRlcyR5LAogICAgYmlsaWJpbGlDb206IFsgWyAiXHU1NGQ0XHU1NGU5XHU1NGQ0XHU1NGU5XHU2ZTM4XHU2MjBmV0lLSSIsICJnYW1lLmJpbGliaWxpLmNvbSIsIHsKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gcGFyYW0ucGF0aG5hbWUuaW5jbHVkZXMoIi9saW5rZmlsdGVyLyIpOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgICB9CiAgICB9IF0gXSwKICAgIGJpbmdDb206IHNpdGVzJHcsCiAgICBib29rbWFya2VhcnRoQ246IHNpdGVzJHYsCiAgICBjb29sYXBrQ29tOiBbIFsgIlx1OTE3N1x1NWI4OSIsICJjb29sYXBrLmNvbSIsIHsKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9saW5rIiA9PT0gcGFyYW0ucGF0aG5hbWU7CiAgICAgICAgfSwKICAgICAgICBxdWVyeU5hbWU6ICJ1cmwiCiAgICAgIH0KICAgIH0gXSBdLAogICAgY3Nkbk5ldDogWyBbICwgImJsb2cuY3Nkbi5uZXQiLCB7CiAgICAgIHJld3JpdGVXaW5kb3dPcGVuOiB7CiAgICAgICAgdmFsaWRhdGlvblJ1bGU6ICJsaW5rLmNzZG4ubmV0P3RhcmdldD0iCiAgICAgIH0KICAgIH0gXSwgWyAiQ1NETiIsICJsaW5rLmNzZG4ubmV0IiwgewogICAgICBhdXRvanVtcDoge30KICAgIH0gXSBdLAogICAgZG91YmFuQ29tOiBbIFsgIlx1OGM0Nlx1NzRlMyIsICJkb3ViYW4uY29tIiwgewogICAgICBhdXRvanVtcDogewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHJldHVybiAiL2xpbmsyLyIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgICB9CiAgICB9IF0gXSwKICAgIGZhY2Vib29rQ29tOiBbIFsgIkZhY2Vib29rIiwgL14oPzpsXC4pP2ZhY2Vib29rXC5jb20kLywgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ2FbdGFyZ2V0PSJfYmxhbmsiXScsCiAgICAgICAgY3VzdG9tVHJhbnNmb3JtOiBmdW5jdGlvbihub2RlKSB7CiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgKGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICB9KSwgewogICAgICAgICAgICBjYXB0dXJlOiAhMAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBhdXRvanVtcDogewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHJldHVybiBwYXJhbS5zZWFyY2guaW5jbHVkZXMoInU9Iik7CiAgICAgICAgfSwKICAgICAgICBxdWVyeU5hbWU6ICJ1IgogICAgICB9CiAgICB9IF0gXSwKICAgIGdpdGVlQ29tOiBbIFsgIlx1NzgwMVx1NGU5MSIsICJnaXRlZS5jb20iLCB7CiAgICAgIHRyYW5zZm9ybTogewogICAgICAgIHNlbGVjdG9yOiAnW2hyZWYqPSIvbGluaz90YXJnZXQ9Il0nCiAgICAgIH0sCiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvbGluayIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0KICAgICAgfQogICAgfSBdIF0sCiAgICBnb29nbGVDb206IHNpdGVzJHAsCiAgICBodWFiYW5Db206IFsgWyAiXHU4MmIxXHU3NGUzXHU3ZjUxIiwgImh1YWJhbi5jb20iLCB7CiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvZ28iID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9LAogICAgICAgIHNlbGVjdG9yOiAiLndyYXBwZXIgYnV0dG9uLmFudC1idG4iCiAgICAgIH0KICAgIH0gXSBdLAogICAgaW5mb3FDbjogWyBbICJJbmZvUSIsIC9eKD86eGllXC4pP2luZm9xXC5jbiQvLCB7CiAgICAgIHJld3JpdGVXaW5kb3dPcGVuOiB7CiAgICAgICAgdmFsaWRhdGlvblJ1bGU6ICJpbmZvcS5jbi9saW5rP3RhcmdldD0iCiAgICAgIH0sCiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvbGluayIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0KICAgICAgfQogICAgfSBdIF0sCiAgICBpbnN0YWdyYW1Db206IFsgWyAiSW5zdGFncmFtIiwgL14oPzpsXC4pP2luc3RhZ3JhbVwuY29tJC8sIHsKICAgICAgdHJhbnNmb3JtOiB7CiAgICAgICAgc2VsZWN0b3I6ICdbaHJlZio9ImwuaW5zdGFncmFtLmNvbS8/dT0iXScsCiAgICAgICAgcXVlcnlOYW1lOiAidSIKICAgICAgfSwKICAgICAgcmV3cml0ZVdpbmRvd09wZW46IHsKICAgICAgICB2YWxpZGF0aW9uUnVsZTogImwuaW5zdGFncmFtLmNvbS8/dT0iLAogICAgICAgIHF1ZXJ5TmFtZTogInUiCiAgICAgIH0sCiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuIHBhcmFtLnNlYXJjaC5pbmNsdWRlcygidT0iKTsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TmFtZTogInUiCiAgICAgIH0KICAgIH0gXSBdLAogICAgamlhbnNodUNvbTogWyBbICJcdTdiODBcdTRlNjYiLCAiamlhbnNodS5jb20iLCB7CiAgICAgIHRyYW5zZm9ybTogewogICAgICAgIHNlbGVjdG9yOiAnW2hyZWYqPSJsaW5rcy5qaWFuc2h1LmNvbS9nbz90bz0iXScsCiAgICAgICAgc2VwYXJhdG9yOiAiZ28/dG89IgogICAgICB9LAogICAgICBhdXRvanVtcDogewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHJldHVybiAiL2dvLXdpbGQiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TmFtZTogInVybCIKICAgICAgfQogICAgfSBdIF0sCiAgICBqdWVqaW5DbjogWyBbICJcdTYzOThcdTkxZDEiLCAianVlamluLmNuIiwgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ1tocmVmKj0ibGluay5qdWVqaW4uY24/dGFyZ2V0PSJdJwogICAgICB9CiAgICB9IF0sIFsgLCAibGluay5qdWVqaW4uY24iLCB7CiAgICAgIGF1dG9qdW1wOiB7fQogICAgfSBdIF0sCiAgICBrZG9jc0NuOiBbIFsgIlx1OTFkMVx1NWM3MVx1NjU4N1x1Njg2MyIsICJrZG9jcy5jbiIsIHsKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9vZmZpY2UvbGluayIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0KICAgICAgfQogICAgfSBdIF0sCiAgICBsZDI0NkNvbTogWyBbICJcdTk0ZmVcdTZlZjQiLCAibGQyNDYuY29tIiwgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ1tocmVmKj0iL2ZvcndhcmQ/Z290bz0iXScsCiAgICAgICAgcXVlcnlOYW1lOiAiZ290byIKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9mb3J3YXJkIiA9PT0gcGFyYW0ucGF0aG5hbWU7CiAgICAgICAgfSwKICAgICAgICBzZWxlY3RvcjogIi50ZXh0IGFbaHJlZl0iLAogICAgICAgIHF1ZXJ5TmFtZTogImdvdG8iCiAgICAgIH0KICAgIH0gXSBdLAogICAgbGVldGNvZGVDbjogWyBbICJcdTUyOWJcdTYyNjNcdWZmMDhMZWV0Y29kZVx1ZmYwOSIsICJsZWV0Y29kZS5jbiIsIHsKICAgICAgdHJhbnNmb3JtOiB7CiAgICAgICAgc2VsZWN0b3I6ICdbaHJlZio9Ii9saW5rLz90YXJnZXQ9Il0nCiAgICAgIH0sCiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvbGluay8iID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TmFtZTogInRhcmdldCIKICAgICAgfQogICAgfSBdIF0sCiAgICBtXzUxQ3RvQ29tOiBbIFsgIjUxQ1RPIFx1NTM1YVx1NWJhMiIsICJibG9nLjUxY3RvLmNvbSIsIHsKICAgICAgcmV3cml0ZVdpbmRvd09wZW46IHsKICAgICAgICB2YWxpZGF0aW9uUnVsZTogIjUxY3RvLmNvbS90cmFuc2Zlcj8iLAogICAgICAgIHNlcGFyYXRvcjogIj8iCiAgICAgIH0sCiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvdHJhbnNmZXIiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9LAogICAgICAgIHNlcGFyYXRvcjogIj8iCiAgICAgIH0KICAgIH0gXSBdLAogICAgbmdhQ246IHNpdGVzJGcsCiAgICBub3djb2RlckNvbTogc2l0ZXMkZiwKICAgIG9zY2hpbmFOZXQ6IFsgWyAiXHU1ZjAwXHU2ZTkwXHU0ZTJkXHU1NmZkIiwgL14oPzpteVwuKT9vc2NoaW5hXC5uZXQkLywgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ1tocmVmKj0ib3NjaGluYS5uZXQvYWN0aW9uL0dvVG9MaW5rP3VybD0iXScsCiAgICAgICAgc2VwYXJhdG9yOiAiR29Ub0xpbms/dXJsPSIKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9hY3Rpb24vR29Ub0xpbmsiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5TmFtZTogInVybCIKICAgICAgfQogICAgfSBdIF0sCiAgICBwaXhpdk5ldDogWyBbICJwaXhpdiIsICJwaXhpdi5uZXQiLCB7CiAgICAgIHRyYW5zZm9ybTogewogICAgICAgIHNlbGVjdG9yOiAnW2hyZWYqPSIvanVtcC5waHA/Il0nLAogICAgICAgIHNlcGFyYXRvcjogIj8iLAogICAgICAgIHF1ZXJ5TmFtZTogInVybCIKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9qdW1wLnBocCIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0sCiAgICAgICAgc2VsZWN0b3I6ICJhW2hyZWZdIiwKICAgICAgICBzZXBhcmF0b3I6ICI/IgogICAgICB9CiAgICB9IF0gXSwKICAgIHFxQ29tOiBzaXRlcyRjLAogICAgc2hpbW9JbTogWyBbICJcdTc3ZjNcdTU4YThcdTY1ODdcdTY4NjMiLCAic2hpbW8uaW0iLCB7CiAgICAgIHJld3JpdGVXaW5kb3dPcGVuOiB7CiAgICAgICAgdmFsaWRhdGlvblJ1bGU6ICJvdXRsaW5rL2dyYXk/dXJsPSIsCiAgICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgICB9LAogICAgICBhdXRvanVtcDogewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHJldHVybiAiL291dGxpbmsvZ3JheSIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlOYW1lOiAidXJsIgogICAgICB9CiAgICB9IF0gXSwKICAgIHNvQ29tOiBzaXRlcyRhLAogICAgc29nb3VDb206IHNpdGVzJDksCiAgICBzc3BhaUNvbTogWyBbICJcdTVjMTFcdTY1NzBcdTZkM2UiLCAic3NwYWkuY29tIiwgewogICAgICB0cmFuc2Zvcm06IHsKICAgICAgICBzZWxlY3RvcjogJ1tocmVmKj0ic3NwYWkuY29tL2xpbms/dGFyZ2V0PSJdJwogICAgICB9LAogICAgICBhdXRvanVtcDogewogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocGFyYW0pIHsKICAgICAgICAgIHJldHVybiAiL2xpbmsiID09PSBwYXJhbS5wYXRobmFtZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gXSBdLAogICAgc3RlYW1jb21tdW5pdHlDb206IFsgWyAiU3RlYW0gXHU3OTNlXHU1MzNhIiwgInN0ZWFtY29tbXVuaXR5LmNvbSIsIHsKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9saW5rZmlsdGVyLyIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlOYW1lOiAidSIKICAgICAgfQogICAgfSBdIF0sCiAgICB0ZW5jZW50Q29tOiBbIFsgIlx1ODE3ZVx1OGJhZlx1NGU5MVx1NWYwMFx1NTNkMVx1ODAwNVx1NzkzZVx1NTMzYSIsICJjbG91ZC50ZW5jZW50LmNvbSIsIHsKICAgICAgdHJhbnNmb3JtOiB7CiAgICAgICAgc2VsZWN0b3I6ICdbaHJlZio9Ii9kZXZlbG9wZXIvdG9vbHMvYmxvZy1lbnRyeT90YXJnZXQ9Il0nLAogICAgICAgIHF1ZXJ5TmFtZTogInRhcmdldCIKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9kZXZlbG9wZXIvdG9vbHMvYmxvZy1lbnRyeSIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0KICAgICAgfQogICAgfSBdIF0sCiAgICB0d2l0dGVyQ29tOiBzaXRlcyQ1LAogICAgd2VpYm9Db206IHNpdGVzJDQsCiAgICB5b3V0dWJlQ29tOiBbIFsgIllvdVR1YmUiLCAieW91dHViZS5jb20iLCB7CiAgICAgIHRyYW5zZm9ybTogewogICAgICAgIHNlbGVjdG9yOiAnW2hyZWYqPSJ5b3V0dWJlLmNvbS9yZWRpcmVjdD9ldmVudD0iXScsCiAgICAgICAgcXVlcnlOYW1lOiAicSIKICAgICAgfSwKICAgICAgYXV0b2p1bXA6IHsKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uKHBhcmFtKSB7CiAgICAgICAgICByZXR1cm4gIi9yZWRpcmVjdCIgPT09IHBhcmFtLnBhdGhuYW1lOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlOYW1lOiAicSIKICAgICAgfQogICAgfSBdIF0sCiAgICB5dXF1ZUNvbTogWyBbICJcdThiZWRcdTk2YzAiLCAvXig/OlthLXpBLVowLTktXStcLik/eXVxdWVcLmNvbSQvLCB7CiAgICAgIGF1dG9qdW1wOiB7CiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbihwYXJhbSkgewogICAgICAgICAgcmV0dXJuICIvci9nb3RvIiA9PT0gcGFyYW0ucGF0aG5hbWU7CiAgICAgICAgfSwKICAgICAgICBxdWVyeU5hbWU6ICJ1cmwiCiAgICAgIH0KICAgIH0gXSBdLAogICAgemhpaHVDb206IFsgWyAiXHU3N2U1XHU0ZTRlXHUzMDAxXHU3N2U1XHU0ZTRlXHU0ZTEzXHU2ODBmIiwgL14oPzp6aHVhbmxhblwuKT96aGlodVwuY29tJC8sIHsKICAgICAgdHJhbnNmb3JtOiB7CiAgICAgICAgc2VsZWN0b3I6ICdbaHJlZio9ImxpbmsuemhpaHUuY29tLz90YXJnZXQ9Il0nCiAgICAgIH0KICAgIH0gXSwgWyAsICJsaW5rLnpoaWh1LmNvbSIsIHsKICAgICAgYXV0b2p1bXA6IHt9CiAgICB9IF0gXQogIH0pOwogIGZ1bmN0aW9uIF9hcnJheV9saWtlX3RvX2FycmF5KGFyciwgbGVuKSB7CiAgICAobnVsbCA9PSBsZW4gfHwgbGVuID4gYXJyLmxlbmd0aCkgJiYgKGxlbiA9IGFyci5sZW5ndGgpOwogICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSBhcnIyW2ldID0gYXJyW2ldOwogICAgcmV0dXJuIGFycjI7CiAgfQogIGZ1bmN0aW9uIF9zbGljZWRfdG9fYXJyYXkoYXJyLCBpKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oYXJyKSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7CiAgICB9KGFycikgfHwgZnVuY3Rpb24oYXJyLCBpKSB7CiAgICAgIHZhciBfaSA9IG51bGwgPT0gYXJyID8gbnVsbCA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgYXJyW1N5bWJvbC5pdGVyYXRvcl0gfHwgYXJyWyJAQGl0ZXJhdG9yIl07CiAgICAgIGlmIChudWxsICE9IF9pKSB7CiAgICAgICAgdmFyIF9zLCBfZSwgX2FyciA9IFtdLCBfbiA9ICEwLCBfZCA9ICExOwogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKSAmJiAoX2Fyci5wdXNoKF9zLnZhbHVlKSwgIWkgfHwgX2Fyci5sZW5ndGggIT09IGkpOyBfbiA9ICEwKSA7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfZCA9ICEwLCBfZSA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgX24gfHwgbnVsbCA9PSBfaS5yZXR1cm4gfHwgX2kucmV0dXJuKCk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gX2FycjsKICAgICAgfQogICAgfShhcnIsIGkpIHx8IGZ1bmN0aW9uKG8sIG1pbkxlbikgewogICAgICBpZiAoIW8pIHJldHVybjsKICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBvKSByZXR1cm4gX2FycmF5X2xpa2VfdG9fYXJyYXkobywgbWluTGVuKTsKICAgICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgICAiT2JqZWN0IiA9PT0gbiAmJiBvLmNvbnN0cnVjdG9yICYmIChuID0gby5jb25zdHJ1Y3Rvci5uYW1lKTsKICAgICAgaWYgKCJNYXAiID09PSBuIHx8ICJTZXQiID09PSBuKSByZXR1cm4gQXJyYXkuZnJvbShuKTsKICAgICAgaWYgKCJBcmd1bWVudHMiID09PSBuIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5X2xpa2VfdG9fYXJyYXkobywgbWluTGVuKTsKICAgIH0oYXJyLCBpKSB8fCBmdW5jdGlvbigpIHsKICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgICB9KCk7CiAgfQogIHZhciBwYXJhbSwgc2VsZWN0b3IsIGF0dHJpYnV0ZSwgcXVlcnlOYW1lLCBfcGFyYW1fc2VwYXJhdG9yLCBzZXBhcmF0b3IsIGZhbGxiYWNrU2VsZWN0b3IsIF9wYXJhbV9jdXN0b21UcmFuc2Zvcm0sIGN1c3RvbVRyYW5zZm9ybSwgb2JzZXJ2ZXIsIGhvc3RuYW1lID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaG9zdG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6IGxvY2F0aW9uLmhvc3RuYW1lOwogICAgcmV0dXJuIGlzQnJvd3NlciA/IGhvc3RuYW1lLnJlcGxhY2UoL153d3dcLi8sICIiKSA6ICIiOwogIH0oKSwgY3VycmVudFNpdGUgPSBPYmplY3QudmFsdWVzKHNpdGVzKS5mbGF0KCkuZmluZCgoZnVuY3Rpb24ocGFyYW0pIHsKICAgIHZhciB1cmwgPSBfc2xpY2VkX3RvX2FycmF5KHBhcmFtLCAyKVsxXTsKICAgIHJldHVybiBpc1N0cmluZyh1cmwpID8gdXJsID09PSBob3N0bmFtZSA6IHVybC50ZXN0KGhvc3RuYW1lKTsKICB9KSk7CiAgaWYgKGlzQXJyYXkoY3VycmVudFNpdGUpKSB7CiAgICB2YXIgX2N1cnJlbnRTaXRlXyA9IGN1cnJlbnRTaXRlWzJdLCB0cmFuc2Zvcm0gPSBfY3VycmVudFNpdGVfLnRyYW5zZm9ybSwgcmV3cml0ZVdpbmRvd09wZW4gPSBfY3VycmVudFNpdGVfLnJld3JpdGVXaW5kb3dPcGVuLCBhdXRvanVtcCA9IF9jdXJyZW50U2l0ZV8uYXV0b2p1bXA7CiAgICB0cmFuc2Zvcm0gJiYgKHNlbGVjdG9yID0gKHBhcmFtID0gdHJhbnNmb3JtKS5zZWxlY3RvciwgYXR0cmlidXRlID0gcGFyYW0uYXR0cmlidXRlLCAKICAgIHF1ZXJ5TmFtZSA9IHBhcmFtLnF1ZXJ5TmFtZSwgX3BhcmFtX3NlcGFyYXRvciA9IHBhcmFtLnNlcGFyYXRvciwgc2VwYXJhdG9yID0gdm9pZCAwID09PSBfcGFyYW1fc2VwYXJhdG9yID8gIj90YXJnZXQ9IiA6IF9wYXJhbV9zZXBhcmF0b3IsIAogICAgZmFsbGJhY2tTZWxlY3RvciA9IHBhcmFtLmZhbGxiYWNrU2VsZWN0b3IsIF9wYXJhbV9jdXN0b21UcmFuc2Zvcm0gPSBwYXJhbS5jdXN0b21UcmFuc2Zvcm0sIAogICAgY3VzdG9tVHJhbnNmb3JtID0gdm9pZCAwID09PSBfcGFyYW1fY3VzdG9tVHJhbnNmb3JtID8gZnVuY3Rpb24obm9kZSkgewogICAgICB2YXIgb3JpZ2luVXJsID0gIiI7CiAgICAgIGF0dHJpYnV0ZSAmJiAob3JpZ2luVXJsID0gbm9kZS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKSB8fCAiIiksICFhdHRyaWJ1dGUgJiYgcXVlcnlOYW1lICYmIChvcmlnaW5VcmwgPSBnZXRTZWFyY2hQYXJhbXNWYWx1ZShuZXcgVVJMKG5vZGUuaHJlZikuc2VhcmNoLCBxdWVyeU5hbWUpKSwgCiAgICAgIHZhbGlkYXRlVXJsKG9yaWdpblVybCkgfHwgKG9yaWdpblVybCA9IG5vZGUuaHJlZi5zcGxpdChzZXBhcmF0b3IpWzFdKSwgdmFsaWRhdGVVcmwob3JpZ2luVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG9yaWdpblVybCkpICYmIChub2RlLmhyZWYgPSBvcmlnaW5VcmwpOwogICAgfSA6IF9wYXJhbV9jdXN0b21UcmFuc2Zvcm0sIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGZ1bmN0aW9uKCkgewogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKGN1c3RvbVRyYW5zZm9ybSksIGZhbGxiYWNrU2VsZWN0b3IgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChmYWxsYmFja1NlbGVjdG9yKS5sZW5ndGggJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChmYWxsYmFja1NlbGVjdG9yKS5mb3JFYWNoKHJlcXVlc3RPcmlnaW5hbExpbmspOwogICAgfSkpLCBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZShGRU1NX0FUVFJfS0VZLCAicmVtb3ZlLXJlZGlyZWN0IiksIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgICBjaGlsZExpc3Q6ICEwLAogICAgICBzdWJ0cmVlOiAhMAogICAgfSkpLCByZXdyaXRlV2luZG93T3BlbiAmJiBmdW5jdGlvbihwYXJhbSkgewogICAgICB2YXIgdmFsaWRhdGlvblJ1bGUgPSBwYXJhbS52YWxpZGF0aW9uUnVsZSwgZ2V0T3JpZ2luYWxVcmwgPSBwYXJhbS5nZXRPcmlnaW5hbFVybCwgc2VwYXJhdG9yID0gcGFyYW0uc2VwYXJhdG9yLCBfcGFyYW1fcXVlcnlOYW1lID0gcGFyYW0ucXVlcnlOYW1lLCBxdWVyeU5hbWUgPSB2b2lkIDAgPT09IF9wYXJhbV9xdWVyeU5hbWUgPyAidGFyZ2V0IiA6IF9wYXJhbV9xdWVyeU5hbWUsIG9yaWdpbmFsV2luZG93T3BlbiA9IHVuc2FmZVdpbmRvdy5vcGVuOwogICAgICB1bnNhZmVXaW5kb3cub3BlbiA9IGZ1bmN0aW9uKHVybCwgdGFyZ2V0LCBmZWF0dXJlcykgewogICAgICAgIGlmIChpc1N0cmluZyh1cmwpKSB7CiAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsaWRhdGlvblJ1bGUpICYmICF1cmwuaW5jbHVkZXModmFsaWRhdGlvblJ1bGUpIHx8IGlzRnVuY3Rpb24odmFsaWRhdGlvblJ1bGUpICYmICF2YWxpZGF0aW9uUnVsZSh1cmwpKSByZXR1cm4gb3JpZ2luYWxXaW5kb3dPcGVuLmNhbGwodGhpcywgdXJsLCB0YXJnZXQsIGZlYXR1cmVzKTsKICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGdldE9yaWdpbmFsVXJsKSkgewogICAgICAgICAgICB2YXIgb3JpZ2luVXJsID0gZ2V0T3JpZ2luYWxVcmwodXJsKTsKICAgICAgICAgICAgb3JpZ2luVXJsICYmIHZhbGlkYXRlVXJsKG9yaWdpblVybCkgJiYgKHVybCA9IG9yaWdpblVybCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgX3NlYXJjaF9zcGxpdCwgc2VhcmNoID0gbmV3IFVSTCh1cmwpLnNlYXJjaDsKICAgICAgICAgICAgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHNlcGFyYXRvciA/IG51bGwgPT09IChfc2VhcmNoX3NwbGl0ID0gc2VhcmNoLnNwbGl0KHNlcGFyYXRvcikpIHx8IHZvaWQgMCA9PT0gX3NlYXJjaF9zcGxpdCA/IHZvaWQgMCA6IF9zZWFyY2hfc3BsaXRbMV0gOiBnZXRTZWFyY2hQYXJhbXNWYWx1ZShzZWFyY2gsIHF1ZXJ5TmFtZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gb3JpZ2luYWxXaW5kb3dPcGVuLmNhbGwodGhpcywgdXJsLCB0YXJnZXQsIGZlYXR1cmVzKTsKICAgICAgfTsKICAgIH0ocmV3cml0ZVdpbmRvd09wZW4pLCBhdXRvanVtcCAmJiBmdW5jdGlvbihwYXJhbSkgewogICAgICB2YXIgb3JpZ2luVXJsLCB2YWxpZGF0b3IgPSBwYXJhbS52YWxpZGF0b3IsIGdldE9yaWdpbmFsVXJsID0gcGFyYW0uZ2V0T3JpZ2luYWxVcmwsIHNlbGVjdG9yID0gcGFyYW0uc2VsZWN0b3IsIHNlcGFyYXRvciA9IHBhcmFtLnNlcGFyYXRvciwgX3BhcmFtX3F1ZXJ5TmFtZSA9IHBhcmFtLnF1ZXJ5TmFtZSwgcXVlcnlOYW1lID0gdm9pZCAwID09PSBfcGFyYW1fcXVlcnlOYW1lID8gInRhcmdldCIgOiBfcGFyYW1fcXVlcnlOYW1lOwogICAgICBpZiAodmFsaWRhdG9yICYmICF2YWxpZGF0b3IobG9jYXRpb24pKSByZXR1cm47CiAgICAgIGlmIChzZWxlY3RvciAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLmNsaWNrKCk7CiAgICAgIGlzRnVuY3Rpb24oZ2V0T3JpZ2luYWxVcmwpICYmIChvcmlnaW5VcmwgPSBnZXRPcmlnaW5hbFVybCgpKTsKICAgICAgaWYgKCF2YWxpZGF0ZVVybChvcmlnaW5VcmwpKSB7CiAgICAgICAgdmFyIF9zZWFyY2hfc3BsaXQsIHNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDsKICAgICAgICBpZiAoc2VwYXJhdG9yKSBvcmlnaW5VcmwgPSBudWxsID09PSAoX3NlYXJjaF9zcGxpdCA9IHNlYXJjaC5zcGxpdChzZXBhcmF0b3IpKSB8fCB2b2lkIDAgPT09IF9zZWFyY2hfc3BsaXQgPyB2b2lkIDAgOiBfc2VhcmNoX3NwbGl0WzFdOwogICAgICAgIHZhbGlkYXRlVXJsKG9yaWdpblVybCkgfHwgKG9yaWdpblVybCA9IGdldFNlYXJjaFBhcmFtc1ZhbHVlKHNlYXJjaCwgcXVlcnlOYW1lKSksIAogICAgICAgIG9yaWdpblVybCA9IGRlY29kZVVSSUNvbXBvbmVudChvcmlnaW5VcmwgfHwgIiIpOwogICAgICB9CiAgICAgIHZhbGlkYXRlVXJsKG9yaWdpblVybCkgJiYgbG9jYXRpb24ucmVwbGFjZShvcmlnaW5VcmwpOwogICAgfShhdXRvanVtcCk7CiAgfQp9KCk7Cg=="}],"settings":{}}